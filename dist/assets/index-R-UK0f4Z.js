var Gg=Object.defineProperty;var ep=e=>{throw TypeError(e)};var Hg=(e,t,n)=>t in e?Gg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Lt=(e,t,n)=>Hg(e,typeof t!="symbol"?t+"":t,n),Tu=(e,t,n)=>t.has(e)||ep("Cannot "+n);var q=(e,t,n)=>(Tu(e,t,"read from private field"),n?n.call(e):t.get(e)),Ie=(e,t,n)=>t.has(e)?ep("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Me=(e,t,n,i)=>(Tu(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Ae=(e,t,n)=>(Tu(e,t,"access private method"),n);var Va=(e,t,n,i)=>({set _(o){Me(e,t,o,n)},get _(){return q(e,t,i)}});function _mergeNamespaces(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:e,type:i,key:u,ref:o!==void 0?o:null,props:l}}return reactJsxRuntime_production.Fragment=t,reactJsxRuntime_production.jsx=n,reactJsxRuntime_production.jsxs=n,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function _(G){return G===null||typeof G!="object"?null:(G=E&&G[E]||G["@@iterator"],typeof G=="function"?G:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function C(G,H,F){this.props=G,this.context=H,this.refs=T,this.updater=F||A}C.prototype.isReactComponent={},C.prototype.setState=function(G,H){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,H,"setState")},C.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function B(){}B.prototype=C.prototype;function N(G,H,F){this.props=G,this.context=H,this.refs=T,this.updater=F||A}var j=N.prototype=new B;j.constructor=N,w(j,C.prototype),j.isPureReactComponent=!0;var M=Array.isArray;function D(){}var V={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function U(G,H,F){var z=F.ref;return{$$typeof:e,type:G,key:H,ref:z!==void 0?z:null,props:F}}function J(G,H){return U(G.type,H,G.props)}function $(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function K(G){var H={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(F){return H[F]})}var te=/\/+/g;function me(G,H){return typeof G=="object"&&G!==null&&G.key!=null?K(""+G.key):H.toString(36)}function he(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(D,D):(G.status="pending",G.then(function(H){G.status==="pending"&&(G.status="fulfilled",G.value=H)},function(H){G.status==="pending"&&(G.status="rejected",G.reason=H)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function ee(G,H,F,z,Y){var ae=typeof G;(ae==="undefined"||ae==="boolean")&&(G=null);var Q=!1;if(G===null)Q=!0;else switch(ae){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(G.$$typeof){case e:case t:Q=!0;break;case g:return Q=G._init,ee(Q(G._payload),H,F,z,Y)}}if(Q)return Y=Y(G),Q=z===""?"."+me(G,0):z,M(Y)?(F="",Q!=null&&(F=Q.replace(te,"$&/")+"/"),ee(Y,H,F,"",function(ve){return ve})):Y!=null&&($(Y)&&(Y=J(Y,F+(Y.key==null||G&&G.key===Y.key?"":(""+Y.key).replace(te,"$&/")+"/")+Q)),H.push(Y)),1;Q=0;var ue=z===""?".":z+":";if(M(G))for(var se=0;se<G.length;se++)z=G[se],ae=ue+me(z,se),Q+=ee(z,H,F,ae,Y);else if(se=_(G),typeof se=="function")for(G=se.call(G),se=0;!(z=G.next()).done;)z=z.value,ae=ue+me(z,se++),Q+=ee(z,H,F,ae,Y);else if(ae==="object"){if(typeof G.then=="function")return ee(he(G),H,F,z,Y);throw H=String(G),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Q}function ie(G,H,F){if(G==null)return G;var z=[],Y=0;return ee(G,z,"","",function(ae){return H.call(F,ae,Y++)}),z}function ce(G){if(G._status===-1){var H=G._result;H=H(),H.then(function(F){(G._status===0||G._status===-1)&&(G._status=1,G._result=F)},function(F){(G._status===0||G._status===-1)&&(G._status=2,G._result=F)}),G._status===-1&&(G._status=0,G._result=H)}if(G._status===1)return G._result.default;throw G._result}var ne=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},Z={map:ie,forEach:function(G,H,F){ie(G,function(){H.apply(this,arguments)},F)},count:function(G){var H=0;return ie(G,function(){H++}),H},toArray:function(G){return ie(G,function(H){return H})||[]},only:function(G){if(!$(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return react_production.Activity=b,react_production.Children=Z,react_production.Component=C,react_production.Fragment=n,react_production.Profiler=o,react_production.PureComponent=N,react_production.StrictMode=i,react_production.Suspense=p,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(G){return V.H.useMemoCache(G)}},react_production.cache=function(G){return function(){return G.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(G,H,F){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var z=w({},G.props),Y=G.key;if(H!=null)for(ae in H.key!==void 0&&(Y=""+H.key),H)!L.call(H,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&H.ref===void 0||(z[ae]=H[ae]);var ae=arguments.length-2;if(ae===1)z.children=F;else if(1<ae){for(var Q=Array(ae),ue=0;ue<ae;ue++)Q[ue]=arguments[ue+2];z.children=Q}return U(G.type,Y,z)},react_production.createContext=function(G){return G={$$typeof:u,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:l,_context:G},G},react_production.createElement=function(G,H,F){var z,Y={},ae=null;if(H!=null)for(z in H.key!==void 0&&(ae=""+H.key),H)L.call(H,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(Y[z]=H[z]);var Q=arguments.length-2;if(Q===1)Y.children=F;else if(1<Q){for(var ue=Array(Q),se=0;se<Q;se++)ue[se]=arguments[se+2];Y.children=ue}if(G&&G.defaultProps)for(z in Q=G.defaultProps,Q)Y[z]===void 0&&(Y[z]=Q[z]);return U(G,ae,Y)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(G){return{$$typeof:h,render:G}},react_production.isValidElement=$,react_production.lazy=function(G){return{$$typeof:g,_payload:{_status:-1,_result:G},_init:ce}},react_production.memo=function(G,H){return{$$typeof:m,type:G,compare:H===void 0?null:H}},react_production.startTransition=function(G){var H=V.T,F={};V.T=F;try{var z=G(),Y=V.S;Y!==null&&Y(F,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(D,ne)}catch(ae){ne(ae)}finally{H!==null&&F.types!==null&&(H.types=F.types),V.T=H}},react_production.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},react_production.use=function(G){return V.H.use(G)},react_production.useActionState=function(G,H,F){return V.H.useActionState(G,H,F)},react_production.useCallback=function(G,H){return V.H.useCallback(G,H)},react_production.useContext=function(G){return V.H.useContext(G)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(G,H){return V.H.useDeferredValue(G,H)},react_production.useEffect=function(G,H){return V.H.useEffect(G,H)},react_production.useEffectEvent=function(G){return V.H.useEffectEvent(G)},react_production.useId=function(){return V.H.useId()},react_production.useImperativeHandle=function(G,H,F){return V.H.useImperativeHandle(G,H,F)},react_production.useInsertionEffect=function(G,H){return V.H.useInsertionEffect(G,H)},react_production.useLayoutEffect=function(G,H){return V.H.useLayoutEffect(G,H)},react_production.useMemo=function(G,H){return V.H.useMemo(G,H)},react_production.useOptimistic=function(G,H){return V.H.useOptimistic(G,H)},react_production.useReducer=function(G,H,F){return V.H.useReducer(G,H,F)},react_production.useRef=function(G){return V.H.useRef(G)},react_production.useState=function(G){return V.H.useState(G)},react_production.useSyncExternalStore=function(G,H,F){return V.H.useSyncExternalStore(G,H,F)},react_production.useTransition=function(){return V.H.useTransition()},react_production.version="19.2.3",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(e){function t(ee,ie){var ce=ee.length;ee.push(ie);e:for(;0<ce;){var ne=ce-1>>>1,Z=ee[ne];if(0<o(Z,ie))ee[ne]=ie,ee[ce]=Z,ce=ne;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var ie=ee[0],ce=ee.pop();if(ce!==ie){ee[0]=ce;e:for(var ne=0,Z=ee.length,G=Z>>>1;ne<G;){var H=2*(ne+1)-1,F=ee[H],z=H+1,Y=ee[z];if(0>o(F,ce))z<Z&&0>o(Y,F)?(ee[ne]=Y,ee[z]=ce,ne=z):(ee[ne]=F,ee[H]=ce,ne=H);else if(z<Z&&0>o(Y,ce))ee[ne]=Y,ee[z]=ce,ne=z;else break e}}return ie}function o(ee,ie){var ce=ee.sortIndex-ie.sortIndex;return ce!==0?ce:ee.id-ie.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var p=[],m=[],g=1,b=null,E=3,_=!1,A=!1,w=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function j(ee){for(var ie=n(m);ie!==null;){if(ie.callback===null)i(m);else if(ie.startTime<=ee)i(m),ie.sortIndex=ie.expirationTime,t(p,ie);else break;ie=n(m)}}function M(ee){if(w=!1,j(ee),!A)if(n(p)!==null)A=!0,D||(D=!0,K());else{var ie=n(m);ie!==null&&he(M,ie.startTime-ee)}}var D=!1,V=-1,L=5,U=-1;function J(){return T?!0:!(e.unstable_now()-U<L)}function $(){if(T=!1,D){var ee=e.unstable_now();U=ee;var ie=!0;try{e:{A=!1,w&&(w=!1,B(V),V=-1),_=!0;var ce=E;try{t:{for(j(ee),b=n(p);b!==null&&!(b.expirationTime>ee&&J());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,E=b.priorityLevel;var Z=ne(b.expirationTime<=ee);if(ee=e.unstable_now(),typeof Z=="function"){b.callback=Z,j(ee),ie=!0;break t}b===n(p)&&i(p),j(ee)}else i(p);b=n(p)}if(b!==null)ie=!0;else{var G=n(m);G!==null&&he(M,G.startTime-ee),ie=!1}}break e}finally{b=null,E=ce,_=!1}ie=void 0}}finally{ie?K():D=!1}}}var K;if(typeof N=="function")K=function(){N($)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,me=te.port2;te.port1.onmessage=$,K=function(){me.postMessage(null)}}else K=function(){C($,0)};function he(ee,ie){V=C(function(){ee(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(ee){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var ce=E;E=ie;try{return ee()}finally{E=ce}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ce=E;E=ee;try{return ie()}finally{E=ce}},e.unstable_scheduleCallback=function(ee,ie,ce){var ne=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ne+ce:ne):ce=ne,ee){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ce+Z,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ce,expirationTime:Z,sortIndex:-1},ce>ne?(ee.sortIndex=ce,t(m,ee),n(p)===null&&ee===n(m)&&(w?(B(V),V=-1):w=!0,he(M,ce-ne))):(ee.sortIndex=Z,t(p,ee),A||_||(A=!0,D||(D=!0,K()))),ee},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(ee){var ie=E;return function(){var ce=E;E=ie;try{return ee.apply(this,arguments)}finally{E=ce}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var e=requireReact();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,m,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,reactDom_production.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(p,m,null,g)},reactDom_production.flushSync=function(p){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=m,i.p=g,i.d.f()}},reactDom_production.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},reactDom_production.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},reactDom_production.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:_}):g==="script"&&i.d.X(p,{crossOrigin:b,integrity:E,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},reactDom_production.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},reactDom_production.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,b=h(g,m.crossOrigin);i.d.L(p,g,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},reactDom_production.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},reactDom_production.requestFormReset=function(p){i.d.r(p)},reactDom_production.unstable_batchedUpdates=function(p,m){return p(m)},reactDom_production.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},reactDom_production.useFormStatus=function(){return u.H.useHostTransitionStatus()},reactDom_production.version="19.2.3",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var e=requireScheduler(),t=requireReact(),n=requireReactDom();function i(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function l(d){var f=d,v=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(v=f.return),d=f.return;while(d)}return f.tag===3?v:null}function u(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function h(d){if(d.tag===31){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function p(d){if(l(d)!==d)throw Error(i(188))}function m(d){var f=d.alternate;if(!f){if(f=l(d),f===null)throw Error(i(188));return f!==d?null:d}for(var v=d,S=f;;){var R=v.return;if(R===null)break;var I=R.alternate;if(I===null){if(S=R.return,S!==null){v=S;continue}break}if(R.child===I.child){for(I=R.child;I;){if(I===v)return p(R),d;if(I===S)return p(R),f;I=I.sibling}throw Error(i(188))}if(v.return!==S.return)v=R,S=I;else{for(var W=!1,le=R.child;le;){if(le===v){W=!0,v=R,S=I;break}if(le===S){W=!0,S=R,v=I;break}le=le.sibling}if(!W){for(le=I.child;le;){if(le===v){W=!0,v=I,S=R;break}if(le===S){W=!0,S=I,v=R;break}le=le.sibling}if(!W)throw Error(i(189))}}if(v.alternate!==S)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?d:f}function g(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d;for(d=d.child;d!==null;){if(f=g(d),f!==null)return f;d=d.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),N=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function K(d){return d===null||typeof d!="object"?null:(d=$&&d[$]||d["@@iterator"],typeof d=="function"?d:null)}var te=Symbol.for("react.client.reference");function me(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===te?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case w:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case U:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case A:return"Portal";case N:return d.displayName||"Context";case B:return(d._context.displayName||"Context")+".Consumer";case j:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case V:return f=d.displayName||null,f!==null?f:me(d.type)||"Memo";case L:f=d._payload,d=d._init;try{return me(d(f))}catch{}}return null}var he=Array.isArray,ee=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ne=[],Z=-1;function G(d){return{current:d}}function H(d){0>Z||(d.current=ne[Z],ne[Z]=null,Z--)}function F(d,f){Z++,ne[Z]=d.current,d.current=f}var z=G(null),Y=G(null),ae=G(null),Q=G(null);function ue(d,f){switch(F(ae,f),F(Y,d),F(z,null),f.nodeType){case 9:case 11:d=(d=f.documentElement)&&(d=d.namespaceURI)?_f(d):0;break;default:if(d=f.tagName,f=f.namespaceURI)f=_f(f),d=Af(f,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}H(z),F(z,d)}function se(){H(z),H(Y),H(ae)}function ve(d){d.memoizedState!==null&&F(Q,d);var f=z.current,v=Af(f,d.type);f!==v&&(F(Y,d),F(z,v))}function Ee(d){Y.current===d&&(H(z),H(Y)),Q.current===d&&(H(Q),Ma._currentValue=ce)}var ye,De;function Ce(d){if(ye===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);ye=f&&f[1]||"",De=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ye+d+De}var Oe=!1;function _e(d,f){if(!d||Oe)return"";Oe=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(He){var ze=He}Reflect.construct(d,[],Ze)}else{try{Ze.call()}catch(He){ze=He}d.call(Ze.prototype)}}else{try{throw Error()}catch(He){ze=He}(Ze=d())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(He){if(He&&ze&&typeof He.stack=="string")return[He.stack,ze.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var R=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");R&&R.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=S.DetermineComponentFrameRoot(),W=I[0],le=I[1];if(W&&le){var be=W.split(`
`),$e=le.split(`
`);for(R=S=0;S<be.length&&!be[S].includes("DetermineComponentFrameRoot");)S++;for(;R<$e.length&&!$e[R].includes("DetermineComponentFrameRoot");)R++;if(S===be.length||R===$e.length)for(S=be.length-1,R=$e.length-1;1<=S&&0<=R&&be[S]!==$e[R];)R--;for(;1<=S&&0<=R;S--,R--)if(be[S]!==$e[R]){if(S!==1||R!==1)do if(S--,R--,0>R||be[S]!==$e[R]){var Ye=`
`+be[S].replace(" at new "," at ");return d.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",d.displayName)),Ye}while(1<=S&&0<=R);break}}}finally{Oe=!1,Error.prepareStackTrace=v}return(v=d?d.displayName||d.name:"")?Ce(v):""}function Pe(d,f){switch(d.tag){case 26:case 27:case 5:return Ce(d.type);case 16:return Ce("Lazy");case 13:return d.child!==f&&f!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return _e(d.type,!1);case 11:return _e(d.type.render,!1);case 1:return _e(d.type,!0);case 31:return Ce("Activity");default:return""}}function oe(d){try{var f="",v=null;do f+=Pe(d,v),v=d,d=d.return;while(d);return f}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var pe=Object.prototype.hasOwnProperty,Se=e.unstable_scheduleCallback,ke=e.unstable_cancelCallback,Fe=e.unstable_shouldYield,Ke=e.unstable_requestPaint,qe=e.unstable_now,we=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,Qe=e.unstable_UserBlockingPriority,gt=e.unstable_NormalPriority,pt=e.unstable_LowPriority,_t=e.unstable_IdlePriority,st=e.log,ft=e.unstable_setDisableYieldValue,Et=null,At=null;function Ge(d){if(typeof st=="function"&&ft(d),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Et,d)}catch{}}var Re=Math.clz32?Math.clz32:wt,Be=Math.log,ot=Math.LN2;function wt(d){return d>>>=0,d===0?32:31-(Be(d)/ot|0)|0}var St=256,ge=262144,Ue=4194304;function et(d){var f=d&42;if(f!==0)return f;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function ut(d,f,v){var S=d.pendingLanes;if(S===0)return 0;var R=0,I=d.suspendedLanes,W=d.pingedLanes;d=d.warmLanes;var le=S&134217727;return le!==0?(S=le&~I,S!==0?R=et(S):(W&=le,W!==0?R=et(W):v||(v=le&~d,v!==0&&(R=et(v))))):(le=S&~I,le!==0?R=et(le):W!==0?R=et(W):v||(v=S&~d,v!==0&&(R=et(v)))),R===0?0:f!==0&&f!==R&&(f&I)===0&&(I=R&-R,v=f&-f,I>=v||I===32&&(v&4194048)!==0)?f:R}function dt(d,f){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&f)===0}function it(d,f){switch(d){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var d=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),d}function de(d){for(var f=[],v=0;31>v;v++)f.push(d);return f}function xe(d,f){d.pendingLanes|=f,f!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Ve(d,f,v,S,R,I){var W=d.pendingLanes;d.pendingLanes=v,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=v,d.entangledLanes&=v,d.errorRecoveryDisabledLanes&=v,d.shellSuspendCounter=0;var le=d.entanglements,be=d.expirationTimes,$e=d.hiddenUpdates;for(v=W&~v;0<v;){var Ye=31-Re(v),Ze=1<<Ye;le[Ye]=0,be[Ye]=-1;var ze=$e[Ye];if(ze!==null)for($e[Ye]=null,Ye=0;Ye<ze.length;Ye++){var He=ze[Ye];He!==null&&(He.lane&=-536870913)}v&=~Ze}S!==0&&je(d,S,0),I!==0&&R===0&&d.tag!==0&&(d.suspendedLanes|=I&~(W&~f))}function je(d,f,v){d.pendingLanes|=f,d.suspendedLanes&=~f;var S=31-Re(f);d.entangledLanes|=f,d.entanglements[S]=d.entanglements[S]|1073741824|v&261930}function We(d,f){var v=d.entangledLanes|=f;for(d=d.entanglements;v;){var S=31-Re(v),R=1<<S;R&f|d[S]&f&&(d[S]|=f),v&=~R}}function Xe(d,f){var v=f&-f;return v=(v&42)!==0?1:ct(v),(v&(d.suspendedLanes|f))!==0?0:v}function ct(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function lt(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function rt(){var d=ie.p;return d!==0?d:(d=window.event,d===void 0?32:Wf(d.type))}function vt(d,f){var v=ie.p;try{return ie.p=d,f()}finally{ie.p=v}}var at=Math.random().toString(36).slice(2),nt="__reactFiber$"+at,ht="__reactProps$"+at,xt="__reactContainer$"+at,Tt="__reactEvents$"+at,Dt="__reactListeners$"+at,er="__reactHandles$"+at,Ht="__reactResources$"+at,hr="__reactMarker$"+at;function Cr(d){delete d[nt],delete d[ht],delete d[Tt],delete d[Dt],delete d[er]}function fr(d){var f=d[nt];if(f)return f;for(var v=d.parentNode;v;){if(f=v[xt]||v[nt]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(d=If(d);d!==null;){if(v=d[nt])return v;d=If(d)}return f}d=v,v=d.parentNode}return null}function Kr(d){if(d=d[nt]||d[xt]){var f=d.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return d}return null}function Hi(d){var f=d.tag;if(f===5||f===26||f===27||f===6)return d.stateNode;throw Error(i(33))}function ii(d){var f=d[Ht];return f||(f=d[Ht]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function sr(d){d[hr]=!0}var lc=new Set,uc={};function $n(d,f){si(d,f),si(d+"Capture",f)}function si(d,f){for(uc[d]=f,d=0;d<f.length;d++)lc.add(f[d])}var Vp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cc={},dc={};function Op(d){return pe.call(dc,d)?!0:pe.call(cc,d)?!1:Vp.test(d)?dc[d]=!0:(cc[d]=!0,!1)}function Ga(d,f,v){if(Op(f))if(v===null)d.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":d.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){d.removeAttribute(f);return}}d.setAttribute(f,""+v)}}function Ha(d,f,v){if(v===null)d.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(f);return}d.setAttribute(f,""+v)}}function Yr(d,f,v,S){if(S===null)d.removeAttribute(v);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(v);return}d.setAttributeNS(f,v,""+S)}}function Rr(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function hc(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function jp(d,f,v){var S=Object.getOwnPropertyDescriptor(d.constructor.prototype,f);if(!d.hasOwnProperty(f)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var R=S.get,I=S.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return R.call(this)},set:function(W){v=""+W,I.call(this,W)}}),Object.defineProperty(d,f,{enumerable:S.enumerable}),{getValue:function(){return v},setValue:function(W){v=""+W},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function bo(d){if(!d._valueTracker){var f=hc(d)?"checked":"value";d._valueTracker=jp(d,f,""+d[f])}}function fc(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var v=f.getValue(),S="";return d&&(S=hc(d)?d.checked?"true":"false":d.value),d=S,d!==v?(f.setValue(d),!0):!1}function Wa(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Lp=/[\n"\\]/g;function Ir(d){return d.replace(Lp,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Eo(d,f,v,S,R,I,W,le){d.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?d.type=W:d.removeAttribute("type"),f!=null?W==="number"?(f===0&&d.value===""||d.value!=f)&&(d.value=""+Rr(f)):d.value!==""+Rr(f)&&(d.value=""+Rr(f)):W!=="submit"&&W!=="reset"||d.removeAttribute("value"),f!=null?So(d,W,Rr(f)):v!=null?So(d,W,Rr(v)):S!=null&&d.removeAttribute("value"),R==null&&I!=null&&(d.defaultChecked=!!I),R!=null&&(d.checked=R&&typeof R!="function"&&typeof R!="symbol"),le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?d.name=""+Rr(le):d.removeAttribute("name")}function pc(d,f,v,S,R,I,W,le){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(d.type=I),f!=null||v!=null){if(!(I!=="submit"&&I!=="reset"||f!=null)){bo(d);return}v=v!=null?""+Rr(v):"",f=f!=null?""+Rr(f):v,le||f===d.value||(d.value=f),d.defaultValue=f}S=S??R,S=typeof S!="function"&&typeof S!="symbol"&&!!S,d.checked=le?d.checked:!!S,d.defaultChecked=!!S,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(d.name=W),bo(d)}function So(d,f,v){f==="number"&&Wa(d.ownerDocument)===d||d.defaultValue===""+v||(d.defaultValue=""+v)}function oi(d,f,v,S){if(d=d.options,f){f={};for(var R=0;R<v.length;R++)f["$"+v[R]]=!0;for(v=0;v<d.length;v++)R=f.hasOwnProperty("$"+d[v].value),d[v].selected!==R&&(d[v].selected=R),R&&S&&(d[v].defaultSelected=!0)}else{for(v=""+Rr(v),f=null,R=0;R<d.length;R++){if(d[R].value===v){d[R].selected=!0,S&&(d[R].defaultSelected=!0);return}f!==null||d[R].disabled||(f=d[R])}f!==null&&(f.selected=!0)}}function mc(d,f,v){if(f!=null&&(f=""+Rr(f),f!==d.value&&(d.value=f),v==null)){d.defaultValue!==f&&(d.defaultValue=f);return}d.defaultValue=v!=null?""+Rr(v):""}function gc(d,f,v,S){if(f==null){if(S!=null){if(v!=null)throw Error(i(92));if(he(S)){if(1<S.length)throw Error(i(93));S=S[0]}v=S}v==null&&(v=""),f=v}v=Rr(f),d.defaultValue=v,S=d.textContent,S===v&&S!==""&&S!==null&&(d.value=S),bo(d)}function li(d,f){if(f){var v=d.firstChild;if(v&&v===d.lastChild&&v.nodeType===3){v.nodeValue=f;return}}d.textContent=f}var $p=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yc(d,f,v){var S=f.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?S?d.setProperty(f,""):f==="float"?d.cssFloat="":d[f]="":S?d.setProperty(f,v):typeof v!="number"||v===0||$p.has(f)?f==="float"?d.cssFloat=v:d[f]=(""+v).trim():d[f]=v+"px"}function vc(d,f,v){if(f!=null&&typeof f!="object")throw Error(i(62));if(d=d.style,v!=null){for(var S in v)!v.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?d.setProperty(S,""):S==="float"?d.cssFloat="":d[S]="");for(var R in f)S=f[R],f.hasOwnProperty(R)&&v[R]!==S&&yc(d,R,S)}else for(var I in f)f.hasOwnProperty(I)&&yc(d,I,f[I])}function _o(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Up=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ka(d){return Up.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Xr(){}var Ao=null;function Po(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ui=null,ci=null;function xc(d){var f=Kr(d);if(f&&(d=f.stateNode)){var v=d[ht]||null;e:switch(d=f.stateNode,f.type){case"input":if(Eo(d,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),f=v.name,v.type==="radio"&&f!=null){for(v=d;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+Ir(""+f)+'"][type="radio"]'),f=0;f<v.length;f++){var S=v[f];if(S!==d&&S.form===d.form){var R=S[ht]||null;if(!R)throw Error(i(90));Eo(S,R.value,R.defaultValue,R.defaultValue,R.checked,R.defaultChecked,R.type,R.name)}}for(f=0;f<v.length;f++)S=v[f],S.form===d.form&&fc(S)}break e;case"textarea":mc(d,v.value,v.defaultValue);break e;case"select":f=v.value,f!=null&&oi(d,!!v.multiple,f,!1)}}}var wo=!1;function bc(d,f,v){if(wo)return d(f,v);wo=!0;try{var S=d(f);return S}finally{if(wo=!1,(ui!==null||ci!==null)&&(Vs(),ui&&(f=ui,d=ci,ci=ui=null,xc(f),d)))for(f=0;f<d.length;f++)xc(d[f])}}function Wi(d,f){var v=d.stateNode;if(v===null)return null;var S=v[ht]||null;if(S===null)return null;v=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(d=d.type,S=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!S;break e;default:d=!1}if(d)return null;if(v&&typeof v!="function")throw Error(i(231,f,typeof v));return v}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(Jr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){To=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{To=!1}var yn=null,Co=null,Ya=null;function Ec(){if(Ya)return Ya;var d,f=Co,v=f.length,S,R="value"in yn?yn.value:yn.textContent,I=R.length;for(d=0;d<v&&f[d]===R[d];d++);var W=v-d;for(S=1;S<=W&&f[v-S]===R[I-S];S++);return Ya=R.slice(d,1<S?1-S:void 0)}function Xa(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function Ja(){return!0}function Sc(){return!1}function mr(d){function f(v,S,R,I,W){this._reactName=v,this._targetInst=R,this.type=S,this.nativeEvent=I,this.target=W,this.currentTarget=null;for(var le in d)d.hasOwnProperty(le)&&(v=d[le],this[le]=v?v(I):I[le]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ja:Sc,this.isPropagationStopped=Sc,this}return b(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),f}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=mr(Fn),Yi=b({},Fn,{view:0,detail:0}),zp=mr(Yi),Ro,ko,Xi,Qa=b({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Xi&&(Xi&&d.type==="mousemove"?(Ro=d.screenX-Xi.screenX,ko=d.screenY-Xi.screenY):ko=Ro=0,Xi=d),Ro)},movementY:function(d){return"movementY"in d?d.movementY:ko}}),_c=mr(Qa),qp=b({},Qa,{dataTransfer:0}),Gp=mr(qp),Hp=b({},Yi,{relatedTarget:0}),Io=mr(Hp),Wp=b({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kp=mr(Wp),Yp=b({},Fn,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Xp=mr(Yp),Jp=b({},Fn,{data:0}),Ac=mr(Jp),Zp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},em={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tm(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=em[d])?!!f[d]:!1}function Mo(){return tm}var rm=b({},Yi,{key:function(d){if(d.key){var f=Zp[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=Xa(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Qp[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(d){return d.type==="keypress"?Xa(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Xa(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),nm=mr(rm),im=b({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=mr(im),am=b({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),sm=mr(am),om=b({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),lm=mr(om),um=b({},Qa,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),cm=mr(um),dm=b({},Fn,{newState:0,oldState:0}),hm=mr(dm),fm=[9,13,27,32],Bo=Jr&&"CompositionEvent"in window,Ji=null;Jr&&"documentMode"in document&&(Ji=document.documentMode);var pm=Jr&&"TextEvent"in window&&!Ji,wc=Jr&&(!Bo||Ji&&8<Ji&&11>=Ji),Tc=" ",Cc=!1;function Rc(d,f){switch(d){case"keyup":return fm.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var di=!1;function mm(d,f){switch(d){case"compositionend":return kc(f);case"keypress":return f.which!==32?null:(Cc=!0,Tc);case"textInput":return d=f.data,d===Tc&&Cc?null:d;default:return null}}function gm(d,f){if(di)return d==="compositionend"||!Bo&&Rc(d,f)?(d=Ec(),Ya=Co=yn=null,di=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return wc&&f.locale!=="ko"?null:f.data;default:return null}}var ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ic(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!ym[d.type]:f==="textarea"}function Mc(d,f,v,S){ui?ci?ci.push(S):ci=[S]:ui=S,f=zs(f,"onChange"),0<f.length&&(v=new Za("onChange","change",null,v,S),d.push({event:v,listeners:f}))}var Zi=null,Qi=null;function vm(d){yf(d,0)}function es(d){var f=Hi(d);if(fc(f))return d}function Bc(d,f){if(d==="change")return f}var Nc=!1;if(Jr){var No;if(Jr){var Do="oninput"in document;if(!Do){var Dc=document.createElement("div");Dc.setAttribute("oninput","return;"),Do=typeof Dc.oninput=="function"}No=Do}else No=!1;Nc=No&&(!document.documentMode||9<document.documentMode)}function Vc(){Zi&&(Zi.detachEvent("onpropertychange",Oc),Qi=Zi=null)}function Oc(d){if(d.propertyName==="value"&&es(Qi)){var f=[];Mc(f,Qi,d,Po(d)),bc(vm,f)}}function xm(d,f,v){d==="focusin"?(Vc(),Zi=f,Qi=v,Zi.attachEvent("onpropertychange",Oc)):d==="focusout"&&Vc()}function bm(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return es(Qi)}function Em(d,f){if(d==="click")return es(f)}function Sm(d,f){if(d==="input"||d==="change")return es(f)}function _m(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var Er=typeof Object.is=="function"?Object.is:_m;function ea(d,f){if(Er(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var v=Object.keys(d),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var R=v[S];if(!pe.call(f,R)||!Er(d[R],f[R]))return!1}return!0}function jc(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Lc(d,f){var v=jc(d);d=0;for(var S;v;){if(v.nodeType===3){if(S=d+v.textContent.length,d<=f&&S>=f)return{node:v,offset:f-d};d=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=jc(v)}}function $c(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?$c(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function Fc(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var f=Wa(d.document);f instanceof d.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)d=f.contentWindow;else break;f=Wa(d.document)}return f}function Vo(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}var Am=Jr&&"documentMode"in document&&11>=document.documentMode,hi=null,Oo=null,ta=null,jo=!1;function Uc(d,f,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;jo||hi==null||hi!==Wa(S)||(S=hi,"selectionStart"in S&&Vo(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ta&&ea(ta,S)||(ta=S,S=zs(Oo,"onSelect"),0<S.length&&(f=new Za("onSelect","select",null,f,v),d.push({event:f,listeners:S}),f.target=hi)))}function Un(d,f){var v={};return v[d.toLowerCase()]=f.toLowerCase(),v["Webkit"+d]="webkit"+f,v["Moz"+d]="moz"+f,v}var fi={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionrun:Un("Transition","TransitionRun"),transitionstart:Un("Transition","TransitionStart"),transitioncancel:Un("Transition","TransitionCancel"),transitionend:Un("Transition","TransitionEnd")},Lo={},zc={};Jr&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function zn(d){if(Lo[d])return Lo[d];if(!fi[d])return d;var f=fi[d],v;for(v in f)if(f.hasOwnProperty(v)&&v in zc)return Lo[d]=f[v];return d}var qc=zn("animationend"),Gc=zn("animationiteration"),Hc=zn("animationstart"),Pm=zn("transitionrun"),wm=zn("transitionstart"),Tm=zn("transitioncancel"),Wc=zn("transitionend"),Kc=new Map,$o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$o.push("scrollEnd");function Fr(d,f){Kc.set(d,f),$n(f,[d])}var ts=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Mr=[],mi=0,Fo=0;function rs(){for(var d=mi,f=Fo=mi=0;f<d;){var v=Mr[f];Mr[f++]=null;var S=Mr[f];Mr[f++]=null;var R=Mr[f];Mr[f++]=null;var I=Mr[f];if(Mr[f++]=null,S!==null&&R!==null){var W=S.pending;W===null?R.next=R:(R.next=W.next,W.next=R),S.pending=R}I!==0&&Yc(v,R,I)}}function ns(d,f,v,S){Mr[mi++]=d,Mr[mi++]=f,Mr[mi++]=v,Mr[mi++]=S,Fo|=S,d.lanes|=S,d=d.alternate,d!==null&&(d.lanes|=S)}function Uo(d,f,v,S){return ns(d,f,v,S),as(d)}function qn(d,f){return ns(d,null,null,f),as(d)}function Yc(d,f,v){d.lanes|=v;var S=d.alternate;S!==null&&(S.lanes|=v);for(var R=!1,I=d.return;I!==null;)I.childLanes|=v,S=I.alternate,S!==null&&(S.childLanes|=v),I.tag===22&&(d=I.stateNode,d===null||d._visibility&1||(R=!0)),d=I,I=I.return;return d.tag===3?(I=d.stateNode,R&&f!==null&&(R=31-Re(v),d=I.hiddenUpdates,S=d[R],S===null?d[R]=[f]:S.push(f),f.lane=v|536870912),I):null}function as(d){if(50<Aa)throw Aa=0,Jl=null,Error(i(185));for(var f=d.return;f!==null;)d=f,f=d.return;return d.tag===3?d.stateNode:null}var gi={};function Cm(d,f,v,S){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(d,f,v,S){return new Cm(d,f,v,S)}function zo(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Zr(d,f){var v=d.alternate;return v===null?(v=Sr(d.tag,f,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=f,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&65011712,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,f=d.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v.refCleanup=d.refCleanup,v}function Xc(d,f){d.flags&=65011714;var v=d.alternate;return v===null?(d.childLanes=0,d.lanes=f,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=v.childLanes,d.lanes=v.lanes,d.child=v.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=v.memoizedProps,d.memoizedState=v.memoizedState,d.updateQueue=v.updateQueue,d.type=v.type,f=v.dependencies,d.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),d}function ss(d,f,v,S,R,I){var W=0;if(S=d,typeof d=="function")zo(d)&&(W=1);else if(typeof d=="string")W=Bg(d,v,z.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case U:return d=Sr(31,v,f,R),d.elementType=U,d.lanes=I,d;case w:return Gn(v.children,R,I,f);case T:W=8,R|=24;break;case C:return d=Sr(12,v,f,R|2),d.elementType=C,d.lanes=I,d;case M:return d=Sr(13,v,f,R),d.elementType=M,d.lanes=I,d;case D:return d=Sr(19,v,f,R),d.elementType=D,d.lanes=I,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case N:W=10;break e;case B:W=9;break e;case j:W=11;break e;case V:W=14;break e;case L:W=16,S=null;break e}W=29,v=Error(i(130,d===null?"null":typeof d,"")),S=null}return f=Sr(W,v,f,R),f.elementType=d,f.type=S,f.lanes=I,f}function Gn(d,f,v,S){return d=Sr(7,d,S,f),d.lanes=v,d}function qo(d,f,v){return d=Sr(6,d,null,f),d.lanes=v,d}function Jc(d){var f=Sr(18,null,null,0);return f.stateNode=d,f}function Go(d,f,v){return f=Sr(4,d.children!==null?d.children:[],d.key,f),f.lanes=v,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}var Zc=new WeakMap;function Br(d,f){if(typeof d=="object"&&d!==null){var v=Zc.get(d);return v!==void 0?v:(f={value:d,source:f,stack:oe(f)},Zc.set(d,f),f)}return{value:d,source:f,stack:oe(f)}}var yi=[],vi=0,os=null,ra=0,Nr=[],Dr=0,vn=null,qr=1,Gr="";function Qr(d,f){yi[vi++]=ra,yi[vi++]=os,os=d,ra=f}function Qc(d,f,v){Nr[Dr++]=qr,Nr[Dr++]=Gr,Nr[Dr++]=vn,vn=d;var S=qr;d=Gr;var R=32-Re(S)-1;S&=~(1<<R),v+=1;var I=32-Re(f)+R;if(30<I){var W=R-R%5;I=(S&(1<<W)-1).toString(32),S>>=W,R-=W,qr=1<<32-Re(f)+R|v<<R|S,Gr=I+d}else qr=1<<I|v<<R|S,Gr=d}function Ho(d){d.return!==null&&(Qr(d,1),Qc(d,1,0))}function Wo(d){for(;d===os;)os=yi[--vi],yi[vi]=null,ra=yi[--vi],yi[vi]=null;for(;d===vn;)vn=Nr[--Dr],Nr[Dr]=null,Gr=Nr[--Dr],Nr[Dr]=null,qr=Nr[--Dr],Nr[Dr]=null}function ed(d,f){Nr[Dr++]=qr,Nr[Dr++]=Gr,Nr[Dr++]=vn,qr=f.id,Gr=f.overflow,vn=d}var lr=null,Wt=null,Nt=!1,xn=null,Vr=!1,Ko=Error(i(519));function bn(d){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw na(Br(f,d)),Ko}function td(d){var f=d.stateNode,v=d.type,S=d.memoizedProps;switch(f[nt]=d,f[ht]=S,v){case"dialog":It("cancel",f),It("close",f);break;case"iframe":case"object":case"embed":It("load",f);break;case"video":case"audio":for(v=0;v<wa.length;v++)It(wa[v],f);break;case"source":It("error",f);break;case"img":case"image":case"link":It("error",f),It("load",f);break;case"details":It("toggle",f);break;case"input":It("invalid",f),pc(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":It("invalid",f);break;case"textarea":It("invalid",f),gc(f,S.value,S.defaultValue,S.children)}v=S.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||f.textContent===""+v||S.suppressHydrationWarning===!0||Ef(f.textContent,v)?(S.popover!=null&&(It("beforetoggle",f),It("toggle",f)),S.onScroll!=null&&It("scroll",f),S.onScrollEnd!=null&&It("scrollend",f),S.onClick!=null&&(f.onclick=Xr),f=!0):f=!1,f||bn(d,!0)}function rd(d){for(lr=d.return;lr;)switch(lr.tag){case 5:case 31:case 13:Vr=!1;return;case 27:case 3:Vr=!0;return;default:lr=lr.return}}function xi(d){if(d!==lr)return!1;if(!Nt)return rd(d),Nt=!0,!1;var f=d.tag,v;if((v=f!==3&&f!==27)&&((v=f===5)&&(v=d.type,v=!(v!=="form"&&v!=="button")||hu(d.type,d.memoizedProps)),v=!v),v&&Wt&&bn(d),rd(d),f===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));Wt=kf(d)}else if(f===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));Wt=kf(d)}else f===27?(f=Wt,Nn(d.type)?(d=yu,yu=null,Wt=d):Wt=f):Wt=lr?jr(d.stateNode.nextSibling):null;return!0}function Hn(){Wt=lr=null,Nt=!1}function Yo(){var d=xn;return d!==null&&(xr===null?xr=d:xr.push.apply(xr,d),xn=null),d}function na(d){xn===null?xn=[d]:xn.push(d)}var Xo=G(null),Wn=null,en=null;function En(d,f,v){F(Xo,f._currentValue),f._currentValue=v}function tn(d){d._currentValue=Xo.current,H(Xo)}function Jo(d,f,v){for(;d!==null;){var S=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),d===v)break;d=d.return}}function Zo(d,f,v,S){var R=d.child;for(R!==null&&(R.return=d);R!==null;){var I=R.dependencies;if(I!==null){var W=R.child;I=I.firstContext;e:for(;I!==null;){var le=I;I=R;for(var be=0;be<f.length;be++)if(le.context===f[be]){I.lanes|=v,le=I.alternate,le!==null&&(le.lanes|=v),Jo(I.return,v,d),S||(W=null);break e}I=le.next}}else if(R.tag===18){if(W=R.return,W===null)throw Error(i(341));W.lanes|=v,I=W.alternate,I!==null&&(I.lanes|=v),Jo(W,v,d),W=null}else W=R.child;if(W!==null)W.return=R;else for(W=R;W!==null;){if(W===d){W=null;break}if(R=W.sibling,R!==null){R.return=W.return,W=R;break}W=W.return}R=W}}function bi(d,f,v,S){d=null;for(var R=f,I=!1;R!==null;){if(!I){if((R.flags&524288)!==0)I=!0;else if((R.flags&262144)!==0)break}if(R.tag===10){var W=R.alternate;if(W===null)throw Error(i(387));if(W=W.memoizedProps,W!==null){var le=R.type;Er(R.pendingProps.value,W.value)||(d!==null?d.push(le):d=[le])}}else if(R===Q.current){if(W=R.alternate,W===null)throw Error(i(387));W.memoizedState.memoizedState!==R.memoizedState.memoizedState&&(d!==null?d.push(Ma):d=[Ma])}R=R.return}d!==null&&Zo(f,d,v,S),f.flags|=262144}function ls(d){for(d=d.firstContext;d!==null;){if(!Er(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Kn(d){Wn=d,en=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ur(d){return nd(Wn,d)}function us(d,f){return Wn===null&&Kn(d),nd(d,f)}function nd(d,f){var v=f._currentValue;if(f={context:f,memoizedValue:v,next:null},en===null){if(d===null)throw Error(i(308));en=f,d.dependencies={lanes:0,firstContext:f},d.flags|=524288}else en=en.next=f;return v}var Rm=typeof AbortController<"u"?AbortController:function(){var d=[],f=this.signal={aborted:!1,addEventListener:function(v,S){d.push(S)}};this.abort=function(){f.aborted=!0,d.forEach(function(v){return v()})}},km=e.unstable_scheduleCallback,Im=e.unstable_NormalPriority,tr={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qo(){return{controller:new Rm,data:new Map,refCount:0}}function ia(d){d.refCount--,d.refCount===0&&km(Im,function(){d.controller.abort()})}var aa=null,el=0,Ei=0,Si=null;function Mm(d,f){if(aa===null){var v=aa=[];el=0,Ei=nu(),Si={status:"pending",value:void 0,then:function(S){v.push(S)}}}return el++,f.then(ad,ad),f}function ad(){if(--el===0&&aa!==null){Si!==null&&(Si.status="fulfilled");var d=aa;aa=null,Ei=0,Si=null;for(var f=0;f<d.length;f++)(0,d[f])()}}function Bm(d,f){var v=[],S={status:"pending",value:null,reason:null,then:function(R){v.push(R)}};return d.then(function(){S.status="fulfilled",S.value=f;for(var R=0;R<v.length;R++)(0,v[R])(f)},function(R){for(S.status="rejected",S.reason=R,R=0;R<v.length;R++)(0,v[R])(void 0)}),S}var sd=ee.S;ee.S=function(d,f){qh=qe(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&Mm(d,f),sd!==null&&sd(d,f)};var Yn=G(null);function tl(){var d=Yn.current;return d!==null?d:Gt.pooledCache}function cs(d,f){f===null?F(Yn,Yn.current):F(Yn,f.pool)}function od(){var d=tl();return d===null?null:{parent:tr._currentValue,pool:d}}var _i=Error(i(460)),rl=Error(i(474)),ds=Error(i(542)),hs={then:function(){}};function ld(d){return d=d.status,d==="fulfilled"||d==="rejected"}function ud(d,f,v){switch(v=d[v],v===void 0?d.push(f):v!==f&&(f.then(Xr,Xr),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,dd(d),d;default:if(typeof f.status=="string")f.then(Xr,Xr);else{if(d=Gt,d!==null&&100<d.shellSuspendCounter)throw Error(i(482));d=f,d.status="pending",d.then(function(S){if(f.status==="pending"){var R=f;R.status="fulfilled",R.value=S}},function(S){if(f.status==="pending"){var R=f;R.status="rejected",R.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw d=f.reason,dd(d),d}throw Jn=f,_i}}function Xn(d){try{var f=d._init;return f(d._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(Jn=v,_i):v}}var Jn=null;function cd(){if(Jn===null)throw Error(i(459));var d=Jn;return Jn=null,d}function dd(d){if(d===_i||d===ds)throw Error(i(483))}var Ai=null,sa=0;function fs(d){var f=sa;return sa+=1,Ai===null&&(Ai=[]),ud(Ai,d,f)}function oa(d,f){f=f.props.ref,d.ref=f!==void 0?f:null}function ps(d,f){throw f.$$typeof===E?Error(i(525)):(d=Object.prototype.toString.call(f),Error(i(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d)))}function hd(d){function f(Ne,Te){if(d){var Le=Ne.deletions;Le===null?(Ne.deletions=[Te],Ne.flags|=16):Le.push(Te)}}function v(Ne,Te){if(!d)return null;for(;Te!==null;)f(Ne,Te),Te=Te.sibling;return null}function S(Ne){for(var Te=new Map;Ne!==null;)Ne.key!==null?Te.set(Ne.key,Ne):Te.set(Ne.index,Ne),Ne=Ne.sibling;return Te}function R(Ne,Te){return Ne=Zr(Ne,Te),Ne.index=0,Ne.sibling=null,Ne}function I(Ne,Te,Le){return Ne.index=Le,d?(Le=Ne.alternate,Le!==null?(Le=Le.index,Le<Te?(Ne.flags|=67108866,Te):Le):(Ne.flags|=67108866,Te)):(Ne.flags|=1048576,Te)}function W(Ne){return d&&Ne.alternate===null&&(Ne.flags|=67108866),Ne}function le(Ne,Te,Le,Je){return Te===null||Te.tag!==6?(Te=qo(Le,Ne.mode,Je),Te.return=Ne,Te):(Te=R(Te,Le),Te.return=Ne,Te)}function be(Ne,Te,Le,Je){var bt=Le.type;return bt===w?Ye(Ne,Te,Le.props.children,Je,Le.key):Te!==null&&(Te.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===L&&Xn(bt)===Te.type)?(Te=R(Te,Le.props),oa(Te,Le),Te.return=Ne,Te):(Te=ss(Le.type,Le.key,Le.props,null,Ne.mode,Je),oa(Te,Le),Te.return=Ne,Te)}function $e(Ne,Te,Le,Je){return Te===null||Te.tag!==4||Te.stateNode.containerInfo!==Le.containerInfo||Te.stateNode.implementation!==Le.implementation?(Te=Go(Le,Ne.mode,Je),Te.return=Ne,Te):(Te=R(Te,Le.children||[]),Te.return=Ne,Te)}function Ye(Ne,Te,Le,Je,bt){return Te===null||Te.tag!==7?(Te=Gn(Le,Ne.mode,Je,bt),Te.return=Ne,Te):(Te=R(Te,Le),Te.return=Ne,Te)}function Ze(Ne,Te,Le){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Te=qo(""+Te,Ne.mode,Le),Te.return=Ne,Te;if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case _:return Le=ss(Te.type,Te.key,Te.props,null,Ne.mode,Le),oa(Le,Te),Le.return=Ne,Le;case A:return Te=Go(Te,Ne.mode,Le),Te.return=Ne,Te;case L:return Te=Xn(Te),Ze(Ne,Te,Le)}if(he(Te)||K(Te))return Te=Gn(Te,Ne.mode,Le,null),Te.return=Ne,Te;if(typeof Te.then=="function")return Ze(Ne,fs(Te),Le);if(Te.$$typeof===N)return Ze(Ne,us(Ne,Te),Le);ps(Ne,Te)}return null}function ze(Ne,Te,Le,Je){var bt=Te!==null?Te.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return bt!==null?null:le(Ne,Te,""+Le,Je);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:return Le.key===bt?be(Ne,Te,Le,Je):null;case A:return Le.key===bt?$e(Ne,Te,Le,Je):null;case L:return Le=Xn(Le),ze(Ne,Te,Le,Je)}if(he(Le)||K(Le))return bt!==null?null:Ye(Ne,Te,Le,Je,null);if(typeof Le.then=="function")return ze(Ne,Te,fs(Le),Je);if(Le.$$typeof===N)return ze(Ne,Te,us(Ne,Le),Je);ps(Ne,Le)}return null}function He(Ne,Te,Le,Je,bt){if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Ne=Ne.get(Le)||null,le(Te,Ne,""+Je,bt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case _:return Ne=Ne.get(Je.key===null?Le:Je.key)||null,be(Te,Ne,Je,bt);case A:return Ne=Ne.get(Je.key===null?Le:Je.key)||null,$e(Te,Ne,Je,bt);case L:return Je=Xn(Je),He(Ne,Te,Le,Je,bt)}if(he(Je)||K(Je))return Ne=Ne.get(Le)||null,Ye(Te,Ne,Je,bt,null);if(typeof Je.then=="function")return He(Ne,Te,Le,fs(Je),bt);if(Je.$$typeof===N)return He(Ne,Te,Le,us(Te,Je),bt);ps(Te,Je)}return null}function mt(Ne,Te,Le,Je){for(var bt=null,Vt=null,yt=Te,Rt=Te=0,Bt=null;yt!==null&&Rt<Le.length;Rt++){yt.index>Rt?(Bt=yt,yt=null):Bt=yt.sibling;var Ot=ze(Ne,yt,Le[Rt],Je);if(Ot===null){yt===null&&(yt=Bt);break}d&&yt&&Ot.alternate===null&&f(Ne,yt),Te=I(Ot,Te,Rt),Vt===null?bt=Ot:Vt.sibling=Ot,Vt=Ot,yt=Bt}if(Rt===Le.length)return v(Ne,yt),Nt&&Qr(Ne,Rt),bt;if(yt===null){for(;Rt<Le.length;Rt++)yt=Ze(Ne,Le[Rt],Je),yt!==null&&(Te=I(yt,Te,Rt),Vt===null?bt=yt:Vt.sibling=yt,Vt=yt);return Nt&&Qr(Ne,Rt),bt}for(yt=S(yt);Rt<Le.length;Rt++)Bt=He(yt,Ne,Rt,Le[Rt],Je),Bt!==null&&(d&&Bt.alternate!==null&&yt.delete(Bt.key===null?Rt:Bt.key),Te=I(Bt,Te,Rt),Vt===null?bt=Bt:Vt.sibling=Bt,Vt=Bt);return d&&yt.forEach(function(Ln){return f(Ne,Ln)}),Nt&&Qr(Ne,Rt),bt}function Pt(Ne,Te,Le,Je){if(Le==null)throw Error(i(151));for(var bt=null,Vt=null,yt=Te,Rt=Te=0,Bt=null,Ot=Le.next();yt!==null&&!Ot.done;Rt++,Ot=Le.next()){yt.index>Rt?(Bt=yt,yt=null):Bt=yt.sibling;var Ln=ze(Ne,yt,Ot.value,Je);if(Ln===null){yt===null&&(yt=Bt);break}d&&yt&&Ln.alternate===null&&f(Ne,yt),Te=I(Ln,Te,Rt),Vt===null?bt=Ln:Vt.sibling=Ln,Vt=Ln,yt=Bt}if(Ot.done)return v(Ne,yt),Nt&&Qr(Ne,Rt),bt;if(yt===null){for(;!Ot.done;Rt++,Ot=Le.next())Ot=Ze(Ne,Ot.value,Je),Ot!==null&&(Te=I(Ot,Te,Rt),Vt===null?bt=Ot:Vt.sibling=Ot,Vt=Ot);return Nt&&Qr(Ne,Rt),bt}for(yt=S(yt);!Ot.done;Rt++,Ot=Le.next())Ot=He(yt,Ne,Rt,Ot.value,Je),Ot!==null&&(d&&Ot.alternate!==null&&yt.delete(Ot.key===null?Rt:Ot.key),Te=I(Ot,Te,Rt),Vt===null?bt=Ot:Vt.sibling=Ot,Vt=Ot);return d&&yt.forEach(function(qg){return f(Ne,qg)}),Nt&&Qr(Ne,Rt),bt}function qt(Ne,Te,Le,Je){if(typeof Le=="object"&&Le!==null&&Le.type===w&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case _:e:{for(var bt=Le.key;Te!==null;){if(Te.key===bt){if(bt=Le.type,bt===w){if(Te.tag===7){v(Ne,Te.sibling),Je=R(Te,Le.props.children),Je.return=Ne,Ne=Je;break e}}else if(Te.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===L&&Xn(bt)===Te.type){v(Ne,Te.sibling),Je=R(Te,Le.props),oa(Je,Le),Je.return=Ne,Ne=Je;break e}v(Ne,Te);break}else f(Ne,Te);Te=Te.sibling}Le.type===w?(Je=Gn(Le.props.children,Ne.mode,Je,Le.key),Je.return=Ne,Ne=Je):(Je=ss(Le.type,Le.key,Le.props,null,Ne.mode,Je),oa(Je,Le),Je.return=Ne,Ne=Je)}return W(Ne);case A:e:{for(bt=Le.key;Te!==null;){if(Te.key===bt)if(Te.tag===4&&Te.stateNode.containerInfo===Le.containerInfo&&Te.stateNode.implementation===Le.implementation){v(Ne,Te.sibling),Je=R(Te,Le.children||[]),Je.return=Ne,Ne=Je;break e}else{v(Ne,Te);break}else f(Ne,Te);Te=Te.sibling}Je=Go(Le,Ne.mode,Je),Je.return=Ne,Ne=Je}return W(Ne);case L:return Le=Xn(Le),qt(Ne,Te,Le,Je)}if(he(Le))return mt(Ne,Te,Le,Je);if(K(Le)){if(bt=K(Le),typeof bt!="function")throw Error(i(150));return Le=bt.call(Le),Pt(Ne,Te,Le,Je)}if(typeof Le.then=="function")return qt(Ne,Te,fs(Le),Je);if(Le.$$typeof===N)return qt(Ne,Te,us(Ne,Le),Je);ps(Ne,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Te!==null&&Te.tag===6?(v(Ne,Te.sibling),Je=R(Te,Le),Je.return=Ne,Ne=Je):(v(Ne,Te),Je=qo(Le,Ne.mode,Je),Je.return=Ne,Ne=Je),W(Ne)):v(Ne,Te)}return function(Ne,Te,Le,Je){try{sa=0;var bt=qt(Ne,Te,Le,Je);return Ai=null,bt}catch(yt){if(yt===_i||yt===ds)throw yt;var Vt=Sr(29,yt,null,Ne.mode);return Vt.lanes=Je,Vt.return=Ne,Vt}finally{}}}var Zn=hd(!0),fd=hd(!1),Sn=!1;function nl(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function il(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function _n(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function An(d,f,v){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,(jt&2)!==0){var R=S.pending;return R===null?f.next=f:(f.next=R.next,R.next=f),S.pending=f,f=as(d),Yc(d,null,v),f}return ns(d,S,f,v),as(d)}function la(d,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var S=f.lanes;S&=d.pendingLanes,v|=S,f.lanes=v,We(d,v)}}function al(d,f){var v=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var R=null,I=null;if(v=v.firstBaseUpdate,v!==null){do{var W={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};I===null?R=I=W:I=I.next=W,v=v.next}while(v!==null);I===null?R=I=f:I=I.next=f}else R=I=f;v={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:I,shared:S.shared,callbacks:S.callbacks},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=f:d.next=f,v.lastBaseUpdate=f}var sl=!1;function ua(){if(sl){var d=Si;if(d!==null)throw d}}function ca(d,f,v,S){sl=!1;var R=d.updateQueue;Sn=!1;var I=R.firstBaseUpdate,W=R.lastBaseUpdate,le=R.shared.pending;if(le!==null){R.shared.pending=null;var be=le,$e=be.next;be.next=null,W===null?I=$e:W.next=$e,W=be;var Ye=d.alternate;Ye!==null&&(Ye=Ye.updateQueue,le=Ye.lastBaseUpdate,le!==W&&(le===null?Ye.firstBaseUpdate=$e:le.next=$e,Ye.lastBaseUpdate=be))}if(I!==null){var Ze=R.baseState;W=0,Ye=$e=be=null,le=I;do{var ze=le.lane&-536870913,He=ze!==le.lane;if(He?(Mt&ze)===ze:(S&ze)===ze){ze!==0&&ze===Ei&&(sl=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:le.tag,payload:le.payload,callback:null,next:null});e:{var mt=d,Pt=le;ze=f;var qt=v;switch(Pt.tag){case 1:if(mt=Pt.payload,typeof mt=="function"){Ze=mt.call(qt,Ze,ze);break e}Ze=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Pt.payload,ze=typeof mt=="function"?mt.call(qt,Ze,ze):mt,ze==null)break e;Ze=b({},Ze,ze);break e;case 2:Sn=!0}}ze=le.callback,ze!==null&&(d.flags|=64,He&&(d.flags|=8192),He=R.callbacks,He===null?R.callbacks=[ze]:He.push(ze))}else He={lane:ze,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ye===null?($e=Ye=He,be=Ze):Ye=Ye.next=He,W|=ze;if(le=le.next,le===null){if(le=R.shared.pending,le===null)break;He=le,le=He.next,He.next=null,R.lastBaseUpdate=He,R.shared.pending=null}}while(!0);Ye===null&&(be=Ze),R.baseState=be,R.firstBaseUpdate=$e,R.lastBaseUpdate=Ye,I===null&&(R.shared.lanes=0),Rn|=W,d.lanes=W,d.memoizedState=Ze}}function pd(d,f){if(typeof d!="function")throw Error(i(191,d));d.call(f)}function md(d,f){var v=d.callbacks;if(v!==null)for(d.callbacks=null,d=0;d<v.length;d++)pd(v[d],f)}var Pi=G(null),ms=G(0);function gd(d,f){d=fn,F(ms,d),F(Pi,f),fn=d|f.baseLanes}function ol(){F(ms,fn),F(Pi,Pi.current)}function ll(){fn=ms.current,H(Pi),H(ms)}var _r=G(null),Or=null;function Pn(d){var f=d.alternate;F(Zt,Zt.current&1),F(_r,d),Or===null&&(f===null||Pi.current!==null||f.memoizedState!==null)&&(Or=d)}function ul(d){F(Zt,Zt.current),F(_r,d),Or===null&&(Or=d)}function yd(d){d.tag===22?(F(Zt,Zt.current),F(_r,d),Or===null&&(Or=d)):wn()}function wn(){F(Zt,Zt.current),F(_r,_r.current)}function Ar(d){H(_r),Or===d&&(Or=null),H(Zt)}var Zt=G(0);function gs(d){for(var f=d;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||mu(v)||gu(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var rn=0,Ct=null,Ut=null,rr=null,ys=!1,wi=!1,Qn=!1,vs=0,da=0,Ti=null,Nm=0;function Xt(){throw Error(i(321))}function cl(d,f){if(f===null)return!1;for(var v=0;v<f.length&&v<d.length;v++)if(!Er(d[v],f[v]))return!1;return!0}function dl(d,f,v,S,R,I){return rn=I,Ct=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ee.H=d===null||d.memoizedState===null?eh:wl,Qn=!1,I=v(S,R),Qn=!1,wi&&(I=xd(f,v,S,R)),vd(d),I}function vd(d){ee.H=pa;var f=Ut!==null&&Ut.next!==null;if(rn=0,rr=Ut=Ct=null,ys=!1,da=0,Ti=null,f)throw Error(i(300));d===null||nr||(d=d.dependencies,d!==null&&ls(d)&&(nr=!0))}function xd(d,f,v,S){Ct=d;var R=0;do{if(wi&&(Ti=null),da=0,wi=!1,25<=R)throw Error(i(301));if(R+=1,rr=Ut=null,d.updateQueue!=null){var I=d.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}ee.H=th,I=f(v,S)}while(wi);return I}function Dm(){var d=ee.H,f=d.useState()[0];return f=typeof f.then=="function"?ha(f):f,d=d.useState()[0],(Ut!==null?Ut.memoizedState:null)!==d&&(Ct.flags|=1024),f}function hl(){var d=vs!==0;return vs=0,d}function fl(d,f,v){f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~v}function pl(d){if(ys){for(d=d.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}ys=!1}rn=0,rr=Ut=Ct=null,wi=!1,da=vs=0,Ti=null}function pr(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Ct.memoizedState=rr=d:rr=rr.next=d,rr}function Qt(){if(Ut===null){var d=Ct.alternate;d=d!==null?d.memoizedState:null}else d=Ut.next;var f=rr===null?Ct.memoizedState:rr.next;if(f!==null)rr=f,Ut=d;else{if(d===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Ut=d,d={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},rr===null?Ct.memoizedState=rr=d:rr=rr.next=d}return rr}function xs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(d){var f=da;return da+=1,Ti===null&&(Ti=[]),d=ud(Ti,d,f),f=Ct,(rr===null?f.memoizedState:rr.next)===null&&(f=f.alternate,ee.H=f===null||f.memoizedState===null?eh:wl),d}function bs(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return ha(d);if(d.$$typeof===N)return ur(d)}throw Error(i(438,String(d)))}function ml(d){var f=null,v=Ct.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var S=Ct.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(R){return R.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=xs(),Ct.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(d),S=0;S<d;S++)v[S]=J;return f.index++,v}function nn(d,f){return typeof f=="function"?f(d):f}function Es(d){var f=Qt();return gl(f,Ut,d)}function gl(d,f,v){var S=d.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=v;var R=d.baseQueue,I=S.pending;if(I!==null){if(R!==null){var W=R.next;R.next=I.next,I.next=W}f.baseQueue=R=I,S.pending=null}if(I=d.baseState,R===null)d.memoizedState=I;else{f=R.next;var le=W=null,be=null,$e=f,Ye=!1;do{var Ze=$e.lane&-536870913;if(Ze!==$e.lane?(Mt&Ze)===Ze:(rn&Ze)===Ze){var ze=$e.revertLane;if(ze===0)be!==null&&(be=be.next={lane:0,revertLane:0,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),Ze===Ei&&(Ye=!0);else if((rn&ze)===ze){$e=$e.next,ze===Ei&&(Ye=!0);continue}else Ze={lane:0,revertLane:$e.revertLane,gesture:null,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},be===null?(le=be=Ze,W=I):be=be.next=Ze,Ct.lanes|=ze,Rn|=ze;Ze=$e.action,Qn&&v(I,Ze),I=$e.hasEagerState?$e.eagerState:v(I,Ze)}else ze={lane:Ze,revertLane:$e.revertLane,gesture:$e.gesture,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null},be===null?(le=be=ze,W=I):be=be.next=ze,Ct.lanes|=Ze,Rn|=Ze;$e=$e.next}while($e!==null&&$e!==f);if(be===null?W=I:be.next=le,!Er(I,d.memoizedState)&&(nr=!0,Ye&&(v=Si,v!==null)))throw v;d.memoizedState=I,d.baseState=W,d.baseQueue=be,S.lastRenderedState=I}return R===null&&(S.lanes=0),[d.memoizedState,S.dispatch]}function yl(d){var f=Qt(),v=f.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=d;var S=v.dispatch,R=v.pending,I=f.memoizedState;if(R!==null){v.pending=null;var W=R=R.next;do I=d(I,W.action),W=W.next;while(W!==R);Er(I,f.memoizedState)||(nr=!0),f.memoizedState=I,f.baseQueue===null&&(f.baseState=I),v.lastRenderedState=I}return[I,S]}function bd(d,f,v){var S=Ct,R=Qt(),I=Nt;if(I){if(v===void 0)throw Error(i(407));v=v()}else v=f();var W=!Er((Ut||R).memoizedState,v);if(W&&(R.memoizedState=v,nr=!0),R=R.queue,bl(_d.bind(null,S,R,d),[d]),R.getSnapshot!==f||W||rr!==null&&rr.memoizedState.tag&1){if(S.flags|=2048,Ci(9,{destroy:void 0},Sd.bind(null,S,R,v,f),null),Gt===null)throw Error(i(349));I||(rn&127)!==0||Ed(S,f,v)}return v}function Ed(d,f,v){d.flags|=16384,d={getSnapshot:f,value:v},f=Ct.updateQueue,f===null?(f=xs(),Ct.updateQueue=f,f.stores=[d]):(v=f.stores,v===null?f.stores=[d]:v.push(d))}function Sd(d,f,v,S){f.value=v,f.getSnapshot=S,Ad(f)&&Pd(d)}function _d(d,f,v){return v(function(){Ad(f)&&Pd(d)})}function Ad(d){var f=d.getSnapshot;d=d.value;try{var v=f();return!Er(d,v)}catch{return!0}}function Pd(d){var f=qn(d,2);f!==null&&br(f,d,2)}function vl(d){var f=pr();if(typeof d=="function"){var v=d;if(d=v(),Qn){Ge(!0);try{v()}finally{Ge(!1)}}}return f.memoizedState=f.baseState=d,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:d},f}function wd(d,f,v,S){return d.baseState=v,gl(d,Ut,typeof S=="function"?S:nn)}function Vm(d,f,v,S,R){if(As(d))throw Error(i(485));if(d=f.action,d!==null){var I={payload:R,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){I.listeners.push(W)}};ee.T!==null?v(!0):I.isTransition=!1,S(I),v=f.pending,v===null?(I.next=f.pending=I,Td(f,I)):(I.next=v.next,f.pending=v.next=I)}}function Td(d,f){var v=f.action,S=f.payload,R=d.state;if(f.isTransition){var I=ee.T,W={};ee.T=W;try{var le=v(R,S),be=ee.S;be!==null&&be(W,le),Cd(d,f,le)}catch($e){xl(d,f,$e)}finally{I!==null&&W.types!==null&&(I.types=W.types),ee.T=I}}else try{I=v(R,S),Cd(d,f,I)}catch($e){xl(d,f,$e)}}function Cd(d,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(S){Rd(d,f,S)},function(S){return xl(d,f,S)}):Rd(d,f,v)}function Rd(d,f,v){f.status="fulfilled",f.value=v,kd(f),d.state=v,f=d.pending,f!==null&&(v=f.next,v===f?d.pending=null:(v=v.next,f.next=v,Td(d,v)))}function xl(d,f,v){var S=d.pending;if(d.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=v,kd(f),f=f.next;while(f!==S)}d.action=null}function kd(d){d=d.listeners;for(var f=0;f<d.length;f++)(0,d[f])()}function Id(d,f){return f}function Md(d,f){if(Nt){var v=Gt.formState;if(v!==null){e:{var S=Ct;if(Nt){if(Wt){t:{for(var R=Wt,I=Vr;R.nodeType!==8;){if(!I){R=null;break t}if(R=jr(R.nextSibling),R===null){R=null;break t}}I=R.data,R=I==="F!"||I==="F"?R:null}if(R){Wt=jr(R.nextSibling),S=R.data==="F!";break e}}bn(S)}S=!1}S&&(f=v[0])}}return v=pr(),v.memoizedState=v.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:f},v.queue=S,v=Jd.bind(null,Ct,S),S.dispatch=v,S=vl(!1),I=Pl.bind(null,Ct,!1,S.queue),S=pr(),R={state:f,dispatch:null,action:d,pending:null},S.queue=R,v=Vm.bind(null,Ct,R,I,v),R.dispatch=v,S.memoizedState=d,[f,v,!1]}function Bd(d){var f=Qt();return Nd(f,Ut,d)}function Nd(d,f,v){if(f=gl(d,f,Id)[0],d=Es(nn)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var S=ha(f)}catch(W){throw W===_i?ds:W}else S=f;f=Qt();var R=f.queue,I=R.dispatch;return v!==f.memoizedState&&(Ct.flags|=2048,Ci(9,{destroy:void 0},Om.bind(null,R,v),null)),[S,I,d]}function Om(d,f){d.action=f}function Dd(d){var f=Qt(),v=Ut;if(v!==null)return Nd(f,v,d);Qt(),f=f.memoizedState,v=Qt();var S=v.queue.dispatch;return v.memoizedState=d,[f,S,!1]}function Ci(d,f,v,S){return d={tag:d,create:v,deps:S,inst:f,next:null},f=Ct.updateQueue,f===null&&(f=xs(),Ct.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=d.next=d:(S=v.next,v.next=d,d.next=S,f.lastEffect=d),d}function Vd(){return Qt().memoizedState}function Ss(d,f,v,S){var R=pr();Ct.flags|=d,R.memoizedState=Ci(1|f,{destroy:void 0},v,S===void 0?null:S)}function _s(d,f,v,S){var R=Qt();S=S===void 0?null:S;var I=R.memoizedState.inst;Ut!==null&&S!==null&&cl(S,Ut.memoizedState.deps)?R.memoizedState=Ci(f,I,v,S):(Ct.flags|=d,R.memoizedState=Ci(1|f,I,v,S))}function Od(d,f){Ss(8390656,8,d,f)}function bl(d,f){_s(2048,8,d,f)}function jm(d){Ct.flags|=4;var f=Ct.updateQueue;if(f===null)f=xs(),Ct.updateQueue=f,f.events=[d];else{var v=f.events;v===null?f.events=[d]:v.push(d)}}function jd(d){var f=Qt().memoizedState;return jm({ref:f,nextImpl:d}),function(){if((jt&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function Ld(d,f){return _s(4,2,d,f)}function $d(d,f){return _s(4,4,d,f)}function Fd(d,f){if(typeof f=="function"){d=d();var v=f(d);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function Ud(d,f,v){v=v!=null?v.concat([d]):null,_s(4,4,Fd.bind(null,f,d),v)}function El(){}function zd(d,f){var v=Qt();f=f===void 0?null:f;var S=v.memoizedState;return f!==null&&cl(f,S[1])?S[0]:(v.memoizedState=[d,f],d)}function qd(d,f){var v=Qt();f=f===void 0?null:f;var S=v.memoizedState;if(f!==null&&cl(f,S[1]))return S[0];if(S=d(),Qn){Ge(!0);try{d()}finally{Ge(!1)}}return v.memoizedState=[S,f],S}function Sl(d,f,v){return v===void 0||(rn&1073741824)!==0&&(Mt&261930)===0?d.memoizedState=f:(d.memoizedState=v,d=Hh(),Ct.lanes|=d,Rn|=d,v)}function Gd(d,f,v,S){return Er(v,f)?v:Pi.current!==null?(d=Sl(d,v,S),Er(d,f)||(nr=!0),d):(rn&42)===0||(rn&1073741824)!==0&&(Mt&261930)===0?(nr=!0,d.memoizedState=v):(d=Hh(),Ct.lanes|=d,Rn|=d,f)}function Hd(d,f,v,S,R){var I=ie.p;ie.p=I!==0&&8>I?I:8;var W=ee.T,le={};ee.T=le,Pl(d,!1,f,v);try{var be=R(),$e=ee.S;if($e!==null&&$e(le,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var Ye=Bm(be,S);fa(d,f,Ye,Tr(d))}else fa(d,f,S,Tr(d))}catch(Ze){fa(d,f,{then:function(){},status:"rejected",reason:Ze},Tr())}finally{ie.p=I,W!==null&&le.types!==null&&(W.types=le.types),ee.T=W}}function Lm(){}function _l(d,f,v,S){if(d.tag!==5)throw Error(i(476));var R=Wd(d).queue;Hd(d,R,f,ce,v===null?Lm:function(){return Kd(d),v(S)})}function Wd(d){var f=d.memoizedState;if(f!==null)return f;f={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:ce},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:v},next:null},d.memoizedState=f,d=d.alternate,d!==null&&(d.memoizedState=f),f}function Kd(d){var f=Wd(d);f.next===null&&(f=d.alternate.memoizedState),fa(d,f.next.queue,{},Tr())}function Al(){return ur(Ma)}function Yd(){return Qt().memoizedState}function Xd(){return Qt().memoizedState}function $m(d){for(var f=d.return;f!==null;){switch(f.tag){case 24:case 3:var v=Tr();d=_n(v);var S=An(f,d,v);S!==null&&(br(S,f,v),la(S,f,v)),f={cache:Qo()},d.payload=f;return}f=f.return}}function Fm(d,f,v){var S=Tr();v={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},As(d)?Zd(f,v):(v=Uo(d,f,v,S),v!==null&&(br(v,d,S),Qd(v,f,S)))}function Jd(d,f,v){var S=Tr();fa(d,f,v,S)}function fa(d,f,v,S){var R={lane:S,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(As(d))Zd(f,R);else{var I=d.alternate;if(d.lanes===0&&(I===null||I.lanes===0)&&(I=f.lastRenderedReducer,I!==null))try{var W=f.lastRenderedState,le=I(W,v);if(R.hasEagerState=!0,R.eagerState=le,Er(le,W))return ns(d,f,R,0),Gt===null&&rs(),!1}catch{}finally{}if(v=Uo(d,f,R,S),v!==null)return br(v,d,S),Qd(v,f,S),!0}return!1}function Pl(d,f,v,S){if(S={lane:2,revertLane:nu(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},As(d)){if(f)throw Error(i(479))}else f=Uo(d,v,S,2),f!==null&&br(f,d,2)}function As(d){var f=d.alternate;return d===Ct||f!==null&&f===Ct}function Zd(d,f){wi=ys=!0;var v=d.pending;v===null?f.next=f:(f.next=v.next,v.next=f),d.pending=f}function Qd(d,f,v){if((v&4194048)!==0){var S=f.lanes;S&=d.pendingLanes,v|=S,f.lanes=v,We(d,v)}}var pa={readContext:ur,use:bs,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useLayoutEffect:Xt,useInsertionEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useSyncExternalStore:Xt,useId:Xt,useHostTransitionStatus:Xt,useFormState:Xt,useActionState:Xt,useOptimistic:Xt,useMemoCache:Xt,useCacheRefresh:Xt};pa.useEffectEvent=Xt;var eh={readContext:ur,use:bs,useCallback:function(d,f){return pr().memoizedState=[d,f===void 0?null:f],d},useContext:ur,useEffect:Od,useImperativeHandle:function(d,f,v){v=v!=null?v.concat([d]):null,Ss(4194308,4,Fd.bind(null,f,d),v)},useLayoutEffect:function(d,f){return Ss(4194308,4,d,f)},useInsertionEffect:function(d,f){Ss(4,2,d,f)},useMemo:function(d,f){var v=pr();f=f===void 0?null:f;var S=d();if(Qn){Ge(!0);try{d()}finally{Ge(!1)}}return v.memoizedState=[S,f],S},useReducer:function(d,f,v){var S=pr();if(v!==void 0){var R=v(f);if(Qn){Ge(!0);try{v(f)}finally{Ge(!1)}}}else R=f;return S.memoizedState=S.baseState=R,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:R},S.queue=d,d=d.dispatch=Fm.bind(null,Ct,d),[S.memoizedState,d]},useRef:function(d){var f=pr();return d={current:d},f.memoizedState=d},useState:function(d){d=vl(d);var f=d.queue,v=Jd.bind(null,Ct,f);return f.dispatch=v,[d.memoizedState,v]},useDebugValue:El,useDeferredValue:function(d,f){var v=pr();return Sl(v,d,f)},useTransition:function(){var d=vl(!1);return d=Hd.bind(null,Ct,d.queue,!0,!1),pr().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,f,v){var S=Ct,R=pr();if(Nt){if(v===void 0)throw Error(i(407));v=v()}else{if(v=f(),Gt===null)throw Error(i(349));(Mt&127)!==0||Ed(S,f,v)}R.memoizedState=v;var I={value:v,getSnapshot:f};return R.queue=I,Od(_d.bind(null,S,I,d),[d]),S.flags|=2048,Ci(9,{destroy:void 0},Sd.bind(null,S,I,v,f),null),v},useId:function(){var d=pr(),f=Gt.identifierPrefix;if(Nt){var v=Gr,S=qr;v=(S&~(1<<32-Re(S)-1)).toString(32)+v,f="_"+f+"R_"+v,v=vs++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=Nm++,f="_"+f+"r_"+v.toString(32)+"_";return d.memoizedState=f},useHostTransitionStatus:Al,useFormState:Md,useActionState:Md,useOptimistic:function(d){var f=pr();f.memoizedState=f.baseState=d;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=Pl.bind(null,Ct,!0,v),v.dispatch=f,[d,f]},useMemoCache:ml,useCacheRefresh:function(){return pr().memoizedState=$m.bind(null,Ct)},useEffectEvent:function(d){var f=pr(),v={impl:d};return f.memoizedState=v,function(){if((jt&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}},wl={readContext:ur,use:bs,useCallback:zd,useContext:ur,useEffect:bl,useImperativeHandle:Ud,useInsertionEffect:Ld,useLayoutEffect:$d,useMemo:qd,useReducer:Es,useRef:Vd,useState:function(){return Es(nn)},useDebugValue:El,useDeferredValue:function(d,f){var v=Qt();return Gd(v,Ut.memoizedState,d,f)},useTransition:function(){var d=Es(nn)[0],f=Qt().memoizedState;return[typeof d=="boolean"?d:ha(d),f]},useSyncExternalStore:bd,useId:Yd,useHostTransitionStatus:Al,useFormState:Bd,useActionState:Bd,useOptimistic:function(d,f){var v=Qt();return wd(v,Ut,d,f)},useMemoCache:ml,useCacheRefresh:Xd};wl.useEffectEvent=jd;var th={readContext:ur,use:bs,useCallback:zd,useContext:ur,useEffect:bl,useImperativeHandle:Ud,useInsertionEffect:Ld,useLayoutEffect:$d,useMemo:qd,useReducer:yl,useRef:Vd,useState:function(){return yl(nn)},useDebugValue:El,useDeferredValue:function(d,f){var v=Qt();return Ut===null?Sl(v,d,f):Gd(v,Ut.memoizedState,d,f)},useTransition:function(){var d=yl(nn)[0],f=Qt().memoizedState;return[typeof d=="boolean"?d:ha(d),f]},useSyncExternalStore:bd,useId:Yd,useHostTransitionStatus:Al,useFormState:Dd,useActionState:Dd,useOptimistic:function(d,f){var v=Qt();return Ut!==null?wd(v,Ut,d,f):(v.baseState=d,[d,v.queue.dispatch])},useMemoCache:ml,useCacheRefresh:Xd};th.useEffectEvent=jd;function Tl(d,f,v,S){f=d.memoizedState,v=v(S,f),v=v==null?f:b({},f,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var Cl={enqueueSetState:function(d,f,v){d=d._reactInternals;var S=Tr(),R=_n(S);R.payload=f,v!=null&&(R.callback=v),f=An(d,R,S),f!==null&&(br(f,d,S),la(f,d,S))},enqueueReplaceState:function(d,f,v){d=d._reactInternals;var S=Tr(),R=_n(S);R.tag=1,R.payload=f,v!=null&&(R.callback=v),f=An(d,R,S),f!==null&&(br(f,d,S),la(f,d,S))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var v=Tr(),S=_n(v);S.tag=2,f!=null&&(S.callback=f),f=An(d,S,v),f!==null&&(br(f,d,v),la(f,d,v))}};function rh(d,f,v,S,R,I,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,I,W):f.prototype&&f.prototype.isPureReactComponent?!ea(v,S)||!ea(R,I):!0}function nh(d,f,v,S){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==d&&Cl.enqueueReplaceState(f,f.state,null)}function ei(d,f){var v=f;if("ref"in f){v={};for(var S in f)S!=="ref"&&(v[S]=f[S])}if(d=d.defaultProps){v===f&&(v=b({},v));for(var R in d)v[R]===void 0&&(v[R]=d[R])}return v}function ih(d){ts(d)}function ah(d){console.error(d)}function sh(d){ts(d)}function Ps(d,f){try{var v=d.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function oh(d,f,v){try{var S=d.onCaughtError;S(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(R){setTimeout(function(){throw R})}}function Rl(d,f,v){return v=_n(v),v.tag=3,v.payload={element:null},v.callback=function(){Ps(d,f)},v}function lh(d){return d=_n(d),d.tag=3,d}function uh(d,f,v,S){var R=v.type.getDerivedStateFromError;if(typeof R=="function"){var I=S.value;d.payload=function(){return R(I)},d.callback=function(){oh(f,v,S)}}var W=v.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(d.callback=function(){oh(f,v,S),typeof R!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var le=S.stack;this.componentDidCatch(S.value,{componentStack:le!==null?le:""})})}function Um(d,f,v,S,R){if(v.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=v.alternate,f!==null&&bi(f,v,R,!0),v=_r.current,v!==null){switch(v.tag){case 31:case 13:return Or===null?Os():v.alternate===null&&Jt===0&&(Jt=3),v.flags&=-257,v.flags|=65536,v.lanes=R,S===hs?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([S]):f.add(S),eu(d,S,R)),!1;case 22:return v.flags|=65536,S===hs?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([S]):v.add(S)),eu(d,S,R)),!1}throw Error(i(435,v.tag))}return eu(d,S,R),Os(),!1}if(Nt)return f=_r.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=R,S!==Ko&&(d=Error(i(422),{cause:S}),na(Br(d,v)))):(S!==Ko&&(f=Error(i(423),{cause:S}),na(Br(f,v))),d=d.current.alternate,d.flags|=65536,R&=-R,d.lanes|=R,S=Br(S,v),R=Rl(d.stateNode,S,R),al(d,R),Jt!==4&&(Jt=2)),!1;var I=Error(i(520),{cause:S});if(I=Br(I,v),Sa===null?Sa=[I]:Sa.push(I),Jt!==4&&(Jt=2),f===null)return!0;S=Br(S,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,d=R&-R,v.lanes|=d,d=Rl(v.stateNode,S,d),al(v,d),!1;case 1:if(f=v.type,I=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(kn===null||!kn.has(I))))return v.flags|=65536,R&=-R,v.lanes|=R,R=lh(R),uh(R,d,v,S),al(v,R),!1}v=v.return}while(v!==null);return!1}var kl=Error(i(461)),nr=!1;function cr(d,f,v,S){f.child=d===null?fd(f,null,v,S):Zn(f,d.child,v,S)}function ch(d,f,v,S,R){v=v.render;var I=f.ref;if("ref"in S){var W={};for(var le in S)le!=="ref"&&(W[le]=S[le])}else W=S;return Kn(f),S=dl(d,f,v,W,I,R),le=hl(),d!==null&&!nr?(fl(d,f,R),an(d,f,R)):(Nt&&le&&Ho(f),f.flags|=1,cr(d,f,S,R),f.child)}function dh(d,f,v,S,R){if(d===null){var I=v.type;return typeof I=="function"&&!zo(I)&&I.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=I,hh(d,f,I,S,R)):(d=ss(v.type,null,S,f,f.mode,R),d.ref=f.ref,d.return=f,f.child=d)}if(I=d.child,!jl(d,R)){var W=I.memoizedProps;if(v=v.compare,v=v!==null?v:ea,v(W,S)&&d.ref===f.ref)return an(d,f,R)}return f.flags|=1,d=Zr(I,S),d.ref=f.ref,d.return=f,f.child=d}function hh(d,f,v,S,R){if(d!==null){var I=d.memoizedProps;if(ea(I,S)&&d.ref===f.ref)if(nr=!1,f.pendingProps=S=I,jl(d,R))(d.flags&131072)!==0&&(nr=!0);else return f.lanes=d.lanes,an(d,f,R)}return Il(d,f,v,S,R)}function fh(d,f,v,S){var R=S.children,I=d!==null?d.memoizedState:null;if(d===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((f.flags&128)!==0){if(I=I!==null?I.baseLanes|v:v,d!==null){for(S=f.child=d.child,R=0;S!==null;)R=R|S.lanes|S.childLanes,S=S.sibling;S=R&~I}else S=0,f.child=null;return ph(d,f,I,v,S)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},d!==null&&cs(f,I!==null?I.cachePool:null),I!==null?gd(f,I):ol(),yd(f);else return S=f.lanes=536870912,ph(d,f,I!==null?I.baseLanes|v:v,v,S)}else I!==null?(cs(f,I.cachePool),gd(f,I),wn(),f.memoizedState=null):(d!==null&&cs(f,null),ol(),wn());return cr(d,f,R,v),f.child}function ma(d,f){return d!==null&&d.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function ph(d,f,v,S,R){var I=tl();return I=I===null?null:{parent:tr._currentValue,pool:I},f.memoizedState={baseLanes:v,cachePool:I},d!==null&&cs(f,null),ol(),yd(f),d!==null&&bi(d,f,S,!0),f.childLanes=R,null}function ws(d,f){return f=Cs({mode:f.mode,children:f.children},d.mode),f.ref=d.ref,d.child=f,f.return=d,f}function mh(d,f,v){return Zn(f,d.child,null,v),d=ws(f,f.pendingProps),d.flags|=2,Ar(f),f.memoizedState=null,d}function zm(d,f,v){var S=f.pendingProps,R=(f.flags&128)!==0;if(f.flags&=-129,d===null){if(Nt){if(S.mode==="hidden")return d=ws(f,S),f.lanes=536870912,ma(null,d);if(ul(f),(d=Wt)?(d=Rf(d,Vr),d=d!==null&&d.data==="&"?d:null,d!==null&&(f.memoizedState={dehydrated:d,treeContext:vn!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},v=Jc(d),v.return=f,f.child=v,lr=f,Wt=null)):d=null,d===null)throw bn(f);return f.lanes=536870912,null}return ws(f,S)}var I=d.memoizedState;if(I!==null){var W=I.dehydrated;if(ul(f),R)if(f.flags&256)f.flags&=-257,f=mh(d,f,v);else if(f.memoizedState!==null)f.child=d.child,f.flags|=128,f=null;else throw Error(i(558));else if(nr||bi(d,f,v,!1),R=(v&d.childLanes)!==0,nr||R){if(S=Gt,S!==null&&(W=Xe(S,v),W!==0&&W!==I.retryLane))throw I.retryLane=W,qn(d,W),br(S,d,W),kl;Os(),f=mh(d,f,v)}else d=I.treeContext,Wt=jr(W.nextSibling),lr=f,Nt=!0,xn=null,Vr=!1,d!==null&&ed(f,d),f=ws(f,S),f.flags|=4096;return f}return d=Zr(d.child,{mode:S.mode,children:S.children}),d.ref=f.ref,f.child=d,d.return=f,d}function Ts(d,f){var v=f.ref;if(v===null)d!==null&&d.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(d===null||d.ref!==v)&&(f.flags|=4194816)}}function Il(d,f,v,S,R){return Kn(f),v=dl(d,f,v,S,void 0,R),S=hl(),d!==null&&!nr?(fl(d,f,R),an(d,f,R)):(Nt&&S&&Ho(f),f.flags|=1,cr(d,f,v,R),f.child)}function gh(d,f,v,S,R,I){return Kn(f),f.updateQueue=null,v=xd(f,S,v,R),vd(d),S=hl(),d!==null&&!nr?(fl(d,f,I),an(d,f,I)):(Nt&&S&&Ho(f),f.flags|=1,cr(d,f,v,I),f.child)}function yh(d,f,v,S,R){if(Kn(f),f.stateNode===null){var I=gi,W=v.contextType;typeof W=="object"&&W!==null&&(I=ur(W)),I=new v(S,I),f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=Cl,f.stateNode=I,I._reactInternals=f,I=f.stateNode,I.props=S,I.state=f.memoizedState,I.refs={},nl(f),W=v.contextType,I.context=typeof W=="object"&&W!==null?ur(W):gi,I.state=f.memoizedState,W=v.getDerivedStateFromProps,typeof W=="function"&&(Tl(f,v,W,S),I.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(W=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),W!==I.state&&Cl.enqueueReplaceState(I,I.state,null),ca(f,S,I,R),ua(),I.state=f.memoizedState),typeof I.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(d===null){I=f.stateNode;var le=f.memoizedProps,be=ei(v,le);I.props=be;var $e=I.context,Ye=v.contextType;W=gi,typeof Ye=="object"&&Ye!==null&&(W=ur(Ye));var Ze=v.getDerivedStateFromProps;Ye=typeof Ze=="function"||typeof I.getSnapshotBeforeUpdate=="function",le=f.pendingProps!==le,Ye||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(le||$e!==W)&&nh(f,I,S,W),Sn=!1;var ze=f.memoizedState;I.state=ze,ca(f,S,I,R),ua(),$e=f.memoizedState,le||ze!==$e||Sn?(typeof Ze=="function"&&(Tl(f,v,Ze,S),$e=f.memoizedState),(be=Sn||rh(f,v,be,S,ze,$e,W))?(Ye||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(f.flags|=4194308)):(typeof I.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=$e),I.props=S,I.state=$e,I.context=W,S=be):(typeof I.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{I=f.stateNode,il(d,f),W=f.memoizedProps,Ye=ei(v,W),I.props=Ye,Ze=f.pendingProps,ze=I.context,$e=v.contextType,be=gi,typeof $e=="object"&&$e!==null&&(be=ur($e)),le=v.getDerivedStateFromProps,($e=typeof le=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(W!==Ze||ze!==be)&&nh(f,I,S,be),Sn=!1,ze=f.memoizedState,I.state=ze,ca(f,S,I,R),ua();var He=f.memoizedState;W!==Ze||ze!==He||Sn||d!==null&&d.dependencies!==null&&ls(d.dependencies)?(typeof le=="function"&&(Tl(f,v,le,S),He=f.memoizedState),(Ye=Sn||rh(f,v,Ye,S,ze,He,be)||d!==null&&d.dependencies!==null&&ls(d.dependencies))?($e||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(S,He,be),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(S,He,be)),typeof I.componentDidUpdate=="function"&&(f.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof I.componentDidUpdate!="function"||W===d.memoizedProps&&ze===d.memoizedState||(f.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&ze===d.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=He),I.props=S,I.state=He,I.context=be,S=Ye):(typeof I.componentDidUpdate!="function"||W===d.memoizedProps&&ze===d.memoizedState||(f.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||W===d.memoizedProps&&ze===d.memoizedState||(f.flags|=1024),S=!1)}return I=S,Ts(d,f),S=(f.flags&128)!==0,I||S?(I=f.stateNode,v=S&&typeof v.getDerivedStateFromError!="function"?null:I.render(),f.flags|=1,d!==null&&S?(f.child=Zn(f,d.child,null,R),f.child=Zn(f,null,v,R)):cr(d,f,v,R),f.memoizedState=I.state,d=f.child):d=an(d,f,R),d}function xh(d,f,v,S){return Hn(),f.flags|=256,cr(d,f,v,S),f.child}var Ml={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bl(d){return{baseLanes:d,cachePool:od()}}function Nl(d,f,v){return d=d!==null?d.childLanes&~v:0,f&&(d|=wr),d}function bh(d,f,v){var S=f.pendingProps,R=!1,I=(f.flags&128)!==0,W;if((W=I)||(W=d!==null&&d.memoizedState===null?!1:(Zt.current&2)!==0),W&&(R=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,d===null){if(Nt){if(R?Pn(f):wn(),(d=Wt)?(d=Rf(d,Vr),d=d!==null&&d.data!=="&"?d:null,d!==null&&(f.memoizedState={dehydrated:d,treeContext:vn!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},v=Jc(d),v.return=f,f.child=v,lr=f,Wt=null)):d=null,d===null)throw bn(f);return gu(d)?f.lanes=32:f.lanes=536870912,null}var le=S.children;return S=S.fallback,R?(wn(),R=f.mode,le=Cs({mode:"hidden",children:le},R),S=Gn(S,R,v,null),le.return=f,S.return=f,le.sibling=S,f.child=le,S=f.child,S.memoizedState=Bl(v),S.childLanes=Nl(d,W,v),f.memoizedState=Ml,ma(null,S)):(Pn(f),Dl(f,le))}var be=d.memoizedState;if(be!==null&&(le=be.dehydrated,le!==null)){if(I)f.flags&256?(Pn(f),f.flags&=-257,f=Vl(d,f,v)):f.memoizedState!==null?(wn(),f.child=d.child,f.flags|=128,f=null):(wn(),le=S.fallback,R=f.mode,S=Cs({mode:"visible",children:S.children},R),le=Gn(le,R,v,null),le.flags|=2,S.return=f,le.return=f,S.sibling=le,f.child=S,Zn(f,d.child,null,v),S=f.child,S.memoizedState=Bl(v),S.childLanes=Nl(d,W,v),f.memoizedState=Ml,f=ma(null,S));else if(Pn(f),gu(le)){if(W=le.nextSibling&&le.nextSibling.dataset,W)var $e=W.dgst;W=$e,S=Error(i(419)),S.stack="",S.digest=W,na({value:S,source:null,stack:null}),f=Vl(d,f,v)}else if(nr||bi(d,f,v,!1),W=(v&d.childLanes)!==0,nr||W){if(W=Gt,W!==null&&(S=Xe(W,v),S!==0&&S!==be.retryLane))throw be.retryLane=S,qn(d,S),br(W,d,S),kl;mu(le)||Os(),f=Vl(d,f,v)}else mu(le)?(f.flags|=192,f.child=d.child,f=null):(d=be.treeContext,Wt=jr(le.nextSibling),lr=f,Nt=!0,xn=null,Vr=!1,d!==null&&ed(f,d),f=Dl(f,S.children),f.flags|=4096);return f}return R?(wn(),le=S.fallback,R=f.mode,be=d.child,$e=be.sibling,S=Zr(be,{mode:"hidden",children:S.children}),S.subtreeFlags=be.subtreeFlags&65011712,$e!==null?le=Zr($e,le):(le=Gn(le,R,v,null),le.flags|=2),le.return=f,S.return=f,S.sibling=le,f.child=S,ma(null,S),S=f.child,le=d.child.memoizedState,le===null?le=Bl(v):(R=le.cachePool,R!==null?(be=tr._currentValue,R=R.parent!==be?{parent:be,pool:be}:R):R=od(),le={baseLanes:le.baseLanes|v,cachePool:R}),S.memoizedState=le,S.childLanes=Nl(d,W,v),f.memoizedState=Ml,ma(d.child,S)):(Pn(f),v=d.child,d=v.sibling,v=Zr(v,{mode:"visible",children:S.children}),v.return=f,v.sibling=null,d!==null&&(W=f.deletions,W===null?(f.deletions=[d],f.flags|=16):W.push(d)),f.child=v,f.memoizedState=null,v)}function Dl(d,f){return f=Cs({mode:"visible",children:f},d.mode),f.return=d,d.child=f}function Cs(d,f){return d=Sr(22,d,null,f),d.lanes=0,d}function Vl(d,f,v){return Zn(f,d.child,null,v),d=Dl(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function Eh(d,f,v){d.lanes|=f;var S=d.alternate;S!==null&&(S.lanes|=f),Jo(d.return,f,v)}function Ol(d,f,v,S,R,I){var W=d.memoizedState;W===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:R,treeForkCount:I}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=S,W.tail=v,W.tailMode=R,W.treeForkCount=I)}function Sh(d,f,v){var S=f.pendingProps,R=S.revealOrder,I=S.tail;S=S.children;var W=Zt.current,le=(W&2)!==0;if(le?(W=W&1|2,f.flags|=128):W&=1,F(Zt,W),cr(d,f,S,v),S=Nt?ra:0,!le&&d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Eh(d,v,f);else if(d.tag===19)Eh(d,v,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(R){case"forwards":for(v=f.child,R=null;v!==null;)d=v.alternate,d!==null&&gs(d)===null&&(R=v),v=v.sibling;v=R,v===null?(R=f.child,f.child=null):(R=v.sibling,v.sibling=null),Ol(f,!1,R,v,I,S);break;case"backwards":case"unstable_legacy-backwards":for(v=null,R=f.child,f.child=null;R!==null;){if(d=R.alternate,d!==null&&gs(d)===null){f.child=R;break}d=R.sibling,R.sibling=v,v=R,R=d}Ol(f,!0,v,null,I,S);break;case"together":Ol(f,!1,null,null,void 0,S);break;default:f.memoizedState=null}return f.child}function an(d,f,v){if(d!==null&&(f.dependencies=d.dependencies),Rn|=f.lanes,(v&f.childLanes)===0)if(d!==null){if(bi(d,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(d!==null&&f.child!==d.child)throw Error(i(153));if(f.child!==null){for(d=f.child,v=Zr(d,d.pendingProps),f.child=v,v.return=f;d.sibling!==null;)d=d.sibling,v=v.sibling=Zr(d,d.pendingProps),v.return=f;v.sibling=null}return f.child}function jl(d,f){return(d.lanes&f)!==0?!0:(d=d.dependencies,!!(d!==null&&ls(d)))}function qm(d,f,v){switch(f.tag){case 3:ue(f,f.stateNode.containerInfo),En(f,tr,d.memoizedState.cache),Hn();break;case 27:case 5:ve(f);break;case 4:ue(f,f.stateNode.containerInfo);break;case 10:En(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,ul(f),null;break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Pn(f),f.flags|=128,null):(v&f.child.childLanes)!==0?bh(d,f,v):(Pn(f),d=an(d,f,v),d!==null?d.sibling:null);Pn(f);break;case 19:var R=(d.flags&128)!==0;if(S=(v&f.childLanes)!==0,S||(bi(d,f,v,!1),S=(v&f.childLanes)!==0),R){if(S)return Sh(d,f,v);f.flags|=128}if(R=f.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),F(Zt,Zt.current),S)break;return null;case 22:return f.lanes=0,fh(d,f,v,f.pendingProps);case 24:En(f,tr,d.memoizedState.cache)}return an(d,f,v)}function _h(d,f,v){if(d!==null)if(d.memoizedProps!==f.pendingProps)nr=!0;else{if(!jl(d,v)&&(f.flags&128)===0)return nr=!1,qm(d,f,v);nr=(d.flags&131072)!==0}else nr=!1,Nt&&(f.flags&1048576)!==0&&Qc(f,ra,f.index);switch(f.lanes=0,f.tag){case 16:e:{var S=f.pendingProps;if(d=Xn(f.elementType),f.type=d,typeof d=="function")zo(d)?(S=ei(d,S),f.tag=1,f=yh(null,f,d,S,v)):(f.tag=0,f=Il(null,f,d,S,v));else{if(d!=null){var R=d.$$typeof;if(R===j){f.tag=11,f=ch(null,f,d,S,v);break e}else if(R===V){f.tag=14,f=dh(null,f,d,S,v);break e}}throw f=me(d)||d,Error(i(306,f,""))}}return f;case 0:return Il(d,f,f.type,f.pendingProps,v);case 1:return S=f.type,R=ei(S,f.pendingProps),yh(d,f,S,R,v);case 3:e:{if(ue(f,f.stateNode.containerInfo),d===null)throw Error(i(387));S=f.pendingProps;var I=f.memoizedState;R=I.element,il(d,f),ca(f,S,null,v);var W=f.memoizedState;if(S=W.cache,En(f,tr,S),S!==I.cache&&Zo(f,[tr],v,!0),ua(),S=W.element,I.isDehydrated)if(I={element:S,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=I,f.memoizedState=I,f.flags&256){f=xh(d,f,S,v);break e}else if(S!==R){R=Br(Error(i(424)),f),na(R),f=xh(d,f,S,v);break e}else{switch(d=f.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Wt=jr(d.firstChild),lr=f,Nt=!0,xn=null,Vr=!0,v=fd(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Hn(),S===R){f=an(d,f,v);break e}cr(d,f,S,v)}f=f.child}return f;case 26:return Ts(d,f),d===null?(v=Df(f.type,null,f.pendingProps,null))?f.memoizedState=v:Nt||(v=f.type,d=f.pendingProps,S=qs(ae.current).createElement(v),S[nt]=f,S[ht]=d,dr(S,v,d),sr(S),f.stateNode=S):f.memoizedState=Df(f.type,d.memoizedProps,f.pendingProps,d.memoizedState),null;case 27:return ve(f),d===null&&Nt&&(S=f.stateNode=Mf(f.type,f.pendingProps,ae.current),lr=f,Vr=!0,R=Wt,Nn(f.type)?(yu=R,Wt=jr(S.firstChild)):Wt=R),cr(d,f,f.pendingProps.children,v),Ts(d,f),d===null&&(f.flags|=4194304),f.child;case 5:return d===null&&Nt&&((R=S=Wt)&&(S=bg(S,f.type,f.pendingProps,Vr),S!==null?(f.stateNode=S,lr=f,Wt=jr(S.firstChild),Vr=!1,R=!0):R=!1),R||bn(f)),ve(f),R=f.type,I=f.pendingProps,W=d!==null?d.memoizedProps:null,S=I.children,hu(R,I)?S=null:W!==null&&hu(R,W)&&(f.flags|=32),f.memoizedState!==null&&(R=dl(d,f,Dm,null,null,v),Ma._currentValue=R),Ts(d,f),cr(d,f,S,v),f.child;case 6:return d===null&&Nt&&((d=v=Wt)&&(v=Eg(v,f.pendingProps,Vr),v!==null?(f.stateNode=v,lr=f,Wt=null,d=!0):d=!1),d||bn(f)),null;case 13:return bh(d,f,v);case 4:return ue(f,f.stateNode.containerInfo),S=f.pendingProps,d===null?f.child=Zn(f,null,S,v):cr(d,f,S,v),f.child;case 11:return ch(d,f,f.type,f.pendingProps,v);case 7:return cr(d,f,f.pendingProps,v),f.child;case 8:return cr(d,f,f.pendingProps.children,v),f.child;case 12:return cr(d,f,f.pendingProps.children,v),f.child;case 10:return S=f.pendingProps,En(f,f.type,S.value),cr(d,f,S.children,v),f.child;case 9:return R=f.type._context,S=f.pendingProps.children,Kn(f),R=ur(R),S=S(R),f.flags|=1,cr(d,f,S,v),f.child;case 14:return dh(d,f,f.type,f.pendingProps,v);case 15:return hh(d,f,f.type,f.pendingProps,v);case 19:return Sh(d,f,v);case 31:return zm(d,f,v);case 22:return fh(d,f,v,f.pendingProps);case 24:return Kn(f),S=ur(tr),d===null?(R=tl(),R===null&&(R=Gt,I=Qo(),R.pooledCache=I,I.refCount++,I!==null&&(R.pooledCacheLanes|=v),R=I),f.memoizedState={parent:S,cache:R},nl(f),En(f,tr,R)):((d.lanes&v)!==0&&(il(d,f),ca(f,null,null,v),ua()),R=d.memoizedState,I=f.memoizedState,R.parent!==S?(R={parent:S,cache:S},f.memoizedState=R,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=R),En(f,tr,S)):(S=I.cache,En(f,tr,S),S!==R.cache&&Zo(f,[tr],v,!0))),cr(d,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function sn(d){d.flags|=4}function Ll(d,f,v,S,R){if((f=(d.mode&32)!==0)&&(f=!1),f){if(d.flags|=16777216,(R&335544128)===R)if(d.stateNode.complete)d.flags|=8192;else if(Xh())d.flags|=8192;else throw Jn=hs,rl}else d.flags&=-16777217}function Ah(d,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!$f(f))if(Xh())d.flags|=8192;else throw Jn=hs,rl}function Rs(d,f){f!==null&&(d.flags|=4),d.flags&16384&&(f=d.tag!==22?fe():536870912,d.lanes|=f,Mi|=f)}function ga(d,f){if(!Nt)switch(d.tailMode){case"hidden":f=d.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function Kt(d){var f=d.alternate!==null&&d.alternate.child===d.child,v=0,S=0;if(f)for(var R=d.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags&65011712,S|=R.flags&65011712,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)v|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=S,d.childLanes=v,f}function Gm(d,f,v){var S=f.pendingProps;switch(Wo(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(f),null;case 1:return Kt(f),null;case 3:return v=f.stateNode,S=null,d!==null&&(S=d.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),tn(tr),se(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(d===null||d.child===null)&&(xi(f)?sn(f):d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,Yo())),Kt(f),null;case 26:var R=f.type,I=f.memoizedState;return d===null?(sn(f),I!==null?(Kt(f),Ah(f,I)):(Kt(f),Ll(f,R,null,S,v))):I?I!==d.memoizedState?(sn(f),Kt(f),Ah(f,I)):(Kt(f),f.flags&=-16777217):(d=d.memoizedProps,d!==S&&sn(f),Kt(f),Ll(f,R,d,S,v)),null;case 27:if(Ee(f),v=ae.current,R=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==S&&sn(f);else{if(!S){if(f.stateNode===null)throw Error(i(166));return Kt(f),null}d=z.current,xi(f)?td(f):(d=Mf(R,S,v),f.stateNode=d,sn(f))}return Kt(f),null;case 5:if(Ee(f),R=f.type,d!==null&&f.stateNode!=null)d.memoizedProps!==S&&sn(f);else{if(!S){if(f.stateNode===null)throw Error(i(166));return Kt(f),null}if(I=z.current,xi(f))td(f);else{var W=qs(ae.current);switch(I){case 1:I=W.createElementNS("http://www.w3.org/2000/svg",R);break;case 2:I=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;default:switch(R){case"svg":I=W.createElementNS("http://www.w3.org/2000/svg",R);break;case"math":I=W.createElementNS("http://www.w3.org/1998/Math/MathML",R);break;case"script":I=W.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof S.is=="string"?W.createElement("select",{is:S.is}):W.createElement("select"),S.multiple?I.multiple=!0:S.size&&(I.size=S.size);break;default:I=typeof S.is=="string"?W.createElement(R,{is:S.is}):W.createElement(R)}}I[nt]=f,I[ht]=S;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)I.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=I;e:switch(dr(I,R,S),R){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&sn(f)}}return Kt(f),Ll(f,f.type,d===null?null:d.memoizedProps,f.pendingProps,v),null;case 6:if(d&&f.stateNode!=null)d.memoizedProps!==S&&sn(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(i(166));if(d=ae.current,xi(f)){if(d=f.stateNode,v=f.memoizedProps,S=null,R=lr,R!==null)switch(R.tag){case 27:case 5:S=R.memoizedProps}d[nt]=f,d=!!(d.nodeValue===v||S!==null&&S.suppressHydrationWarning===!0||Ef(d.nodeValue,v)),d||bn(f,!0)}else d=qs(d).createTextNode(S),d[nt]=f,f.stateNode=d}return Kt(f),null;case 31:if(v=f.memoizedState,d===null||d.memoizedState!==null){if(S=xi(f),v!==null){if(d===null){if(!S)throw Error(i(318));if(d=f.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(557));d[nt]=f}else Hn(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Kt(f),d=!1}else v=Yo(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=v),d=!0;if(!d)return f.flags&256?(Ar(f),f):(Ar(f),null);if((f.flags&128)!==0)throw Error(i(558))}return Kt(f),null;case 13:if(S=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(R=xi(f),S!==null&&S.dehydrated!==null){if(d===null){if(!R)throw Error(i(318));if(R=f.memoizedState,R=R!==null?R.dehydrated:null,!R)throw Error(i(317));R[nt]=f}else Hn(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Kt(f),R=!1}else R=Yo(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=R),R=!0;if(!R)return f.flags&256?(Ar(f),f):(Ar(f),null)}return Ar(f),(f.flags&128)!==0?(f.lanes=v,f):(v=S!==null,d=d!==null&&d.memoizedState!==null,v&&(S=f.child,R=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(R=S.alternate.memoizedState.cachePool.pool),I=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(I=S.memoizedState.cachePool.pool),I!==R&&(S.flags|=2048)),v!==d&&v&&(f.child.flags|=8192),Rs(f,f.updateQueue),Kt(f),null);case 4:return se(),d===null&&ou(f.stateNode.containerInfo),Kt(f),null;case 10:return tn(f.type),Kt(f),null;case 19:if(H(Zt),S=f.memoizedState,S===null)return Kt(f),null;if(R=(f.flags&128)!==0,I=S.rendering,I===null)if(R)ga(S,!1);else{if(Jt!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(I=gs(d),I!==null){for(f.flags|=128,ga(S,!1),d=I.updateQueue,f.updateQueue=d,Rs(f,d),f.subtreeFlags=0,d=v,v=f.child;v!==null;)Xc(v,d),v=v.sibling;return F(Zt,Zt.current&1|2),Nt&&Qr(f,S.treeForkCount),f.child}d=d.sibling}S.tail!==null&&qe()>Ns&&(f.flags|=128,R=!0,ga(S,!1),f.lanes=4194304)}else{if(!R)if(d=gs(I),d!==null){if(f.flags|=128,R=!0,d=d.updateQueue,f.updateQueue=d,Rs(f,d),ga(S,!0),S.tail===null&&S.tailMode==="hidden"&&!I.alternate&&!Nt)return Kt(f),null}else 2*qe()-S.renderingStartTime>Ns&&v!==536870912&&(f.flags|=128,R=!0,ga(S,!1),f.lanes=4194304);S.isBackwards?(I.sibling=f.child,f.child=I):(d=S.last,d!==null?d.sibling=I:f.child=I,S.last=I)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=qe(),d.sibling=null,v=Zt.current,F(Zt,R?v&1|2:v&1),Nt&&Qr(f,S.treeForkCount),d):(Kt(f),null);case 22:case 23:return Ar(f),ll(),S=f.memoizedState!==null,d!==null?d.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(v&536870912)!==0&&(f.flags&128)===0&&(Kt(f),f.subtreeFlags&6&&(f.flags|=8192)):Kt(f),v=f.updateQueue,v!==null&&Rs(f,v.retryQueue),v=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==v&&(f.flags|=2048),d!==null&&H(Yn),null;case 24:return v=null,d!==null&&(v=d.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),tn(tr),Kt(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Hm(d,f){switch(Wo(f),f.tag){case 1:return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return tn(tr),se(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 26:case 27:case 5:return Ee(f),null;case 31:if(f.memoizedState!==null){if(Ar(f),f.alternate===null)throw Error(i(340));Hn()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 13:if(Ar(f),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Hn()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return H(Zt),null;case 4:return se(),null;case 10:return tn(f.type),null;case 22:case 23:return Ar(f),ll(),d!==null&&H(Yn),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 24:return tn(tr),null;case 25:return null;default:return null}}function Ph(d,f){switch(Wo(f),f.tag){case 3:tn(tr),se();break;case 26:case 27:case 5:Ee(f);break;case 4:se();break;case 31:f.memoizedState!==null&&Ar(f);break;case 13:Ar(f);break;case 19:H(Zt);break;case 10:tn(f.type);break;case 22:case 23:Ar(f),ll(),d!==null&&H(Yn);break;case 24:tn(tr)}}function ya(d,f){try{var v=f.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var R=S.next;v=R;do{if((v.tag&d)===d){S=void 0;var I=v.create,W=v.inst;S=I(),W.destroy=S}v=v.next}while(v!==R)}}catch(le){Ft(f,f.return,le)}}function Tn(d,f,v){try{var S=f.updateQueue,R=S!==null?S.lastEffect:null;if(R!==null){var I=R.next;S=I;do{if((S.tag&d)===d){var W=S.inst,le=W.destroy;if(le!==void 0){W.destroy=void 0,R=f;var be=v,$e=le;try{$e()}catch(Ye){Ft(R,be,Ye)}}}S=S.next}while(S!==I)}}catch(Ye){Ft(f,f.return,Ye)}}function wh(d){var f=d.updateQueue;if(f!==null){var v=d.stateNode;try{md(f,v)}catch(S){Ft(d,d.return,S)}}}function Th(d,f,v){v.props=ei(d.type,d.memoizedProps),v.state=d.memoizedState;try{v.componentWillUnmount()}catch(S){Ft(d,f,S)}}function va(d,f){try{var v=d.ref;if(v!==null){switch(d.tag){case 26:case 27:case 5:var S=d.stateNode;break;case 30:S=d.stateNode;break;default:S=d.stateNode}typeof v=="function"?d.refCleanup=v(S):v.current=S}}catch(R){Ft(d,f,R)}}function Hr(d,f){var v=d.ref,S=d.refCleanup;if(v!==null)if(typeof S=="function")try{S()}catch(R){Ft(d,f,R)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(R){Ft(d,f,R)}else v.current=null}function Ch(d){var f=d.type,v=d.memoizedProps,S=d.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":v.autoFocus&&S.focus();break e;case"img":v.src?S.src=v.src:v.srcSet&&(S.srcset=v.srcSet)}}catch(R){Ft(d,d.return,R)}}function $l(d,f,v){try{var S=d.stateNode;pg(S,d.type,v,f),S[ht]=f}catch(R){Ft(d,d.return,R)}}function Rh(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Nn(d.type)||d.tag===4}function Fl(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Rh(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Nn(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ul(d,f,v){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(d,f):(f=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,f.appendChild(d),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=Xr));else if(S!==4&&(S===27&&Nn(d.type)&&(v=d.stateNode,f=null),d=d.child,d!==null))for(Ul(d,f,v),d=d.sibling;d!==null;)Ul(d,f,v),d=d.sibling}function ks(d,f,v){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?v.insertBefore(d,f):v.appendChild(d);else if(S!==4&&(S===27&&Nn(d.type)&&(v=d.stateNode),d=d.child,d!==null))for(ks(d,f,v),d=d.sibling;d!==null;)ks(d,f,v),d=d.sibling}function kh(d){var f=d.stateNode,v=d.memoizedProps;try{for(var S=d.type,R=f.attributes;R.length;)f.removeAttributeNode(R[0]);dr(f,S,v),f[nt]=d,f[ht]=v}catch(I){Ft(d,d.return,I)}}var on=!1,ir=!1,zl=!1,Ih=typeof WeakSet=="function"?WeakSet:Set,or=null;function Wm(d,f){if(d=d.containerInfo,cu=Js,d=Fc(d),Vo(d)){if("selectionStart"in d)var v={start:d.selectionStart,end:d.selectionEnd};else e:{v=(v=d.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var R=S.anchorOffset,I=S.focusNode;S=S.focusOffset;try{v.nodeType,I.nodeType}catch{v=null;break e}var W=0,le=-1,be=-1,$e=0,Ye=0,Ze=d,ze=null;t:for(;;){for(var He;Ze!==v||R!==0&&Ze.nodeType!==3||(le=W+R),Ze!==I||S!==0&&Ze.nodeType!==3||(be=W+S),Ze.nodeType===3&&(W+=Ze.nodeValue.length),(He=Ze.firstChild)!==null;)ze=Ze,Ze=He;for(;;){if(Ze===d)break t;if(ze===v&&++$e===R&&(le=W),ze===I&&++Ye===S&&(be=W),(He=Ze.nextSibling)!==null)break;Ze=ze,ze=Ze.parentNode}Ze=He}v=le===-1||be===-1?null:{start:le,end:be}}else v=null}v=v||{start:0,end:0}}else v=null;for(du={focusedElem:d,selectionRange:v},Js=!1,or=f;or!==null;)if(f=or,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,or=d;else for(;or!==null;){switch(f=or,I=f.alternate,d=f.flags,f.tag){case 0:if((d&4)!==0&&(d=f.updateQueue,d=d!==null?d.events:null,d!==null))for(v=0;v<d.length;v++)R=d[v],R.ref.impl=R.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&I!==null){d=void 0,v=f,R=I.memoizedProps,I=I.memoizedState,S=v.stateNode;try{var mt=ei(v.type,R);d=S.getSnapshotBeforeUpdate(mt,I),S.__reactInternalSnapshotBeforeUpdate=d}catch(Pt){Ft(v,v.return,Pt)}}break;case 3:if((d&1024)!==0){if(d=f.stateNode.containerInfo,v=d.nodeType,v===9)pu(d);else if(v===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":pu(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(i(163))}if(d=f.sibling,d!==null){d.return=f.return,or=d;break}or=f.return}}function Mh(d,f,v){var S=v.flags;switch(v.tag){case 0:case 11:case 15:dn(d,v),S&4&&ya(5,v);break;case 1:if(dn(d,v),S&4)if(d=v.stateNode,f===null)try{d.componentDidMount()}catch(W){Ft(v,v.return,W)}else{var R=ei(v.type,f.memoizedProps);f=f.memoizedState;try{d.componentDidUpdate(R,f,d.__reactInternalSnapshotBeforeUpdate)}catch(W){Ft(v,v.return,W)}}S&64&&wh(v),S&512&&va(v,v.return);break;case 3:if(dn(d,v),S&64&&(d=v.updateQueue,d!==null)){if(f=null,v.child!==null)switch(v.child.tag){case 27:case 5:f=v.child.stateNode;break;case 1:f=v.child.stateNode}try{md(d,f)}catch(W){Ft(v,v.return,W)}}break;case 27:f===null&&S&4&&kh(v);case 26:case 5:dn(d,v),f===null&&S&4&&Ch(v),S&512&&va(v,v.return);break;case 12:dn(d,v);break;case 31:dn(d,v),S&4&&Dh(d,v);break;case 13:dn(d,v),S&4&&Vh(d,v),S&64&&(d=v.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(v=rg.bind(null,v),Sg(d,v))));break;case 22:if(S=v.memoizedState!==null||on,!S){f=f!==null&&f.memoizedState!==null||ir,R=on;var I=ir;on=S,(ir=f)&&!I?hn(d,v,(v.subtreeFlags&8772)!==0):dn(d,v),on=R,ir=I}break;case 30:break;default:dn(d,v)}}function Bh(d){var f=d.alternate;f!==null&&(d.alternate=null,Bh(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&Cr(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Yt=null,gr=!1;function un(d,f,v){for(v=v.child;v!==null;)Nh(d,f,v),v=v.sibling}function Nh(d,f,v){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Et,v)}catch{}switch(v.tag){case 26:ir||Hr(v,f),un(d,f,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:ir||Hr(v,f);var S=Yt,R=gr;Nn(v.type)&&(Yt=v.stateNode,gr=!1),un(d,f,v),Ca(v.stateNode),Yt=S,gr=R;break;case 5:ir||Hr(v,f);case 6:if(S=Yt,R=gr,Yt=null,un(d,f,v),Yt=S,gr=R,Yt!==null)if(gr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(v.stateNode)}catch(I){Ft(v,f,I)}else try{Yt.removeChild(v.stateNode)}catch(I){Ft(v,f,I)}break;case 18:Yt!==null&&(gr?(d=Yt,Tf(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,v.stateNode),$i(d)):Tf(Yt,v.stateNode));break;case 4:S=Yt,R=gr,Yt=v.stateNode.containerInfo,gr=!0,un(d,f,v),Yt=S,gr=R;break;case 0:case 11:case 14:case 15:Tn(2,v,f),ir||Tn(4,v,f),un(d,f,v);break;case 1:ir||(Hr(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"&&Th(v,f,S)),un(d,f,v);break;case 21:un(d,f,v);break;case 22:ir=(S=ir)||v.memoizedState!==null,un(d,f,v),ir=S;break;default:un(d,f,v)}}function Dh(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{$i(d)}catch(v){Ft(f,f.return,v)}}}function Vh(d,f){if(f.memoizedState===null&&(d=f.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{$i(d)}catch(v){Ft(f,f.return,v)}}function Km(d){switch(d.tag){case 31:case 13:case 19:var f=d.stateNode;return f===null&&(f=d.stateNode=new Ih),f;case 22:return d=d.stateNode,f=d._retryCache,f===null&&(f=d._retryCache=new Ih),f;default:throw Error(i(435,d.tag))}}function Is(d,f){var v=Km(d);f.forEach(function(S){if(!v.has(S)){v.add(S);var R=ng.bind(null,d,S);S.then(R,R)}})}function yr(d,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var R=v[S],I=d,W=f,le=W;e:for(;le!==null;){switch(le.tag){case 27:if(Nn(le.type)){Yt=le.stateNode,gr=!1;break e}break;case 5:Yt=le.stateNode,gr=!1;break e;case 3:case 4:Yt=le.stateNode.containerInfo,gr=!0;break e}le=le.return}if(Yt===null)throw Error(i(160));Nh(I,W,R),Yt=null,gr=!1,I=R.alternate,I!==null&&(I.return=null),R.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Oh(f,d),f=f.sibling}var Ur=null;function Oh(d,f){var v=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:yr(f,d),vr(d),S&4&&(Tn(3,d,d.return),ya(3,d),Tn(5,d,d.return));break;case 1:yr(f,d),vr(d),S&512&&(ir||v===null||Hr(v,v.return)),S&64&&on&&(d=d.updateQueue,d!==null&&(S=d.callbacks,S!==null&&(v=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=v===null?S:v.concat(S))));break;case 26:var R=Ur;if(yr(f,d),vr(d),S&512&&(ir||v===null||Hr(v,v.return)),S&4){var I=v!==null?v.memoizedState:null;if(S=d.memoizedState,v===null)if(S===null)if(d.stateNode===null){e:{S=d.type,v=d.memoizedProps,R=R.ownerDocument||R;t:switch(S){case"title":I=R.getElementsByTagName("title")[0],(!I||I[hr]||I[nt]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=R.createElement(S),R.head.insertBefore(I,R.querySelector("head > title"))),dr(I,S,v),I[nt]=d,sr(I),S=I;break e;case"link":var W=jf("link","href",R).get(S+(v.href||""));if(W){for(var le=0;le<W.length;le++)if(I=W[le],I.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&I.getAttribute("rel")===(v.rel==null?null:v.rel)&&I.getAttribute("title")===(v.title==null?null:v.title)&&I.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){W.splice(le,1);break t}}I=R.createElement(S),dr(I,S,v),R.head.appendChild(I);break;case"meta":if(W=jf("meta","content",R).get(S+(v.content||""))){for(le=0;le<W.length;le++)if(I=W[le],I.getAttribute("content")===(v.content==null?null:""+v.content)&&I.getAttribute("name")===(v.name==null?null:v.name)&&I.getAttribute("property")===(v.property==null?null:v.property)&&I.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&I.getAttribute("charset")===(v.charSet==null?null:v.charSet)){W.splice(le,1);break t}}I=R.createElement(S),dr(I,S,v),R.head.appendChild(I);break;default:throw Error(i(468,S))}I[nt]=d,sr(I),S=I}d.stateNode=S}else Lf(R,d.type,d.stateNode);else d.stateNode=Of(R,S,d.memoizedProps);else I!==S?(I===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):I.count--,S===null?Lf(R,d.type,d.stateNode):Of(R,S,d.memoizedProps)):S===null&&d.stateNode!==null&&$l(d,d.memoizedProps,v.memoizedProps)}break;case 27:yr(f,d),vr(d),S&512&&(ir||v===null||Hr(v,v.return)),v!==null&&S&4&&$l(d,d.memoizedProps,v.memoizedProps);break;case 5:if(yr(f,d),vr(d),S&512&&(ir||v===null||Hr(v,v.return)),d.flags&32){R=d.stateNode;try{li(R,"")}catch(mt){Ft(d,d.return,mt)}}S&4&&d.stateNode!=null&&(R=d.memoizedProps,$l(d,R,v!==null?v.memoizedProps:R)),S&1024&&(zl=!0);break;case 6:if(yr(f,d),vr(d),S&4){if(d.stateNode===null)throw Error(i(162));S=d.memoizedProps,v=d.stateNode;try{v.nodeValue=S}catch(mt){Ft(d,d.return,mt)}}break;case 3:if(Ws=null,R=Ur,Ur=Gs(f.containerInfo),yr(f,d),Ur=R,vr(d),S&4&&v!==null&&v.memoizedState.isDehydrated)try{$i(f.containerInfo)}catch(mt){Ft(d,d.return,mt)}zl&&(zl=!1,jh(d));break;case 4:S=Ur,Ur=Gs(d.stateNode.containerInfo),yr(f,d),vr(d),Ur=S;break;case 12:yr(f,d),vr(d);break;case 31:yr(f,d),vr(d),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,Is(d,S)));break;case 13:yr(f,d),vr(d),d.child.flags&8192&&d.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Bs=qe()),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,Is(d,S)));break;case 22:R=d.memoizedState!==null;var be=v!==null&&v.memoizedState!==null,$e=on,Ye=ir;if(on=$e||R,ir=Ye||be,yr(f,d),ir=Ye,on=$e,vr(d),S&8192)e:for(f=d.stateNode,f._visibility=R?f._visibility&-2:f._visibility|1,R&&(v===null||be||on||ir||ti(d)),v=null,f=d;;){if(f.tag===5||f.tag===26){if(v===null){be=v=f;try{if(I=be.stateNode,R)W=I.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{le=be.stateNode;var Ze=be.memoizedProps.style,ze=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;le.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(mt){Ft(be,be.return,mt)}}}else if(f.tag===6){if(v===null){be=f;try{be.stateNode.nodeValue=R?"":be.memoizedProps}catch(mt){Ft(be,be.return,mt)}}}else if(f.tag===18){if(v===null){be=f;try{var He=be.stateNode;R?Cf(He,!0):Cf(be.stateNode,!1)}catch(mt){Ft(be,be.return,mt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=d.updateQueue,S!==null&&(v=S.retryQueue,v!==null&&(S.retryQueue=null,Is(d,v))));break;case 19:yr(f,d),vr(d),S&4&&(S=d.updateQueue,S!==null&&(d.updateQueue=null,Is(d,S)));break;case 30:break;case 21:break;default:yr(f,d),vr(d)}}function vr(d){var f=d.flags;if(f&2){try{for(var v,S=d.return;S!==null;){if(Rh(S)){v=S;break}S=S.return}if(v==null)throw Error(i(160));switch(v.tag){case 27:var R=v.stateNode,I=Fl(d);ks(d,I,R);break;case 5:var W=v.stateNode;v.flags&32&&(li(W,""),v.flags&=-33);var le=Fl(d);ks(d,le,W);break;case 3:case 4:var be=v.stateNode.containerInfo,$e=Fl(d);Ul(d,$e,be);break;default:throw Error(i(161))}}catch(Ye){Ft(d,d.return,Ye)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function jh(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var f=d;jh(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),d=d.sibling}}function dn(d,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Mh(d,f.alternate,f),f=f.sibling}function ti(d){for(d=d.child;d!==null;){var f=d;switch(f.tag){case 0:case 11:case 14:case 15:Tn(4,f,f.return),ti(f);break;case 1:Hr(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&Th(f,f.return,v),ti(f);break;case 27:Ca(f.stateNode);case 26:case 5:Hr(f,f.return),ti(f);break;case 22:f.memoizedState===null&&ti(f);break;case 30:ti(f);break;default:ti(f)}d=d.sibling}}function hn(d,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,R=d,I=f,W=I.flags;switch(I.tag){case 0:case 11:case 15:hn(R,I,v),ya(4,I);break;case 1:if(hn(R,I,v),S=I,R=S.stateNode,typeof R.componentDidMount=="function")try{R.componentDidMount()}catch($e){Ft(S,S.return,$e)}if(S=I,R=S.updateQueue,R!==null){var le=S.stateNode;try{var be=R.shared.hiddenCallbacks;if(be!==null)for(R.shared.hiddenCallbacks=null,R=0;R<be.length;R++)pd(be[R],le)}catch($e){Ft(S,S.return,$e)}}v&&W&64&&wh(I),va(I,I.return);break;case 27:kh(I);case 26:case 5:hn(R,I,v),v&&S===null&&W&4&&Ch(I),va(I,I.return);break;case 12:hn(R,I,v);break;case 31:hn(R,I,v),v&&W&4&&Dh(R,I);break;case 13:hn(R,I,v),v&&W&4&&Vh(R,I);break;case 22:I.memoizedState===null&&hn(R,I,v),va(I,I.return);break;case 30:break;default:hn(R,I,v)}f=f.sibling}}function ql(d,f){var v=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),d=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(d=f.memoizedState.cachePool.pool),d!==v&&(d!=null&&d.refCount++,v!=null&&ia(v))}function Gl(d,f){d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&ia(d))}function zr(d,f,v,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Lh(d,f,v,S),f=f.sibling}function Lh(d,f,v,S){var R=f.flags;switch(f.tag){case 0:case 11:case 15:zr(d,f,v,S),R&2048&&ya(9,f);break;case 1:zr(d,f,v,S);break;case 3:zr(d,f,v,S),R&2048&&(d=null,f.alternate!==null&&(d=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==d&&(f.refCount++,d!=null&&ia(d)));break;case 12:if(R&2048){zr(d,f,v,S),d=f.stateNode;try{var I=f.memoizedProps,W=I.id,le=I.onPostCommit;typeof le=="function"&&le(W,f.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(be){Ft(f,f.return,be)}}else zr(d,f,v,S);break;case 31:zr(d,f,v,S);break;case 13:zr(d,f,v,S);break;case 23:break;case 22:I=f.stateNode,W=f.alternate,f.memoizedState!==null?I._visibility&2?zr(d,f,v,S):xa(d,f):I._visibility&2?zr(d,f,v,S):(I._visibility|=2,Ri(d,f,v,S,(f.subtreeFlags&10256)!==0||!1)),R&2048&&ql(W,f);break;case 24:zr(d,f,v,S),R&2048&&Gl(f.alternate,f);break;default:zr(d,f,v,S)}}function Ri(d,f,v,S,R){for(R=R&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var I=d,W=f,le=v,be=S,$e=W.flags;switch(W.tag){case 0:case 11:case 15:Ri(I,W,le,be,R),ya(8,W);break;case 23:break;case 22:var Ye=W.stateNode;W.memoizedState!==null?Ye._visibility&2?Ri(I,W,le,be,R):xa(I,W):(Ye._visibility|=2,Ri(I,W,le,be,R)),R&&$e&2048&&ql(W.alternate,W);break;case 24:Ri(I,W,le,be,R),R&&$e&2048&&Gl(W.alternate,W);break;default:Ri(I,W,le,be,R)}f=f.sibling}}function xa(d,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=d,S=f,R=S.flags;switch(S.tag){case 22:xa(v,S),R&2048&&ql(S.alternate,S);break;case 24:xa(v,S),R&2048&&Gl(S.alternate,S);break;default:xa(v,S)}f=f.sibling}}var ba=8192;function ki(d,f,v){if(d.subtreeFlags&ba)for(d=d.child;d!==null;)$h(d,f,v),d=d.sibling}function $h(d,f,v){switch(d.tag){case 26:ki(d,f,v),d.flags&ba&&d.memoizedState!==null&&Ng(v,Ur,d.memoizedState,d.memoizedProps);break;case 5:ki(d,f,v);break;case 3:case 4:var S=Ur;Ur=Gs(d.stateNode.containerInfo),ki(d,f,v),Ur=S;break;case 22:d.memoizedState===null&&(S=d.alternate,S!==null&&S.memoizedState!==null?(S=ba,ba=16777216,ki(d,f,v),ba=S):ki(d,f,v));break;default:ki(d,f,v)}}function Fh(d){var f=d.alternate;if(f!==null&&(d=f.child,d!==null)){f.child=null;do f=d.sibling,d.sibling=null,d=f;while(d!==null)}}function Ea(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];or=S,zh(S,d)}Fh(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)Uh(d),d=d.sibling}function Uh(d){switch(d.tag){case 0:case 11:case 15:Ea(d),d.flags&2048&&Tn(9,d,d.return);break;case 3:Ea(d);break;case 12:Ea(d);break;case 22:var f=d.stateNode;d.memoizedState!==null&&f._visibility&2&&(d.return===null||d.return.tag!==13)?(f._visibility&=-3,Ms(d)):Ea(d);break;default:Ea(d)}}function Ms(d){var f=d.deletions;if((d.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var S=f[v];or=S,zh(S,d)}Fh(d)}for(d=d.child;d!==null;){switch(f=d,f.tag){case 0:case 11:case 15:Tn(8,f,f.return),Ms(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,Ms(f));break;default:Ms(f)}d=d.sibling}}function zh(d,f){for(;or!==null;){var v=or;switch(v.tag){case 0:case 11:case 15:Tn(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var S=v.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:ia(v.memoizedState.cache)}if(S=v.child,S!==null)S.return=v,or=S;else e:for(v=d;or!==null;){S=or;var R=S.sibling,I=S.return;if(Bh(S),S===v){or=null;break e}if(R!==null){R.return=I,or=R;break e}or=I}}}var Ym={getCacheForType:function(d){var f=ur(tr),v=f.data.get(d);return v===void 0&&(v=d(),f.data.set(d,v)),v},cacheSignal:function(){return ur(tr).controller.signal}},Xm=typeof WeakMap=="function"?WeakMap:Map,jt=0,Gt=null,kt=null,Mt=0,$t=0,Pr=null,Cn=!1,Ii=!1,Hl=!1,fn=0,Jt=0,Rn=0,ri=0,Wl=0,wr=0,Mi=0,Sa=null,xr=null,Kl=!1,Bs=0,qh=0,Ns=1/0,Ds=null,kn=null,ar=0,In=null,Bi=null,pn=0,Yl=0,Xl=null,Gh=null,Aa=0,Jl=null;function Tr(){return(jt&2)!==0&&Mt!==0?Mt&-Mt:ee.T!==null?nu():rt()}function Hh(){if(wr===0)if((Mt&536870912)===0||Nt){var d=ge;ge<<=1,(ge&3932160)===0&&(ge=262144),wr=d}else wr=536870912;return d=_r.current,d!==null&&(d.flags|=32),wr}function br(d,f,v){(d===Gt&&($t===2||$t===9)||d.cancelPendingCommit!==null)&&(Ni(d,0),Mn(d,Mt,wr,!1)),xe(d,v),((jt&2)===0||d!==Gt)&&(d===Gt&&((jt&2)===0&&(ri|=v),Jt===4&&Mn(d,Mt,wr,!1)),Wr(d))}function Wh(d,f,v){if((jt&6)!==0)throw Error(i(327));var S=!v&&(f&127)===0&&(f&d.expiredLanes)===0||dt(d,f),R=S?Qm(d,f):Ql(d,f,!0),I=S;do{if(R===0){Ii&&!S&&Mn(d,f,0,!1);break}else{if(v=d.current.alternate,I&&!Jm(v)){R=Ql(d,f,!1),I=!1;continue}if(R===2){if(I=f,d.errorRecoveryDisabledLanes&I)var W=0;else W=d.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var le=d;R=Sa;var be=le.current.memoizedState.isDehydrated;if(be&&(Ni(le,W).flags|=256),W=Ql(le,W,!1),W!==2){if(Hl&&!be){le.errorRecoveryDisabledLanes|=I,ri|=I,R=4;break e}I=xr,xr=R,I!==null&&(xr===null?xr=I:xr.push.apply(xr,I))}R=W}if(I=!1,R!==2)continue}}if(R===1){Ni(d,0),Mn(d,f,0,!0);break}e:{switch(S=d,I=R,I){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Mn(S,f,wr,!Cn);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(R=Bs+300-qe(),10<R)){if(Mn(S,f,wr,!Cn),ut(S,0,!0)!==0)break e;pn=f,S.timeoutHandle=Pf(Kh.bind(null,S,v,xr,Ds,Kl,f,wr,ri,Mi,Cn,I,"Throttled",-0,0),R);break e}Kh(S,v,xr,Ds,Kl,f,wr,ri,Mi,Cn,I,null,-0,0)}}break}while(!0);Wr(d)}function Kh(d,f,v,S,R,I,W,le,be,$e,Ye,Ze,ze,He){if(d.timeoutHandle=-1,Ze=f.subtreeFlags,Ze&8192||(Ze&16785408)===16785408){Ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xr},$h(f,I,Ze);var mt=(I&62914560)===I?Bs-qe():(I&4194048)===I?qh-qe():0;if(mt=Dg(Ze,mt),mt!==null){pn=I,d.cancelPendingCommit=mt(rf.bind(null,d,f,I,v,S,R,W,le,be,Ye,Ze,null,ze,He)),Mn(d,I,W,!$e);return}}rf(d,f,I,v,S,R,W,le,be)}function Jm(d){for(var f=d;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var S=0;S<v.length;S++){var R=v[S],I=R.getSnapshot;R=R.value;try{if(!Er(I(),R))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Mn(d,f,v,S){f&=~Wl,f&=~ri,d.suspendedLanes|=f,d.pingedLanes&=~f,S&&(d.warmLanes|=f),S=d.expirationTimes;for(var R=f;0<R;){var I=31-Re(R),W=1<<I;S[I]=-1,R&=~W}v!==0&&je(d,v,f)}function Vs(){return(jt&6)===0?(Pa(0),!1):!0}function Zl(){if(kt!==null){if($t===0)var d=kt.return;else d=kt,en=Wn=null,pl(d),Ai=null,sa=0,d=kt;for(;d!==null;)Ph(d.alternate,d),d=d.return;kt=null}}function Ni(d,f){var v=d.timeoutHandle;v!==-1&&(d.timeoutHandle=-1,yg(v)),v=d.cancelPendingCommit,v!==null&&(d.cancelPendingCommit=null,v()),pn=0,Zl(),Gt=d,kt=v=Zr(d.current,null),Mt=f,$t=0,Pr=null,Cn=!1,Ii=dt(d,f),Hl=!1,Mi=wr=Wl=ri=Rn=Jt=0,xr=Sa=null,Kl=!1,(f&8)!==0&&(f|=f&32);var S=d.entangledLanes;if(S!==0)for(d=d.entanglements,S&=f;0<S;){var R=31-Re(S),I=1<<R;f|=d[R],S&=~I}return fn=f,rs(),v}function Yh(d,f){Ct=null,ee.H=pa,f===_i||f===ds?(f=cd(),$t=3):f===rl?(f=cd(),$t=4):$t=f===kl?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Pr=f,kt===null&&(Jt=1,Ps(d,Br(f,d.current)))}function Xh(){var d=_r.current;return d===null?!0:(Mt&4194048)===Mt?Or===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?d===Or:!1}function Jh(){var d=ee.H;return ee.H=pa,d===null?pa:d}function Zh(){var d=ee.A;return ee.A=Ym,d}function Os(){Jt=4,Cn||(Mt&4194048)!==Mt&&_r.current!==null||(Ii=!0),(Rn&134217727)===0&&(ri&134217727)===0||Gt===null||Mn(Gt,Mt,wr,!1)}function Ql(d,f,v){var S=jt;jt|=2;var R=Jh(),I=Zh();(Gt!==d||Mt!==f)&&(Ds=null,Ni(d,f)),f=!1;var W=Jt;e:do try{if($t!==0&&kt!==null){var le=kt,be=Pr;switch($t){case 8:Zl(),W=6;break e;case 3:case 2:case 9:case 6:_r.current===null&&(f=!0);var $e=$t;if($t=0,Pr=null,Di(d,le,be,$e),v&&Ii){W=0;break e}break;default:$e=$t,$t=0,Pr=null,Di(d,le,be,$e)}}Zm(),W=Jt;break}catch(Ye){Yh(d,Ye)}while(!0);return f&&d.shellSuspendCounter++,en=Wn=null,jt=S,ee.H=R,ee.A=I,kt===null&&(Gt=null,Mt=0,rs()),W}function Zm(){for(;kt!==null;)Qh(kt)}function Qm(d,f){var v=jt;jt|=2;var S=Jh(),R=Zh();Gt!==d||Mt!==f?(Ds=null,Ns=qe()+500,Ni(d,f)):Ii=dt(d,f);e:do try{if($t!==0&&kt!==null){f=kt;var I=Pr;t:switch($t){case 1:$t=0,Pr=null,Di(d,f,I,1);break;case 2:case 9:if(ld(I)){$t=0,Pr=null,ef(f);break}f=function(){$t!==2&&$t!==9||Gt!==d||($t=7),Wr(d)},I.then(f,f);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:ld(I)?($t=0,Pr=null,ef(f)):($t=0,Pr=null,Di(d,f,I,7));break;case 5:var W=null;switch(kt.tag){case 26:W=kt.memoizedState;case 5:case 27:var le=kt;if(W?$f(W):le.stateNode.complete){$t=0,Pr=null;var be=le.sibling;if(be!==null)kt=be;else{var $e=le.return;$e!==null?(kt=$e,js($e)):kt=null}break t}}$t=0,Pr=null,Di(d,f,I,5);break;case 6:$t=0,Pr=null,Di(d,f,I,6);break;case 8:Zl(),Jt=6;break e;default:throw Error(i(462))}}eg();break}catch(Ye){Yh(d,Ye)}while(!0);return en=Wn=null,ee.H=S,ee.A=R,jt=v,kt!==null?0:(Gt=null,Mt=0,rs(),Jt)}function eg(){for(;kt!==null&&!Fe();)Qh(kt)}function Qh(d){var f=_h(d.alternate,d,fn);d.memoizedProps=d.pendingProps,f===null?js(d):kt=f}function ef(d){var f=d,v=f.alternate;switch(f.tag){case 15:case 0:f=gh(v,f,f.pendingProps,f.type,void 0,Mt);break;case 11:f=gh(v,f,f.pendingProps,f.type.render,f.ref,Mt);break;case 5:pl(f);default:Ph(v,f),f=kt=Xc(f,fn),f=_h(v,f,fn)}d.memoizedProps=d.pendingProps,f===null?js(d):kt=f}function Di(d,f,v,S){en=Wn=null,pl(f),Ai=null,sa=0;var R=f.return;try{if(Um(d,R,f,v,Mt)){Jt=1,Ps(d,Br(v,d.current)),kt=null;return}}catch(I){if(R!==null)throw kt=R,I;Jt=1,Ps(d,Br(v,d.current)),kt=null;return}f.flags&32768?(Nt||S===1?d=!0:Ii||(Mt&536870912)!==0?d=!1:(Cn=d=!0,(S===2||S===9||S===3||S===6)&&(S=_r.current,S!==null&&S.tag===13&&(S.flags|=16384))),tf(f,d)):js(f)}function js(d){var f=d;do{if((f.flags&32768)!==0){tf(f,Cn);return}d=f.return;var v=Gm(f.alternate,f,fn);if(v!==null){kt=v;return}if(f=f.sibling,f!==null){kt=f;return}kt=f=d}while(f!==null);Jt===0&&(Jt=5)}function tf(d,f){do{var v=Hm(d.alternate,d);if(v!==null){v.flags&=32767,kt=v;return}if(v=d.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(d=d.sibling,d!==null)){kt=d;return}kt=d=v}while(d!==null);Jt=6,kt=null}function rf(d,f,v,S,R,I,W,le,be){d.cancelPendingCommit=null;do Ls();while(ar!==0);if((jt&6)!==0)throw Error(i(327));if(f!==null){if(f===d.current)throw Error(i(177));if(I=f.lanes|f.childLanes,I|=Fo,Ve(d,v,I,W,le,be),d===Gt&&(kt=Gt=null,Mt=0),Bi=f,In=d,pn=v,Yl=I,Xl=R,Gh=S,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,ig(gt,function(){return lf(),null})):(d.callbackNode=null,d.callbackPriority=0),S=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||S){S=ee.T,ee.T=null,R=ie.p,ie.p=2,W=jt,jt|=4;try{Wm(d,f,v)}finally{jt=W,ie.p=R,ee.T=S}}ar=1,nf(),af(),sf()}}function nf(){if(ar===1){ar=0;var d=In,f=Bi,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=ee.T,ee.T=null;var S=ie.p;ie.p=2;var R=jt;jt|=4;try{Oh(f,d);var I=du,W=Fc(d.containerInfo),le=I.focusedElem,be=I.selectionRange;if(W!==le&&le&&le.ownerDocument&&$c(le.ownerDocument.documentElement,le)){if(be!==null&&Vo(le)){var $e=be.start,Ye=be.end;if(Ye===void 0&&(Ye=$e),"selectionStart"in le)le.selectionStart=$e,le.selectionEnd=Math.min(Ye,le.value.length);else{var Ze=le.ownerDocument||document,ze=Ze&&Ze.defaultView||window;if(ze.getSelection){var He=ze.getSelection(),mt=le.textContent.length,Pt=Math.min(be.start,mt),qt=be.end===void 0?Pt:Math.min(be.end,mt);!He.extend&&Pt>qt&&(W=qt,qt=Pt,Pt=W);var Ne=Lc(le,Pt),Te=Lc(le,qt);if(Ne&&Te&&(He.rangeCount!==1||He.anchorNode!==Ne.node||He.anchorOffset!==Ne.offset||He.focusNode!==Te.node||He.focusOffset!==Te.offset)){var Le=Ze.createRange();Le.setStart(Ne.node,Ne.offset),He.removeAllRanges(),Pt>qt?(He.addRange(Le),He.extend(Te.node,Te.offset)):(Le.setEnd(Te.node,Te.offset),He.addRange(Le))}}}}for(Ze=[],He=le;He=He.parentNode;)He.nodeType===1&&Ze.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof le.focus=="function"&&le.focus(),le=0;le<Ze.length;le++){var Je=Ze[le];Je.element.scrollLeft=Je.left,Je.element.scrollTop=Je.top}}Js=!!cu,du=cu=null}finally{jt=R,ie.p=S,ee.T=v}}d.current=f,ar=2}}function af(){if(ar===2){ar=0;var d=In,f=Bi,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=ee.T,ee.T=null;var S=ie.p;ie.p=2;var R=jt;jt|=4;try{Mh(d,f.alternate,f)}finally{jt=R,ie.p=S,ee.T=v}}ar=3}}function sf(){if(ar===4||ar===3){ar=0,Ke();var d=In,f=Bi,v=pn,S=Gh;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ar=5:(ar=0,Bi=In=null,of(d,d.pendingLanes));var R=d.pendingLanes;if(R===0&&(kn=null),lt(v),f=f.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Et,f,void 0,(f.current.flags&128)===128)}catch{}if(S!==null){f=ee.T,R=ie.p,ie.p=2,ee.T=null;try{for(var I=d.onRecoverableError,W=0;W<S.length;W++){var le=S[W];I(le.value,{componentStack:le.stack})}}finally{ee.T=f,ie.p=R}}(pn&3)!==0&&Ls(),Wr(d),R=d.pendingLanes,(v&261930)!==0&&(R&42)!==0?d===Jl?Aa++:(Aa=0,Jl=d):Aa=0,Pa(0)}}function of(d,f){(d.pooledCacheLanes&=f)===0&&(f=d.pooledCache,f!=null&&(d.pooledCache=null,ia(f)))}function Ls(){return nf(),af(),sf(),lf()}function lf(){if(ar!==5)return!1;var d=In,f=Yl;Yl=0;var v=lt(pn),S=ee.T,R=ie.p;try{ie.p=32>v?32:v,ee.T=null,v=Xl,Xl=null;var I=In,W=pn;if(ar=0,Bi=In=null,pn=0,(jt&6)!==0)throw Error(i(331));var le=jt;if(jt|=4,Uh(I.current),Lh(I,I.current,W,v),jt=le,Pa(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Et,I)}catch{}return!0}finally{ie.p=R,ee.T=S,of(d,f)}}function uf(d,f,v){f=Br(v,f),f=Rl(d.stateNode,f,2),d=An(d,f,2),d!==null&&(xe(d,2),Wr(d))}function Ft(d,f,v){if(d.tag===3)uf(d,d,v);else for(;f!==null;){if(f.tag===3){uf(f,d,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(kn===null||!kn.has(S))){d=Br(v,d),v=lh(2),S=An(f,v,2),S!==null&&(uh(v,S,f,d),xe(S,2),Wr(S));break}}f=f.return}}function eu(d,f,v){var S=d.pingCache;if(S===null){S=d.pingCache=new Xm;var R=new Set;S.set(f,R)}else R=S.get(f),R===void 0&&(R=new Set,S.set(f,R));R.has(v)||(Hl=!0,R.add(v),d=tg.bind(null,d,f,v),f.then(d,d))}function tg(d,f,v){var S=d.pingCache;S!==null&&S.delete(f),d.pingedLanes|=d.suspendedLanes&v,d.warmLanes&=~v,Gt===d&&(Mt&v)===v&&(Jt===4||Jt===3&&(Mt&62914560)===Mt&&300>qe()-Bs?(jt&2)===0&&Ni(d,0):Wl|=v,Mi===Mt&&(Mi=0)),Wr(d)}function cf(d,f){f===0&&(f=fe()),d=qn(d,f),d!==null&&(xe(d,f),Wr(d))}function rg(d){var f=d.memoizedState,v=0;f!==null&&(v=f.retryLane),cf(d,v)}function ng(d,f){var v=0;switch(d.tag){case 31:case 13:var S=d.stateNode,R=d.memoizedState;R!==null&&(v=R.retryLane);break;case 19:S=d.stateNode;break;case 22:S=d.stateNode._retryCache;break;default:throw Error(i(314))}S!==null&&S.delete(f),cf(d,v)}function ig(d,f){return Se(d,f)}var $s=null,Vi=null,tu=!1,Fs=!1,ru=!1,Bn=0;function Wr(d){d!==Vi&&d.next===null&&(Vi===null?$s=Vi=d:Vi=Vi.next=d),Fs=!0,tu||(tu=!0,sg())}function Pa(d,f){if(!ru&&Fs){ru=!0;do for(var v=!1,S=$s;S!==null;){if(d!==0){var R=S.pendingLanes;if(R===0)var I=0;else{var W=S.suspendedLanes,le=S.pingedLanes;I=(1<<31-Re(42|d)+1)-1,I&=R&~(W&~le),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(v=!0,pf(S,I))}else I=Mt,I=ut(S,S===Gt?I:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(I&3)===0||dt(S,I)||(v=!0,pf(S,I));S=S.next}while(v);ru=!1}}function ag(){df()}function df(){Fs=tu=!1;var d=0;Bn!==0&&gg()&&(d=Bn);for(var f=qe(),v=null,S=$s;S!==null;){var R=S.next,I=hf(S,f);I===0?(S.next=null,v===null?$s=R:v.next=R,R===null&&(Vi=v)):(v=S,(d!==0||(I&3)!==0)&&(Fs=!0)),S=R}ar!==0&&ar!==5||Pa(d),Bn!==0&&(Bn=0)}function hf(d,f){for(var v=d.suspendedLanes,S=d.pingedLanes,R=d.expirationTimes,I=d.pendingLanes&-62914561;0<I;){var W=31-Re(I),le=1<<W,be=R[W];be===-1?((le&v)===0||(le&S)!==0)&&(R[W]=it(le,f)):be<=f&&(d.expiredLanes|=le),I&=~le}if(f=Gt,v=Mt,v=ut(d,d===f?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),S=d.callbackNode,v===0||d===f&&($t===2||$t===9)||d.cancelPendingCommit!==null)return S!==null&&S!==null&&ke(S),d.callbackNode=null,d.callbackPriority=0;if((v&3)===0||dt(d,v)){if(f=v&-v,f===d.callbackPriority)return f;switch(S!==null&&ke(S),lt(v)){case 2:case 8:v=Qe;break;case 32:v=gt;break;case 268435456:v=_t;break;default:v=gt}return S=ff.bind(null,d),v=Se(v,S),d.callbackPriority=f,d.callbackNode=v,f}return S!==null&&S!==null&&ke(S),d.callbackPriority=2,d.callbackNode=null,2}function ff(d,f){if(ar!==0&&ar!==5)return d.callbackNode=null,d.callbackPriority=0,null;var v=d.callbackNode;if(Ls()&&d.callbackNode!==v)return null;var S=Mt;return S=ut(d,d===Gt?S:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),S===0?null:(Wh(d,S,f),hf(d,qe()),d.callbackNode!=null&&d.callbackNode===v?ff.bind(null,d):null)}function pf(d,f){if(Ls())return null;Wh(d,f,!0)}function sg(){vg(function(){(jt&6)!==0?Se(tt,ag):df()})}function nu(){if(Bn===0){var d=Ei;d===0&&(d=St,St<<=1,(St&261888)===0&&(St=256)),Bn=d}return Bn}function mf(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Ka(""+d)}function gf(d,f){var v=f.ownerDocument.createElement("input");return v.name=f.name,v.value=f.value,d.id&&v.setAttribute("form",d.id),f.parentNode.insertBefore(v,f),d=new FormData(d),v.parentNode.removeChild(v),d}function og(d,f,v,S,R){if(f==="submit"&&v&&v.stateNode===R){var I=mf((R[ht]||null).action),W=S.submitter;W&&(f=(f=W[ht]||null)?mf(f.formAction):W.getAttribute("formAction"),f!==null&&(I=f,W=null));var le=new Za("action","action",null,S,R);d.push({event:le,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(Bn!==0){var be=W?gf(R,W):new FormData(R);_l(v,{pending:!0,data:be,method:R.method,action:I},null,be)}}else typeof I=="function"&&(le.preventDefault(),be=W?gf(R,W):new FormData(R),_l(v,{pending:!0,data:be,method:R.method,action:I},I,be))},currentTarget:R}]})}}for(var iu=0;iu<$o.length;iu++){var au=$o[iu],lg=au.toLowerCase(),ug=au[0].toUpperCase()+au.slice(1);Fr(lg,"on"+ug)}Fr(qc,"onAnimationEnd"),Fr(Gc,"onAnimationIteration"),Fr(Hc,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Pm,"onTransitionRun"),Fr(wm,"onTransitionStart"),Fr(Tm,"onTransitionCancel"),Fr(Wc,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wa));function yf(d,f){f=(f&4)!==0;for(var v=0;v<d.length;v++){var S=d[v],R=S.event;S=S.listeners;e:{var I=void 0;if(f)for(var W=S.length-1;0<=W;W--){var le=S[W],be=le.instance,$e=le.currentTarget;if(le=le.listener,be!==I&&R.isPropagationStopped())break e;I=le,R.currentTarget=$e;try{I(R)}catch(Ye){ts(Ye)}R.currentTarget=null,I=be}else for(W=0;W<S.length;W++){if(le=S[W],be=le.instance,$e=le.currentTarget,le=le.listener,be!==I&&R.isPropagationStopped())break e;I=le,R.currentTarget=$e;try{I(R)}catch(Ye){ts(Ye)}R.currentTarget=null,I=be}}}}function It(d,f){var v=f[Tt];v===void 0&&(v=f[Tt]=new Set);var S=d+"__bubble";v.has(S)||(vf(f,d,2,!1),v.add(S))}function su(d,f,v){var S=0;f&&(S|=4),vf(v,d,S,f)}var Us="_reactListening"+Math.random().toString(36).slice(2);function ou(d){if(!d[Us]){d[Us]=!0,lc.forEach(function(v){v!=="selectionchange"&&(cg.has(v)||su(v,!1,d),su(v,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[Us]||(f[Us]=!0,su("selectionchange",!1,f))}}function vf(d,f,v,S){switch(Wf(f)){case 2:var R=jg;break;case 8:R=Lg;break;default:R=Su}v=R.bind(null,f,v,d),R=void 0,!To||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(R=!0),S?R!==void 0?d.addEventListener(f,v,{capture:!0,passive:R}):d.addEventListener(f,v,!0):R!==void 0?d.addEventListener(f,v,{passive:R}):d.addEventListener(f,v,!1)}function lu(d,f,v,S,R){var I=S;if((f&1)===0&&(f&2)===0&&S!==null)e:for(;;){if(S===null)return;var W=S.tag;if(W===3||W===4){var le=S.stateNode.containerInfo;if(le===R)break;if(W===4)for(W=S.return;W!==null;){var be=W.tag;if((be===3||be===4)&&W.stateNode.containerInfo===R)return;W=W.return}for(;le!==null;){if(W=fr(le),W===null)return;if(be=W.tag,be===5||be===6||be===26||be===27){S=I=W;continue e}le=le.parentNode}}S=S.return}bc(function(){var $e=I,Ye=Po(v),Ze=[];e:{var ze=Kc.get(d);if(ze!==void 0){var He=Za,mt=d;switch(d){case"keypress":if(Xa(v)===0)break e;case"keydown":case"keyup":He=nm;break;case"focusin":mt="focus",He=Io;break;case"focusout":mt="blur",He=Io;break;case"beforeblur":case"afterblur":He=Io;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=Gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=sm;break;case qc:case Gc:case Hc:He=Kp;break;case Wc:He=lm;break;case"scroll":case"scrollend":He=zp;break;case"wheel":He=cm;break;case"copy":case"cut":case"paste":He=Xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=Pc;break;case"toggle":case"beforetoggle":He=hm}var Pt=(f&4)!==0,qt=!Pt&&(d==="scroll"||d==="scrollend"),Ne=Pt?ze!==null?ze+"Capture":null:ze;Pt=[];for(var Te=$e,Le;Te!==null;){var Je=Te;if(Le=Je.stateNode,Je=Je.tag,Je!==5&&Je!==26&&Je!==27||Le===null||Ne===null||(Je=Wi(Te,Ne),Je!=null&&Pt.push(Ta(Te,Je,Le))),qt)break;Te=Te.return}0<Pt.length&&(ze=new He(ze,mt,null,v,Ye),Ze.push({event:ze,listeners:Pt}))}}if((f&7)===0){e:{if(ze=d==="mouseover"||d==="pointerover",He=d==="mouseout"||d==="pointerout",ze&&v!==Ao&&(mt=v.relatedTarget||v.fromElement)&&(fr(mt)||mt[xt]))break e;if((He||ze)&&(ze=Ye.window===Ye?Ye:(ze=Ye.ownerDocument)?ze.defaultView||ze.parentWindow:window,He?(mt=v.relatedTarget||v.toElement,He=$e,mt=mt?fr(mt):null,mt!==null&&(qt=l(mt),Pt=mt.tag,mt!==qt||Pt!==5&&Pt!==27&&Pt!==6)&&(mt=null)):(He=null,mt=$e),He!==mt)){if(Pt=_c,Je="onMouseLeave",Ne="onMouseEnter",Te="mouse",(d==="pointerout"||d==="pointerover")&&(Pt=Pc,Je="onPointerLeave",Ne="onPointerEnter",Te="pointer"),qt=He==null?ze:Hi(He),Le=mt==null?ze:Hi(mt),ze=new Pt(Je,Te+"leave",He,v,Ye),ze.target=qt,ze.relatedTarget=Le,Je=null,fr(Ye)===$e&&(Pt=new Pt(Ne,Te+"enter",mt,v,Ye),Pt.target=Le,Pt.relatedTarget=qt,Je=Pt),qt=Je,He&&mt)t:{for(Pt=dg,Ne=He,Te=mt,Le=0,Je=Ne;Je;Je=Pt(Je))Le++;Je=0;for(var bt=Te;bt;bt=Pt(bt))Je++;for(;0<Le-Je;)Ne=Pt(Ne),Le--;for(;0<Je-Le;)Te=Pt(Te),Je--;for(;Le--;){if(Ne===Te||Te!==null&&Ne===Te.alternate){Pt=Ne;break t}Ne=Pt(Ne),Te=Pt(Te)}Pt=null}else Pt=null;He!==null&&xf(Ze,ze,He,Pt,!1),mt!==null&&qt!==null&&xf(Ze,qt,mt,Pt,!0)}}e:{if(ze=$e?Hi($e):window,He=ze.nodeName&&ze.nodeName.toLowerCase(),He==="select"||He==="input"&&ze.type==="file")var Vt=Bc;else if(Ic(ze))if(Nc)Vt=Sm;else{Vt=bm;var yt=xm}else He=ze.nodeName,!He||He.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?$e&&_o($e.elementType)&&(Vt=Bc):Vt=Em;if(Vt&&(Vt=Vt(d,$e))){Mc(Ze,Vt,v,Ye);break e}yt&&yt(d,ze,$e),d==="focusout"&&$e&&ze.type==="number"&&$e.memoizedProps.value!=null&&So(ze,"number",ze.value)}switch(yt=$e?Hi($e):window,d){case"focusin":(Ic(yt)||yt.contentEditable==="true")&&(hi=yt,Oo=$e,ta=null);break;case"focusout":ta=Oo=hi=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Uc(Ze,v,Ye);break;case"selectionchange":if(Am)break;case"keydown":case"keyup":Uc(Ze,v,Ye)}var Rt;if(Bo)e:{switch(d){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else di?Rc(d,v)&&(Bt="onCompositionEnd"):d==="keydown"&&v.keyCode===229&&(Bt="onCompositionStart");Bt&&(wc&&v.locale!=="ko"&&(di||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&di&&(Rt=Ec()):(yn=Ye,Co="value"in yn?yn.value:yn.textContent,di=!0)),yt=zs($e,Bt),0<yt.length&&(Bt=new Ac(Bt,d,null,v,Ye),Ze.push({event:Bt,listeners:yt}),Rt?Bt.data=Rt:(Rt=kc(v),Rt!==null&&(Bt.data=Rt)))),(Rt=pm?mm(d,v):gm(d,v))&&(Bt=zs($e,"onBeforeInput"),0<Bt.length&&(yt=new Ac("onBeforeInput","beforeinput",null,v,Ye),Ze.push({event:yt,listeners:Bt}),yt.data=Rt)),og(Ze,d,$e,v,Ye)}yf(Ze,f)})}function Ta(d,f,v){return{instance:d,listener:f,currentTarget:v}}function zs(d,f){for(var v=f+"Capture",S=[];d!==null;){var R=d,I=R.stateNode;if(R=R.tag,R!==5&&R!==26&&R!==27||I===null||(R=Wi(d,v),R!=null&&S.unshift(Ta(d,R,I)),R=Wi(d,f),R!=null&&S.push(Ta(d,R,I))),d.tag===3)return S;d=d.return}return[]}function dg(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function xf(d,f,v,S,R){for(var I=f._reactName,W=[];v!==null&&v!==S;){var le=v,be=le.alternate,$e=le.stateNode;if(le=le.tag,be!==null&&be===S)break;le!==5&&le!==26&&le!==27||$e===null||(be=$e,R?($e=Wi(v,I),$e!=null&&W.unshift(Ta(v,$e,be))):R||($e=Wi(v,I),$e!=null&&W.push(Ta(v,$e,be)))),v=v.return}W.length!==0&&d.push({event:f,listeners:W})}var hg=/\r\n?/g,fg=/\u0000|\uFFFD/g;function bf(d){return(typeof d=="string"?d:""+d).replace(hg,`
`).replace(fg,"")}function Ef(d,f){return f=bf(f),bf(d)===f}function zt(d,f,v,S,R,I){switch(v){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||li(d,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&li(d,""+S);break;case"className":Ha(d,"class",S);break;case"tabIndex":Ha(d,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(d,v,S);break;case"style":vc(d,S,I);break;case"data":if(f!=="object"){Ha(d,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||v!=="href")){d.removeAttribute(v);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){d.removeAttribute(v);break}S=Ka(""+S),d.setAttribute(v,S);break;case"action":case"formAction":if(typeof S=="function"){d.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(v==="formAction"?(f!=="input"&&zt(d,f,"name",R.name,R,null),zt(d,f,"formEncType",R.formEncType,R,null),zt(d,f,"formMethod",R.formMethod,R,null),zt(d,f,"formTarget",R.formTarget,R,null)):(zt(d,f,"encType",R.encType,R,null),zt(d,f,"method",R.method,R,null),zt(d,f,"target",R.target,R,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){d.removeAttribute(v);break}S=Ka(""+S),d.setAttribute(v,S);break;case"onClick":S!=null&&(d.onclick=Xr);break;case"onScroll":S!=null&&It("scroll",d);break;case"onScrollEnd":S!=null&&It("scrollend",d);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(v=S.__html,v!=null){if(R.children!=null)throw Error(i(60));d.innerHTML=v}}break;case"multiple":d.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":d.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){d.removeAttribute("xlink:href");break}v=Ka(""+S),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(v,""+S):d.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(v,""):d.removeAttribute(v);break;case"capture":case"download":S===!0?d.setAttribute(v,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?d.setAttribute(v,S):d.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?d.setAttribute(v,S):d.removeAttribute(v);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?d.removeAttribute(v):d.setAttribute(v,S);break;case"popover":It("beforetoggle",d),It("toggle",d),Ga(d,"popover",S);break;case"xlinkActuate":Yr(d,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Yr(d,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Yr(d,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Yr(d,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Yr(d,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Yr(d,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Yr(d,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Yr(d,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Yr(d,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":Ga(d,"is",S);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=Fp.get(v)||v,Ga(d,v,S))}}function uu(d,f,v,S,R,I){switch(v){case"style":vc(d,S,I);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(i(61));if(v=S.__html,v!=null){if(R.children!=null)throw Error(i(60));d.innerHTML=v}}break;case"children":typeof S=="string"?li(d,S):(typeof S=="number"||typeof S=="bigint")&&li(d,""+S);break;case"onScroll":S!=null&&It("scroll",d);break;case"onScrollEnd":S!=null&&It("scrollend",d);break;case"onClick":S!=null&&(d.onclick=Xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uc.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(R=v.endsWith("Capture"),f=v.slice(2,R?v.length-7:void 0),I=d[ht]||null,I=I!=null?I[v]:null,typeof I=="function"&&d.removeEventListener(f,I,R),typeof S=="function")){typeof I!="function"&&I!==null&&(v in d?d[v]=null:d.hasAttribute(v)&&d.removeAttribute(v)),d.addEventListener(f,S,R);break e}v in d?d[v]=S:S===!0?d.setAttribute(v,""):Ga(d,v,S)}}}function dr(d,f,v){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",d),It("load",d);var S=!1,R=!1,I;for(I in v)if(v.hasOwnProperty(I)){var W=v[I];if(W!=null)switch(I){case"src":S=!0;break;case"srcSet":R=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:zt(d,f,I,W,v,null)}}R&&zt(d,f,"srcSet",v.srcSet,v,null),S&&zt(d,f,"src",v.src,v,null);return;case"input":It("invalid",d);var le=I=W=R=null,be=null,$e=null;for(S in v)if(v.hasOwnProperty(S)){var Ye=v[S];if(Ye!=null)switch(S){case"name":R=Ye;break;case"type":W=Ye;break;case"checked":be=Ye;break;case"defaultChecked":$e=Ye;break;case"value":I=Ye;break;case"defaultValue":le=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(i(137,f));break;default:zt(d,f,S,Ye,v,null)}}pc(d,I,le,be,$e,W,R,!1);return;case"select":It("invalid",d),S=W=I=null;for(R in v)if(v.hasOwnProperty(R)&&(le=v[R],le!=null))switch(R){case"value":I=le;break;case"defaultValue":W=le;break;case"multiple":S=le;default:zt(d,f,R,le,v,null)}f=I,v=W,d.multiple=!!S,f!=null?oi(d,!!S,f,!1):v!=null&&oi(d,!!S,v,!0);return;case"textarea":It("invalid",d),I=R=S=null;for(W in v)if(v.hasOwnProperty(W)&&(le=v[W],le!=null))switch(W){case"value":S=le;break;case"defaultValue":R=le;break;case"children":I=le;break;case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(91));break;default:zt(d,f,W,le,v,null)}gc(d,S,R,I);return;case"option":for(be in v)if(v.hasOwnProperty(be)&&(S=v[be],S!=null))switch(be){case"selected":d.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:zt(d,f,be,S,v,null)}return;case"dialog":It("beforetoggle",d),It("toggle",d),It("cancel",d),It("close",d);break;case"iframe":case"object":It("load",d);break;case"video":case"audio":for(S=0;S<wa.length;S++)It(wa[S],d);break;case"image":It("error",d),It("load",d);break;case"details":It("toggle",d);break;case"embed":case"source":case"link":It("error",d),It("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($e in v)if(v.hasOwnProperty($e)&&(S=v[$e],S!=null))switch($e){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,f));default:zt(d,f,$e,S,v,null)}return;default:if(_o(f)){for(Ye in v)v.hasOwnProperty(Ye)&&(S=v[Ye],S!==void 0&&uu(d,f,Ye,S,v,void 0));return}}for(le in v)v.hasOwnProperty(le)&&(S=v[le],S!=null&&zt(d,f,le,S,v,null))}function pg(d,f,v,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var R=null,I=null,W=null,le=null,be=null,$e=null,Ye=null;for(He in v){var Ze=v[He];if(v.hasOwnProperty(He)&&Ze!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":be=Ze;default:S.hasOwnProperty(He)||zt(d,f,He,null,S,Ze)}}for(var ze in S){var He=S[ze];if(Ze=v[ze],S.hasOwnProperty(ze)&&(He!=null||Ze!=null))switch(ze){case"type":I=He;break;case"name":R=He;break;case"checked":$e=He;break;case"defaultChecked":Ye=He;break;case"value":W=He;break;case"defaultValue":le=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(i(137,f));break;default:He!==Ze&&zt(d,f,ze,He,S,Ze)}}Eo(d,W,le,be,$e,Ye,I,R);return;case"select":He=W=le=ze=null;for(I in v)if(be=v[I],v.hasOwnProperty(I)&&be!=null)switch(I){case"value":break;case"multiple":He=be;default:S.hasOwnProperty(I)||zt(d,f,I,null,S,be)}for(R in S)if(I=S[R],be=v[R],S.hasOwnProperty(R)&&(I!=null||be!=null))switch(R){case"value":ze=I;break;case"defaultValue":le=I;break;case"multiple":W=I;default:I!==be&&zt(d,f,R,I,S,be)}f=le,v=W,S=He,ze!=null?oi(d,!!v,ze,!1):!!S!=!!v&&(f!=null?oi(d,!!v,f,!0):oi(d,!!v,v?[]:"",!1));return;case"textarea":He=ze=null;for(le in v)if(R=v[le],v.hasOwnProperty(le)&&R!=null&&!S.hasOwnProperty(le))switch(le){case"value":break;case"children":break;default:zt(d,f,le,null,S,R)}for(W in S)if(R=S[W],I=v[W],S.hasOwnProperty(W)&&(R!=null||I!=null))switch(W){case"value":ze=R;break;case"defaultValue":He=R;break;case"children":break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:R!==I&&zt(d,f,W,R,S,I)}mc(d,ze,He);return;case"option":for(var mt in v)if(ze=v[mt],v.hasOwnProperty(mt)&&ze!=null&&!S.hasOwnProperty(mt))switch(mt){case"selected":d.selected=!1;break;default:zt(d,f,mt,null,S,ze)}for(be in S)if(ze=S[be],He=v[be],S.hasOwnProperty(be)&&ze!==He&&(ze!=null||He!=null))switch(be){case"selected":d.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:zt(d,f,be,ze,S,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in v)ze=v[Pt],v.hasOwnProperty(Pt)&&ze!=null&&!S.hasOwnProperty(Pt)&&zt(d,f,Pt,null,S,ze);for($e in S)if(ze=S[$e],He=v[$e],S.hasOwnProperty($e)&&ze!==He&&(ze!=null||He!=null))switch($e){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,f));break;default:zt(d,f,$e,ze,S,He)}return;default:if(_o(f)){for(var qt in v)ze=v[qt],v.hasOwnProperty(qt)&&ze!==void 0&&!S.hasOwnProperty(qt)&&uu(d,f,qt,void 0,S,ze);for(Ye in S)ze=S[Ye],He=v[Ye],!S.hasOwnProperty(Ye)||ze===He||ze===void 0&&He===void 0||uu(d,f,Ye,ze,S,He);return}}for(var Ne in v)ze=v[Ne],v.hasOwnProperty(Ne)&&ze!=null&&!S.hasOwnProperty(Ne)&&zt(d,f,Ne,null,S,ze);for(Ze in S)ze=S[Ze],He=v[Ze],!S.hasOwnProperty(Ze)||ze===He||ze==null&&He==null||zt(d,f,Ze,ze,S,He)}function Sf(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function mg(){if(typeof performance.getEntriesByType=="function"){for(var d=0,f=0,v=performance.getEntriesByType("resource"),S=0;S<v.length;S++){var R=v[S],I=R.transferSize,W=R.initiatorType,le=R.duration;if(I&&le&&Sf(W)){for(W=0,le=R.responseEnd,S+=1;S<v.length;S++){var be=v[S],$e=be.startTime;if($e>le)break;var Ye=be.transferSize,Ze=be.initiatorType;Ye&&Sf(Ze)&&(be=be.responseEnd,W+=Ye*(be<le?1:(le-$e)/(be-$e)))}if(--S,f+=8*(I+W)/(R.duration/1e3),d++,10<d)break}}if(0<d)return f/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var cu=null,du=null;function qs(d){return d.nodeType===9?d:d.ownerDocument}function _f(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Af(d,f){if(d===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&f==="foreignObject"?0:d}function hu(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var fu=null;function gg(){var d=window.event;return d&&d.type==="popstate"?d===fu?!1:(fu=d,!0):(fu=null,!1)}var Pf=typeof setTimeout=="function"?setTimeout:void 0,yg=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,vg=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(d){return wf.resolve(null).then(d).catch(xg)}:Pf;function xg(d){setTimeout(function(){throw d})}function Nn(d){return d==="head"}function Tf(d,f){var v=f,S=0;do{var R=v.nextSibling;if(d.removeChild(v),R&&R.nodeType===8)if(v=R.data,v==="/$"||v==="/&"){if(S===0){d.removeChild(R),$i(f);return}S--}else if(v==="$"||v==="$?"||v==="$~"||v==="$!"||v==="&")S++;else if(v==="html")Ca(d.ownerDocument.documentElement);else if(v==="head"){v=d.ownerDocument.head,Ca(v);for(var I=v.firstChild;I;){var W=I.nextSibling,le=I.nodeName;I[hr]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&I.rel.toLowerCase()==="stylesheet"||v.removeChild(I),I=W}}else v==="body"&&Ca(d.ownerDocument.body);v=R}while(v);$i(f)}function Cf(d,f){var v=d;d=0;do{var S=v.nextSibling;if(v.nodeType===1?f?(v._stashedDisplay=v.style.display,v.style.display="none"):(v.style.display=v._stashedDisplay||"",v.getAttribute("style")===""&&v.removeAttribute("style")):v.nodeType===3&&(f?(v._stashedText=v.nodeValue,v.nodeValue=""):v.nodeValue=v._stashedText||""),S&&S.nodeType===8)if(v=S.data,v==="/$"){if(d===0)break;d--}else v!=="$"&&v!=="$?"&&v!=="$~"&&v!=="$!"||d++;v=S}while(v)}function pu(d){var f=d.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var v=f;switch(f=f.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":pu(v),Cr(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}d.removeChild(v)}}function bg(d,f,v,S){for(;d.nodeType===1;){var R=v;if(d.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(S){if(!d[hr])switch(f){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(I=d.getAttribute("rel"),I==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(I!==R.rel||d.getAttribute("href")!==(R.href==null||R.href===""?null:R.href)||d.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin)||d.getAttribute("title")!==(R.title==null?null:R.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(I=d.getAttribute("src"),(I!==(R.src==null?null:R.src)||d.getAttribute("type")!==(R.type==null?null:R.type)||d.getAttribute("crossorigin")!==(R.crossOrigin==null?null:R.crossOrigin))&&I&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(f==="input"&&d.type==="hidden"){var I=R.name==null?null:""+R.name;if(R.type==="hidden"&&d.getAttribute("name")===I)return d}else return d;if(d=jr(d.nextSibling),d===null)break}return null}function Eg(d,f,v){if(f==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!v||(d=jr(d.nextSibling),d===null))return null;return d}function Rf(d,f){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!f||(d=jr(d.nextSibling),d===null))return null;return d}function mu(d){return d.data==="$?"||d.data==="$~"}function gu(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Sg(d,f){var v=d.ownerDocument;if(d.data==="$~")d._reactRetry=f;else if(d.data!=="$?"||v.readyState!=="loading")f();else{var S=function(){f(),v.removeEventListener("DOMContentLoaded",S)};v.addEventListener("DOMContentLoaded",S),d._reactRetry=S}}function jr(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return d}var yu=null;function kf(d){d=d.nextSibling;for(var f=0;d;){if(d.nodeType===8){var v=d.data;if(v==="/$"||v==="/&"){if(f===0)return jr(d.nextSibling);f--}else v!=="$"&&v!=="$!"&&v!=="$?"&&v!=="$~"&&v!=="&"||f++}d=d.nextSibling}return null}function If(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var v=d.data;if(v==="$"||v==="$!"||v==="$?"||v==="$~"||v==="&"){if(f===0)return d;f--}else v!=="/$"&&v!=="/&"||f++}d=d.previousSibling}return null}function Mf(d,f,v){switch(f=qs(v),d){case"html":if(d=f.documentElement,!d)throw Error(i(452));return d;case"head":if(d=f.head,!d)throw Error(i(453));return d;case"body":if(d=f.body,!d)throw Error(i(454));return d;default:throw Error(i(451))}}function Ca(d){for(var f=d.attributes;f.length;)d.removeAttributeNode(f[0]);Cr(d)}var Lr=new Map,Bf=new Set;function Gs(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var mn=ie.d;ie.d={f:_g,r:Ag,D:Pg,C:wg,L:Tg,m:Cg,X:kg,S:Rg,M:Ig};function _g(){var d=mn.f(),f=Vs();return d||f}function Ag(d){var f=Kr(d);f!==null&&f.tag===5&&f.type==="form"?Kd(f):mn.r(d)}var Oi=typeof document>"u"?null:document;function Nf(d,f,v){var S=Oi;if(S&&typeof f=="string"&&f){var R=Ir(f);R='link[rel="'+d+'"][href="'+R+'"]',typeof v=="string"&&(R+='[crossorigin="'+v+'"]'),Bf.has(R)||(Bf.add(R),d={rel:d,crossOrigin:v,href:f},S.querySelector(R)===null&&(f=S.createElement("link"),dr(f,"link",d),sr(f),S.head.appendChild(f)))}}function Pg(d){mn.D(d),Nf("dns-prefetch",d,null)}function wg(d,f){mn.C(d,f),Nf("preconnect",d,f)}function Tg(d,f,v){mn.L(d,f,v);var S=Oi;if(S&&d&&f){var R='link[rel="preload"][as="'+Ir(f)+'"]';f==="image"&&v&&v.imageSrcSet?(R+='[imagesrcset="'+Ir(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(R+='[imagesizes="'+Ir(v.imageSizes)+'"]')):R+='[href="'+Ir(d)+'"]';var I=R;switch(f){case"style":I=ji(d);break;case"script":I=Li(d)}Lr.has(I)||(d=b({rel:"preload",href:f==="image"&&v&&v.imageSrcSet?void 0:d,as:f},v),Lr.set(I,d),S.querySelector(R)!==null||f==="style"&&S.querySelector(Ra(I))||f==="script"&&S.querySelector(Ia(I))||(f=S.createElement("link"),dr(f,"link",d),sr(f),S.head.appendChild(f)))}}function Cg(d,f){mn.m(d,f);var v=Oi;if(v&&d){var S=f&&typeof f.as=="string"?f.as:"script",R='link[rel="modulepreload"][as="'+Ir(S)+'"][href="'+Ir(d)+'"]',I=R;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Li(d)}if(!Lr.has(I)&&(d=b({rel:"modulepreload",href:d},f),Lr.set(I,d),v.querySelector(R)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(Ia(I)))return}S=v.createElement("link"),dr(S,"link",d),sr(S),v.head.appendChild(S)}}}function Rg(d,f,v){mn.S(d,f,v);var S=Oi;if(S&&d){var R=ii(S).hoistableStyles,I=ji(d);f=f||"default";var W=R.get(I);if(!W){var le={loading:0,preload:null};if(W=S.querySelector(Ra(I)))le.loading=5;else{d=b({rel:"stylesheet",href:d,"data-precedence":f},v),(v=Lr.get(I))&&vu(d,v);var be=W=S.createElement("link");sr(be),dr(be,"link",d),be._p=new Promise(function($e,Ye){be.onload=$e,be.onerror=Ye}),be.addEventListener("load",function(){le.loading|=1}),be.addEventListener("error",function(){le.loading|=2}),le.loading|=4,Hs(W,f,S)}W={type:"stylesheet",instance:W,count:1,state:le},R.set(I,W)}}}function kg(d,f){mn.X(d,f);var v=Oi;if(v&&d){var S=ii(v).hoistableScripts,R=Li(d),I=S.get(R);I||(I=v.querySelector(Ia(R)),I||(d=b({src:d,async:!0},f),(f=Lr.get(R))&&xu(d,f),I=v.createElement("script"),sr(I),dr(I,"link",d),v.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},S.set(R,I))}}function Ig(d,f){mn.M(d,f);var v=Oi;if(v&&d){var S=ii(v).hoistableScripts,R=Li(d),I=S.get(R);I||(I=v.querySelector(Ia(R)),I||(d=b({src:d,async:!0,type:"module"},f),(f=Lr.get(R))&&xu(d,f),I=v.createElement("script"),sr(I),dr(I,"link",d),v.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},S.set(R,I))}}function Df(d,f,v,S){var R=(R=ae.current)?Gs(R):null;if(!R)throw Error(i(446));switch(d){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(f=ji(v.href),v=ii(R).hoistableStyles,S=v.get(f),S||(S={type:"style",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){d=ji(v.href);var I=ii(R).hoistableStyles,W=I.get(d);if(W||(R=R.ownerDocument||R,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(d,W),(I=R.querySelector(Ra(d)))&&!I._p&&(W.instance=I,W.state.loading=5),Lr.has(d)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Lr.set(d,v),I||Mg(R,d,v,W.state))),f&&S===null)throw Error(i(528,""));return W}if(f&&S!==null)throw Error(i(529,""));return null;case"script":return f=v.async,v=v.src,typeof v=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Li(v),v=ii(R).hoistableScripts,S=v.get(f),S||(S={type:"script",instance:null,count:0,state:null},v.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,d))}}function ji(d){return'href="'+Ir(d)+'"'}function Ra(d){return'link[rel="stylesheet"]['+d+"]"}function Vf(d){return b({},d,{"data-precedence":d.precedence,precedence:null})}function Mg(d,f,v,S){d.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=d.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),dr(f,"link",v),sr(f),d.head.appendChild(f))}function Li(d){return'[src="'+Ir(d)+'"]'}function Ia(d){return"script[async]"+d}function Of(d,f,v){if(f.count++,f.instance===null)switch(f.type){case"style":var S=d.querySelector('style[data-href~="'+Ir(v.href)+'"]');if(S)return f.instance=S,sr(S),S;var R=b({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return S=(d.ownerDocument||d).createElement("style"),sr(S),dr(S,"style",R),Hs(S,v.precedence,d),f.instance=S;case"stylesheet":R=ji(v.href);var I=d.querySelector(Ra(R));if(I)return f.state.loading|=4,f.instance=I,sr(I),I;S=Vf(v),(R=Lr.get(R))&&vu(S,R),I=(d.ownerDocument||d).createElement("link"),sr(I);var W=I;return W._p=new Promise(function(le,be){W.onload=le,W.onerror=be}),dr(I,"link",S),f.state.loading|=4,Hs(I,v.precedence,d),f.instance=I;case"script":return I=Li(v.src),(R=d.querySelector(Ia(I)))?(f.instance=R,sr(R),R):(S=v,(R=Lr.get(I))&&(S=b({},v),xu(S,R)),d=d.ownerDocument||d,R=d.createElement("script"),sr(R),dr(R,"link",S),d.head.appendChild(R),f.instance=R);case"void":return null;default:throw Error(i(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(S=f.instance,f.state.loading|=4,Hs(S,v.precedence,d));return f.instance}function Hs(d,f,v){for(var S=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),R=S.length?S[S.length-1]:null,I=R,W=0;W<S.length;W++){var le=S[W];if(le.dataset.precedence===f)I=le;else if(I!==R)break}I?I.parentNode.insertBefore(d,I.nextSibling):(f=v.nodeType===9?v.head:v,f.insertBefore(d,f.firstChild))}function vu(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.title==null&&(d.title=f.title)}function xu(d,f){d.crossOrigin==null&&(d.crossOrigin=f.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=f.referrerPolicy),d.integrity==null&&(d.integrity=f.integrity)}var Ws=null;function jf(d,f,v){if(Ws===null){var S=new Map,R=Ws=new Map;R.set(v,S)}else R=Ws,S=R.get(v),S||(S=new Map,R.set(v,S));if(S.has(d))return S;for(S.set(d,null),v=v.getElementsByTagName(d),R=0;R<v.length;R++){var I=v[R];if(!(I[hr]||I[nt]||d==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var W=I.getAttribute(f)||"";W=d+W;var le=S.get(W);le?le.push(I):S.set(W,[I])}}return S}function Lf(d,f,v){d=d.ownerDocument||d,d.head.insertBefore(v,f==="title"?d.querySelector("head > title"):null)}function Bg(d,f,v){if(v===1||f.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return d=f.disabled,typeof f.precedence=="string"&&d==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function $f(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Ng(d,f,v,S){if(v.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(v.state.loading&4)===0){if(v.instance===null){var R=ji(S.href),I=f.querySelector(Ra(R));if(I){f=I._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(d.count++,d=Ks.bind(d),f.then(d,d)),v.state.loading|=4,v.instance=I,sr(I);return}I=f.ownerDocument||f,S=Vf(S),(R=Lr.get(R))&&vu(S,R),I=I.createElement("link"),sr(I);var W=I;W._p=new Promise(function(le,be){W.onload=le,W.onerror=be}),dr(I,"link",S),v.instance=I}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(v,f),(f=v.state.preload)&&(v.state.loading&3)===0&&(d.count++,v=Ks.bind(d),f.addEventListener("load",v),f.addEventListener("error",v))}}var bu=0;function Dg(d,f){return d.stylesheets&&d.count===0&&Xs(d,d.stylesheets),0<d.count||0<d.imgCount?function(v){var S=setTimeout(function(){if(d.stylesheets&&Xs(d,d.stylesheets),d.unsuspend){var I=d.unsuspend;d.unsuspend=null,I()}},6e4+f);0<d.imgBytes&&bu===0&&(bu=62500*mg());var R=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&Xs(d,d.stylesheets),d.unsuspend)){var I=d.unsuspend;d.unsuspend=null,I()}},(d.imgBytes>bu?50:800)+f);return d.unsuspend=v,function(){d.unsuspend=null,clearTimeout(S),clearTimeout(R)}}:null}function Ks(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xs(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Ys=null;function Xs(d,f){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Ys=new Map,f.forEach(Vg,d),Ys=null,Ks.call(d))}function Vg(d,f){if(!(f.state.loading&4)){var v=Ys.get(d);if(v)var S=v.get(null);else{v=new Map,Ys.set(d,v);for(var R=d.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<R.length;I++){var W=R[I];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(v.set(W.dataset.precedence,W),S=W)}S&&v.set(null,S)}R=f.instance,W=R.getAttribute("data-precedence"),I=v.get(W)||S,I===S&&v.set(null,R),v.set(W,R),this.count++,S=Ks.bind(this),R.addEventListener("load",S),R.addEventListener("error",S),I?I.parentNode.insertBefore(R,I.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(R,d.firstChild)),f.state.loading|=4}}var Ma={$$typeof:N,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Og(d,f,v,S,R,I,W,le,be){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=de(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.hiddenUpdates=de(null),this.identifierPrefix=S,this.onUncaughtError=R,this.onCaughtError=I,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function Ff(d,f,v,S,R,I,W,le,be,$e,Ye,Ze){return d=new Og(d,f,v,W,be,$e,Ye,Ze,le),f=1,I===!0&&(f|=24),I=Sr(3,null,null,f),d.current=I,I.stateNode=d,f=Qo(),f.refCount++,d.pooledCache=f,f.refCount++,I.memoizedState={element:S,isDehydrated:v,cache:f},nl(I),d}function Uf(d){return d?(d=gi,d):gi}function zf(d,f,v,S,R,I){R=Uf(R),S.context===null?S.context=R:S.pendingContext=R,S=_n(f),S.payload={element:v},I=I===void 0?null:I,I!==null&&(S.callback=I),v=An(d,S,f),v!==null&&(br(v,d,f),la(v,d,f))}function qf(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<f?v:f}}function Eu(d,f){qf(d,f),(d=d.alternate)&&qf(d,f)}function Gf(d){if(d.tag===13||d.tag===31){var f=qn(d,67108864);f!==null&&br(f,d,67108864),Eu(d,67108864)}}function Hf(d){if(d.tag===13||d.tag===31){var f=Tr();f=ct(f);var v=qn(d,f);v!==null&&br(v,d,f),Eu(d,f)}}var Js=!0;function jg(d,f,v,S){var R=ee.T;ee.T=null;var I=ie.p;try{ie.p=2,Su(d,f,v,S)}finally{ie.p=I,ee.T=R}}function Lg(d,f,v,S){var R=ee.T;ee.T=null;var I=ie.p;try{ie.p=8,Su(d,f,v,S)}finally{ie.p=I,ee.T=R}}function Su(d,f,v,S){if(Js){var R=_u(S);if(R===null)lu(d,f,S,Zs,v),Kf(d,S);else if(Fg(R,d,f,v,S))S.stopPropagation();else if(Kf(d,S),f&4&&-1<$g.indexOf(d)){for(;R!==null;){var I=Kr(R);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var W=et(I.pendingLanes);if(W!==0){var le=I;for(le.pendingLanes|=2,le.entangledLanes|=2;W;){var be=1<<31-Re(W);le.entanglements[1]|=be,W&=~be}Wr(I),(jt&6)===0&&(Ns=qe()+500,Pa(0))}}break;case 31:case 13:le=qn(I,2),le!==null&&br(le,I,2),Vs(),Eu(I,2)}if(I=_u(S),I===null&&lu(d,f,S,Zs,v),I===R)break;R=I}R!==null&&S.stopPropagation()}else lu(d,f,S,null,v)}}function _u(d){return d=Po(d),Au(d)}var Zs=null;function Au(d){if(Zs=null,d=fr(d),d!==null){var f=l(d);if(f===null)d=null;else{var v=f.tag;if(v===13){if(d=u(f),d!==null)return d;d=null}else if(v===31){if(d=h(f),d!==null)return d;d=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null)}}return Zs=d,null}function Wf(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case tt:return 2;case Qe:return 8;case gt:case pt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var Pu=!1,Dn=null,Vn=null,On=null,Ba=new Map,Na=new Map,jn=[],$g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kf(d,f){switch(d){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":Ba.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(f.pointerId)}}function Da(d,f,v,S,R,I){return d===null||d.nativeEvent!==I?(d={blockedOn:f,domEventName:v,eventSystemFlags:S,nativeEvent:I,targetContainers:[R]},f!==null&&(f=Kr(f),f!==null&&Gf(f)),d):(d.eventSystemFlags|=S,f=d.targetContainers,R!==null&&f.indexOf(R)===-1&&f.push(R),d)}function Fg(d,f,v,S,R){switch(f){case"focusin":return Dn=Da(Dn,d,f,v,S,R),!0;case"dragenter":return Vn=Da(Vn,d,f,v,S,R),!0;case"mouseover":return On=Da(On,d,f,v,S,R),!0;case"pointerover":var I=R.pointerId;return Ba.set(I,Da(Ba.get(I)||null,d,f,v,S,R)),!0;case"gotpointercapture":return I=R.pointerId,Na.set(I,Da(Na.get(I)||null,d,f,v,S,R)),!0}return!1}function Yf(d){var f=fr(d.target);if(f!==null){var v=l(f);if(v!==null){if(f=v.tag,f===13){if(f=u(v),f!==null){d.blockedOn=f,vt(d.priority,function(){Hf(v)});return}}else if(f===31){if(f=h(v),f!==null){d.blockedOn=f,vt(d.priority,function(){Hf(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){d.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Qs(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var v=_u(d.nativeEvent);if(v===null){v=d.nativeEvent;var S=new v.constructor(v.type,v);Ao=S,v.target.dispatchEvent(S),Ao=null}else return f=Kr(v),f!==null&&Gf(f),d.blockedOn=v,!1;f.shift()}return!0}function Xf(d,f,v){Qs(d)&&v.delete(f)}function Ug(){Pu=!1,Dn!==null&&Qs(Dn)&&(Dn=null),Vn!==null&&Qs(Vn)&&(Vn=null),On!==null&&Qs(On)&&(On=null),Ba.forEach(Xf),Na.forEach(Xf)}function eo(d,f){d.blockedOn===f&&(d.blockedOn=null,Pu||(Pu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ug)))}var ro=null;function Jf(d){ro!==d&&(ro=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ro===d&&(ro=null);for(var f=0;f<d.length;f+=3){var v=d[f],S=d[f+1],R=d[f+2];if(typeof S!="function"){if(Au(S||v)===null)continue;break}var I=Kr(v);I!==null&&(d.splice(f,3),f-=3,_l(I,{pending:!0,data:R,method:v.method,action:S},S,R))}}))}function $i(d){function f(be){return eo(be,d)}Dn!==null&&eo(Dn,d),Vn!==null&&eo(Vn,d),On!==null&&eo(On,d),Ba.forEach(f),Na.forEach(f);for(var v=0;v<jn.length;v++){var S=jn[v];S.blockedOn===d&&(S.blockedOn=null)}for(;0<jn.length&&(v=jn[0],v.blockedOn===null);)Yf(v),v.blockedOn===null&&jn.shift();if(v=(d.ownerDocument||d).$$reactFormReplay,v!=null)for(S=0;S<v.length;S+=3){var R=v[S],I=v[S+1],W=R[ht]||null;if(typeof I=="function")W||Jf(v);else if(W){var le=null;if(I&&I.hasAttribute("formAction")){if(R=I,W=I[ht]||null)le=W.formAction;else if(Au(R)!==null)continue}else le=W.action;typeof le=="function"?v[S+1]=le:(v.splice(S,3),S-=3),Jf(v)}}}function Zf(){function d(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(W){return R=W})},focusReset:"manual",scroll:"manual"})}function f(){R!==null&&(R(),R=null),S||setTimeout(v,20)}function v(){if(!S&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,R=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(v,100),function(){S=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),R!==null&&(R(),R=null)}}}function wu(d){this._internalRoot=d}no.prototype.render=wu.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(i(409));var v=f.current,S=Tr();zf(v,S,d,f,null,null)},no.prototype.unmount=wu.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;zf(d.current,2,null,d,null,null),Vs(),f[xt]=null}};function no(d){this._internalRoot=d}no.prototype.unstable_scheduleHydration=function(d){if(d){var f=rt();d={blockedOn:null,target:d,priority:f};for(var v=0;v<jn.length&&f!==0&&f<jn[v].priority;v++);jn.splice(v,0,d),v===0&&Yf(d)}};var Qf=t.version;if(Qf!=="19.2.3")throw Error(i(527,Qf,"19.2.3"));ie.findDOMNode=function(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(i(188)):(d=Object.keys(d).join(","),Error(i(268,d)));return d=m(f),d=d!==null?g(d):null,d=d===null?null:d.stateNode,d};var zg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!io.isDisabled&&io.supportsFiber)try{Et=io.inject(zg),At=io}catch{}}return reactDomClient_production.createRoot=function(d,f){if(!o(d))throw Error(i(299));var v=!1,S="",R=ih,I=ah,W=sh;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(R=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=Ff(d,1,!1,null,null,v,S,null,R,I,W,Zf),d[xt]=f.current,ou(d),new wu(f)},reactDomClient_production.hydrateRoot=function(d,f,v){if(!o(d))throw Error(i(299));var S=!1,R="",I=ih,W=ah,le=sh,be=null;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(R=v.identifierPrefix),v.onUncaughtError!==void 0&&(I=v.onUncaughtError),v.onCaughtError!==void 0&&(W=v.onCaughtError),v.onRecoverableError!==void 0&&(le=v.onRecoverableError),v.formState!==void 0&&(be=v.formState)),f=Ff(d,1,!0,f,v??null,S,R,be,I,W,le,Zf),f.context=Uf(null),v=f.current,S=Tr(),S=ct(S),R=_n(S),R.callback=null,An(v,R,S),v=S,f.current.lanes=v,xe(f,v),Wr(f),d[xt]=f.current,ou(d),new no(f)},reactDomClient_production.version="19.2.3",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createHashHistory(e={}){function t(o,l){let{pathname:u="/",search:h="",hash:p=""}=parsePath(o.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),createLocation("",{pathname:u,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){let u=o.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let p=o.location.href,m=p.indexOf("#");h=m===-1?p:p.slice(0,m)}return h+"#"+(typeof l=="string"?l:createPath(l))}function i(o,l){warning(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return getUrlBasedHistory(t,n,i,e)}function invariant$2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function warning(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(e,t){return{usr:e.state,key:e.key,idx:t}}function createLocation(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?parsePath(t):t,state:n,key:t&&t.key||i||createKey()}}function createPath({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function parsePath(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function getUrlBasedHistory(e,t,n,i={}){let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,h="POP",p=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function b(){h="POP";let T=g(),C=T==null?null:T-m;m=T,p&&p({action:h,location:w.location,delta:C})}function E(T,C){h="PUSH";let B=createLocation(w.location,T,C);n&&n(B,T),m=g()+1;let N=getHistoryState(B,m),j=w.createHref(B);try{u.pushState(N,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(j)}l&&p&&p({action:h,location:w.location,delta:1})}function _(T,C){h="REPLACE";let B=createLocation(w.location,T,C);n&&n(B,T),m=g();let N=getHistoryState(B,m),j=w.createHref(B);u.replaceState(N,"",j),l&&p&&p({action:h,location:w.location,delta:0})}function A(T){return createBrowserURLImpl(T)}let w={get action(){return h},get location(){return e(o,u)},listen(T){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,b),p=T,()=>{o.removeEventListener(PopStateEventType,b),p=null}},createHref(T){return t(o,T)},createURL:A,encodeLocation(T){let C=A(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:E,replace:_,go(T){return u.go(T)}};return w}function createBrowserURLImpl(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:createPath(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function matchRoutes(e,t,n="/"){return matchRoutesImpl(e,t,n,!1)}function matchRoutesImpl(e,t,n,i){let o=typeof t=="string"?parsePath(t):t,l=stripBasename(o.pathname||"/",n);if(l==null)return null;let u=flattenRoutes(e);rankRouteBranches(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let m=decodePath(l);h=matchRouteBranch(u[p],m,i)}return h}function flattenRoutes(e,t=[],n=[],i="",o=!1){let l=(u,h,p=o,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&p)return;invariant$2(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let b=joinPaths([i,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(invariant$2(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),flattenRoutes(u.children,t,E,b,p)),!(u.path==null&&!u.index)&&t.push({path:b,score:computeScore(b,u.index),routesMeta:E})};return e.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,h);else for(let m of explodeOptionalSegments(u.path))l(u,h,!0,m)}),t}function explodeOptionalSegments(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=explodeOptionalSegments(i.join("/")),h=[];return h.push(...u.map(p=>p===""?l:[l,p].join("/"))),o&&h.push(...u),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function rankRouteBranches(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:compareIndexes(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,t){let n=e.split("/"),i=n.length;return n.some(isSplat)&&(i+=splatPenalty),t&&(i+=indexRouteValue),n.filter(o=>!isSplat(o)).reduce((o,l)=>o+(paramRe.test(l)?dynamicSegmentValue:l===""?emptySegmentValue:staticSegmentValue),i)}function compareIndexes(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function matchRouteBranch(e,t,n=!1){let{routesMeta:i}=e,o={},l="/",u=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,g=l==="/"?t:t.slice(l.length)||"/",b=matchPath({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),E=p.route;if(!b&&m&&n&&!i[i.length-1].route.index&&(b=matchPath({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!b)return null;Object.assign(o,b.params),u.push({params:o,pathname:joinPaths([l,b.pathname]),pathnameBase:normalizePathname(joinPaths([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=joinPaths([l,b.pathnameBase]))}return u}function matchPath(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=compilePath(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:b},E)=>{if(g==="*"){let A=h[E]||"";u=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const _=h[E];return b&&!_?m[g]=void 0:m[g]=(_||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function compilePath(e,t=!1,n=!0){warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function decodePath(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return warning(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function stripBasename(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=e=>ABSOLUTE_URL_REGEX.test(e);function resolvePath(e,t="/"){let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?parsePath(e):e,l;if(n)if(isAbsoluteUrl(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),warning(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=resolvePathname(n.substring(1),"/"):l=resolvePathname(n,t)}else l=t;return{pathname:l,search:normalizeSearch(i),hash:normalizeHash(o)}}function resolvePathname(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function getInvalidPathError(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function getResolveToMatches(e){let t=getPathContributingMatches(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function resolveTo(e,t,n,i=!1){let o;typeof e=="string"?o=parsePath(e):(o={...e},invariant$2(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$2(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$2(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let l=e===""||o.pathname==="",u=l?"/":o.pathname,h;if(u==null)h=n;else{let b=t.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;o.pathname=E.join("/")}h=b>=0?t[b]:"/"}let p=resolvePath(o,h),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,ErrorResponseImpl=class{constructor(e,t,n,i=!1){this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function getRoutePattern(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function parseToInfo(e,t){let n=e;if(typeof n!="string"||!ABSOLUTE_URL_REGEX.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,o=!1;if(isBrowser$2)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),h=stripBasename(u.pathname,t);u.origin===l.origin&&h!=null?n=h+u.search+u.hash:o=!0}catch{warning(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var RSCRouterContext=reactExports.createContext(!1),ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";var ERROR_DIGEST_BASE="REACT_ROUTER_ERROR",ERROR_DIGEST_REDIRECT="REDIRECT",ERROR_DIGEST_ROUTE_ERROR_RESPONSE="ROUTE_ERROR_RESPONSE";function decodeRedirectErrorDigest(e){if(e.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_REDIRECT}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function decodeRouteErrorResponseDigest(e){if(e.startsWith(`${ERROR_DIGEST_BASE}:${ERROR_DIGEST_ROUTE_ERROR_RESPONSE}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new ErrorResponseImpl(t.status,t.statusText,t.data)}catch{}}function useHref(e,{relative:t}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=reactExports.useContext(NavigationContext),{hash:o,pathname:l,search:u}=useResolvedPath(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:joinPaths([n,l])),i.createHref({pathname:h,search:u,hash:o})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let e=reactExports.useContext(DataRouterContext),{basename:t,navigator:n}=reactExports.useContext(NavigationContext),{matches:i}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),l=JSON.stringify(getResolveToMatches(i)),u=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{u.current=!0}),reactExports.useCallback((p,m={})=>{if(warning(u.current,navigateEffectWarning),!u.current)return;if(typeof p=="number"){n.go(p);return}let g=resolveTo(p,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:joinPaths([t,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[t,n,l,o,e])}var OutletContext=reactExports.createContext(null);function useOutlet(e){let t=reactExports.useContext(RouteContext).outlet;return reactExports.useMemo(()=>t&&reactExports.createElement(OutletContext.Provider,{value:e},t),[t,e])}function useResolvedPath(e,{relative:t}={}){let{matches:n}=reactExports.useContext(RouteContext),{pathname:i}=useLocation(),o=JSON.stringify(getResolveToMatches(n));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function useRoutes(e,t){return useRoutesImpl(e,t)}function useRoutesImpl(e,t,n,i,o){var B;invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=reactExports.useContext(NavigationContext),{matches:u}=reactExports.useContext(RouteContext),h=u[u.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let N=b&&b.path||"";warningOnce(m,!b||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let E=useLocation(),_;if(t){let N=typeof t=="string"?parsePath(t):t;invariant$2(g==="/"||((B=N.pathname)==null?void 0:B.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),_=N}else _=E;let A=_.pathname||"/",w=A;if(g!=="/"){let N=g.replace(/^\//,"").split("/");w="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=matchRoutes(e,{pathname:w});warning(b||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),warning(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=_renderMatches(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:joinPaths([g,l.encodeLocation?l.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:joinPaths([g,l.encodeLocation?l.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),u,n,i,o);return t&&C?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},C):C}function DefaultErrorComponent(){let e=useRouteError(),t=isRouteErrorResponse(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:l},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:l},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},t),n?reactExports.createElement("pre",{style:o},n):null,u)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=decodeRouteErrorResponseDigest(e.digest);n&&(e=n)}let t=e!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?reactExports.createElement(RSCErrorHandler,{error:e},t):t}};RenderErrorBoundary.contextType=RSCRouterContext;var errorRedirectHandledMap=new WeakMap;function RSCErrorHandler({children:e,error:t}){let{basename:n}=reactExports.useContext(NavigationContext);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=decodeRedirectErrorDigest(t.digest);if(i){let o=errorRedirectHandledMap.get(t);if(o)throw o;let l=parseToInfo(i.location,n);if(isBrowser$2&&!errorRedirectHandledMap.get(t))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw errorRedirectHandledMap.set(t,u),u}return reactExports.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function RenderedRoute({routeContext:e,match:t,children:n}){let i=reactExports.useContext(DataRouterContext);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),reactExports.createElement(RouteContext.Provider,{value:e},n)}function _renderMatches(e,t=[],n=null,i=null,o=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=n==null?void 0:n.errors;if(u!=null){let g=l.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);invariant$2(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,p=-1;if(n)for(let g=0;g<l.length;g++){let b=l[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=g),b.route.id){let{loaderData:E,errors:_}=n,A=b.route.loader&&!E.hasOwnProperty(b.route.id)&&(!_||_[b.route.id]===void 0);if(b.route.lazy||A){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let m=n&&i?(g,b)=>{var E,_;i(g,{location:n.location,params:((_=(E=n.matches)==null?void 0:E[0])==null?void 0:_.params)??{},unstable_pattern:getRoutePattern(n.matches),errorInfo:b})}:void 0;return l.reduceRight((g,b,E)=>{let _,A=!1,w=null,T=null;n&&(_=u&&b.route.id?u[b.route.id]:void 0,w=b.route.errorElement||defaultErrorElement,h&&(p<0&&E===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,T=null):p===E&&(A=!0,T=b.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,E+1)),B=()=>{let N;return _?N=w:A?N=T:b.route.Component?N=reactExports.createElement(b.route.Component,null):b.route.element?N=b.route.element:N=g,reactExports.createElement(RenderedRoute,{match:b,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:N})};return n&&(b.route.ErrorBoundary||b.route.errorElement||E===0)?reactExports.createElement(RenderErrorBoundary,{location:n.location,revalidation:n.revalidation,component:w,error:_,children:B(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):B()},null)}function getDataRouterConsoleError(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(e){let t=reactExports.useContext(DataRouterContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useDataRouterState(e){let t=reactExports.useContext(DataRouterStateContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useRouteContext(e){let t=reactExports.useContext(RouteContext);return invariant$2(t,getDataRouterConsoleError(e)),t}function useCurrentRouteId(e){let t=useRouteContext(e),n=t.matches[t.matches.length-1];return invariant$2(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var i;let e=reactExports.useContext(RouteErrorContext),t=useDataRouterState("useRouteError"),n=useCurrentRouteId("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function useNavigateStable(){let{router:e}=useDataRouterContext("useNavigate"),t=useCurrentRouteId("useNavigate"),n=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{n.current=!0}),reactExports.useCallback(async(o,l={})=>{warning(n.current,navigateEffectWarning),n.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...l}))},[e,t])}var alreadyWarned={};function warningOnce(e,t,n){!t&&!alreadyWarned[e]&&(alreadyWarned[e]=!0,warning(!1,n))}reactExports.memo(DataRoutes);function DataRoutes({routes:e,future:t,state:n,onError:i}){return useRoutesImpl(e,void 0,n,i,t)}function Navigate({to:e,replace:t,state:n,relative:i}){invariant$2(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=reactExports.useContext(NavigationContext);warning(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=reactExports.useContext(RouteContext),{pathname:u}=useLocation(),h=useNavigate(),p=resolveTo(e,getResolveToMatches(l),u,i==="path"),m=JSON.stringify(p);return reactExports.useEffect(()=>{h(JSON.parse(m),{replace:t,state:n,relative:i})},[h,m,i,t,n]),null}function Outlet(e){return useOutlet(e.context)}function Route(e){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:o,static:l=!1,unstable_useTransitions:u}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=e.replace(/^\/*/,"/"),p=reactExports.useMemo(()=>({basename:h,navigator:o,static:l,unstable_useTransitions:u,future:{}}),[h,o,l,u]);typeof n=="string"&&(n=parsePath(n));let{pathname:m="/",search:g="",hash:b="",state:E=null,key:_="default"}=n,A=reactExports.useMemo(()=>{let w=stripBasename(m,h);return w==null?null:{location:{pathname:w,search:g,hash:b,state:E,key:_},navigationType:i}},[h,m,g,b,E,_,i]);return warning(A!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:reactExports.createElement(NavigationContext.Provider,{value:p},reactExports.createElement(LocationContext.Provider,{children:t,value:A}))}function Routes({children:e,location:t}){return useRoutes(createRoutesFromChildren(e),t)}function createRoutesFromChildren(e,t=[]){let n=[];return reactExports.Children.forEach(e,(i,o)=>{if(!reactExports.isValidElement(i))return;let l=[...t,o];if(i.type===reactExports.Fragment){n.push.apply(n,createRoutesFromChildren(i.props.children,l));return}invariant$2(i.type===Route,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=createRoutesFromChildren(i.props.children,l)),n.push(u)}),n}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function isButtonElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="button"}function isFormElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="form"}function isInputElement(e){return isHtmlElement(e)&&e.tagName.toLowerCase()==="input"}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,t){return e.button===0&&(!t||t==="_self")&&!isModifiedEvent(e)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(e){return e!=null&&!supportedFormEncTypes.has(e)?(warning(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):e}function getFormSubmissionInfo(e,t){let n,i,o,l,u;if(isFormElement(e)){let h=e.getAttribute("action");i=h?stripBasename(h,t):null,n=e.getAttribute("method")||defaultMethod,o=getFormEncType(e.getAttribute("enctype"))||defaultEncType,l=new FormData(e)}else if(isButtonElement(e)||isInputElement(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||h.getAttribute("action");if(i=p?stripBasename(p,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||defaultMethod,o=getFormEncType(e.getAttribute("formenctype"))||getFormEncType(h.getAttribute("enctype"))||defaultEncType,l=new FormData(h,e),!isFormDataSubmitterSupported()){let{name:m,type:g,value:b}=e;if(g==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,b)}}else{if(isHtmlElement(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=defaultMethod,i=null,o=defaultEncType,u=e}return l&&o==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function singleFetchUrl(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&stripBasename(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function loadRouteModule(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function getKeyedPrefetchLinks(e,t,n){let i=await Promise.all(e.map(async o=>{let l=t.routes[o.route.id];if(l){let u=await loadRouteModule(l,n);return u.links?u.links():[]}return[]}));return dedupeLinkDescriptors(i.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(e,t,n,i,o,l){let u=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,h=(p,m)=>{var g;return n[m].pathname!==p.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==p.params["*"]};return l==="assets"?t.filter((p,m)=>u(p,m)||h(p,m)):l==="data"?t.filter((p,m)=>{var b;let g=i.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(u(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function getModuleLinkHrefs(e,t,{includeHydrateFallback:n}={}){return dedupeHrefs(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function dedupeHrefs(e){return[...new Set(e)]}function sortKeys(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function dedupeLinkDescriptors(e,t){let n=new Set;return new Set(t),e.reduce((i,o)=>{let l=JSON.stringify(sortKeys(o));return n.has(l)||(n.add(l),i.push({key:l,link:o})),i},[])}function useDataRouterContext2(){let e=reactExports.useContext(DataRouterContext);return invariant2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function useDataRouterStateContext(){let e=reactExports.useContext(DataRouterStateContext);return invariant2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let e=reactExports.useContext(FrameworkContext);return invariant2(e,"You must render this element inside a <HydratedRouter> element"),e}function usePrefetchBehavior(e,t){let n=reactExports.useContext(FrameworkContext),[i,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:b}=t,E=reactExports.useRef(null);reactExports.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let w=C=>{C.forEach(B=>{u(B.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return E.current&&T.observe(E.current),()=>{T.disconnect()}}},[e]),reactExports.useEffect(()=>{if(i){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[i]);let _=()=>{o(!0)},A=()=>{o(!1),u(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:composeEventHandlers(h,_),onBlur:composeEventHandlers(p,A),onMouseEnter:composeEventHandlers(m,_),onMouseLeave:composeEventHandlers(g,A),onTouchStart:composeEventHandlers(b,_)}]:[!1,E,{}]}function composeEventHandlers(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function PrefetchPageLinks({page:e,...t}){let{router:n}=useDataRouterContext2(),i=reactExports.useMemo(()=>matchRoutes(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?reactExports.createElement(PrefetchPageLinksImpl,{page:e,matches:i,...t}):null}function useKeyedPrefetchLinks(e){let{manifest:t,routeModules:n}=useFrameworkContext(),[i,o]=reactExports.useState([]);return reactExports.useEffect(()=>{let l=!1;return getKeyedPrefetchLinks(e,t,n).then(u=>{l||o(u)}),()=>{l=!0}},[e,t,n]),i}function PrefetchPageLinksImpl({page:e,matches:t,...n}){let i=useLocation(),{manifest:o,routeModules:l}=useFrameworkContext(),{basename:u}=useDataRouterContext2(),{loaderData:h,matches:p}=useDataRouterStateContext(),m=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,p,o,i,"data"),[e,t,p,o,i]),g=reactExports.useMemo(()=>getNewMatchesForLinks(e,t,p,o,i,"assets"),[e,t,p,o,i]),b=reactExports.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let A=new Set,w=!1;if(t.forEach(C=>{var N;let B=o.routes[C.route.id];!B||!B.hasLoader||(!m.some(j=>j.route.id===C.route.id)&&C.route.id in h&&((N=l[C.route.id])!=null&&N.shouldRevalidate)||B.hasClientLoader?w=!0:A.add(C.route.id))}),A.size===0)return[];let T=singleFetchUrl(e,u,"data");return w&&A.size>0&&T.searchParams.set("_routes",t.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[u,h,i,o,m,t,e,l]),E=reactExports.useMemo(()=>getModuleLinkHrefs(g,o),[g,o]),_=useKeyedPrefetchLinks(g);return reactExports.createElement(reactExports.Fragment,null,b.map(A=>reactExports.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>reactExports.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),_.map(({key:A,link:w})=>reactExports.createElement("link",{key:A,nonce:n.nonce,...w})))}function mergeRefs(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var isBrowser2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser2&&(window.__reactRouterVersion="7.11.0")}catch{}function HashRouter({basename:e,children:t,unstable_useTransitions:n,window:i}){let o=reactExports.useRef();o.current==null&&(o.current=createHashHistory({window:i,v5Compat:!0}));let l=o.current,[u,h]=reactExports.useState({action:l.action,location:l.location}),p=reactExports.useCallback(m=>{n===!1?h(m):reactExports.startTransition(()=>h(m))},[n]);return reactExports.useLayoutEffect(()=>l.listen(p),[l,p]),reactExports.createElement(Router,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:o,reloadDocument:l,replace:u,state:h,target:p,to:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:E,..._},A){let{basename:w,unstable_useTransitions:T}=reactExports.useContext(NavigationContext),C=typeof m=="string"&&ABSOLUTE_URL_REGEX2.test(m),B=parseToInfo(m,w);m=B.to;let N=useHref(m,{relative:o}),[j,M,D]=usePrefetchBehavior(i,_),V=useLinkClickHandler(m,{replace:u,state:h,target:p,preventScrollReset:g,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:E,unstable_useTransitions:T});function L(J){t&&t(J),J.defaultPrevented||V(J)}let U=reactExports.createElement("a",{..._,...D,href:B.absoluteURL||N,onClick:B.isExternal||l?t:L,ref:mergeRefs(A,M),target:p,"data-discover":!C&&n==="render"?"true":void 0});return j&&!C?reactExports.createElement(reactExports.Fragment,null,U,reactExports.createElement(PrefetchPageLinks,{page:N})):U});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:o=!1,style:l,to:u,viewTransition:h,children:p,...m},g){let b=useResolvedPath(u,{relative:m.relative}),E=useLocation(),_=reactExports.useContext(DataRouterStateContext),{navigator:A,basename:w}=reactExports.useContext(NavigationContext),T=_!=null&&useViewTransitionState(b)&&h===!0,C=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,B=E.pathname,N=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(B=B.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&w&&(N=stripBasename(N,w)||N);const j=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=B===C||!o&&B.startsWith(C)&&B.charAt(j)==="/",D=N!=null&&(N===C||!o&&N.startsWith(C)&&N.charAt(C.length)==="/"),V={isActive:M,isPending:D,isTransitioning:T},L=M?t:void 0,U;typeof i=="function"?U=i(V):U=[i,M?"active":null,D?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(V):l;return reactExports.createElement(Link,{...m,"aria-current":L,className:U,ref:g,style:J,to:u,viewTransition:h},typeof p=="function"?p(V):p)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:o,state:l,method:u=defaultMethod,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:E,..._},A)=>{let{unstable_useTransitions:w}=reactExports.useContext(NavigationContext),T=useSubmit(),C=useFormAction(h,{relative:m}),B=u.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&ABSOLUTE_URL_REGEX2.test(h),j=M=>{if(p&&p(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,V=(D==null?void 0:D.getAttribute("formmethod"))||u,L=()=>T(D||M.currentTarget,{fetcherKey:t,method:V,navigate:n,replace:o,state:l,relative:m,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:E});w&&n!==!1?reactExports.startTransition(()=>L()):L()};return reactExports.createElement("form",{ref:A,method:B,action:C,onSubmit:i?p:j,..._,"data-discover":!N&&e==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(e){let t=reactExports.useContext(DataRouterContext);return invariant$2(t,getDataRouterConsoleError2(e)),t}function useLinkClickHandler(e,{target:t,replace:n,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p}={}){let m=useNavigate(),g=useLocation(),b=useResolvedPath(e,{relative:l});return reactExports.useCallback(E=>{if(shouldProcessLinkClick(E,t)){E.preventDefault();let _=n!==void 0?n:createPath(g)===createPath(b),A=()=>m(e,{replace:_,state:i,preventScrollReset:o,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:h});p?reactExports.startTransition(()=>A()):A()}},[g,m,b,n,i,t,e,o,l,u,h,p])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:e}=useDataRouterContext3("useSubmit"),{basename:t}=reactExports.useContext(NavigationContext),n=useRouteId(),i=e.fetch,o=e.navigate;return reactExports.useCallback(async(l,u={})=>{let{action:h,method:p,encType:m,formData:g,body:b}=getFormSubmissionInfo(l,t);if(u.navigate===!1){let E=u.fetcherKey||getUniqueFetcherId();await i(E,n,u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:b,formMethod:u.method||p,formEncType:u.encType||m,flushSync:u.flushSync})}else await o(u.action||h,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:b,formMethod:u.method||p,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,o,t,n])}function useFormAction(e,{relative:t}={}){let{basename:n}=reactExports.useContext(NavigationContext),i=reactExports.useContext(RouteContext);invariant$2(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),l={...useResolvedPath(e||".",{relative:t})},u=useLocation();if(e==null){l.search=u.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:joinPaths([n,l.pathname])),createPath(l)}function useViewTransitionState(e,{relative:t}={}){let n=reactExports.useContext(ViewTransitionContext);invariant$2(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(e,{relative:t});if(!n.isTransitioning)return!1;let l=stripBasename(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=stripBasename(n.nextLocation.pathname,i)||n.nextLocation.pathname;return matchPath(o.pathname,u)!=null||matchPath(o.pathname,l)!=null}var reactDomExports=requireReactDom();const LayoutGroupContext=reactExports.createContext({});function useConstant(e){const t=reactExports.useRef(null);return t.current===null&&(t.current=e()),t.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(e,t){e.indexOf(t)===-1&&e.push(t)}function removeItem(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function moveItem([...e],t,n){const i=t<0?e.length+t:t;if(i>=0&&i<e.length){const o=n<0?e.length+n:n,[l]=e.splice(t,1);e.splice(o,0,l)}return e}const clamp=(e,t,n)=>n>t?t:n<e?e:n;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function isObject$1(e){return typeof e=="object"&&e!==null}const isZeroValueString=e=>/^0[^.\s]+$/u.test(e);function memo(e){let t;return()=>(t===void 0&&(t=e()),t)}const noop$7=e=>e,combineFunctions=(e,t)=>n=>t(e(n)),pipe=(...e)=>e.reduce(combineFunctions),progress=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class SubscriptionManager{constructor(){this.subscriptions=[]}add(t){return addUniqueItem(this.subscriptions,t),()=>removeItem(this.subscriptions,t)}notify(t,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=e=>e*1e3,millisecondsToSeconds=e=>e/1e3;function velocityPerSecond(e,t){return t?e*(1e3/t):0}const calcBezier=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(e,t,n,i,o){let l,u,h=0;do u=t+(n-t)/2,l=calcBezier(u,i,o)-e,l>0?n=u:t=u;while(Math.abs(l)>subdivisionPrecision&&++h<subdivisionMaxIterations);return u}function cubicBezier$1(e,t,n,i){if(e===t&&n===i)return noop$7;const o=l=>binarySubdivide(l,0,1,e,n);return l=>l===0||l===1?l:calcBezier(o(l),t,i)}const mirrorEasing=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,reverseEasing=e=>t=>1-e(1-t),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=e=>(e*=2)<1?.5*backIn(e):.5*(2-Math.pow(2,-10*(e-1))),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",isBezierDefinition=e=>Array.isArray(e)&&typeof e[0]=="number",easingLookup={linear:noop$7,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=e=>typeof e=="string",easingDefinitionToFunction=e=>{if(isBezierDefinition(e)){invariant$1(e.length===4);const[t,n,i,o]=e;return cubicBezier$1(t,n,i,o)}else if(isValidEasing(e))return easingLookup[e];return e},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(e,t){let n=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(m.schedule(g),e()),g(h)}const m={schedule:(g,b=!1,E=!1)=>{const A=E&&o?n:i;return b&&u.add(g),A.has(g)||A.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(p),n.clear(),o=!1,l&&(l=!1,m.process(g))}};return m}const maxElapsed$1=40;function createRenderBatcher(e,t){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=stepsOrder.reduce((N,j)=>(N[j]=createRenderStep(l),N),{}),{setup:h,read:p,resolveKeyframes:m,preUpdate:g,update:b,preRender:E,render:_,postRender:A}=u,w=()=>{const N=MotionGlobalConfig.useManualTiming?o.timestamp:performance.now();n=!1,MotionGlobalConfig.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(N-o.timestamp,maxElapsed$1),1)),o.timestamp=N,o.isProcessing=!0,h.process(o),p.process(o),m.process(o),g.process(o),b.process(o),E.process(o),_.process(o),A.process(o),o.isProcessing=!1,n&&t&&(i=!1,e(w))},T=()=>{n=!0,i=!0,o.isProcessing||e(w)};return{schedule:stepsOrder.reduce((N,j)=>{const M=u[j];return N[j]=(D,V=!1,L=!1)=>(n||T(),M.schedule(D,V,L)),N},{}),cancel:N=>{for(let j=0;j<stepsOrder.length;j++)u[stepsOrder[j]].cancel(N)},state:o,steps:u}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$7,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:e=>{now=e,queueMicrotask(clearTime)}},checkStringStartsWith=e=>t=>typeof t=="string"&&t.startsWith(e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=e=>startsAsVariableToken(e)?singleCssVariableRegex.test(e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha$1={...number$3,transform:e=>clamp(0,1,e)},scale={...number$3,default:1},sanitize=e=>Math.round(e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(e){return e==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(e,t)=>n=>!!(typeof n=="string"&&singleColorRegex.test(n)&&n.startsWith(e)||t&&!isNullish$1(n)&&Object.prototype.hasOwnProperty.call(n,t)),splitColor=(e,t,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,h]=i.match(floatRegex);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},clampRgbUnit=e=>clamp(0,255,e),rgbUnit={...number$3,transform:e=>Math.round(clampRgbUnit(e))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(t)+", "+rgbUnit.transform(n)+", "+sanitize(alpha$1.transform(i))+")"};function parseHex(e){let t="",n="",i="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const hex$1={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(t))+", "+percent.transform(sanitize(n))+", "+sanitize(alpha$1.transform(i))+")"},color$1={test:e=>rgba$1.test(e)||hex$1.test(e)||hsla$1.test(e),parse:e=>rgba$1.test(e)?rgba$1.parse(e):hsla$1.test(e)?hsla$1.parse(e):hex$1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rgba$1.transform(e):hsla$1.transform(e),getAnimatableNone:e=>{const t=color$1.parse(e);return t.alpha=0,color$1.transform(t)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(floatRegex))==null?void 0:t.length)||0)+(((n=e.match(colorRegex))==null?void 0:n.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const h=t.replace(complexRegex,p=>(color$1.test(p)?(i.color.push(l),o.push(COLOR_TOKEN),n.push(color$1.parse(p))):p.startsWith(VAR_FUNCTION_TOKEN)?(i.var.push(l),o.push(VAR_TOKEN),n.push(p)):(i.number.push(l),o.push(NUMBER_TOKEN),n.push(parseFloat(p))),++l,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:n,split:h,indexes:i,types:o}}function parseComplexValue(e){return analyseComplexValue(e).values}function createTransformer(e){const{split:t,types:n}=analyseComplexValue(e),i=t.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],o[u]!==void 0){const h=n[u];h===NUMBER_TOKEN?l+=sanitize(o[u]):h===COLOR_TOKEN?l+=color$1.transform(o[u]):l+=o[u]}return l}}const convertNumbersToZero=e=>typeof e=="number"?0:color$1.test(e)?color$1.getAnimatableNone(e):e;function getAnimatableNone$1(e){const t=parseComplexValue(e);return createTransformer(e)(t.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hslaToRgba({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,p=2*n-h;o=hueToRgb(p,h,e+1/3),l=hueToRgb(p,h,e),u=hueToRgb(p,h,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function mixImmediate(e,t){return n=>n>0?t:e}const mixNumber$1=(e,t,n)=>e+(t-e)*n,mixLinearColor=(e,t,n)=>{const i=e*e,o=n*(t*t-i)+i;return o<0?0:Math.sqrt(o)},colorTypes=[hex$1,rgba$1,hsla$1],getColorType=e=>colorTypes.find(t=>t.test(e));function asRGBA(e){const t=getColorType(e);if(!t)return!1;let n=t.parse(e);return t===hsla$1&&(n=hslaToRgba(n)),n}const mixColor=(e,t)=>{const n=asRGBA(e),i=asRGBA(t);if(!n||!i)return mixImmediate(e,t);const o={...n};return l=>(o.red=mixLinearColor(n.red,i.red,l),o.green=mixLinearColor(n.green,i.green,l),o.blue=mixLinearColor(n.blue,i.blue,l),o.alpha=mixNumber$1(n.alpha,i.alpha,l),rgba$1.transform(o))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(e,t){return invisibleValues.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function mixNumber(e,t){return n=>mixNumber$1(e,t,n)}function getMixer(e){return typeof e=="number"?mixNumber:typeof e=="string"?isCSSVariableToken(e)?mixImmediate:color$1.test(e)?mixColor:mixComplex:Array.isArray(e)?mixArray:typeof e=="object"?color$1.test(e)?mixColor:mixObject:mixImmediate}function mixArray(e,t){const n=[...e],i=n.length,o=e.map((l,u)=>getMixer(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function mixObject(e,t){const n={...e,...t},i={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(i[o]=getMixer(e[o])(e[o],t[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function matchOrder(e,t){const n=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],u=e.indexes[l][i[l]],h=e.values[u]??0;n[o]=h,i[l]++}return n}const mixComplex=(e,t)=>{const n=complex.createTransformer(t),i=analyseComplexValue(e),o=analyseComplexValue(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?invisibleValues.has(e)&&!o.values.length||invisibleValues.has(t)&&!i.values.length?mixVisibility(e,t):pipe(mixArray(matchOrder(i,o),o.values),n):mixImmediate(e,t)};function mix(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?mixNumber$1(e,t,n):getMixer(e)(e,t)}const frameloopDriver=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>frame.update(t,n),stop:()=>cancelFrame(t),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(e,t,n=10)=>{let i="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)i+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<maxGeneratorDuration;)t+=n,i=e.next(t);return t>=maxGeneratorDuration?1/0:t}function createGeneratorEasing(e,t=100,n){const i=n({...e,keyframes:[0,t]}),o=Math.min(calcGeneratorDuration(i),maxGeneratorDuration);return{type:"keyframes",ease:l=>i.next(o*l).value/t,duration:millisecondsToSeconds(o)}}const velocitySampleDuration=5;function calcGeneratorVelocity(e,t,n){const i=Math.max(t-velocitySampleDuration,0);return velocityPerSecond(n-e(i),t-i)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:e=springDefaults.duration,bounce:t=springDefaults.bounce,velocity:n=springDefaults.velocity,mass:i=springDefaults.mass}){let o,l,u=1-t;u=clamp(springDefaults.minDamping,springDefaults.maxDamping,u),e=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(e)),u<1?(o=m=>{const g=m*u,b=g*e,E=g-n,_=calcAngularFreq(m,u),A=Math.exp(-b);return safeMin-E/_*A},l=m=>{const b=m*u*e,E=b*n+n,_=Math.pow(u,2)*Math.pow(m,2)*e,A=Math.exp(-b),w=calcAngularFreq(Math.pow(m,2),u);return(-o(m)+safeMin>0?-1:1)*((E-_)*A)/w}):(o=m=>{const g=Math.exp(-m*e),b=(m-n)*e+1;return-safeMin+g*b},l=m=>{const g=Math.exp(-m*e),b=(n-m)*(e*e);return g*b});const h=5/e,p=approximateRoot(o,l,h);if(e=secondsToMilliseconds(e),isNaN(p))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:e};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const rootIterations=12;function approximateRoot(e,t,n){let i=n;for(let o=1;o<rootIterations;o++)i=i-e(i)/t(i);return i}function calcAngularFreq(e,t){return e*Math.sqrt(1-t*t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,t){return t.some(n=>e[n]!==void 0)}function getSpringOptions(e){let t={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...e};if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*clamp(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:springDefaults.mass,stiffness:o,damping:l}}else{const n=findSpring(e);t={...t,...n,mass:springDefaults.mass},t.isResolvedFromDuration=!0}return t}function spring(e=springDefaults.visualDuration,t=springDefaults.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:g,duration:b,velocity:E,isResolvedFromDuration:_}=getSpringOptions({...n,velocity:-millisecondsToSeconds(n.velocity||0)}),A=E||0,w=m/(2*Math.sqrt(p*g)),T=u-l,C=millisecondsToSeconds(Math.sqrt(p/g)),B=Math.abs(T)<5;i||(i=B?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),o||(o=B?springDefaults.restDelta.granular:springDefaults.restDelta.default);let N;if(w<1){const M=calcAngularFreq(C,w);N=D=>{const V=Math.exp(-w*C*D);return u-V*((A+w*C*T)/M*Math.sin(M*D)+T*Math.cos(M*D))}}else if(w===1)N=M=>u-Math.exp(-C*M)*(T+(A+C*T)*M);else{const M=C*Math.sqrt(w*w-1);N=D=>{const V=Math.exp(-w*C*D),L=Math.min(M*D,300);return u-V*((A+w*C*T)*Math.sinh(L)+M*T*Math.cosh(L))/M}}const j={calculatedDuration:_&&b||null,next:M=>{const D=N(M);if(_)h.done=M>=b;else{let V=M===0?A:0;w<1&&(V=M===0?secondsToMilliseconds(A):calcGeneratorVelocity(N,M,D));const L=Math.abs(V)<=i,U=Math.abs(u-D)<=o;h.done=L&&U}return h.value=h.done?u:D,h},toString:()=>{const M=Math.min(calcGeneratorDuration(j),maxGeneratorDuration),D=generateLinearEasing(V=>j.next(M*V).value,M,30);return M+"ms "+D},toTransition:()=>{}};return j}spring.applyToOptions=e=>{const t=createGeneratorEasing(e,100,spring);return e.ease=t.ease,e.duration=secondsToMilliseconds(t.duration),e.type="keyframes",e};function inertia({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:p,restDelta:m=.5,restSpeed:g}){const b=e[0],E={done:!1,value:b},_=L=>h!==void 0&&L<h||p!==void 0&&L>p,A=L=>h===void 0?p:p===void 0||Math.abs(h-L)<Math.abs(p-L)?h:p;let w=n*t;const T=b+w,C=u===void 0?T:u(T);C!==T&&(w=C-b);const B=L=>-w*Math.exp(-L/i),N=L=>C+B(L),j=L=>{const U=B(L),J=N(L);E.done=Math.abs(U)<=m,E.value=E.done?C:J};let M,D;const V=L=>{_(E.value)&&(M=L,D=spring({keyframes:[E.value,A(E.value)],velocity:calcGeneratorVelocity(N,L,E.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return V(0),{calculatedDuration:null,next:L=>{let U=!1;return!D&&M===void 0&&(U=!0,j(L),V(L)),M!==void 0&&L>=M?D.next(L-M):(!U&&j(L),E)}}}function createMixers(e,t,n){const i=[],o=n||MotionGlobalConfig.mix||mix,l=e.length-1;for(let u=0;u<l;u++){let h=o(e[u],e[u+1]);if(t){const p=Array.isArray(t)?t[u]||noop$7:t;h=pipe(p,h)}i.push(h)}return i}function interpolate$2(e,t,{clamp:n=!0,ease:i,mixer:o}={}){const l=e.length;if(invariant$1(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=createMixers(t,i,o),p=h.length,m=g=>{if(u&&g<e[0])return t[0];let b=0;if(p>1)for(;b<e.length-2&&!(g<e[b+1]);b++);const E=progress(e[b],e[b+1],g);return h[b](E)};return n?g=>m(clamp(e[0],e[l-1],g)):m}function fillOffset(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const o=progress(0,t,i);e.push(mixNumber$1(n,1,o))}}function defaultOffset$1(e){const t=[0];return fillOffset(t,e.length-1),t}function convertOffsetToTimes(e,t){return e.map(n=>n*t)}function defaultEasing(e,t){return e.map(()=>t||easeInOut).splice(0,e.length-1)}function keyframes({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const o=isEasingArray(i)?i.map(easingDefinitionToFunction):easingDefinitionToFunction(i),l={done:!1,value:t[0]},u=convertOffsetToTimes(n&&n.length===t.length?n:defaultOffset$1(t),e),h=interpolate$2(u,t,{ease:Array.isArray(o)?o:defaultEasing(t,o)});return{calculatedDuration:e,next:p=>(l.value=h(p),l.done=p>=e,l)}}const isNotNull$1=e=>e!==null;function getFinalKeyframe$1(e,{repeat:t,repeatType:n="loop"},i,o=1){const l=e.filter(isNotNull$1),h=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(e){typeof e.type=="string"&&(e.type=transitionTypeMap[e.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const percentToProgress=e=>e/100;class JSAnimation extends WithPromise{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:n}=this.options;n&&n.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;replaceTransitionType(t);const{type:n=keyframes,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const p=n||keyframes;p!==keyframes&&typeof h[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(h[0],h[1])),h=[0,100]);const m=p({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=calcGeneratorDuration(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:b,repeatType:E,repeatDelay:_,type:A,onUpdate:w,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let N=this.currentTime,j=i;if(b){const L=Math.min(this.currentTime,o)/h;let U=Math.floor(L),J=L%1;!J&&L>=1&&(J=1),J===1&&U--,U=Math.min(U,b+1),!!(U%2)&&(E==="reverse"?(J=1-J,_&&(J-=_/h)):E==="mirror"&&(j=u)),N=clamp(0,1,J)*h}const M=B?{done:!1,value:g[0]}:j.next(N);l&&(M.value=l(M.value));let{done:D}=M;!B&&p!==null&&(D=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return V&&A!==inertia&&(M.value=getFinalKeyframe$1(g,this.options,T,this.speed)),w&&w(M.value),V&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+millisecondsToSeconds(t)}get time(){return millisecondsToSeconds(this.currentTime)}set time(t){var n;t=secondsToMilliseconds(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(time$1.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=millisecondsToSeconds(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=frameloopDriver,startTime:n}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(l=(o=this.options).onPlay)==null||l.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function fillWildcards(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const radToDeg=e=>e*180/Math.PI,rotate=e=>{const t=radToDeg(Math.atan2(e[1],e[0]));return rebaseAngle(t)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate,rotateZ:rotate,skewX:e=>radToDeg(Math.atan(e[1])),skewY:e=>radToDeg(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rebaseAngle=e=>(e=e%360,e<0&&(e+=360),e),rotateZ=rotate,scaleX=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),scaleY=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:e=>(scaleX(e)+scaleY(e))/2,rotateX:e=>rebaseAngle(radToDeg(Math.atan2(e[6],e[5]))),rotateY:e=>rebaseAngle(radToDeg(Math.atan2(-e[2],e[0]))),rotateZ,rotate:rotateZ,skewX:e=>radToDeg(Math.atan(e[4])),skewY:e=>radToDeg(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function defaultTransformValue(e){return e.includes("scale")?1:0}function parseValueFromTransform(e,t){if(!e||e==="none")return defaultTransformValue(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=matrix3dParsers,o=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=matrix2dParsers,o=h}if(!o)return defaultTransformValue(t);const l=i[t],u=o[1].split(",").map(convertTransformToNumber);return typeof l=="function"?l(u):u[l]}const readTransformValue=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return parseValueFromTransform(n,t)};function convertTransformToNumber(e){return parseFloat(e.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=e=>e===number$3||e===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(e=>!transformKeys.has(e));function removeNonTranslationalTransform(e){const t=[];return nonTranslationalTransformKeys.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const positionalValues={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>parseValueFromTransform(t,"x"),y:(e,{transform:t})=>parseValueFromTransform(t,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const e=Array.from(toResolve).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const o=removeNonTranslationalTransform(i);o.length&&(n.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{var h;(h=i.getValue(l))==null||h.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(e=>e.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(t,n,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),o&&l===void 0&&o.set(t[0])}fillWildcards(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=e=>e.startsWith("--");function setStyle(e,t,n){isCSSVar(t)?e.style.setProperty(t,n):e.style[t]=n}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(e,t){const n=memo(e);return()=>supportsFlags[t]??n()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(e,t){if(e)return typeof e=="function"?supportsLinearEasing()?generateLinearEasing(e,t):"ease-out":isBezierDefinition(e)?cubicBezierAsString(e):Array.isArray(e)?e.map(n=>mapEasingToNativeEasing(n,t)||supportedWaapiEasing.easeOut):supportedWaapiEasing[e]}function startWaapiAnimation(e,t,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:p}={},m=void 0){const g={[t]:n};p&&(g.offset=p);const b=mapEasingToNativeEasing(h,o);Array.isArray(b)&&(g.easing=b);const E={delay:i,duration:o,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(E.pseudoElement=m),e.animate(g,E)}function isGenerator(e){return typeof e=="function"&&"applyToOptions"in e}function applyGeneratorOptions({type:e,...t}){return isGenerator(e)&&supportsLinearEasing()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NativeAnimation extends WithPromise{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,invariant$1(typeof t.type!="string");const m=applyGeneratorOptions(t);this.animation=startWaapiAnimation(n,i,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=getFinalKeyframe$1(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):setStyle(n,i,g),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,i;const t=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return millisecondsToSeconds(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+millisecondsToSeconds(t)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&supportsScrollTimeline()?(this.animation.timeline=t,noop$7):n(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(e){return e in unsupportedEasingFunctions}function replaceStringEasing(e){typeof e.ease=="string"&&isUnsupportedEase(e.ease)&&(e.ease=unsupportedEasingFunctions[e.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(t){replaceStringEasing(t),replaceTransitionType(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new JSAnimation({...u,autoplay:!1}),p=secondsToMilliseconds(this.finishedTime??this.time);n.setWithVelocity(h.sample(p-sampleDelta).value,h.sample(p).value,sampleDelta),h.stop()}}const isAnimatable=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(complex.test(e)||e==="0")&&!e.startsWith("url("));function hasKeyframesChanged(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function canAnimate(e,t,n,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=isAnimatable(o,t),h=isAnimatable(l,t);return!u||!h?!1:hasKeyframesChanged(e)||(n==="spring"||isGenerator(n))&&i}function makeAnimationInstant(e){e.duration=0,e.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(e){var g;const{motionValue:t,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return supportsWaapi()&&n&&acceleratedValues.has(n)&&(n!=="transform"||!m)&&!p&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:p,motionValue:m,element:g,...b}){var A;super(),this.stop=()=>{var w,T;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=time$1.now();const E={autoplay:t,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,name:p,motionValue:m,element:g,...b},_=(g==null?void 0:g.KeyframeResolver)||KeyframeResolver;this.keyframeResolver=new _(h,(w,T,C)=>this.onKeyframesResolved(w,T,E,!C),p,m,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(t,n,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:p,isHandoff:m,onUpdate:g}=i;this.resolvedAt=time$1.now(),canAnimate(t,l,u,h)||((MotionGlobalConfig.instantAnimations||!p)&&(g==null||g(getFinalKeyframe$1(t,i,n))),t[0]=t[t.length-1],makeAnimationInstant(i),i.repeat=0);const E={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},_=!m&&supportsBrowserAnimation(E)?new NativeAnimationExtended({...E,element:E.motionValue.owner.current}):new JSAnimation(E);_.finished.then(()=>this.notifyFinished()).catch(noop$7),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(e){const t=splitCSSVariableRegex.exec(e);if(!t)return[,];const[,n,i,o]=t;return[`--${n??i}`,o]}function getVariableValue(e,t,n=1){const[i,o]=parseCSSVariable(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return isNumericalString(u)?parseFloat(u):u}return isCSSVariableToken(o)?getVariableValue(o,t,n+1):o}function getValueTransition(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:e=>e==="auto",parse:e=>e},testValueType=e=>t=>t.test(e),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=e=>dimensionValueTypes.find(testValueType(e));function isNone(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||isZeroValueString(e):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(floatRegex)||[];if(!i)return e;const o=n.replace(i,"");let l=maxDefaults.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+o+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:e=>{const t=e.match(functionRegex);return t?t.map(applyDefaultFilter).join(" "):e}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$1,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,inset:px,insetBlock:px,insetBlockStart:px,insetBlockEnd:px,insetInline:px,insetInlineStart:px,insetInlineEnd:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,paddingBlock:px,paddingBlockStart:px,paddingBlockEnd:px,paddingInline:px,paddingInlineStart:px,paddingInlineEnd:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,marginBlock:px,marginBlockStart:px,marginBlockEnd:px,marginInline:px,marginInlineStart:px,marginInlineEnd:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter,WebkitFilter:filter},getDefaultValueType=e=>defaultValueTypes[e];function getAnimatableNone(e,t){let n=getDefaultValueType(e);return n!==filter&&(n=complex),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(e,t,n){let i=0,o;for(;i<e.length&&!o;){const l=e[i];typeof l=="string"&&!invalidTemplates.has(l)&&analyseComplexValue(l).values.length&&(o=e[i]),i++}if(o&&n)for(const l of t)e[l]=getAnimatableNone(n,o)}class DOMKeyframesResolver extends KeyframeResolver{constructor(t,n,i,o,l){super(t,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),isCSSVariableToken(m))){const g=getVariableValue(m,n.current);g!==void 0&&(t[p]=g),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(i)||t.length!==2)return;const[o,l]=t,u=findDimensionValueType(o),h=findDimensionValueType(l);if(u!==h)if(isNumOrPxType(u)&&isNumOrPxType(h))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else positionalValues[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let o=0;o<t.length;o++)(t[o]===null||isNone(t[o]))&&i.push(o);i.length&&makeNoneKeyframesAnimatable(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){var h;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=positionalValues[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function resolveElements(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const getValueAsType=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function isHTMLElement(e){return isObject$1(e)&&"offsetHeight"in e}const MAX_VELOCITY_DELTA=30,isFloat=e=>!isNaN(parseFloat(e)),collectMotionValues={current:void 0};class MotionValue{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var l;const o=time$1.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new SubscriptionManager);const i=this.events[t].add(n);return t==="change"?()=>{i(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return collectMotionValues.current&&collectMotionValues.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(e,t){return new MotionValue(e,t)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(e){return e==="x"||e==="y"?isDragging[e]?null:(isDragging[e]=!0,()=>{isDragging[e]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(e,t){const n=resolveElements(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[n,o,()=>i.abort()]}function isValidHover(e){return!(e.pointerType==="touch"||isDragActive())}function hover(e,t,n={}){const[i,o,l]=setupGesture(e,n),u=h=>{if(!isValidHover(h))return;const{target:p}=h,m=t(p,h);if(typeof m!="function"||!p)return;const g=b=>{isValidHover(b)&&(m(b),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,o)};return i.forEach(h=>{h.addEventListener("pointerenter",u,o)}),l}const isNodeOrChild=(e,t)=>t?e===t?!0:isNodeOrChild(e,t.parentElement):!1,isPrimaryPointer=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(e){return focusableElements.has(e.tagName)||e.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(e){return t=>{t.key==="Enter"&&e(t)}}function firePointerEvent(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=filterEvents(()=>{if(isPressing.has(n))return;firePointerEvent(n,"down");const o=filterEvents(()=>{firePointerEvent(n,"up")}),l=()=>firePointerEvent(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function isValidPressEvent(e){return isPrimaryPointer(e)&&!isDragActive()}function press(e,t,n={}){const[i,o,l]=setupGesture(e,n),u=h=>{const p=h.currentTarget;if(!isValidPressEvent(h))return;isPressing.add(p);const m=t(p,h),g=(_,A)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),isPressing.has(p)&&isPressing.delete(p),isValidPressEvent(_)&&typeof m=="function"&&m(_,{success:A})},b=_=>{g(_,p===window||p===document||n.useGlobalTarget||isNodeOrChild(p,_.target))},E=_=>{g(_,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",E,o)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),isHTMLElement(h)&&(h.addEventListener("focus",m=>enableKeyboardPress(m,o)),!isElementKeyboardAccessible(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function isSVGElement(e){return isObject$1(e)&&"ownerSVGElement"in e}const resizeHandlers=new WeakMap;let observer;const getSize=(e,t,n)=>(i,o)=>o&&o[0]?o[0][e+"Size"]:isSVGElement(i)&&"getBBox"in i?i.getBBox()[t]:i[n],getWidth=getSize("inline","width","offsetWidth"),getHeight=getSize("block","height","offsetHeight");function notifyTarget({target:e,borderBoxSize:t}){var n;(n=resizeHandlers.get(e))==null||n.forEach(i=>{i(e,{get width(){return getWidth(e,t)},get height(){return getHeight(e,t)}})})}function notifyAll(e){e.forEach(notifyTarget)}function createResizeObserver(){typeof ResizeObserver>"u"||(observer=new ResizeObserver(notifyAll))}function resizeElement(e,t){observer||createResizeObserver();const n=resolveElements(e);return n.forEach(i=>{let o=resizeHandlers.get(i);o||(o=new Set,resizeHandlers.set(i,o)),o.add(t),observer==null||observer.observe(i)}),()=>{n.forEach(i=>{const o=resizeHandlers.get(i);o==null||o.delete(t),o!=null&&o.size||observer==null||observer.unobserve(i)})}}const windowCallbacks=new Set;let windowResizeHandler;function createWindowResizeHandler(){windowResizeHandler=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};windowCallbacks.forEach(t=>t(e))},window.addEventListener("resize",windowResizeHandler)}function resizeWindow(e){return windowCallbacks.add(e),windowResizeHandler||createWindowResizeHandler(),()=>{windowCallbacks.delete(e),!windowCallbacks.size&&typeof windowResizeHandler=="function"&&(window.removeEventListener("resize",windowResizeHandler),windowResizeHandler=void 0)}}function resize(e,t){return typeof e=="function"?resizeWindow(e):resizeElement(e,t)}function observeTimeline(e,t){let n;const i=()=>{const{currentTime:o}=t,u=(o===null?0:o.value)/100;n!==u&&e(u),n=u};return frame.preUpdate(i,!0),()=>cancelFrame(i)}function isSVGSVGElement(e){return isSVGElement(e)&&e.tagName==="svg"}function transform(...e){const t=!Array.isArray(e[0]),n=t?0:-1,i=e[0+n],o=e[1+n],l=e[2+n],u=e[3+n],h=interpolate$2(o,l,u);return t?h(i):h}const isMotionValue=e=>!!(e&&e.getVelocity);function attachSpring(e,t,n){const i=e.get();let o=null,l=i,u;const h=typeof i=="string"?i.replace(/[\d.-]/g,""):void 0,p=()=>{o&&(o.stop(),o=null)},m=()=>{p(),o=new JSAnimation({keyframes:[asNumber$1(e.get()),asNumber$1(l)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:u})};if(e.attach((g,b)=>{l=g,u=E=>b(parseValue(E,h)),frame.postRender(()=>{var E;m(),(E=e.events.animationStart)==null||E.notify(),o==null||o.then(()=>{var _;(_=e.events.animationComplete)==null||_.notify()})})},p),isMotionValue(t)){const g=t.on("change",E=>e.set(parseValue(E,h))),b=e.on("destroy",g);return()=>{g(),b()}}return p}function parseValue(e,t){return t?e+t:e}function asNumber$1(e){return typeof e=="number"?e:parseFloat(e)}const valueTypes=[...dimensionValueTypes,color$1,complex],findValueType=e=>valueTypes.find(testValueType(e)),MotionConfigContext=reactExports.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function setRef$1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function composeRefs(...e){return t=>{let n=!1;const i=e.map(o=>{const l=setRef$1(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():setRef$1(e[o],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=isHTMLElement(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:e,isPresent:t,anchorX:n,root:i}){var g;const o=reactExports.useId(),l=reactExports.useRef(null),u=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=reactExports.useContext(MotionConfigContext),p=((g=e.props)==null?void 0:g.ref)??(e==null?void 0:e.ref),m=useComposedRefs(l,p);return reactExports.useInsertionEffect(()=>{const{width:b,height:E,top:_,left:A,right:w}=u.current;if(t||!l.current||!b||!E)return;const T=n==="left"?`left: ${A}`:`right: ${w}`;l.current.dataset.motionPopId=o;const C=document.createElement("style");h&&(C.nonce=h);const B=i??document.head;return B.appendChild(C),C.sheet&&C.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${E}px !important;
            ${T}px !important;
            top: ${_}px !important;
          }
        `),()=>{B.contains(C)&&B.removeChild(C)}},[t]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:t,childRef:l,sizeRef:u,children:reactExports.cloneElement(e,{ref:m})})}const PresenceChild=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:u,anchorX:h,root:p})=>{const m=useConstant(newChildrenMap),g=reactExports.useId();let b=!0,E=reactExports.useMemo(()=>(b=!1,{id:g,initial:t,isPresent:n,custom:o,onExitComplete:_=>{m.set(_,!0);for(const A of m.values())if(!A)return;i&&i()},register:_=>(m.set(_,!1),()=>m.delete(_))}),[n,m,i]);return l&&b&&(E={...E}),reactExports.useMemo(()=>{m.forEach((_,A)=>m.set(A,!1))},[n]),reactExports.useEffect(()=>{!n&&!m.size&&i&&i()},[n]),u==="popLayout"&&(e=jsxRuntimeExports.jsx(PopChild,{isPresent:n,anchorX:h,root:p,children:e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:E,children:e})};function newChildrenMap(){return new Map}function usePresence(e=!0){const t=reactExports.useContext(PresenceContext);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=t,l=reactExports.useId();reactExports.useEffect(()=>{if(e)return o(l)},[e]);const u=reactExports.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,u]:[!0]}const getChildKey=e=>e.key||"";function onlyElements(e){const t=[];return reactExports.Children.forEach(e,n=>{reactExports.isValidElement(n)&&t.push(n)}),t}const AnimatePresence=({children:e,custom:t,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:p})=>{const[m,g]=usePresence(u),b=reactExports.useMemo(()=>onlyElements(e),[e]),E=u&&!m?[]:b.map(getChildKey),_=reactExports.useRef(!0),A=reactExports.useRef(b),w=useConstant(()=>new Map),T=reactExports.useRef(new Set),[C,B]=reactExports.useState(b),[N,j]=reactExports.useState(b);useIsomorphicLayoutEffect$1(()=>{_.current=!1,A.current=b;for(let V=0;V<N.length;V++){const L=getChildKey(N[V]);E.includes(L)?(w.delete(L),T.current.delete(L)):w.get(L)!==!0&&w.set(L,!1)}},[N,E.length,E.join("-")]);const M=[];if(b!==C){let V=[...b];for(let L=0;L<N.length;L++){const U=N[L],J=getChildKey(U);E.includes(J)||(V.splice(L,0,U),M.push(U))}return l==="wait"&&M.length&&(V=M),j(onlyElements(V)),B(b),null}const{forceRender:D}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:N.map(V=>{const L=getChildKey(V),U=u&&!m?!1:b===N||E.includes(L),J=()=>{if(T.current.has(L))return;if(T.current.add(L),w.has(L))w.set(L,!0);else return;let $=!0;w.forEach(K=>{K||($=!1)}),$&&(D==null||D(),j(A.current),u&&(g==null||g()),i&&i())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:U,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:p,onExitComplete:U?void 0:J,anchorX:h,children:V},L)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const e in featureProps)featureDefinitions[e]={isEnabled:t=>featureProps[e].some(n=>!!t[n])};function loadFeatures(e){for(const t in e)featureDefinitions[t]={...featureDefinitions[t],...e[t]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||validMotionProps.has(e)}let shouldForward=e=>!isValidMotionProp(e);function loadExternalIsValidProp(e){typeof e=="function"&&(shouldForward=t=>t.startsWith("on")?!isValidMotionProp(t):e(t))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(e,t,n){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(shouldForward(o)||n===!0&&isValidMotionProp(o)||!t&&!isValidMotionProp(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}function MotionConfig({children:e,isValidProp:t,...n}){t&&loadExternalIsValidProp(t),n={...reactExports.useContext(MotionConfigContext),...n},n.isStatic=useConstant(()=>n.isStatic);const i=reactExports.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return jsxRuntimeExports.jsx(MotionConfigContext.Provider,{value:i,children:e})}const MotionContext=reactExports.createContext({});function isAnimationControls(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function isVariantLabel(e){return typeof e=="string"||Array.isArray(e)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(e){return isAnimationControls(e.animate)||variantProps.some(t=>isVariantLabel(e[t]))}function isVariantNode(e){return!!(isControllingVariants(e)||e.variants)}function getCurrentTreeVariants(e,t){if(isControllingVariants(e)){const{initial:n,animate:i}=e;return{initial:n===!1||isVariantLabel(n)?n:void 0,animate:isVariantLabel(i)?i:void 0}}return e.inherit!==!1?t:{}}function useCreateMotionContext(e){const{initial:t,animate:n}=getCurrentTreeVariants(e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:t,animate:n}),[variantLabelsAsDependency(t),variantLabelsAsDependency(n)])}function variantLabelsAsDependency(e){return Array.isArray(e)?e.join(" "):e}function pixelsToPercent(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const correctBorderRadius={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(px.test(e))e=parseFloat(e);else return e;const n=pixelsToPercent(e,t.target.x),i=pixelsToPercent(e,t.target.y);return`${n}% ${i}%`}},correctBoxShadow={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,o=complex.parse(e);if(o.length>5)return i;const l=complex.createTransformer(e),u=typeof o[0]!="number"?1:0,h=n.x.scale*t.x,p=n.y.scale*t.y;o[0+u]/=h,o[1+u]/=p;const m=mixNumber$1(h,p,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}},scaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function isForcedMotionValue(e,{layout:t,layoutId:n}){return transformProps.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!scaleCorrectors[e]||e==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(e,t,n){let i="",o=!0;for(let l=0;l<numTransforms;l++){const u=transformPropOrder[l],h=e[u];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(u.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||n){const m=getValueAsType(h,numberValueTypes[u]);if(!p){o=!1;const g=translateAlias[u]||u;i+=`${g}(${m}) `}n&&(t[u]=m)}}return i=i.trim(),n?i=n(t,o?"":i):o&&(i="none"),i}function buildHTMLStyles(e,t,n){const{style:i,vars:o,transformOrigin:l}=e;let u=!1,h=!1;for(const p in t){const m=t[p];if(transformProps.has(p)){u=!0;continue}else if(isCSSVariableName(p)){o[p]=m;continue}else{const g=getValueAsType(m,numberValueTypes[p]);p.startsWith("origin")?(h=!0,l[p]=g):i[p]=g}}if(t.transform||(u||n?i.transform=buildTransform(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${p} ${m} ${g}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(e,t,n){for(const i in t)!isMotionValue(t[i])&&!isForcedMotionValue(i,n)&&(e[i]=t[i])}function useInitialMotionValues({transformTemplate:e},t){return reactExports.useMemo(()=>{const n=createHtmlRenderState();return buildHTMLStyles(n,t,e),Object.assign({},n.vars,n.style)},[t])}function useStyle(e,t){const n=e.style||{},i={};return copyRawValuesOnly(i,n,e),Object.assign(i,useInitialMotionValues(e,t)),i}function useHTMLProps(e,t){const n={},i=useStyle(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(e,t,n=1,i=0,o=!0){e.pathLength=1;const l=o?dashKeys:camelKeys;e[l.offset]=px.transform(-i);const u=px.transform(t),h=px.transform(n);e[l.array]=`${u} ${h}`}const cssMotionPathProperties=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function buildSVGAttrs(e,{attrX:t,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...h},p,m,g){if(buildHTMLStyles(e,h,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:E}=e;b.transform&&(E.transform=b.transform,delete b.transform),(E.transform||b.transformOrigin)&&(E.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),E.transform&&(E.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete b.transformBox);for(const _ of cssMotionPathProperties)b[_]!==void 0&&(E[_]=b[_],delete b[_]);t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),o!==void 0&&buildSVGPath(b,o,l,u,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=e=>typeof e=="string"&&e.toLowerCase()==="svg";function useSVGProps(e,t,n,i){const o=reactExports.useMemo(()=>{const l=createSvgRenderState();return buildSVGAttrs(l,t,isSVGTag(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};copyRawValuesOnly(l,e.style,e),o.style={...l,...o.style}}return o}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(e){return typeof e!="string"||e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(e)>-1||/[A-Z]/u.test(e))}function useRender(e,t,n,{latestValues:i},o,l=!1,u){const p=(u??isSVGComponent(e)?useSVGProps:useHTMLProps)(t,i,o,e),m=filterProps(t,typeof e=="string",l),g=e!==reactExports.Fragment?{...m,...p,ref:n}:{},{children:b}=t,E=reactExports.useMemo(()=>isMotionValue(b)?b.get():b,[b]);return reactExports.createElement(e,{...g,children:E})}function getValueState(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function resolveVariantFromProps(e,t,n,i){if(typeof t=="function"){const[o,l]=getValueState(i);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=getValueState(i);t=t(n!==void 0?n:e.custom,o,l)}return t}function resolveMotionValue(e){return isMotionValue(e)?e.get():e}function makeState({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,o){return{latestValues:makeLatestValues(n,i,o,e),renderState:t()}}function makeLatestValues(e,t,n,i){const o={},l=i(e,{});for(const E in l)o[E]=resolveMotionValue(l[E]);let{initial:u,animate:h}=e;const p=isControllingVariants(e),m=isVariantNode(e);t&&m&&!p&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const b=g?h:u;if(b&&typeof b!="boolean"&&!isAnimationControls(b)){const E=Array.isArray(b)?b:[b];for(let _=0;_<E.length;_++){const A=resolveVariantFromProps(e,E[_]);if(A){const{transitionEnd:w,transition:T,...C}=A;for(const B in C){let N=C[B];if(Array.isArray(N)){const j=g?N.length-1:0;N=N[j]}N!==null&&(o[B]=N)}for(const B in w)o[B]=w[B]}}}return o}const makeUseVisualState=e=>(t,n)=>{const i=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),l=()=>makeState(e,t,i,o);return n?l():useConstant(l)};function scrapeMotionValuesFromProps$1(e,t,n){var l;const{style:i}=e,o={};for(const u in i)(isMotionValue(i[u])||t.style&&isMotionValue(t.style[u])||isForcedMotionValue(u,e)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(o[u]=i[u]);return o}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(e,t,n){const i=scrapeMotionValuesFromProps$1(e,t,n);for(const o in e)if(isMotionValue(e[o])||isMotionValue(t[o])){const l=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=e[o]}return i}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function setRef(e,t){if(typeof e=="function")return e(t);isRefObject(e)&&(e.current=t)}function useMotionRef(e,t,n){const i=reactExports.useRef(null);return reactExports.useCallback(o=>{if(o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n)if(o){const l=setRef(n,o);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):setRef(n,o)},[t,e,n])}const camelToDash=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(e,t,n,i,o,l){var T,C;const{visualElement:u}=reactExports.useContext(MotionContext),h=reactExports.useContext(LazyContext),p=reactExports.useContext(PresenceContext),m=reactExports.useContext(MotionConfigContext).reducedMotion,g=reactExports.useRef(null);i=i||h.renderer,!g.current&&i&&(g.current=i(e,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m,isSVG:l}));const b=g.current,E=reactExports.useContext(SwitchLayoutGroupContext);b&&!b.projection&&o&&(b.type==="html"||b.type==="svg")&&createProjectionNode$1(g.current,n,o,E);const _=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{b&&_.current&&b.update(n,p)});const A=n[optimizedAppearDataAttribute],w=reactExports.useRef(!!A&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,A))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,A)));return useIsomorphicLayoutEffect$1(()=>{b&&(_.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),w.current&&b.animationState&&b.animationState.animateChanges())}),reactExports.useEffect(()=>{b&&(!w.current&&b.animationState&&b.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var B;(B=window.MotionHandoffMarkAsComplete)==null||B.call(window,A)}),w.current=!1),b.enteringChildren=void 0)}),b}function createProjectionNode$1(e,t,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:getClosestProjectingNode(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||h&&isRefObject(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:p,layoutRoot:m})}function getClosestProjectingNode(e){if(e)return e.options.allowProjection!==!1?e.projection:getClosestProjectingNode(e.parent)}function createMotionComponent(e,{forwardMotionProps:t=!1,type:n}={},i,o){i&&loadFeatures(i);const l=n?n==="svg":isSVGComponent(e),u=l?useSVGVisualState:useHTMLVisualState;function h(m,g){let b;const E={...reactExports.useContext(MotionConfigContext),...m,layoutId:useLayoutId(m)},{isStatic:_}=E,A=useCreateMotionContext(m),w=u(m,_);if(!_&&isBrowser$1){useStrictMode();const T=getProjectionFunctionality(E);b=T.MeasureLayout,A.visualElement=useVisualElement(e,w,E,o,T.ProjectionNode,l)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:A,children:[b&&A.visualElement?jsxRuntimeExports.jsx(b,{visualElement:A.visualElement,...E}):null,useRender(e,m,useMotionRef(w,A.visualElement,g),w,_,t,l)]})}h.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const p=reactExports.forwardRef(h);return p[motionComponentSymbol]=e,p}function useLayoutId({layoutId:e}){const t=reactExports.useContext(LayoutGroupContext).id;return t&&e!==void 0?t+"-"+e:e}function useStrictMode(e,t){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(e){const{drag:t,layout:n}=featureDefinitions;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function createMotionProxy(e,t){if(typeof Proxy>"u")return createMotionComponent;const n=new Map,i=(l,u)=>createMotionComponent(l,u,e,t),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,createMotionComponent(u,void 0,e,t)),n.get(u))})}function convertBoundingBoxToBox({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function convertBoxToBoundingBox({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function transformBoxPoints(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function isIdentityScale(e){return e===void 0||e===1}function hasScale({scale:e,scaleX:t,scaleY:n}){return!isIdentityScale(e)||!isIdentityScale(t)||!isIdentityScale(n)}function hasTransform(e){return hasScale(e)||has2DTranslate(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function has2DTranslate(e){return is2DTranslate(e.x)||is2DTranslate(e.y)}function is2DTranslate(e){return e&&e!=="0%"}function scalePoint(e,t,n){const i=e-n,o=t*i;return n+o}function applyPointDelta(e,t,n,i,o){return o!==void 0&&(e=scalePoint(e,o,i)),scalePoint(e,n,i)+t}function applyAxisDelta(e,t=0,n=1,i,o){e.min=applyPointDelta(e.min,t,n,i,o),e.max=applyPointDelta(e.max,t,n,i,o)}function applyBoxDelta(e,{x:t,y:n}){applyAxisDelta(e.x,t.translate,t.scale,t.originPoint),applyAxisDelta(e.y,n.translate,n.scale,n.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(e,t,n,i=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let h=0;h<o;h++){l=n[h],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&transformBox(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,applyBoxDelta(e,u)),i&&hasTransform(l.latestValues)&&transformBox(e,l.latestValues))}t.x<TREE_SCALE_SNAP_MAX&&t.x>TREE_SCALE_SNAP_MIN&&(t.x=1),t.y<TREE_SCALE_SNAP_MAX&&t.y>TREE_SCALE_SNAP_MIN&&(t.y=1)}function translateAxis(e,t){e.min=e.min+t,e.max=e.max+t}function transformAxis(e,t,n,i,o=.5){const l=mixNumber$1(e.min,e.max,o);applyAxisDelta(e,t,n,l,i)}function transformBox(e,t){transformAxis(e.x,t.x,t.scaleX,t.scale,t.originX),transformAxis(e.y,t.y,t.scaleY,t.scale,t.originY)}function measureViewportBox(e,t){return convertBoundingBoxToBox(transformBoxPoints(e.getBoundingClientRect(),t))}function measurePageBox(e,t,n){const i=measureViewportBox(e,n),{scroll:o}=t;return o&&(translateAxis(i.x,o.offset.x),translateAxis(i.y,o.offset.y)),i}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>prefersReducedMotion.current=e.matches;e.addEventListener("change",t),t()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(e,t,n){for(const i in t){const o=t[i],l=n[i];if(isMotionValue(o))e.addValue(i,o);else if(isMotionValue(l))e.addValue(i,motionValue(o,{owner:e}));else if(l!==o)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(i);e.addValue(i,motionValue(u!==void 0?u:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=time$1.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,frame.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=isControllingVariants(n),this.isVariantNode=isVariantNode(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in b){const _=b[E];p[E]!==void 0&&isMotionValue(_)&&_.set(p[E])}}mount(t){var n;this.current=t,visualElementStore.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=prefersReducedMotion.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=transformProps.has(t);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&frame.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in featureDefinitions){const n=featureDefinitions[t];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<propEventHandlers.length;i++){const o=propEventHandlers[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=motionValue(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(isNumericalString(i)||isZeroValueString(i))?i=parseFloat(i):!findValueType(i)&&complex.test(n)&&(i=getAnimatableNone(t,n)),this.setBaseTarget(t,isMotionValue(i)?i.get():i)),isMotionValue(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=resolveVariantFromProps(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[t])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!isMotionValue(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new SubscriptionManager),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;isMotionValue(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function renderHTML(e,{style:t,vars:n},i,o){const l=e.style;let u;for(u in t)l[u]=t[u];o==null||o.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function getComputedStyle$1(e){return window.getComputedStyle(e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(t,n){var i;if(transformProps.has(n))return(i=this.projection)!=null&&i.isProjecting?defaultTransformValue(n):readTransformValue(t,n);{const o=getComputedStyle$1(t),l=(isCSSVariableName(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return measureViewportBox(t,n)}build(t,n,i){buildHTMLStyles(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return scrapeMotionValuesFromProps$1(t,n,i)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(e,t,n,i){renderHTML(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),t.attrs[o])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(transformProps.has(n)){const i=getDefaultValueType(n);return i&&i.default||0}return n=camelCaseAttributes.has(n)?n:camelToDash(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return scrapeMotionValuesFromProps(t,n,i)}build(t,n,i){buildSVGAttrs(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,o){renderSVG(t,n,i,o)}mount(t){this.isSVGTag=isSVGTag(t.tagName),super.mount(t)}}const createDomVisualElement=(e,t)=>t.isSVG??isSVGComponent(e)?new SVGVisualElement(t):new HTMLVisualElement(t,{allowProjection:e!==reactExports.Fragment});function resolveVariant(e,t,n){const i=e.getProps();return resolveVariantFromProps(i,t,n!==void 0?n:i.custom,e)}const isKeyframesTarget=e=>Array.isArray(e);function setMotionValue(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,motionValue(n))}function resolveFinalValueInKeyframes(e){return isKeyframesTarget(e)?e[e.length-1]||0:e}function setTarget(e,t){const n=resolveVariant(e,t);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const h=resolveFinalValueInKeyframes(l[u]);setMotionValue(e,u,h)}}function isWillChangeMotionValue(e){return!!(isMotionValue(e)&&e.add)}function addValueToWillChange(e,t){const n=e.getValue("willChange");if(isWillChangeMotionValue(n))return n.add(t);if(!n&&MotionGlobalConfig.WillChange){const i=new MotionGlobalConfig.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function getOptimisedAppearId(e){return e.props[optimizedAppearDataAttribute]}const isNotNull=e=>e!==null;function getFinalKeyframe(e,{repeat:t,repeatType:n="loop"},i){const o=e.filter(isNotNull),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(e,{keyframes:t})=>t.length>2?keyframesTransition:transformProps.has(e)?e.startsWith("scale")?criticallyDampedSpring(t[1]):underDampedSpring:ease;function isTransitionDefined({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:h,from:p,elapsed:m,...g}){return!!Object.keys(g).length}const animateMotionValue=(e,t,n,i={},o,l)=>u=>{const h=getValueTransition(i,e)||{},p=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-secondsToMilliseconds(p);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:o};isTransitionDefined(h)||Object.assign(g,getDefaultTransition(e,g)),g.duration&&(g.duration=secondsToMilliseconds(g.duration)),g.repeatDelay&&(g.repeatDelay=secondsToMilliseconds(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(makeAnimationInstant(g),g.delay===0&&(b=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(b=!0,makeAnimationInstant(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&t.get()!==void 0){const E=getFinalKeyframe(g.keyframes,h);if(E!==void 0){frame.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new JSAnimation(g):new AsyncMotionValueAnimation(g)};function shouldBlockAnimation({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function animateTarget(e,t,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(l=i);const p=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const g in h){const b=e.getValue(g,e.latestValues[g]??null),E=h[g];if(E===void 0||m&&shouldBlockAnimation(m,g))continue;const _={delay:n,...getValueTransition(l||{},g)},A=b.get();if(A!==void 0&&!b.isAnimating&&!Array.isArray(E)&&E===A&&!_.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=getOptimisedAppearId(e);if(C){const B=window.MotionHandoffAnimation(C,g,frame);B!==null&&(_.startTime=B,w=!0)}}addValueToWillChange(e,g),b.start(animateMotionValue(g,b,E,e.shouldReduceMotion&&positionalKeys.has(g)?{type:!1}:_,e,w));const T=b.animation;T&&p.push(T)}return u&&Promise.all(p).then(()=>{frame.update(()=>{u&&setTarget(e,u)})}),p}function calcChildStagger(e,t,n,i=0,o=1){const l=Array.from(e).sort((m,g)=>m.sortNodePosition(g)).indexOf(t),u=e.size,h=(u-1)*i;return typeof n=="function"?n(l,u):o===1?l*i:h-l*i}function animateVariant(e,t,n={}){var p;const i=resolveVariant(e,t,n.type==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(animateTarget(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:b,staggerDirection:E}=o;return animateChildren(e,t,m,g,b,E,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[m,g]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function animateChildren(e,t,n=0,i=0,o=0,l=1,u){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(animateVariant(p,t,{...u,delay:n+(typeof i=="function"?0:i)+calcChildStagger(e.variantChildren,p,i,o,l)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function animateVisualElement(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(l=>animateVariant(e,l,n));i=Promise.all(o)}else if(typeof t=="string")i=animateVariant(e,t,n);else{const o=typeof t=="function"?resolveVariant(e,t,n.custom):t;i=Promise.all(animateTarget(e,o,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function shallowCompare(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?getVariantContext(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<numVariantProps;n++){const i=variantProps[n],o=e.props[i];(isVariantLabel(o)||o===!1)&&(t[i]=o)}return t}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(e){return t=>Promise.all(t.map(({animation:n,options:i})=>animateVisualElement(e,n,i)))}function createAnimationState(e){let t=animateList(e),n=createState(),i=!0;const o=p=>(m,g)=>{var E;const b=resolveVariant(e,g,p==="exit"?(E=e.presenceContext)==null?void 0:E.custom:void 0);if(b){const{transition:_,transitionEnd:A,...w}=b;m={...m,...w,...A}}return m};function l(p){t=p(e)}function u(p){const{props:m}=e,g=getVariantContext(e.parent)||{},b=[],E=new Set;let _={},A=1/0;for(let T=0;T<numAnimationTypes;T++){const C=reversePriorityOrder[T],B=n[C],N=m[C]!==void 0?m[C]:g[C],j=isVariantLabel(N),M=C===p?B.isActive:null;M===!1&&(A=T);let D=N===g[C]&&N!==m[C]&&j;if(D&&i&&e.manuallyAnimateOnMount&&(D=!1),B.protectedKeys={..._},!B.isActive&&M===null||!N&&!B.prevProp||isAnimationControls(N)||typeof N=="boolean")continue;const V=checkVariantsDidChange(B.prevProp,N);let L=V||C===p&&B.isActive&&!D&&j||T>A&&j,U=!1;const J=Array.isArray(N)?N:[N];let $=J.reduce(o(C),{});M===!1&&($={});const{prevResolvedValues:K={}}=B,te={...K,...$},me=ie=>{L=!0,E.has(ie)&&(U=!0,E.delete(ie)),B.needsAnimating[ie]=!0;const ce=e.getValue(ie);ce&&(ce.liveStyle=!1)};for(const ie in te){const ce=$[ie],ne=K[ie];if(_.hasOwnProperty(ie))continue;let Z=!1;isKeyframesTarget(ce)&&isKeyframesTarget(ne)?Z=!shallowCompare(ce,ne):Z=ce!==ne,Z?ce!=null?me(ie):E.add(ie):ce!==void 0&&E.has(ie)?me(ie):B.protectedKeys[ie]=!0}B.prevProp=N,B.prevResolvedValues=$,B.isActive&&(_={..._,...$}),i&&e.blockInitialAnimation&&(L=!1);const he=D&&V;L&&(!he||U)&&b.push(...J.map(ie=>{const ce={type:C};if(typeof ie=="string"&&i&&!he&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,Z=resolveVariant(ne,ie);if(ne.enteringChildren&&Z){const{delayChildren:G}=Z.transition||{};ce.delay=calcChildStagger(ne.enteringChildren,e,G)}}return{animation:ie,options:ce}}))}if(E.size){const T={};if(typeof m.initial!="boolean"){const C=resolveVariant(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(T.transition=C.transition)}E.forEach(C=>{const B=e.getBaseTarget(C),N=e.getValue(C);N&&(N.liveStyle=!0),T[C]=B??null}),b.push({animation:T})}let w=!!b.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(w=!1),i=!1,w?t(b):Promise.resolve()}function h(p,m){var b;if(n[p].isActive===m)return Promise.resolve();(b=e.variantChildren)==null||b.forEach(E=>{var _;return(_=E.animationState)==null?void 0:_.setActive(p,m)}),n[p].isActive=m;const g=u(p);for(const E in n)n[E].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=createState()}}}function checkVariantsDidChange(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!shallowCompare(t,e):!1}function createTypeState(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(t){this.isMounted=!1,this.node=t}update(){}}class AnimationFeature extends Feature{constructor(t){super(t),t.animationState||(t.animationState=createAnimationState(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();isAnimationControls(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function extractEventInfo(e){return{point:{x:e.pageX,y:e.pageY}}}const addPointerInfo=e=>t=>isPrimaryPointer(t)&&e(t,extractEventInfo(t));function addPointerEvent(e,t,n,i){return addDomEvent(e,t,addPointerInfo(n),i)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(e){return e.max-e.min}function isNear(e,t,n){return Math.abs(e-t)<=n}function calcAxisDelta(e,t,n,i=.5){e.origin=i,e.originPoint=mixNumber$1(t.min,t.max,e.origin),e.scale=calcLength(n)/calcLength(t),e.translate=mixNumber$1(n.min,n.max,e.origin)-e.originPoint,(e.scale>=SCALE_MIN&&e.scale<=SCALE_MAX||isNaN(e.scale))&&(e.scale=1),(e.translate>=TRANSLATE_MIN&&e.translate<=TRANSLATE_MAX||isNaN(e.translate))&&(e.translate=0)}function calcBoxDelta(e,t,n,i){calcAxisDelta(e.x,t.x,n.x,i?i.originX:void 0),calcAxisDelta(e.y,t.y,n.y,i?i.originY:void 0)}function calcRelativeAxis(e,t,n){e.min=n.min+t.min,e.max=e.min+calcLength(t)}function calcRelativeBox(e,t,n){calcRelativeAxis(e.x,t.x,n.x),calcRelativeAxis(e.y,t.y,n.y)}function calcRelativeAxisPosition(e,t,n){e.min=t.min-n.min,e.max=e.min+calcLength(t)}function calcRelativePosition(e,t,n){calcRelativeAxisPosition(e.x,t.x,n.x),calcRelativeAxisPosition(e.y,t.y,n.y)}function eachAxis(e){return[e("x"),e("y")]}const getContextWindow=({current:e})=>e?e.ownerDocument.defaultView:null,distance=(e,t)=>Math.abs(e-t);function distance2D(e,t){const n=distance(e.x,t.x),i=distance(e.y,t.y);return Math.sqrt(n**2+i**2)}class PanSession{constructor(t,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=getPanInfo(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,A=distance2D(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!A)return;const{point:w}=E,{timestamp:T}=frameData;this.history.push({...w,timestamp:T});const{onStart:C,onMove:B}=this.handlers;_||(C&&C(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,E)},this.handlePointerMove=(E,_)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=transformPoint(_,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(E,_)=>{this.end();const{onEnd:A,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=getPanInfo(E.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(_,this.transformPagePoint),this.history);this.startEvent&&A&&A(E,C),w&&w(E,C)},!isPrimaryPointer(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const h=extractEventInfo(t),p=transformPoint(h,this.transformPagePoint),{point:m}=p,{timestamp:g}=frameData;this.history=[{...m,timestamp:g}];const{onSessionStart:b}=n;b&&b(t,getPanInfo(p,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(e,t){return t?{point:t(e.point)}:e}function subtractPoint(e,t){return{x:e.x-t.x,y:e.y-t.y}}function getPanInfo({point:e},t){return{point:e,delta:subtractPoint(e,lastDevicePoint(t)),offset:subtractPoint(e,startDevicePoint(t)),velocity:getVelocity(t,.1)}}function startDevicePoint(e){return e[0]}function lastDevicePoint(e){return e[e.length-1]}function getVelocity(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const o=lastDevicePoint(e);for(;n>=0&&(i=e[n],!(o.timestamp-i.timestamp>secondsToMilliseconds(t)));)n--;if(!i)return{x:0,y:0};const l=millisecondsToSeconds(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function applyConstraints(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?mixNumber$1(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?mixNumber$1(n,e,i.max):Math.min(e,n)),e}function calcRelativeAxisConstraints(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function calcRelativeConstraints(e,{top:t,left:n,bottom:i,right:o}){return{x:calcRelativeAxisConstraints(e.x,n,o),y:calcRelativeAxisConstraints(e.y,t,i)}}function calcViewportAxisConstraints(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function calcViewportConstraints(e,t){return{x:calcViewportAxisConstraints(e.x,t.x),y:calcViewportAxisConstraints(e.y,t.y)}}function calcOrigin(e,t){let n=.5;const i=calcLength(e),o=calcLength(t);return o>i?n=progress(t.min,t.max-i,e.min):i>o&&(n=progress(e.min,e.max-o,t.min)),clamp(0,1,n)}function rebaseAxisConstraints(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const defaultElastic=.35;function resolveDragElastic(e=defaultElastic){return e===!1?e=0:e===!0&&(e=defaultElastic),{x:resolveAxisElastic(e,"left","right"),y:resolveAxisElastic(e,"top","bottom")}}function resolveAxisElastic(e,t,n){return{min:resolvePointElastic(e,t),max:resolvePointElastic(e,n)}}function resolvePointElastic(e,t){return typeof e=="number"?e:e[t]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(extractEventInfo(b).point)},u=(b,E)=>{const{drag:_,dragPropagation:A,onDragStart:w}=this.getProps();if(_&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(_),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(C=>{let B=this.getAxisMotionValue(C).get()||0;if(percent.test(B)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[C];j&&(B=calcLength(j)*(parseFloat(B)/100))}}this.originPoint[C]=B}),w&&frame.postRender(()=>w(b,E)),addValueToWillChange(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},h=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E;const{dragPropagation:_,dragDirectionLock:A,onDirectionLock:w,onDrag:T}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:C}=E;if(A&&this.currentDirection===null){this.currentDirection=getCurrentDirection(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",E.point,C),this.updateAxis("y",E.point,C),this.visualElement.render(),T&&T(b,E)},p=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E,this.stop(b,E),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>eachAxis(b=>{var E;return this.getAnimationState(b)==="paused"&&((E=this.getAxisMotionValue(b).animation)==null?void 0:E.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new PanSession(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:getContextWindow(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&frame.postRender(()=>h(i,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:o}=this.getProps();if(!i||!shouldDrag(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=applyConstraints(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&isRefObject(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=calcRelativeConstraints(i.layoutBox,t):this.constraints=!1,this.elastic=resolveDragElastic(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=rebaseAxisConstraints(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!isRefObject(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=measurePageBox(i,o.root,this.visualElement.getTransformPagePoint());let u=calcViewportConstraints(o.layout.layoutBox,l);if(n){const h=n(convertBoxToBoundingBox(u));this.hasMutatedConstraints=!!h,h&&(u=convertBoundingBoxToBox(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=eachAxis(g=>{if(!shouldDrag(g,n,this.currentDirection))return;let b=p&&p[g]||{};u&&(b={min:0,max:0});const E=o?200:1e6,_=o?40:1e7,A={type:"inertia",velocity:i?t[g]:0,bounceStiffness:E,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return addValueToWillChange(this.visualElement,t),i.start(animateMotionValue(t,i,0,n,this.visualElement,!1))}stopAnimation(){eachAxis(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){eachAxis(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){eachAxis(n=>{const{drag:i}=this.getProps();if(!shouldDrag(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n],p=l.get()||0;l.set(t[n]-mixNumber$1(u,h,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!isRefObject(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const p=h.get();o[u]=calcOrigin({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),eachAxis(u=>{if(!shouldDrag(u,t,null))return;const h=this.getAxisMotionValue(u),{min:p,max:m}=this.constraints[u];h.set(mixNumber$1(p,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const t=this.visualElement.current,n=addPointerEvent(t,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();isRefObject(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame.read(i);const u=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(eachAxis(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=p[g].translate,b.set(b.get()+p[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=defaultElastic,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function shouldDrag(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function getCurrentDirection(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class DragGesture extends Feature{constructor(t){super(t),this.removeGroupControls=noop$7,this.removeListeners=noop$7,this.controls=new VisualElementDragControls(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$7}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=e=>(t,n)=>{e&&frame.postRender(()=>e(t,n))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$7}onPointerDown(t){this.session=new PanSession(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(t),onStart:asyncHandler(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&frame.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=t;l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),hasTakenAnySnapshot&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,hasTakenAnySnapshot=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||frame.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),microtask.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=t;hasTakenAnySnapshot=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function MeasureLayout(e){const[t,n]=usePresence(),i=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...e,layoutGroup:i,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:t,safeToRemove:n})}function animateSingleValue(e,t,n){const i=isMotionValue(e)?e:motionValue(e);return i.start(animateMotionValue("",i,t,n)),i.animation}const compareByDepth=(e,t)=>e.depth-t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(t){addUniqueItem(this.children,t),this.isDirty=!0}remove(t){removeItem(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)}}function delay(e,t){const n=time$1.now(),i=({timestamp:o})=>{const l=o-n;l>=t&&(cancelFrame(i),e(l-t))};return frame.setup(i,!0),()=>cancelFrame(i)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=e=>typeof e=="string"?parseFloat(e):e,isPx=e=>typeof e=="number"||px.test(e);function mixValues(e,t,n,i,o,l){o?(e.opacity=mixNumber$1(0,n.opacity??1,easeCrossfadeIn(i)),e.opacityExit=mixNumber$1(t.opacity??1,0,easeCrossfadeOut(i))):l&&(e.opacity=mixNumber$1(t.opacity??1,n.opacity??1,i));for(let u=0;u<numBorders;u++){const h=`border${borders[u]}Radius`;let p=getRadius(t,h),m=getRadius(n,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||isPx(p)===isPx(m)?(e[h]=Math.max(mixNumber$1(asNumber(p),asNumber(m),i),0),(percent.test(m)||percent.test(p))&&(e[h]+="%")):e[h]=m}(t.rotate||n.rotate)&&(e.rotate=mixNumber$1(t.rotate||0,n.rotate||0,i))}function getRadius(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$7);function compress(e,t,n){return i=>i<e?0:i>t?1:n(progress(e,t,i))}function copyAxisInto(e,t){e.min=t.min,e.max=t.max}function copyBoxInto(e,t){copyAxisInto(e.x,t.x),copyAxisInto(e.y,t.y)}function copyAxisDeltaInto(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function removePointDelta(e,t,n,i,o){return e-=t,e=scalePoint(e,1/n,i),o!==void 0&&(e=scalePoint(e,1/o,i)),e}function removeAxisDelta(e,t=0,n=1,i=.5,o,l=e,u=e){if(percent.test(t)&&(t=parseFloat(t),t=mixNumber$1(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=mixNumber$1(l.min,l.max,i);e===l&&(h-=t),e.min=removePointDelta(e.min,t,n,h,o),e.max=removePointDelta(e.max,t,n,h,o)}function removeAxisTransforms(e,t,[n,i,o],l,u){removeAxisDelta(e,t[n],t[i],t[o],t.scale,l,u)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(e,t,n,i){removeAxisTransforms(e.x,t,xKeys,n?n.x:void 0,i?i.x:void 0),removeAxisTransforms(e.y,t,yKeys,n?n.y:void 0,i?i.y:void 0)}function isAxisDeltaZero(e){return e.translate===0&&e.scale===1}function isDeltaZero(e){return isAxisDeltaZero(e.x)&&isAxisDeltaZero(e.y)}function axisEquals(e,t){return e.min===t.min&&e.max===t.max}function boxEquals(e,t){return axisEquals(e.x,t.x)&&axisEquals(e.y,t.y)}function axisEqualsRounded(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function boxEqualsRounded(e,t){return axisEqualsRounded(e.x,t.x)&&axisEqualsRounded(e.y,t.y)}function aspectRatio(e){return calcLength(e.x)/calcLength(e.y)}function axisDeltaEquals(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class NodeStack{constructor(){this.members=[]}add(t){addUniqueItem(this.members,t),t.scheduleRender()}remove(t){if(removeItem(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(e,t,n){let i="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:b,rotateY:E,skewX:_,skewY:A}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),b&&(i+=`rotateX(${b}deg) `),E&&(i+=`rotateY(${E}deg) `),_&&(i+=`skewX(${_}deg) `),A&&(i+=`skewY(${A}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(i+=`scale(${h}, ${p})`),i||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(e,t,n,i){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function cancelTreeOptimisedTransformAnimations(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=getOptimisedAppearId(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",frame,!(o||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(i)}function createProjectionNode({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},h=t==null?void 0:t()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new SubscriptionManager),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const p=this.eventHandlers.get(u);p&&p.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=isSVGElement(u)&&!isSVGSVGElement(u),this.instance=u;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let g,b=0;const E=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{b=window.innerWidth}),e(u,()=>{const _=window.innerWidth;_!==b&&(b=_,this.root.updateBlockedByResize=!0,g&&g(),g=delay(E,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:E,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:w,onLayoutAnimationComplete:T}=m.getProps(),C=!this.targetLayout||!boxEqualsRounded(this.targetLayout,_),B=!b&&E;if(this.options.layoutRoot||this.resumeFrom||B||b&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...getValueTransition(A,"layout"),onPlay:w,onComplete:T};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,B)}else b||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const h=time$1.now();frameData.delta=clamp(0,1e3/60,h-frameData.timestamp),frameData.timestamp=h,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!isDeltaZero(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||hasTransform(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return u&&(p=this.removeTransform(p)),roundBox(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return createBox();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:g}=this.root;g&&(translateAxis(h.x,g.offset.x),translateAxis(h.y,g.offset.y))}return h}removeElementScroll(u){var p;const h=createBox();if(copyBoxInto(h,u),(p=this.scroll)!=null&&p.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:b,options:E}=g;g!==this.root&&b&&E.layoutScroll&&(b.wasRoot&&copyBoxInto(h,u),translateAxis(h.x,b.offset.x),translateAxis(h.y,b.offset.y))}return h}applyTransform(u,h=!1){const p=createBox();copyBoxInto(p,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&transformBox(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),hasTransform(g.latestValues)&&transformBox(p,g.latestValues)}return hasTransform(this.latestValues)&&transformBox(p,this.latestValues),p}removeTransform(u){const h=createBox();copyBoxInto(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!hasTransform(m.latestValues))continue;hasScale(m.latestValues)&&m.updateSnapshot();const g=createBox(),b=m.measurePageBox();copyBoxInto(g,b),removeBoxTransforms(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return hasTransform(this.latestValues)&&removeBoxTransforms(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var _;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!this.layout||!(g||b))return;this.resolvedRelativeTargetAt=frameData.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,h,p),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var A;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(p=!1),p)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=createBox());const{target:_}=u;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(u,h=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},b=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=createBox(),_=p?p.source:void 0,A=this.layout?this.layout.source:void 0,w=_!==A,T=this.getStack(),C=!T||T.members.length<=1,B=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let N;this.mixTargetDelta=j=>{const M=j/1e3;mixAxisDelta(b.x,u.x,M),mixAxisDelta(b.y,u.y,M),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,E,M),N&&boxEquals(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=createBox()),copyBoxInto(N,this.relativeTarget)),w&&(this.animationValues=g,mixValues(g,m,this.latestValues,M,B,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,p,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||m.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:g}=u;if(!(!h||!p||!m)){if(this!==u&&this.layout&&m&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||createBox();const b=calcLength(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+b;const E=calcLength(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+E}copyBoxInto(h,p),transformBox(h,g),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new NodeStack),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&resetDistortingTransform("z",u,m,this.animationValues);for(let g=0;g<transformAxes.length;g++)resetDistortingTransform(`rotate${transformAxes[g]}`,u,m,this.animationValues),resetDistortingTransform(`skew${transformAxes[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=resolveMotionValue(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let b=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,g);p&&(b=p(g,b)),u.transform=b;const{x:E,y:_}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${_.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in scaleCorrectors){if(g[A]===void 0)continue;const{correct:w,applyTo:T,isCSSVariable:C}=scaleCorrectors[A],B=b==="none"?g[A]:w(g[A],m);if(T){const N=T.length;for(let j=0;j<N;j++)u[T[j]]=B}else C?this.options.visualElement.renderState.vars[A]=B:u[A]=B}this.options.layoutId&&(u.pointerEvents=m===this?resolveMotionValue(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(e){e.updateLayout()}function notifyLayoutUpdate(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:l}=e.options,u=t.source!==e.layout.source;l==="size"?eachAxis(b=>{const E=u?t.measuredBox[b]:t.layoutBox[b],_=calcLength(E);E.min=i[b].min,E.max=E.min+_}):shouldAnimatePositionOnly(l,t.layoutBox,i)&&eachAxis(b=>{const E=u?t.measuredBox[b]:t.layoutBox[b],_=calcLength(i[b]);E.max=E.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[b].max=e.relativeTarget[b].min+_)});const h=createDelta();calcBoxDelta(h,i,t.layoutBox);const p=createDelta();u?calcBoxDelta(p,e.applyTransform(o,!0),t.measuredBox):calcBoxDelta(p,i,t.layoutBox);const m=!isDeltaZero(h);let g=!1;if(!e.resumeFrom){const b=e.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:E,layout:_}=b;if(E&&_){const A=createBox();calcRelativePosition(A,t.layoutBox,E.layoutBox);const w=createBox();calcRelativePosition(w,i,_.layoutBox),boxEqualsRounded(A,w)||(g=!0),b.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=A,e.relativeParent=b)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function propagateDirtyNodes(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cleanDirtyNodes(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function clearSnapshot(e){e.clearSnapshot()}function clearMeasurements(e){e.clearMeasurements()}function clearIsLayoutDirty(e){e.isLayoutDirty=!1}function resetTransformStyle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function finishAnimation(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function resolveTargetDelta(e){e.resolveTargetDelta()}function calcProjection(e){e.calcProjection()}function resetSkewAndRotation(e){e.resetSkewAndRotation()}function removeLeadSnapshots(e){e.removeLeadSnapshot()}function mixAxisDelta(e,t,n){e.translate=mixNumber$1(t.translate,0,n),e.scale=mixNumber$1(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mixAxis(e,t,n,i){e.min=mixNumber$1(t.min,n.min,i),e.max=mixNumber$1(t.max,n.max,i)}function mixBox(e,t,n,i){mixAxis(e.x,t.x,n.x,i),mixAxis(e.y,t.y,n.y,i)}function hasOpacityCrossfade(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$7;function roundAxis(e){e.min=roundPoint(e.min),e.max=roundPoint(e.max)}function roundBox(e){roundAxis(e.x),roundAxis(e.y)}function shouldAnimatePositionOnly(e,t,n){return e==="position"||e==="preserve-aspect"&&!isNear(aspectRatio(t),aspectRatio(n),.2)}function checkNodeWasScrollRoot(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(e,t)=>addDomEvent(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const e=new DocumentProjectionNode({});e.mount(window),e.setOptions({layoutScroll:!0}),rootProjectionNode.current=e}return rootProjectionNode.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&frame.postRender(()=>l(t,extractEventInfo(t)))}class HoverGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=hover(t,(n,i)=>(handleHoverEvent(this.node,i,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&frame.postRender(()=>l(t,extractEventInfo(t)))}class PressGesture extends Feature{mount(){const{current:t}=this.node;t&&(this.unmount=press(t,(n,i)=>(handlePressEvent(this.node,i,"Start"),(o,{success:l})=>handlePressEvent(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=e=>{const t=observerCallbacks.get(e.target);t&&t(e)},fireAllObserverCallbacks=e=>{e.forEach(fireObserverCallback)};function initIntersectionObserver({root:e,...t}){const n=e||document;observers.has(n)||observers.set(n,{});const i=observers.get(n),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:e,...t})),i[o]}function observeIntersection(e,t,n){const i=initIntersectionObserver(t);return observerCallbacks.set(e,n),i.observe(e),()=>{observerCallbacks.delete(e),i.unobserve(e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:thresholdNames[o]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),E=m?g:b;E&&E(p)};return observeIntersection(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(t,n))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);function useMotionValueEvent(e,t,n){reactExports.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const maxElapsed=50,createAxisInfo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),createScrollInfo=()=>({time:0,x:createAxisInfo(),y:createAxisInfo()}),keys={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(e,t,n,i){const o=n[t],{length:l,position:u}=keys[t],h=o.current,p=n.time;o.current=e[`scroll${u}`],o.scrollLength=e[`scroll${l}`]-e[`client${l}`],o.offset.length=0,o.offset[0]=0,o.offset[1]=o.scrollLength,o.progress=progress(0,o.scrollLength,o.current);const m=i-p;o.velocity=m>maxElapsed?0:velocityPerSecond(o.current-h,m)}function updateScrollInfo(e,t,n){updateAxisInfo(e,"x",t,n),updateAxisInfo(e,"y",t,n),t.time=n}function calcInset(e,t){const n={x:0,y:0};let i=e;for(;i&&i!==t;)if(isHTMLElement(i))n.x+=i.offsetLeft,n.y+=i.offsetTop,i=i.offsetParent;else if(i.tagName==="svg"){const o=i.getBoundingClientRect();i=i.parentElement;const l=i.getBoundingClientRect();n.x+=o.left-l.left,n.y+=o.top-l.top}else if(i instanceof SVGGraphicsElement){const{x:o,y:l}=i.getBBox();n.x+=o,n.y+=l;let u=null,h=i.parentNode;for(;!u;)h.tagName==="svg"&&(u=h),h=i.parentNode;i=u}else break;return n}const namedEdges={start:0,center:.5,end:1};function resolveEdge(e,t,n=0){let i=0;if(e in namedEdges&&(e=namedEdges[e]),typeof e=="string"){const o=parseFloat(e);e.endsWith("px")?i=o:e.endsWith("%")?e=o/100:e.endsWith("vw")?i=o/100*document.documentElement.clientWidth:e.endsWith("vh")?i=o/100*document.documentElement.clientHeight:e=o}return typeof e=="number"&&(i=t*e),n+i}const defaultOffset=[0,0];function resolveOffset(e,t,n,i){let o=Array.isArray(e)?e:defaultOffset,l=0,u=0;return typeof e=="number"?o=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?o=e.split(" "):o=[e,namedEdges[e]?e:"0"]),l=resolveEdge(o[0],n,i),u=resolveEdge(o[1],t),l-u}const ScrollOffset={All:[[0,0],[1,1]]},point$3={x:0,y:0};function getTargetSize(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function resolveOffsets(e,t,n){const{offset:i=ScrollOffset.All}=n,{target:o=e,axis:l="y"}=n,u=l==="y"?"height":"width",h=o!==e?calcInset(o,e):point$3,p=o===e?{width:e.scrollWidth,height:e.scrollHeight}:getTargetSize(o),m={width:e.clientWidth,height:e.clientHeight};t[l].offset.length=0;let g=!t[l].interpolate;const b=i.length;for(let E=0;E<b;E++){const _=resolveOffset(i[E],m[u],p[u],h[l]);!g&&_!==t[l].interpolatorOffsets[E]&&(g=!0),t[l].offset[E]=_}g&&(t[l].interpolate=interpolate$2(t[l].offset,defaultOffset$1(i),{clamp:!1}),t[l].interpolatorOffsets=[...t[l].offset]),t[l].progress=clamp(0,1,t[l].interpolate(t[l].current))}function measure(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let i=t;for(;i&&i!==e;)n.x.targetOffset+=i.offsetLeft,n.y.targetOffset+=i.offsetTop,i=i.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function createOnScrollHandler(e,t,n,i={}){return{measure:o=>{measure(e,i.target,n),updateScrollInfo(e,n,o),(i.offset||i.target)&&resolveOffsets(e,n,i)},notify:()=>t(n)}}const scrollListeners=new WeakMap,resizeListeners=new WeakMap,onScrollHandlers=new WeakMap,getEventTarget=e=>e===document.scrollingElement?window:e;function scrollInfo(e,{container:t=document.scrollingElement,...n}={}){if(!t)return noop$7;let i=onScrollHandlers.get(t);i||(i=new Set,onScrollHandlers.set(t,i));const o=createScrollInfo(),l=createOnScrollHandler(t,e,o,n);if(i.add(l),!scrollListeners.has(t)){const h=()=>{for(const b of i)b.measure(frameData.timestamp);frame.preUpdate(p)},p=()=>{for(const b of i)b.notify()},m=()=>frame.read(h);scrollListeners.set(t,m);const g=getEventTarget(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&resizeListeners.set(t,resize(t,m)),g.addEventListener("scroll",m,{passive:!0}),m()}const u=scrollListeners.get(t);return frame.read(u,!1,!0),()=>{var m;cancelFrame(u);const h=onScrollHandlers.get(t);if(!h||(h.delete(l),h.size))return;const p=scrollListeners.get(t);scrollListeners.delete(t),p&&(getEventTarget(t).removeEventListener("scroll",p),(m=resizeListeners.get(t))==null||m(),window.removeEventListener("resize",p))}}const timelineCache=new Map;function scrollTimelineFallback(e){const t={value:0},n=scrollInfo(i=>{t.value=i[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function getTimeline({source:e,container:t,...n}){const{axis:i}=n;e&&(t=e);const o=timelineCache.get(t)??new Map;timelineCache.set(t,o);const l=n.target??"self",u=o.get(l)??{},h=i+(n.offset??[]).join(",");return u[h]||(u[h]=!n.target&&supportsScrollTimeline()?new ScrollTimeline({source:t,axis:i}):scrollTimelineFallback({container:t,...n})),u[h]}function attachToAnimation(e,t){const n=getTimeline(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:i=>(i.pause(),observeTimeline(o=>{i.time=i.iterationDuration*o},n))})}function isOnScrollWithInfo(e){return e.length===2}function attachToFunction(e,t){return isOnScrollWithInfo(e)?scrollInfo(n=>{e(n[t.axis].progress,n)},t):observeTimeline(e,getTimeline(t))}function scroll(e,{axis:t="y",container:n=document.scrollingElement,...i}={}){if(!n)return noop$7;const o={axis:t,container:n,...i};return typeof e=="function"?attachToFunction(e,o):attachToAnimation(e,o)}const createScrollMotionValues=()=>({scrollX:motionValue(0),scrollY:motionValue(0),scrollXProgress:motionValue(0),scrollYProgress:motionValue(0)}),isRefPending=e=>e?!e.current:!1;function useScroll({container:e,target:t,...n}={}){const i=useConstant(createScrollMotionValues),o=reactExports.useRef(null),l=reactExports.useRef(!1),u=reactExports.useCallback(()=>(o.current=scroll((h,{x:p,y:m})=>{i.scrollX.set(p.current),i.scrollXProgress.set(p.progress),i.scrollY.set(m.current),i.scrollYProgress.set(m.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var h;(h=o.current)==null||h.call(o)}),[e,t,JSON.stringify(n.offset)]);return useIsomorphicLayoutEffect$1(()=>{if(l.current=!1,isRefPending(e)||isRefPending(t)){l.current=!0;return}else return u()},[u]),reactExports.useEffect(()=>{if(l.current)return invariant$1(!isRefPending(e)),invariant$1(!isRefPending(t)),u()},[u]),i}function useMotionValue(e){const t=useConstant(()=>motionValue(e)),{isStatic:n}=reactExports.useContext(MotionConfigContext);if(n){const[,i]=reactExports.useState(e);reactExports.useEffect(()=>t.on("change",i),[])}return t}function useCombineMotionValues(e,t){const n=useMotionValue(t()),i=()=>n.set(t());return i(),useIsomorphicLayoutEffect$1(()=>{const o=()=>frame.preRender(i,!1,!0),l=e.map(u=>u.on("change",o));return()=>{l.forEach(u=>u()),cancelFrame(i)}}),n}function useComputed(e){collectMotionValues.current=[],e();const t=useCombineMotionValues(collectMotionValues.current,e);return collectMotionValues.current=void 0,t}function useTransform(e,t,n,i){if(typeof e=="function")return useComputed(e);const o=typeof t=="function"?t:transform(t,n,i);return Array.isArray(e)?useListTransform(e,o):useListTransform([e],([l])=>o(l))}function useListTransform(e,t){const n=useConstant(()=>[]);return useCombineMotionValues(e,()=>{n.length=0;const i=e.length;for(let o=0;o<i;o++)n[o]=e[o].get();return t(n)})}function useSpring(e,t={}){const{isStatic:n}=reactExports.useContext(MotionConfigContext),i=()=>isMotionValue(e)?e.get():e;if(n)return useTransform(i);const o=useMotionValue(i());return reactExports.useInsertionEffect(()=>attachSpring(o,e,t),[o,JSON.stringify(t)]),o}const thresholds={some:0,all:1};function inView(e,t,{root:n,margin:i,amount:o="some"}={}){const l=resolveElements(e),u=new WeakMap,h=m=>{m.forEach(g=>{const b=u.get(g.target);if(g.isIntersecting!==!!b)if(g.isIntersecting){const E=t(g.target,g);typeof E=="function"?u.set(g.target,E):p.unobserve(g.target)}else typeof b=="function"&&(b(g),u.delete(g.target))})},p=new IntersectionObserver(h,{root:n,rootMargin:i,threshold:typeof o=="number"?o:thresholds[o]});return l.forEach(m=>p.observe(m)),()=>p.disconnect()}function useInView(e,{root:t,margin:n,amount:i,once:o=!1,initial:l=!1}={}){const[u,h]=reactExports.useState(l);return reactExports.useEffect(()=>{if(!e.current||o&&u)return;const p=()=>(h(!0),o?void 0:()=>h(!1)),m={root:t&&t.current||void 0,margin:n,amount:i};return inView(e.current,p,m)},[t,e,n,o,i]),u}const ReorderContext=reactExports.createContext(null);function checkReorder(e,t,n,i){if(!i)return e;const o=e.findIndex(g=>g.value===t);if(o===-1)return e;const l=i>0?1:-1,u=e[o+l];if(!u)return e;const h=e[o],p=u.layout,m=mixNumber$1(p.min,p.max,.5);return l===1&&h.layout.max+n>m||l===-1&&h.layout.min+n<m?moveItem(e,o,o+l):e}function ReorderGroupComponent({children:e,as:t="ul",axis:n="y",onReorder:i,values:o,...l},u){const h=useConstant(()=>motion[t]),p=[],m=reactExports.useRef(!1),g={axis:n,registerItem:(b,E)=>{const _=p.findIndex(A=>b===A.value);_!==-1?p[_].layout=E[n]:p.push({value:b,layout:E[n]}),p.sort(compareMin)},updateOrder:(b,E,_)=>{if(m.current)return;const A=checkReorder(p,b,E,_);p!==A&&(m.current=!0,i(A.map(getValue).filter(w=>o.indexOf(w)!==-1)))}};return reactExports.useEffect(()=>{m.current=!1}),jsxRuntimeExports.jsx(h,{...l,ref:u,ignoreStrict:!0,children:jsxRuntimeExports.jsx(ReorderContext.Provider,{value:g,children:e})})}const ReorderGroup=reactExports.forwardRef(ReorderGroupComponent);function getValue(e){return e.value}function compareMin(e,t){return e.layout.min-t.layout.min}function useDefaultMotionValue(e,t=0){return isMotionValue(e)?e:useMotionValue(t)}function ReorderItemComponent({children:e,style:t={},value:n,as:i="li",onDrag:o,layout:l=!0,...u},h){const p=useConstant(()=>motion[i]),m=reactExports.useContext(ReorderContext),g={x:useDefaultMotionValue(t.x),y:useDefaultMotionValue(t.y)},b=useTransform([g.x,g.y],([w,T])=>w||T?1:"unset"),{axis:E,registerItem:_,updateOrder:A}=m;return jsxRuntimeExports.jsx(p,{drag:E,...u,dragSnapToOrigin:!0,style:{...t,x:g.x,y:g.y,zIndex:b},layout:l,onDrag:(w,T)=>{const{velocity:C}=T;C[E]&&A(n,g[E].get(),C[E]),o&&o(w,T)},onLayoutMeasure:w=>_(n,w),ref:h,ignoreStrict:!0,children:e})}const ReorderItem=reactExports.forwardRef(ReorderItemComponent);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),toPascalCase=e=>{const t=toCamelCase(e);return t.charAt(0).toUpperCase()+t.slice(1)},mergeClasses=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),hasA11yProp=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...h},p)=>reactExports.createElement("svg",{ref:p,...defaultAttributes,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:mergeClasses("lucide",o),...!l&&!hasA11yProp(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>reactExports.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(e,t)=>{const n=reactExports.forwardRef(({className:i,...o},l)=>reactExports.createElement(Icon,{ref:l,iconNode:t,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,i),...o}));return n.displayName=toPascalCase(e),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ArrowDownRight=createLucideIcon("arrow-down-right",__iconNode$11);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$10);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ArrowUpRight=createLucideIcon("arrow-up-right",__iconNode$$);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Award=createLucideIcon("award",__iconNode$_);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],BookOpen=createLucideIcon("book-open",__iconNode$Z);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Box=createLucideIcon("box",__iconNode$Y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],BrainCircuit=createLucideIcon("brain-circuit",__iconNode$X);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Brain=createLucideIcon("brain",__iconNode$W);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$V);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ChartColumn=createLucideIcon("chart-column",__iconNode$U);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$T);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$Q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$P);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$O);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],CirclePlus=createLucideIcon("circle-plus",__iconNode$N);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$L);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],CloudSun=createLucideIcon("cloud-sun",__iconNode$K);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Crown=createLucideIcon("crown",__iconNode$J);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],FileCheck=createLucideIcon("file-check",__iconNode$H);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Flame=createLucideIcon("flame",__iconNode$G);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$F);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Heart=createLucideIcon("heart",__iconNode$E);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],History$1=createLucideIcon("history",__iconNode$D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],House=createLucideIcon("house",__iconNode$C);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$B);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],LayoutGrid=createLucideIcon("layout-grid",__iconNode$z);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],LayoutList=createLucideIcon("layout-list",__iconNode$y);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],List=createLucideIcon("list",__iconNode$x);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$w);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],LogOut=createLucideIcon("log-out",__iconNode$u);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Mail=createLucideIcon("mail",__iconNode$t);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Maximize2=createLucideIcon("maximize-2",__iconNode$s);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$r);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Minimize2=createLucideIcon("minimize-2",__iconNode$q);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M5 12h14",key:"1ays0h"}]],Minus=createLucideIcon("minus",__iconNode$p);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$o);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pen=createLucideIcon("pen",__iconNode$n);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$m);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$l);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$k);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rocket=createLucideIcon("rocket",__iconNode$j);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],RotateCcw=createLucideIcon("rotate-ccw",__iconNode$i);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],RotateCw=createLucideIcon("rotate-cw",__iconNode$h);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Settings$1=createLucideIcon("settings",__iconNode$g);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Share2=createLucideIcon("share-2",__iconNode$f);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$e);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],SlidersVertical=createLucideIcon("sliders-vertical",__iconNode$d);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$c);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$a);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]],Sunset=createLucideIcon("sunset",__iconNode$9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Target=createLucideIcon("target",__iconNode$8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$7);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$6);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Trophy=createLucideIcon("trophy",__iconNode$5);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Type$1=createLucideIcon("type",__iconNode$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$2);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode),createStoreImpl=e=>{let t;const n=new Set,i=(m,g)=>{const b=typeof m=="function"?m(t):m;if(!Object.is(b,t)){const E=t;t=g??(typeof b!="object"||b===null)?b:Object.assign({},t,b),n.forEach(_=>_(t,E))}},o=()=>t,h={setState:i,getState:o,getInitialState:()=>p,subscribe:m=>(n.add(m),()=>n.delete(m))},p=t=e(i,o,h);return h},createStore$1=(e=>e?createStoreImpl(e):createStoreImpl),identity$5=e=>e;function useStore$1(e,t=identity$5){const n=React.useSyncExternalStore(e.subscribe,React.useCallback(()=>t(e.getState()),[e,t]),React.useCallback(()=>t(e.getInitialState()),[e,t]));return React.useDebugValue(n),n}const createImpl=e=>{const t=createStore$1(e),n=i=>useStore$1(t,i);return Object.assign(n,t),n},create=(e=>e?createImpl(e):createImpl);function __rest$1(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function __awaiter(e,t,n,i){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(g){try{m(i.next(g))}catch(b){u(b)}}function p(g){try{m(i.throw(g))}catch(b){u(b)}}function m(g){g.done?l(g.value):o(g.value).then(h,p)}m((i=i.apply(e,t||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class FunctionsError extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class FunctionsFetchError extends FunctionsError{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class FunctionsRelayError extends FunctionsError{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class FunctionsHttpError extends FunctionsError{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var FunctionRegion;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(t,{headers:n={},customFetch:i,region:o=FunctionRegion.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=resolveFetch$3(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return __awaiter(this,arguments,void 0,function*(n,i={}){var o;let l,u;try{const{headers:h,method:p,body:m,signal:g,timeout:b}=i;let E={},{region:_}=i;_||(_=this.region);const A=new URL(`${this.url}/${n}`);_&&_!=="any"&&(E["x-region"]=_,A.searchParams.set("forceFunctionRegion",_));let w;m&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",w=m):typeof m=="string"?(E["Content-Type"]="text/plain",w=m):typeof FormData<"u"&&m instanceof FormData?w=m:(E["Content-Type"]="application/json",w=JSON.stringify(m)):w=m;let T=g;b&&(u=new AbortController,l=setTimeout(()=>u.abort(),b),g?(T=u.signal,g.addEventListener("abort",()=>u.abort())):T=u.signal);const C=yield this.fetch(A.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),h),body:w,signal:T}).catch(M=>{throw new FunctionsFetchError(M)}),B=C.headers.get("x-relay-error");if(B&&B==="true")throw new FunctionsRelayError(C);if(!C.ok)throw new FunctionsHttpError(C);let N=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return N==="application/json"?j=yield C.json():N==="application/octet-stream"||N==="application/pdf"?j=yield C.blob():N==="text/event-stream"?j=C:N==="multipart/form-data"?j=yield C.formData():j=yield C.text(),{data:j,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof FunctionsHttpError||h instanceof FunctionsRelayError?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var PostgrestError=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},PostgrestBuilder=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,p=null,m=l.status,g=l.statusText;if(l.ok){var b,E;if(n.method!=="HEAD"){var _;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const w=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),T=(E=l.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");w&&T&&T.length>1&&(p=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,m=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var A;const w=await l.text();try{u=JSON.parse(w),Array.isArray(u)&&l.status===404&&(h=[],u=null,m=200,g="OK")}catch{l.status===404&&w===""?(m=204,g="No Content"):u={message:w}}if(u&&n.isMaybeSingle&&(!(u==null||(A=u.details)===null||A===void 0)&&A.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&n.shouldThrowOnError)throw new PostgrestError(u)}return{error:u,data:h,count:p,status:m,statusText:g}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let h="";const p=l==null?void 0:l.cause;if(p){var m,g,b,E;const A=(m=p==null?void 0:p.message)!==null&&m!==void 0?m:"",w=(g=p==null?void 0:p.code)!==null&&g!==void 0?g:"";h=`${(b=l==null?void 0:l.name)!==null&&b!==void 0?b:"FetchError"}: ${l==null?void 0:l.message}`,h+=`

Caused by: ${(E=p==null?void 0:p.name)!==null&&E!==void 0?E:"Error"}: ${A}`,w&&(h+=` (${w})`),p!=null&&p.stack&&(h+=`
${p.stack}`)}else{var _;h=(_=l==null?void 0:l.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},PostgrestTransformBuilder=class extends PostgrestBuilder{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(l,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:l="text"}={}){var u;const h=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${p}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const PostgrestReservedCharsRegexp=new RegExp("[,()]");var PostgrestFilterBuilder=class extends PostgrestTransformBuilder{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&PostgrestReservedCharsRegexp.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&PostgrestReservedCharsRegexp.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${l}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},PostgrestQueryBuilder=class{constructor(e,{headers:t={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=i}select(e,t){const{head:n=!1,count:i}=t??{},o=n?"HEAD":"GET";let l=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var i;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(l.length>0){const u=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new PostgrestFilterBuilder({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){var l;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(h.length>0){const p=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new PostgrestFilterBuilder({method:u,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}update(e,{count:t}={}){var n;const i="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new PostgrestFilterBuilder({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new PostgrestFilterBuilder({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},PostgrestClient=class tp{constructor(t,{headers:n={},schema:i,fetch:o}={}){this.url=t,this.headers=new Headers(n),this.schemaName=i,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PostgrestQueryBuilder(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new tp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,get:o=!1,count:l}={}){var u;let h;const p=new URL(`${this.url}/rpc/${t}`);let m;i||o?(h=i?"HEAD":"GET",Object.entries(n).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{p.searchParams.append(b,E)})):(h="POST",m=n);const g=new Headers(this.headers);return l&&g.set("Prefer",`count=${l}`),new PostgrestFilterBuilder({method:h,url:p,headers:g,schema:this.schemaName,body:m,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};class WebSocketFactory{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const version$3="2.89.0",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_1_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(e){e.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,i;const o=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,i;const o=(i=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,i){var o,l;const u=t.topic,h=(o=t.ref)!==null&&o!==void 0?o:"",p=(l=t.join_ref)!==null&&l!==void 0?l:"",m=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(g).length===0?"":JSON.stringify(g);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+u.length+m.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+E);let A=new DataView(_),w=0;A.setUint8(w++,this.KINDS.userBroadcastPush),A.setUint8(w++,p.length),A.setUint8(w++,h.length),A.setUint8(w++,u.length),A.setUint8(w++,m.length),A.setUint8(w++,b.length),A.setUint8(w++,n),Array.from(p,C=>A.setUint8(w++,C.charCodeAt(0))),Array.from(h,C=>A.setUint8(w++,C.charCodeAt(0))),Array.from(u,C=>A.setUint8(w++,C.charCodeAt(0))),Array.from(m,C=>A.setUint8(w++,C.charCodeAt(0))),Array.from(b,C=>A.setUint8(w++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+i.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(i),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return n(i)}if(typeof t=="string"){const i=JSON.parse(t),[o,l,u,h,p]=i;return n({join_ref:o,ref:l,topic:u,event:h,payload:p})}return n({})}_binaryDecode(t){const n=new DataView(t),i=n.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,o)}}_decodeUserBroadcast(t,n,i){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let p=this.HEADER_LENGTH+4;const m=i.decode(t.slice(p,p+o));p=p+o;const g=i.decode(t.slice(p,p+l));p=p+l;const b=i.decode(t.slice(p,p+u));p=p+u;const E=t.slice(p,t.byteLength),_=h===this.JSON_ENCODING?JSON.parse(i.decode(E)):E,A={type:this.BROADCAST_EVENT,event:g,payload:_};return u>0&&(A.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>n.includes(i)))}}class Timer{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(e,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=convertColumn(u,e,t,o),l),{}):{}},convertColumn=(e,t,n,i)=>{const o=t.find(h=>h.name===e),l=o==null?void 0:o.type,u=n[e];return l&&!i.includes(l)?convertCell(l,u):noop$6(u)},convertCell=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return toArray$2(t,n)}switch(e){case PostgresTypes.bool:return toBoolean(t);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber$1(t);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(t);case PostgresTypes.timestamp:return toTimestampString(t);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$6(t);default:return noop$6(t)}},noop$6=e=>e,toBoolean=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},toNumber$1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},toJson=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},toArray$2=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let l;const u=e.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>convertCell(t,h))}return e},toTimestampString=e=>typeof e=="string"?e.replace(" ","T"):e,httpEndpointURL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Push{constructor(t,n,i={},o=DEFAULT_TIMEOUT){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,o,l,u),this.pendingDiffs.forEach(p=>{this.state=RealtimePresence.syncDiff(this.state,p,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=RealtimePresence.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const l=this.cloneDeep(t),u=this.transformState(n),h={},p={};return this.map(l,(m,g)=>{u[m]||(p[m]=g)}),this.map(u,(m,g)=>{const b=l[m];if(b){const E=g.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),A=g.filter(T=>_.indexOf(T.presence_ref)<0),w=b.filter(T=>E.indexOf(T.presence_ref)<0);A.length>0&&(h[m]=A),w.length>0&&(p[m]=w)}else h[m]=g}),this.syncDiff(l,{joins:h,leaves:p},i,o)}static syncDiff(t,n,i,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(l,(h,p)=>{var m;const g=(m=t[h])!==null&&m!==void 0?m:[];if(t[h]=this.cloneDeep(p),g.length>0){const b=t[h].map(_=>_.presence_ref),E=g.filter(_=>b.indexOf(_.presence_ref)<0);t[h].unshift(...E)}i(h,g,p)}),this.map(u,(h,p)=>{let m=t[h];if(!m)return;const g=p.map(b=>b.presence_ref);m=m.filter(b=>g.indexOf(b.presence_ref)<0),t[h]=m,o(h,m,p),m.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(t,n={config:{}},i){var o,l;if(this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var i,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},E={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:E},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,T=(A=w==null?void 0:w.length)!==null&&A!==void 0?A:0,C=[];for(let B=0;B<T;B++){const N=w[B],{filter:{event:j,schema:M,table:D,filter:V}}=N,L=_&&_[B];if(L&&L.event===j&&RealtimeChannel.isFilterValueEqual(L.schema,M)&&RealtimeChannel.isFilterValueEqual(L.table,D)&&RealtimeChannel.isFilterValueEqual(L.filter,V))C.push(Object.assign(Object.assign({},N),{id:L.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,t==null||t(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",_=>{this.state=CHANNEL_STATES.errored,t==null||t(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===CHANNEL_STATES.joined&&t===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,i)}async httpSend(t,n,i={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const m=await h.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,p;const m=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=CHANNEL_STATES.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Push(this,CHANNEL_EVENTS.leave,{},t),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const o=new AbortController,l=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Push(this,t,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,l;const u=t.toLocaleLowerCase(),{close:h,error:p,leave:m,join:g}=CHANNEL_EVENTS;if(i&&[h,p,m,g].indexOf(u)>=0&&i!==this._joinRef())return;let E=this._onMessage(u,n,i);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var A,w,T;return((A=_.filter)===null||A===void 0?void 0:A.event)==="*"||((T=(w=_.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(E,i)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var A,w,T,C,B,N;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const j=_.id,M=(A=_.filter)===null||A===void 0?void 0:A.event;return j&&((w=n.ids)===null||w===void 0?void 0:w.includes(j))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const j=(B=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return j==="*"||j===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof E=="object"&&"ids"in E){const A=E.data,{schema:w,table:T,commit_timestamp:C,type:B,errors:N}=A;E=Object.assign(Object.assign({},{schema:w,table:T,commit_timestamp:C,eventType:B,new:{},old:{},errors:N}),this._getPayloadRecords(A))}_.callback(E,i)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),l={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&RealtimeChannel.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(CHANNEL_EVENTS.close,{},t)}_onError(t){this._on(CHANNEL_EVENTS.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=convertChangeData(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=convertChangeData(t.columns,t.old_record)),n}}const noop$5=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop$5,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop$5,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===i);if(o)return o;{const l=new RealtimeChannel(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:i,payload:o,ref:l}=t,u=()=>{this.encode(t,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:l,ref:u}=n,h=u?`(${u})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${o} ${h}`.trim(),l),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===SOCKET_STATES.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(CHANNEL_EVENTS.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([WORKER_SCRIPT],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,i=!1;if(t)n=t,i=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:DEFAULT_VERSION};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(CHANNEL_EVENTS.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,o,l,u,h,p,m,g,b,E,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(l=t==null?void 0:t.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t==null?void 0:t.heartbeatCallback)!==null&&h!==void 0?h:noop$5,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:DEFAULT_VSN,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=t==null?void 0:t.reconnectAfterMs)!==null&&m!==void 0?m:(A=>RECONNECT_INTERVALS[A-1]||DEFAULT_RECONNECT_FALLBACK),this.vsn){case VSN_1_0_0:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((A,w)=>w(JSON.stringify(A))),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:((A,w)=>w(JSON.parse(A)));break;case VSN_2_0_0:this.encode=(E=t==null?void 0:t.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var IcebergError=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function buildUrl(e,t,n){const i=new URL(t,e);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&i.searchParams.set(o,l);return i.toString()}async function buildAuthHeaders(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function createFetchClient(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:o,body:l,headers:u}){const h=buildUrl(e.baseUrl,i,o),p=await buildAuthHeaders(e.auth),m=await t(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...u},body:l?JSON.stringify(l):void 0}),g=await m.text(),b=(m.headers.get("content-type")||"").includes("application/json"),E=b&&g?JSON.parse(g):g;if(!m.ok){const _=b?E:void 0,A=_==null?void 0:_.error;throw new IcebergError((A==null?void 0:A.message)??`Request failed with status ${m.status}`,{status:m.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:_})}return{status:m.status,headers:m.headers,data:E}}}}function namespaceToPath(e){return e.join("")}var NamespaceOperations=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:namespaceToPath(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath(e.namespace)}`}),!0}catch(t){if(t instanceof IcebergError&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof IcebergError&&n.status===409)return;throw n}}};function namespaceToPath2(e){return e.join("")}var TableOperations=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath2(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof IcebergError&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof IcebergError&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},IcebergRestCatalog=class{constructor(e){var i;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=createFetchClient({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(i=e.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new NamespaceOperations(this.client,t),this.tableOps=new TableOperations(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},StorageError=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function isStorageError(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var StorageApiError=class extends StorageError{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageUnknownError=class extends StorageError{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const resolveFetch$1$1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),resolveResponse$1=()=>Response,recursiveToCamel=e=>{if(Array.isArray(e))return e.map(n=>recursiveToCamel(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=recursiveToCamel(i)}),t},isPlainObject$1$1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},isValidBucketName=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof$1(e)}function toPrimitive$1(e,t){if(_typeof$1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(_typeof$1(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toPropertyKey$1(e){var t=toPrimitive$1(e,"string");return _typeof$1(t)=="symbol"?t:t+""}function _defineProperty$H(e,t,n){return(t=toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$E(Object(n),!0).forEach(function(i){_defineProperty$H(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$E(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const _getErrorMessage$1=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},handleError$1=async(e,t,n)=>{e instanceof await resolveResponse$1()&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,l=(i==null?void 0:i.statusCode)||o+"";t(new StorageApiError(_getErrorMessage$1(i),o,l))}).catch(i=>{t(new StorageUnknownError(_getErrorMessage$1(i),i))}):t(new StorageUnknownError(_getErrorMessage$1(e),e))},_getRequestParams$1=(e,t,n,i)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?o:(isPlainObject$1$1(i)?(o.headers=_objectSpread2$1({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(i)):o.body=i,t!=null&&t.duplex&&(o.duplex=t.duplex),_objectSpread2$1(_objectSpread2$1({},o),n))};async function _handleRequest$1(e,t,n,i,o,l){return new Promise((u,h)=>{e(n,_getRequestParams$1(t,i,o,l)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>handleError$1(p,h,i))})}async function get$4(e,t,n,i){return _handleRequest$1(e,"GET",t,n,i)}async function post$1(e,t,n,i,o){return _handleRequest$1(e,"POST",t,i,o,n)}async function put(e,t,n,i,o){return _handleRequest$1(e,"PUT",t,i,o,n)}async function head(e,t,n,i){return _handleRequest$1(e,"HEAD",t,_objectSpread2$1(_objectSpread2$1({},n),{},{noResolveJson:!0}),i)}async function remove(e,t,n,i,o){return _handleRequest$1(e,"DELETE",t,i,o,n)}var StreamDownloadBuilder=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}}};let _Symbol$toStringTag;_Symbol$toStringTag=Symbol.toStringTag;var BlobDownloadBuilder=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_Symbol$toStringTag]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(isStorageError(t))return{data:null,error:t};throw t}}};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var StorageFileApi=class{constructor(e,t={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=resolveFetch$1$1(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,i){var o=this;try{let l;const u=_objectSpread2$1(_objectSpread2$1({},DEFAULT_FILE_OPTIONS),i);let h=_objectSpread2$1(_objectSpread2$1({},o.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),p&&l.append("metadata",o.encodeMetadata(p)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),p&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(p))):(l=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i!=null&&i.headers&&(h=_objectSpread2$1(_objectSpread2$1({},h),i.headers));const m=o._removeEmptyFolders(t),g=o._getFinalPath(m),b=await(e=="PUT"?put:post$1)(o.fetch,`${o.url}/object/${g}`,l,_objectSpread2$1({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(isStorageError(l))return{data:null,error:l};throw l}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,i){var o=this;const l=o._removeEmptyFolders(e),u=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let p;const m=_objectSpread2$1({upsert:DEFAULT_FILE_OPTIONS.upsert},i),g=_objectSpread2$1(_objectSpread2$1({},o.headers),{"x-upsert":String(m.upsert)});return typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",m.cacheControl)):(p=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType),{data:{path:l,fullPath:(await put(o.fetch,h.toString(),p,{headers:g})).Key},error:null}}catch(p){if(o.shouldThrowOnError)throw p;if(isStorageError(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(e,t){var n=this;try{let i=n._getFinalPath(e);const o=_objectSpread2$1({},n.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const l=await post$1(n.fetch,`${n.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(n.url+l.url),h=u.searchParams.get("token");if(!h)throw new StorageError("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var i=this;try{return{data:await post$1(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async copy(e,t,n){var i=this;try{return{data:{path:(await post$1(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,n){var i=this;try{let o=i._getFinalPath(e),l=await post$1(i.fetch,`${i.url}/object/sign/${o}`,_objectSpread2$1({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:i.headers});const u=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${i.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,n){var i=this;try{const o=await post$1(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:o.map(u=>_objectSpread2$1(_objectSpread2$1({},u),{},{signedUrl:u.signedURL?encodeURI(`${i.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),u=()=>get$4(this.fetch,`${this.url}/${n}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:recursiveToCamel(await get$4(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await head(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(isStorageError(i)&&i instanceof StorageUnknownError){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const n=this._getFinalPath(e),i=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const l=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});u!==""&&i.push(u);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}async remove(e){var t=this;try{return{data:await remove(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async list(e,t,n){var i=this;try{const o=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},DEFAULT_SEARCH_OPTIONS),t),{},{prefix:e||""});return{data:await post$1(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},n),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(isStorageError(o))return{data:null,error:o};throw o}}async listV2(e,t){var n=this;try{const i=_objectSpread2$1({},e);return{data:await post$1(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,i,{headers:n.headers},t),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const version$2="2.89.0",DEFAULT_HEADERS$1$1={"X-Client-Info":`storage-js/${version$2}`};var StorageBucketApi=class{constructor(e,t={},n,i){this.shouldThrowOnError=!1;const o=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),t),this.fetch=resolveFetch$1$1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await get$4(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await get$4(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await post$1(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}async updateBucket(e,t){var n=this;try{return{data:await put(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}async emptyBucket(e){var t=this;try{return{data:await post$1(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await remove(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},StorageAnalyticsClient=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),t),this.fetch=resolveFetch$1$1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await post$1(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const i=n.toString(),o=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await get$4(t.fetch,o,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await remove(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!isValidBucketName(e))throw new StorageError("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new IcebergRestCatalog({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(o,h),error:null}}catch(p){if(i)throw p;return{data:null,error:p}}}}})}};const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};var StorageVectorsError=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function isStorageVectorsError(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var StorageVectorsApiError=class extends StorageVectorsError{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageVectorsUnknownError=class extends StorageVectorsError{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const resolveFetch$2=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),isPlainObject$6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_getErrorMessage$2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),handleError$2=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new StorageVectorsApiError(_getErrorMessage$2(l),i,u))}).catch(()=>{const l=i+"";t(new StorageVectorsApiError(o.statusText||`HTTP ${i} error`,i,l))});else{const l=i+"";t(new StorageVectorsApiError(o.statusText||`HTTP ${i} error`,i,l))}}else t(new StorageVectorsUnknownError(_getErrorMessage$2(e),e))},_getRequestParams$2=(e,t,n,i)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return i?(isPlainObject$6(i)?(o.headers=_objectSpread2$1({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(i)):o.body=i,_objectSpread2$1(_objectSpread2$1({},o),n)):o};async function _handleRequest$2(e,t,n,i,o,l){return new Promise((u,h)=>{e(n,_getRequestParams$2(t,i,o,l)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>u(p)).catch(p=>handleError$2(p,h,i))})}async function post(e,t,n,i,o){return _handleRequest$2(e,"POST",t,i,o,n)}var VectorIndexApi=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),t),this.fetch=resolveFetch$2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(isStorageVectorsError(i))return{data:null,error:i};throw i}}async listIndexes(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(isStorageVectorsError(i))return{data:null,error:i};throw i}}},VectorDataApi=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),t),this.fetch=resolveFetch$2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}},VectorBucketApi=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),t),this.fetch=resolveFetch$2(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}},StorageVectorsClient=class extends VectorBucketApi{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new VectorBucketScope(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},VectorBucketScope=class extends VectorIndexApi{constructor(e,t,n,i){super(e,t,i),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},VectorIndexScope=class extends VectorDataApi{constructor(e,t,n,i,o){super(e,t,o),this.vectorBucketName=n,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,_objectSpread2$1(_objectSpread2$1({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},StorageClient=class extends StorageBucketApi{constructor(e,t={},n,i){super(e,t,n,i)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsClient(this.url+"/iceberg",this.headers,this.fetch)}};const version$1="2.89.0",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS$1={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=600*1e3;class AuthError extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function isAuthError(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AuthApiError extends AuthError{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function isAuthApiError(e){return isAuthError(e)&&e.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class CustomAuthError extends AuthError{constructor(t,n,i,o){super(t,i,o),this.name=n,this.status=i}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(e){return isAuthError(e)&&e.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(e){return isAuthError(e)&&e.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCECodeVerifierMissingError extends CustomAuthError{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AuthRetryableFetchError extends CustomAuthError{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function isAuthRetryableFetchError(e){return isAuthError(e)&&e.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class AuthInvalidJwtError extends CustomAuthError{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IGNORE_BASE64URL.length;t+=1)e[IGNORE_BASE64URL[t].charCodeAt(0)]=-2;for(let t=0;t<TO_BASE64URL.length;t+=1)e[TO_BASE64URL[t].charCodeAt(0)]=t;return e})();function byteToBase64URL(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(TO_BASE64URL[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(TO_BASE64URL[i]),t.queuedBits-=6}}function byteFromBase64URL(e,t,n){const i=FROM_BASE64URL[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function stringFromBase64URL(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{stringFromUTF8(u,i,n)};for(let u=0;u<e.length;u+=1)byteFromBase64URL(e.charCodeAt(u),o,l);return t.join("")}function codepointToUTF8(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function stringToUTF8(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}codepointToUTF8(i,t)}}function stringFromUTF8(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function base64UrlToUint8Array(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)byteFromBase64URL(e.charCodeAt(o),n,i);return new Uint8Array(t)}function stringToUint8Array(e){const t=[];return stringToUTF8(e,n=>t.push(n)),new Uint8Array(t)}function bytesToBase64URL(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};return e.forEach(o=>byteToBase64URL(o,n,i)),byteToBase64URL(null,n,i),t.join("")}function expiresAt(e){return Math.round(Date.now()/1e3)+e}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return n.searchParams.forEach((i,o)=>{t[o]=i}),t}const resolveFetch$1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),looksLikeFetchResponse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",setItemAsync=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},getItemAsync=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},removeItemAsync=async(e,t)=>{await e.removeItem(t)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Deferred.promiseConstructor=Promise;function decodeJWT(e){const t=e.split(".");if(t.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!BASE64URL_REGEX.test(t[i]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(t[0])),payload:JSON.parse(stringFromBase64URL(t[1])),signature:base64UrlToUint8Array(t[2]),raw:{header:t[0],payload:t[1]}}}async function sleep$2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function retryable(e,t){return new Promise((i,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await e(l);if(!t(l,null,u)){i(u);return}}catch(u){if(!t(l,u)){o(u);return}}})()})}function dec2hex(e){return("0"+e.toString(16)).substr(-2)}function generatePKCEVerifier(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,dec2hex).join("")}async function sha256(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function generatePKCEChallenge(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await sha256(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(e,t,n=!1){const i=generatePKCEVerifier();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await setItemAsync(e,`${t}-code-verifier`,o);const l=await generatePKCEChallenge(i);return[l,i===l?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(e){const t=e.headers.get(API_VERSION_HEADER_NAME);if(!t||!t.match(API_VERSION_REGEX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function validateExp(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function getAlgorithm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(e){if(!UUID_REGEX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(e,t){return new Proxy(e,{get:(n,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,o)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,i,o)}})}function deepClone(e){return JSON.parse(JSON.stringify(e))}const _getErrorMessage=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NETWORK_ERROR_CODES=[502,503,504];async function handleError(e){var t;if(!looksLikeFetchResponse(e))throw new AuthRetryableFetchError(_getErrorMessage(e),0);if(NETWORK_ERROR_CODES.includes(e.status))throw new AuthRetryableFetchError(_getErrorMessage(e),e.status);let n;try{n=await e.json()}catch(l){throw new AuthUnknownError(_getErrorMessage(l),l)}let i;const o=parseResponseAPIVersion(e);if(o&&o.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new AuthSessionMissingError}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(n),e.status,n.weak_password.reasons);throw new AuthApiError(_getErrorMessage(n),e.status||500,i)}const _getRequestParams=(e,t,n,i)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function _request(e,t,n,i){var o;const l=Object.assign({},i==null?void 0:i.headers);l[API_VERSION_HEADER_NAME]||(l[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await _handleRequest(e,t,n+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function _handleRequest(e,t,n,i,o,l){const u=_getRequestParams(t,i,o,l);let h;try{h=await e(n,Object.assign({},u))}catch(p){throw console.error(p),new AuthRetryableFetchError(_getErrorMessage(p),0)}if(h.ok||await handleError(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await handleError(p)}}function _sessionResponse(e){var t;let n=null;hasSession(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=expiresAt(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function _sessionResponsePassword(e){const t=_sessionResponse(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _userResponse(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _ssoResponse(e){return{data:e,error:null}}function _generateLinkResponse(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:l}=e,u=__rest$1(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:l},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function _noResolveJsonResponse(e){return e}function hasSession(e){return e.access_token&&e.refresh_token&&e.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=resolveFetch$1(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=__rest$1(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_generateLinkResponse,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(isAuthError(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,o,l,u,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:_noResolveJsonResponse});if(g.error)throw g.error;const b=await g.json(),E=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(A=>{const w=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(A.split(";")[1].split("=")[1]);m[`${T}Page`]=w}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(isAuthError(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){validateUUID(t);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){validateUUID(t);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){validateUUID(t);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_userResponse})}catch(i){if(isAuthError(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){validateUUID(t.userId);try{const{data:n,error:i}=await _request(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _deleteFactor(t){validateUUID(t.userId),validateUUID(t.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,i,o,l,u,h,p;try{const m={nextPage:null,lastPage:0,total:0},g=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:_noResolveJsonResponse});if(g.error)throw g.error;const b=await g.json(),E=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(p=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return _.length>0&&(_.forEach(A=>{const w=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(A.split(";")[1].split("=")[1]);m[`${T}Page`]=w}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(isAuthError(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(isAuthError(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}}function memoryLocalStorageAdapter(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(e,t,n){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(internals.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fromHex(e){return parseInt(e,16)}function toHex(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function createSiweMessage(e){var t;const{chainId:n,domain:i,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:p,resources:m,scheme:g,uri:b,version:E}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=getAddress(e.address),A=g?`${g}://${i}`:i,w=e.statement?`${e.statement}
`:"",T=`${A} wants you to sign in with your Ethereum account:
${_}

${w}`;let C=`URI: ${b}
Version: ${E}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),p&&(C+=`
Request ID: ${p}`),m){let B=`
Resources:`;for(const N of m){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);B+=`
- ${N}`}C+=B}return`${T}
${C}`}class WebAuthnError extends Error{constructor({message:t,code:n,cause:i,name:o}){var l;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=o??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class WebAuthnUnknownError extends WebAuthnError{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function identifyRegistrationError({error:e,options:t}){var n,i,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new WebAuthnError({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const u=window.location.hostname;if(isValidDomain(u)){if(l.rp.id!==u)return new WebAuthnError({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function identifyAuthenticationError({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new WebAuthnError({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(isValidDomain(i)){if(n.rpId!==i)return new WebAuthnError({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:i}=e,o=__rest$1(e,["challenge","user","excludeCredentials"]),l=base64UrlToUint8Array(t).buffer,u=Object.assign(Object.assign({},n),{id:base64UrlToUint8Array(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const m=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:base64UrlToUint8Array(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function deserializeCredentialRequestOptions(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,i=__rest$1(e,["challenge","allowCredentials"]),o=base64UrlToUint8Array(t).buffer,l=Object.assign(Object.assign({},i),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:base64UrlToUint8Array(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function serializeCredentialCreationResponse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(e.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function serializeCredentialRequestResponse(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,i=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(o.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(o.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(o.signature)),userHandle:o.userHandle?bytesToBase64URL(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function isValidDomain(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function browserSupportsWebAuthn(){var e,t;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function createCredential(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",t)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",t)}}catch(t){return{data:null,error:identifyRegistrationError({error:t,options:e})}}}async function getCredential(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",t)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",t)}}catch(t){return{data:null,error:identifyAuthenticationError({error:t,options:e})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of e)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))i[l]=u;else if(n(u))i[l]=u;else if(t(u)){const h=i[l];t(h)?i[l]=deepMerge(h,u):i[l]=deepMerge(u)}else i[l]=u}return i}function mergeCredentialCreationOptions(e,t){return deepMerge(DEFAULT_CREATION_OPTIONS,e,t||{})}function mergeCredentialRequestOptions(e,t){return deepMerge(DEFAULT_REQUEST_OPTIONS,e,t||{})}class WebAuthnApi{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:i,signal:o},l){try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:h};const p=o??webAuthnAbortService.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=mergeCredentialCreationOptions(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:g,error:b}=await createCredential({publicKey:m,signal:p});return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}case"request":{const m=mergeCredentialRequestOptions(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:g,error:b}=await getCredential(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:p}));return g?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:g}},error:null}:{data:null,error:b}}}}catch(u){return isAuthError(u)?{data:null,error:u}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:i},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:p}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:i,credential_response:p.credential_response}})}catch(u){return isAuthError(u)?{data:null,error:u}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(g=>{var b;return(b=g.data)===null||b===void 0?void 0:b.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===t&&E.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:h};const{data:p,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:o},{create:l});return p?this._verify({factorId:u.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(u){return isAuthError(u)?{data:null,error:u}:{data:null,error:new AuthUnknownError("Unexpected error in register",u)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS$1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function lockNoOp(e,t,n){return await n()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var t,n;return(n=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=GLOBAL_JWKS[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:t})}constructor(t){var n,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},DEFAULT_OPTIONS),t);if(this.storageKey=l.storageKey,this.instanceID=(n=GoTrueClient.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&isBrowser()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new GoTrueAdminApi({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=resolveFetch$1(l.fetch),this.lock=l.lock||lockNoOp,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&isBrowser()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version$1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},i="none";if(isBrowser()&&(n=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),isBrowser()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),isAuthImplicitGrantRedirectError(l)){const p=(t=l.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return isAuthError(n)?this._returnResult({error:n}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,o;try{const l=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:_sessionResponse}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(isAuthError(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var n,i,o;try{let l;if("email"in t){const{email:g,password:b,options:E}=t;let _=null,A=null;this.flowType==="pkce"&&([_,A]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),l=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:g,password:b,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:_,code_challenge_method:A},xform:_sessionResponse})}else if("phone"in t){const{phone:g,password:b,options:E}=t;l=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:b,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},channel:(o=E==null?void 0:E.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(l){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:h}=t;n=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in t){const{phone:l,password:u,options:h}=t;n=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const l=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,i,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,i,o,l,u,h,p,m,g,b,E;let _,A;if("message"in t)_=t.message,A=t.signature;else{const{chain:w,wallet:T,statement:C,options:B}=t;let N;if(isBrowser())if(typeof T=="object")N=T;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")N=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const j=new URL((n=B==null?void 0:B.url)!==null&&n!==void 0?n:window.location.href),M=await N.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=getAddress(M[0]);let V=(i=B==null?void 0:B.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!V){const U=await N.request({method:"eth_chainId"});V=fromHex(U)}const L={domain:j.host,address:D,statement:C,uri:j.href,version:"1",chainId:V,nonce:(o=B==null?void 0:B.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=B==null?void 0:B.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=B==null?void 0:B.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=B==null?void 0:B.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=B==null?void 0:B.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(g=B==null?void 0:B.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=createSiweMessage(L),A=await N.request({method:"personal_sign",params:[toHex(_),D]})}try{const{data:w,error:T}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:A},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:_sessionResponse});if(T)throw T;if(!w||!w.session||!w.user){const C=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:C})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:T})}catch(w){if(isAuthError(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,i,o,l,u,h,p,m,g,b,E,_;let A,w;if("message"in t)A=t.message,w=t.signature;else{const{chain:T,wallet:C,statement:B,options:N}=t;let j;if(isBrowser())if(typeof C=="object")j=C;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))j=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=C}const M=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const D=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),B?{statement:B}:null));let V;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")V=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)V=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)A=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),w=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${M.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(i=N==null?void 0:N.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((u=N==null?void 0:N.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((h=N==null?void 0:N.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((p=N==null?void 0:N.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((m=N==null?void 0:N.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((b=(g=N==null?void 0:N.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||b===void 0)&&b.length?["Resources",...N.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const D=await j.signMessage(new TextEncoder().encode(A),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=D}}try{const{data:T,error:C}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:bytesToBase64URL(w)},!((E=t.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:_sessionResponse});if(C)throw C;if(!T||!T.session||!T.user){const B=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:B})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(isAuthError(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{if(!i&&this.flowType==="pkce")throw new AuthPKCECodeVerifierMissingError;const{data:l,error:u}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:n,provider:i,token:o,access_token:l,nonce:u}=t,h=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_sessionResponse}),{data:p,error:m}=h;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p||!p.session||!p.user){const g=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:m})}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,i,o,l,u;try{if("email"in t){const{email:h,options:p}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:b}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:h,options:p}=t,{data:m,error:g}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:g})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(h){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,i;try{let o,l;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:_sessionResponse});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:m,session:p},error:null})}catch(o){if(isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var n,i,o,l,u;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const m=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:_ssoResponse});return!((l=m.data)===null||l===void 0)&&l.url&&isBrowser()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(h){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new AuthSessionMissingError;const{error:o}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(isAuthError(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:l}=t,{error:u}=await _request(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:i,type:o,options:l}=t,{data:u,error:h}=await _request(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await getItemAsync(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=userNotAvailableProxy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=insecureUserWarningProxy(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_userResponse}):await this._useSession(async n=>{var i,o,l;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:_userResponse})})}catch(n){if(isAuthError(n))return isAuthSessionMissingError(n)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:o,error:l}=i;if(l)throw l;if(!o.session)throw new AuthSessionMissingError;const u=o.session;let h=null,p=null;this.flowType==="pkce"&&t.email!=null&&([h,p]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:m,error:g}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:_userResponse});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new AuthSessionMissingError;const n=Date.now()/1e3;let i=n,o=!0,l=null;const{payload:u}=decodeJWT(t.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{data:h,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(t.access_token);if(p)throw p;l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(isAuthError(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new AuthSessionMissingError;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(isAuthError(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(t.error||t.error_description||t.error_code)throw new AuthImplicitGrantRedirectError(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:B,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:p,token_type:m}=t;if(!l||!h||!u||!m)throw new AuthImplicitGrantRedirectError("No session defined in URL");const g=Math.round(Date.now()/1e3),b=parseInt(h);let E=g+b;p&&(E=parseInt(p));const _=E-g;_*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const A=E-b;g-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,E,g):g-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,E,g);const{data:w,error:T}=await this._getUser(l);if(T)throw T;const C={provider_token:i,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:E,refresh_token:u,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(i){if(isAuthError(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:l}=n;if(l)return this._returnResult({error:l});const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(isAuthApiError(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=generateCallbackId(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:i,error:o}=await this._useSession(async l=>{var u,h,p,m,g;const{data:b,error:E}=l;if(E)throw E;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return isBrowser()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:t.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(isAuthError(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var i;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:h,token:p,access_token:m,nonce:g}=t,b=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:m,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:_sessionResponse}),{data:E,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:_}))}catch(o){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,o;const{data:l,error:u}=n;if(u)throw u;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await retryable(async o=>(o>0&&await sleep$2(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_sessionResponse})),(o,l)=>{const u=200*Math.pow(2,o);return l&&isAuthRetryableFetchError(l)&&Date.now()+u-i<AUTO_REFRESH_TICK_DURATION_MS})}catch(i){if(this._debug(n,"error",i),isAuthError(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),isBrowser()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await getItemAsync(this.storage,this.storageKey);if(o&&this.userStorage){let u=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await setItemAsync(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:userNotAvailableProxy()}else if(o&&!o.user&&!o.user){const u=await getItemAsync(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,o)):o.user=userNotAvailableProxy()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),isAuthRetryableFetchError(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Deferred;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new AuthSessionMissingError;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),isAuthError(l)){const u={data:null,error:l};return isAuthRetryableFetchError(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(p){l.push(p)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=deepClone(o);await setItemAsync(this.storage,this.storageKey,l)}else{const o=deepClone(n);await setItemAsync(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),o<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await getCodeChallengeAndMethod(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);o.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await _request(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:m}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?serializeCredentialCreationResponse(t.webauthn.credential_response):serializeCredentialRequestResponse(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:p}=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await _request(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=decodeJWT(i.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((n=(t=i.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new AuthSessionMissingError});const u=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&isBrowser()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(isAuthError(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,n){try{return await this._useSession(async i=>{const{data:{session:o},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new AuthSessionMissingError});const u=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&isBrowser()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(u.data.redirect_url),u})}catch(i){if(isAuthError(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;return i?this._returnResult({data:null,error:i}):n?await _request(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(t){if(isAuthError(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:i},error:o}=n;return o?this._returnResult({data:null,error:o}):i?(await _request(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(h=>h.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===t),i&&this.jwks_cached_at+JWKS_TTL>o)return i;const{data:l,error:u}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,i=l.keys.find(h=>h.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:_,error:A}=await this.getSession();if(A||!_.session)return this._returnResult({data:null,error:A});i=_.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:p}}=decodeJWT(i);n!=null&&n.allowExpired||validateExp(l.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!m){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:o,signature:u},error:null}}const g=getAlgorithm(o.alg),b=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,b,u,stringToUint8Array(`${h}.${p}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(i){if(isAuthError(i))return this._returnResult({data:null,error:i});throw i}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient,version="2.89.0";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${JS_ENV}/${version}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}function toPrimitive(e,t){if(_typeof(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(_typeof(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function toPropertyKey(e){var t=toPrimitive(e,"string");return _typeof(t)=="symbol"?t:t+""}function _defineProperty$G(e,t,n){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ownKeys$D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$D(Object(n),!0).forEach(function(i){_defineProperty$G(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$D(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}const resolveFetch=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(e,t,n)=>{const i=resolveFetch(n),o=resolveHeadersConstructor();return async(l,u)=>{var h;const p=(h=await t())!==null&&h!==void 0?h:e;let m=new o(u==null?void 0:u.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),i(l,_objectSpread2(_objectSpread2({},u),{},{headers:m}))}};function ensureTrailingSlash(e){return e.endsWith("/")?e:e+"/"}function applySettingDefaults(e,t){var n,i;const{db:o,auth:l,realtime:u,global:h}=e,{db:p,auth:m,realtime:g,global:b}=t,E={db:_objectSpread2(_objectSpread2({},p),o),auth:_objectSpread2(_objectSpread2({},m),l),realtime:_objectSpread2(_objectSpread2({},g),u),storage:{},global:_objectSpread2(_objectSpread2(_objectSpread2({},b),h),{},{headers:_objectSpread2(_objectSpread2({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?E.accessToken=e.accessToken:delete E.accessToken,E}function validateSupabaseUrl(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SupabaseAuthClient=class extends AuthClient{constructor(e){super(e)}},SupabaseClient=class{constructor(e,t,n){var i,o;this.supabaseUrl=e,this.supabaseKey=t;const l=validateSupabaseUrl(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:_objectSpread2(_objectSpread2({},DEFAULT_AUTH_OPTIONS),{},{storageKey:u}),global:DEFAULT_GLOBAL_OPTIONS},p=applySettingDefaults(n??{},h);if(this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var m;this.auth=this._initSupabaseAuthClient((m=p.auth)!==null&&m!==void 0?m:{},this.headers,p.global.fetch)}this.fetch=fetchWithAuth(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(_objectSpread2({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:l,flowType:u,lock:h,debug:p,throwOnError:m},g,b){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:_objectSpread2(_objectSpread2({},E),g),storageKey:l,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:i,userStorage:o,flowType:u,lock:h,debug:p,throwOnError:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl.href,_objectSpread2(_objectSpread2({},e),{},{params:_objectSpread2(_objectSpread2({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const createClient=(e,t,n)=>new SupabaseClient(e,t,n);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const FALLBACK_URL="https://rnzbverahetjlmngzckn.supabase.co",FALLBACK_KEY="sb_publishable_dh6FcLmxe4x-gqEYwd5OlA_eDgQEHmc",supabaseUrl=FALLBACK_URL,supabaseAnonKey=FALLBACK_KEY,supabase=createClient(supabaseUrl,supabaseAnonKey),INITIAL_BADGES=[{id:"b-1",name:"Early Bird",description:"Complete a quiz before 8 AM",iconName:"sun",isLocked:!0,currentProgress:0,maxProgress:1},{id:"b-2",name:"Quiz Master",description:"Score 100% on 3 quizzes",iconName:"crown",isLocked:!0,currentProgress:0,maxProgress:3},{id:"b-3",name:"Streak Fire",description:"Reach a 7-day study streak",iconName:"flame",isLocked:!0,currentProgress:0,maxProgress:7},{id:"b-4",name:"Knowledge Seeker",description:"Create 5 custom quizzes",iconName:"brain",isLocked:!0,currentProgress:0,maxProgress:5},{id:"b-5",name:"Speedster",description:"Finish a quiz in under 60 seconds",iconName:"zap",isLocked:!0,currentProgress:0,maxProgress:1},{id:"b-6",name:"Perfectionist",description:"Answer 50 questions correctly",iconName:"target",isLocked:!0,currentProgress:0,maxProgress:50},{id:"b-7",name:"Explorer",description:"Try quizzes in 3 different topics",iconName:"rocket",isLocked:!0,currentProgress:0,maxProgress:3},{id:"b-8",name:"Scholar",description:"Study for 10 hours total",iconName:"trophy",isLocked:!0,currentProgress:0,maxProgress:10}],useStore=create((e,t)=>({theme:"light",toggleTheme:()=>e(n=>({theme:n.theme==="light"?"dark":"light"})),themeColor:"indigo",setThemeColor:n=>e({themeColor:n}),dashboardLayout:"grid",toggleDashboardLayout:()=>e(n=>({dashboardLayout:n.dashboardLayout==="grid"?"list":"grid"})),reduceMotion:!1,toggleReduceMotion:()=>e(n=>({reduceMotion:!n.reduceMotion})),user:null,isAuthenticated:!1,isLoading:!0,history:[],savedQuizzes:[],goals:[],badges:INITIAL_BADGES,userStats:{totalQuizzes:0,averageScore:0,studyStreak:0,totalQuestionsAnswered:0,xp:0,level:1},handleSession:async n=>{if(n!=null&&n.user)try{const{data:i,error:o}=await supabase.from("profiles").select("*").eq("id",n.user.id).single();o&&o.code!=="PGRST116"&&console.error("Error fetching profile:",o),e({isAuthenticated:!0,user:{id:n.user.id,name:(i==null?void 0:i.name)||n.user.user_metadata.name||"Student",email:n.user.email||"",title:(i==null?void 0:i.title)||"Student"},isLoading:!1}),t().fetchUserData()}catch(i){console.error("Session handling error:",i),e({isAuthenticated:!0,isLoading:!1})}else e({isAuthenticated:!1,user:null,isLoading:!1,history:[],savedQuizzes:[],goals:[]})},login:n=>e({isAuthenticated:!0,user:n}),logout:async()=>{await supabase.auth.signOut(),e({isAuthenticated:!1,user:null,history:[],savedQuizzes:[],goals:[]})},updateUser:async n=>{const i=t().user;if(!i)return;e({user:{...i,...n}});const{error:o}=await supabase.from("profiles").update({name:n.name,title:n.title}).eq("id",i.id);o&&console.error("Error updating profile:",o)},fetchUserData:async()=>{if(t().user)try{const{data:i}=await supabase.from("quizzes").select("*").order("created_at",{ascending:!1}),{data:o}=await supabase.from("results").select("*").order("completed_at",{ascending:!1}),{data:l}=await supabase.from("goals").select("*"),u=(o||[]).map(w=>({...w,completedAt:new Date(w.completed_at).getTime(),quizId:w.quiz_id,quizTitle:w.quiz_title,timeSpentSeconds:w.time_spent,totalQuestions:w.total_questions,correctCount:w.correct_count})),h=(i||[]).map(w=>({...w,createdAt:new Date(w.created_at).getTime(),questions:typeof w.questions=="string"?JSON.parse(w.questions):w.questions,flashcards:typeof w.flashcards=="string"?JSON.parse(w.flashcards):w.flashcards})),p=u.length,m=u.reduce((w,T)=>w+T.score,0),g=p>0?Math.round(m/p):0,b=u.reduce((w,T)=>w+(T.totalQuestions||0),0),E=b*10+m,_=Math.floor(E/1e3)+1,A=p>0?1:0;e({history:u,savedQuizzes:h,goals:l||[],userStats:{totalQuizzes:p,averageScore:g,totalQuestionsAnswered:b,xp:E,level:_,studyStreak:A}})}catch(i){console.error("Error fetching user data:",i)}},addResult:async n=>{const i=t().user;i&&(e(o=>{const l=[n,...o.history],u=l.length,h=l.reduce((E,_)=>E+_.score,0),p=u>0?Math.round(h/u):0,m=l.reduce((E,_)=>E+(_.totalQuestions||0),0),g=m*10+h,b=Math.floor(g/1e3)+1;return{history:l,userStats:{...o.userStats,totalQuizzes:u,averageScore:p,totalQuestionsAnswered:m,xp:g,level:b}}}),await supabase.from("results").insert({user_id:i.id,quiz_id:n.quizId,quiz_title:n.quizTitle,score:n.score,total_questions:n.totalQuestions,correct_count:n.correctCount,time_spent:n.timeSpentSeconds,completed_at:new Date(n.completedAt).toISOString()}),t().fetchUserData())},removeResult:async n=>{e(i=>({history:i.history.filter(o=>o.completedAt!==n)}))},saveQuiz:async n=>{const i=t().user;i&&(e(o=>({savedQuizzes:[n,...o.savedQuizzes]})),await supabase.from("quizzes").insert({user_id:i.id,title:n.title,topic:n.topic,questions:n.questions,flashcards:n.flashcards,created_at:new Date(n.createdAt).toISOString()}),t().fetchUserData())},addGoal:async n=>{const i=t().user;i&&(e(o=>({goals:[...o.goals,n]})),await supabase.from("goals").insert({id:n.id,user_id:i.id,title:n.title,description:n.description,target:n.target,current:n.current,unit:n.unit,category:n.category,color_theme:n.colorTheme}))},removeGoal:async n=>{e(i=>({goals:i.goals.filter(o=>o.id!==n)})),await supabase.from("goals").delete().eq("id",n)},updateGoalProgress:async(n,i)=>{const l=t().goals.find(h=>h.id===n);if(!l)return;const u=Math.min(l.target,l.current+i);e(h=>({goals:h.goals.map(p=>p.id===n?{...p,current:u}:p)})),await supabase.from("goals").update({current:u}).eq("id",n)},unlockBadge:n=>e(i=>({badges:i.badges.map(o=>o.id===n?{...o,isLocked:!1,unlockedAt:Date.now()}:o)}))}));function r(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function clsx(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}const sizes={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"},Avatar=({src:e,fallback:t,alt:n,size:i="md",className:o,onClick:l})=>{const[u,h]=reactExports.useState(!1),[p,m]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:clsx("relative rounded-full flex items-center justify-center overflow-visible shrink-0 select-none",sizes[i],o),onClick:l,children:[u&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:.6,scale:1},animate:{opacity:0,scale:1.4},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-0 rounded-full border-2 border-primary-500 z-0 pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:clsx("relative w-full h-full rounded-full overflow-hidden bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-300 font-bold flex items-center justify-center border border-gray-100 dark:border-dark-600 z-10",l&&"cursor-pointer"),children:[jsxRuntimeExports.jsx("span",{className:"absolute z-0",children:t.slice(0,2).toUpperCase()}),e&&!p&&jsxRuntimeExports.jsx(motion.img,{src:e,alt:n,initial:{opacity:0,filter:"blur(10px)",scale:.95},animate:{opacity:u?1:0,filter:u?"blur(0px)":"blur(10px)",scale:u?1:.95},transition:{duration:.6,ease:"easeOut"},onLoad:()=>h(!0),onError:()=>m(!0),className:"w-full h-full object-cover z-10"})]})]})},FlipNumber=({value:e,className:t,delay:n=0})=>{const[i,o]=reactExports.useState(0);return reactExports.useEffect(()=>{const l=setTimeout(()=>{o(e)},n*1e3);return()=>clearTimeout(l)},[e,n]),jsxRuntimeExports.jsxs("div",{className:clsx("relative inline-block",t),style:{perspective:"500px"},children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:jsxRuntimeExports.jsx(motion.span,{initial:{rotateX:90,opacity:0,y:20},animate:{rotateX:0,opacity:1,y:0},exit:{rotateX:-90,opacity:0,y:-20},transition:{duration:.4,ease:"easeInOut"},className:"block backface-hidden origin-center",children:i},i)}),jsxRuntimeExports.jsx("style",{children:`
        .backface-hidden { backface-visibility: hidden; }
      `})]})},LevelProgress=({xp:e,level:t})=>{const i=e%1e3,o=i/1e3*100;return jsxRuntimeExports.jsxs("div",{className:"w-full mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold uppercase tracking-wider text-gray-400 mb-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:"Level"}),jsxRuntimeExports.jsx("span",{className:"text-primary-600 dark:text-primary-400 text-sm",children:jsxRuntimeExports.jsx(FlipNumber,{value:t})})]}),jsxRuntimeExports.jsxs("span",{children:[i," / ",1e3," XP"]})]}),jsxRuntimeExports.jsx("div",{className:"relative h-2 w-full bg-gray-100 dark:bg-dark-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsxs(motion.div,{initial:{width:0},animate:{width:`${o}%`},transition:{duration:1.5,ease:"easeOut"},className:"absolute top-0 left-0 h-full rounded-full bg-gradient-to-r from-primary-500 to-indigo-500",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent w-full -translate-x-full animate-[shimmer_2s_infinite]"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1/2",children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 text-white drop-shadow-md fill-white"})})})]})})]})},UserProfile=()=>{var N;const{user:e,userStats:t,logout:n}=useStore(),i=useNavigate(),[o,l]=reactExports.useState(!1),u=reactExports.useRef(null),[h,p]=reactExports.useState(""),[m,g]=reactExports.useState(""),[b,E]=reactExports.useState(!0),[_,A]=reactExports.useState("name"),w=(e==null?void 0:e.name)||"Student",T=(e==null?void 0:e.title)||"Free Plan";reactExports.useEffect(()=>{p(""),g(""),A("name"),E(!0);let j=0,M;const D=()=>{j<w.length?(p(w.slice(0,j+1)),j++,M=setTimeout(D,40)):(j=0,A("title"),M=setTimeout(V,200))},V=()=>{if(j<T.length)g(T.slice(0,j+1)),j++,M=setTimeout(V,30);else{A("done");let L=0;const U=setInterval(()=>{E(J=>!J),L++,L>5&&(clearInterval(U),E(!1))},500)}};return M=setTimeout(D,100),()=>clearTimeout(M)},[w,T]),reactExports.useEffect(()=>{const j=M=>{u.current&&!u.current.contains(M.target)&&l(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const C=()=>{n(),i("/login")},B=[{icon:User,label:"My Profile",path:"/settings"},{icon:Settings$1,label:"Settings",path:"/settings"},{icon:Shield,label:"Privacy",path:"#"}];return jsxRuntimeExports.jsxs("div",{ref:u,className:"relative mt-auto",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:o&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95,y:10,x:20},animate:{opacity:1,scale:1,y:0,x:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.25,ease:"easeOut"},className:"absolute bottom-full left-0 w-full mb-4 bg-white dark:bg-dark-800 rounded-2xl shadow-xl border border-gray-100 dark:border-dark-600 overflow-hidden z-50 origin-bottom-left",children:jsxRuntimeExports.jsxs("div",{className:"p-2 space-y-1",children:[B.map((j,M)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:M*.04},children:jsxRuntimeExports.jsxs(Link,{to:j.path,onClick:()=>l(!1),className:"relative flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors group",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 bg-primary-50 dark:bg-primary-900/20 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200",layoutId:"dropdown-highlight"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[jsxRuntimeExports.jsx(j.icon,{size:16}),j.label]})]})},j.label)),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 dark:bg-dark-700 my-1"}),jsxRuntimeExports.jsxs(motion.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.15},onClick:C,className:"relative w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{size:16}),"Sign Out"]})]})})}),jsxRuntimeExports.jsxs("div",{className:clsx("bg-gray-50 dark:bg-dark-700/50 rounded-2xl p-3 border border-gray-200 dark:border-dark-600 transition-all duration-300 cursor-pointer hover:shadow-md group",o&&"ring-2 ring-primary-500/50 border-primary-500"),onClick:()=>l(!o),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Avatar,{src:`https://api.dicebear.com/7.x/notionists/svg?seed=${(e==null?void 0:e.name)||"Divyansh"}&backgroundColor=e0e7ff`,fallback:((N=e==null?void 0:e.name)==null?void 0:N[0])||"S",alt:(e==null?void 0:e.name)||"User",className:"ring-2 ring-white dark:ring-dark-800 shadow-sm"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm font-bold text-gray-900 dark:text-white truncate h-5 flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"drop-shadow-sm",children:h}),b&&_==="name"&&jsxRuntimeExports.jsx("span",{className:"w-0.5 h-4 bg-primary-500 ml-0.5 animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 truncate h-4 flex items-center",children:[jsxRuntimeExports.jsx("span",{children:m}),b&&(_==="title"||_==="done")&&jsxRuntimeExports.jsx("span",{className:"w-0.5 h-3 bg-gray-400 ml-0.5"})]})]})]}),jsxRuntimeExports.jsx(LevelProgress,{xp:t.xp,level:t.level})]})]})},THEMES={indigo:"99 102 241",blue:"59 130 246",purple:"168 85 247",rose:"244 63 94",orange:"249 115 22",teal:"20 184 166"},THEME_LABELS={indigo:"Indigo",blue:"Blue",purple:"Purple",rose:"Rose",orange:"Orange",teal:"Teal"},THEME_VARIABLES={indigo:{50:"238 242 255",100:"224 231 255",500:"99 102 241",600:"79 70 229",700:"67 56 202",900:"49 46 129"},blue:{50:"239 246 255",100:"219 234 254",500:"59 130 246",600:"37 99 235",700:"29 78 216",900:"30 58 138"},purple:{50:"250 245 255",100:"243 232 255",500:"168 85 247",600:"147 51 234",700:"126 34 206",900:"88 28 135"},rose:{50:"255 241 242",100:"255 228 230",500:"244 63 94",600:"225 29 72",700:"190 18 60",900:"136 19 55"},orange:{50:"255 247 237",100:"255 237 213",500:"249 115 22",600:"234 88 12",700:"194 65 12",900:"124 45 18"},teal:{50:"240 253 250",100:"204 251 241",500:"20 184 166",600:"13 148 136",700:"15 118 110",900:"19 78 74"}},ThemeSelector=()=>{const{themeColor:e,setThemeColor:t}=useStore(),[n,i]=reactExports.useState(null);reactExports.useEffect(()=>{const l=document.documentElement,u=THEME_VARIABLES[e];u&&Object.entries(u).forEach(([h,p])=>{l.style.setProperty(`--color-primary-${h}`,p)})},[e]);const o=(l,u)=>{if(e===l)return;u.currentTarget.getBoundingClientRect();const h=u.clientX,p=u.clientY;i({x:h,y:p,color:l}),setTimeout(()=>{t(l)},400),setTimeout(()=>{i(null)},1e3)};return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:n&&jsxRuntimeExports.jsx(motion.div,{initial:{scale:0,opacity:1},animate:{scale:50},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"},style:{position:"fixed",top:n.y,left:n.x,width:"50px",height:"50px",borderRadius:"50%",backgroundColor:`rgb(${THEME_VARIABLES[n.color][500]})`,zIndex:9999,pointerEvents:"none",transform:"translate(-50%, -50%)"}})}),jsxRuntimeExports.jsx("div",{className:"p-1.5 bg-gray-100 dark:bg-dark-700/50 rounded-full flex items-center gap-1.5 border border-gray-200 dark:border-dark-600",children:Object.keys(THEMES).map(l=>jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("button",{onClick:u=>o(l,u),className:clsx("w-6 h-6 rounded-full transition-transform duration-200 border-2",e===l?"scale-110 border-gray-400 dark:border-white shadow-sm":"border-transparent hover:scale-125"),style:{backgroundColor:`rgb(${THEME_VARIABLES[l][500]})`},"aria-label":`Select ${THEME_LABELS[l]} theme`}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:THEME_LABELS[l]})]},l))})]})},Layout=()=>{var g;const{theme:e,toggleTheme:t,user:n,logout:i}=useStore(),[o,l]=reactExports.useState(!1),u=useLocation(),h=useNavigate();reactExports.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),reactExports.useEffect(()=>{l(!1)},[u.pathname]);const p=()=>{i(),h("/login")},m=[{icon:LayoutDashboard,label:"Dashboard",path:"/dashboard"},{icon:CirclePlus,label:"Create Quiz",path:"/create"},{icon:Layers,label:"Flashcards",path:"/flashcards"},{icon:History$1,label:"History",path:"/history"},{icon:Settings$1,label:"Settings",path:"/settings"}];return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-dark-900 overflow-hidden font-sans transition-colors duration-300",children:[jsxRuntimeExports.jsx("style",{children:`
          @keyframes gradient-x {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
          }
          .animate-gradient-x {
            animation: gradient-x 3s ease infinite;
            background-size: 200% auto;
          }
          @keyframes border-spin {
            100% { transform: rotate(360deg); }
          }
          .animate-border-spin {
            animation: border-spin 4s linear infinite;
          }
        `}),jsxRuntimeExports.jsxs("aside",{className:"hidden md:flex flex-col w-72 bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 shadow-xl z-20 h-full",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 flex items-center gap-3 shrink-0",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 p-2.5 rounded-xl shadow-lg shadow-primary-600/20 transition-all duration-500",children:jsxRuntimeExports.jsx(BrainCircuit,{className:"text-white w-6 h-6"})}),jsxRuntimeExports.jsx("span",{className:"text-xl font-display font-bold text-gray-900 dark:text-white tracking-tight",children:"LearnFlow"})]}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2 overflow-y-auto overflow-x-hidden custom-scrollbar",children:m.map(b=>jsxRuntimeExports.jsx(NavLink,{to:b.path,className:({isActive:E})=>clsx("flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-300 group relative",E?"text-primary-600 dark:text-primary-400 font-bold":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:({isActive:E})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[E&&jsxRuntimeExports.jsx(motion.div,{layoutId:"sidebar-active",className:"absolute inset-0 bg-primary-50 dark:bg-primary-900/20 rounded-xl",transition:{type:"spring",stiffness:300,damping:30}}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[jsxRuntimeExports.jsx(b.icon,{size:22,className:E?"animate-pulse":"group-hover:scale-110 transition-transform"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:b.label})]}),b.path==="/create"&&jsxRuntimeExports.jsx("span",{className:"relative z-10 ml-auto bg-primary-100 text-primary-700 text-[10px] font-bold px-2 py-0.5 rounded-full dark:bg-primary-900 dark:text-primary-300",children:"NEW"})]})},b.path))}),jsxRuntimeExports.jsxs("div",{className:"px-4 pb-4 space-y-4 shrink-0",children:[jsxRuntimeExports.jsx(UserProfile,{}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-dark-700/50 rounded-xl border border-gray-100 dark:border-dark-600 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase",children:"Appearance"}),jsxRuntimeExports.jsx("button",{onClick:t,className:"relative p-1.5 rounded-lg hover:bg-gray-200 dark:hover:bg-dark-600 transition-colors","aria-label":"Toggle Dark Mode",children:jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:[.8,1.1,1]},transition:{duration:.4,type:"spring"},children:e==="dark"?jsxRuntimeExports.jsx(Moon,{size:16,className:"text-indigo-400"}):jsxRuntimeExports.jsx(Sun,{size:16,className:"text-amber-500"})})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsx(ThemeSelector,{})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-w-0 bg-gray-50 dark:bg-dark-900 transition-colors duration-300",children:[jsxRuntimeExports.jsxs("header",{className:"md:hidden h-16 bg-white/80 dark:bg-dark-800/80 backdrop-blur-md border-b border-gray-200 dark:border-dark-700 flex items-center justify-between px-4 sticky top-0 z-30",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 p-1.5 rounded-lg",children:jsxRuntimeExports.jsx(BrainCircuit,{className:"text-white w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"font-display font-bold text-lg text-gray-900 dark:text-white",children:"LearnFlow"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>l(!o),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-lg transition-colors",children:o?jsxRuntimeExports.jsx(X,{}):jsxRuntimeExports.jsx(Menu,{})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:o&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"fixed inset-0 bg-black/50 z-30 md:hidden backdrop-blur-sm"}),jsxRuntimeExports.jsxs(motion.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 left-0 w-64 bg-white dark:bg-dark-800 border-r border-gray-200 dark:border-dark-700 shadow-2xl z-40 md:hidden flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-dark-700 flex items-center justify-between shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-600 p-1.5 rounded-lg",children:jsxRuntimeExports.jsx(BrainCircuit,{className:"text-white w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"font-display font-bold text-lg dark:text-white",children:"LearnFlow"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>l(!1),className:"text-gray-500",children:jsxRuntimeExports.jsx(X,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-gray-50 dark:bg-dark-700/50 border-b border-gray-100 dark:border-dark-600 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-300 flex items-center justify-center font-bold",children:((g=n==null?void 0:n.name)==null?void 0:g.charAt(0))||"S"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-gray-900 dark:text-white",children:(n==null?void 0:n.name)||"Student"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:(n==null?void 0:n.email)||"student@example.com"})]})]})}),jsxRuntimeExports.jsxs("nav",{className:"p-4 space-y-2 flex-1 overflow-y-auto",children:[m.map(b=>jsxRuntimeExports.jsxs(NavLink,{to:b.path,onClick:()=>l(!1),className:({isActive:E})=>clsx("flex items-center gap-3 px-4 py-3 rounded-xl transition-colors",E?"bg-primary-50 text-primary-600 dark:bg-primary-900/20 dark:text-primary-400 font-medium":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-dark-700"),children:[jsxRuntimeExports.jsx(b.icon,{size:20}),b.label]},b.path)),jsxRuntimeExports.jsxs("button",{onClick:p,className:"flex w-full items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 transition-colors mt-4",children:[jsxRuntimeExports.jsx(LogOut,{size:20}),"Logout"]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-100 dark:border-dark-700 bg-gray-50 dark:bg-dark-900/50 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx(ThemeSelector,{}),jsxRuntimeExports.jsx("button",{onClick:t,className:"p-2 bg-white dark:bg-dark-800 rounded-lg border border-gray-200 dark:border-dark-600 shadow-sm",children:e==="dark"?jsxRuntimeExports.jsx(Moon,{size:18,className:"text-indigo-400"}):jsxRuntimeExports.jsx(Sun,{size:18,className:"text-amber-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Built By"}),jsxRuntimeExports.jsx("p",{className:"font-display font-black text-xl bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"Divyansh"})]})]})]})]})}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto p-4 md:p-8 relative scroll-smooth",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:15,filter:"blur(5px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transitionEnd:{transform:"none",filter:"none"}},exit:{opacity:0,y:-15,filter:"blur(5px)"},transition:{duration:.25,ease:[.22,1,.36,1]},className:"w-full h-full",children:jsxRuntimeExports.jsx(Outlet,{})},u.pathname)})})]})]})},concatArrays=(e,t)=>{const n=new Array(e.length+t.length);for(let i=0;i<e.length;i++)n[i]=e[i];for(let i=0;i<t.length;i++)n[e.length+i]=t[i];return n},createClassValidatorObject=(e,t)=>({classGroupId:e,validator:t}),createClassPartObject=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),CLASS_PART_SEPARATOR="-",EMPTY_CONFLICTS=[],ARBITRARY_PROPERTY_PREFIX="arbitrary..",createClassGroupUtils=e=>{const t=createClassMap(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return getGroupIdForArbitraryProperty(u);const h=u.split(CLASS_PART_SEPARATOR),p=h[0]===""&&h.length>1?1:0;return getGroupRecursive(h,p,t)},getConflictingClassGroupIds:(u,h)=>{if(h){const p=i[u],m=n[u];return p?m?concatArrays(m,p):p:m||EMPTY_CONFLICTS}return n[u]||EMPTY_CONFLICTS}}},getGroupRecursive=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],l=n.nextPart.get(o);if(l){const m=getGroupRecursive(e,t+1,l);if(m)return m}const u=n.validators;if(u===null)return;const h=t===0?e.join(CLASS_PART_SEPARATOR):e.slice(t).join(CLASS_PART_SEPARATOR),p=u.length;for(let m=0;m<p;m++){const g=u[m];if(g.validator(h))return g.classGroupId}},getGroupIdForArbitraryProperty=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),i=t.slice(0,n);return i?ARBITRARY_PROPERTY_PREFIX+i:void 0})(),createClassMap=e=>{const{theme:t,classGroups:n}=e;return processClassGroups(n,t)},processClassGroups=(e,t)=>{const n=createClassPartObject();for(const i in e){const o=e[i];processClassesRecursively(o,n,i,t)}return n},processClassesRecursively=(e,t,n,i)=>{const o=e.length;for(let l=0;l<o;l++){const u=e[l];processClassDefinition(u,t,n,i)}},processClassDefinition=(e,t,n,i)=>{if(typeof e=="string"){processStringDefinition(e,t,n);return}if(typeof e=="function"){processFunctionDefinition(e,t,n,i);return}processObjectDefinition(e,t,n,i)},processStringDefinition=(e,t,n)=>{const i=e===""?t:getPart(t,e);i.classGroupId=n},processFunctionDefinition=(e,t,n,i)=>{if(isThemeGetter(e)){processClassesRecursively(e(i),t,n,i);return}t.validators===null&&(t.validators=[]),t.validators.push(createClassValidatorObject(n,e))},processObjectDefinition=(e,t,n,i)=>{const o=Object.entries(e),l=o.length;for(let u=0;u<l;u++){const[h,p]=o[u];processClassesRecursively(p,getPart(t,h),n,i)}},getPart=(e,t)=>{let n=e;const i=t.split(CLASS_PART_SEPARATOR),o=i.length;for(let l=0;l<o;l++){const u=i[l];let h=n.nextPart.get(u);h||(h=createClassPartObject(),n.nextPart.set(u,h)),n=h}return n},isThemeGetter=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),i=Object.create(null);const o=(l,u)=>{n[l]=u,t++,t>e&&(t=0,i=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=i[l])!==void 0)return o(l,u),u},set(l,u){l in n?n[l]=u:o(l,u)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",EMPTY_MODIFIERS=[],createResultObject=(e,t,n,i,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:i,isExternal:o}),createParseClassName=e=>{const{prefix:t,experimentalParseClassName:n}=e;let i=o=>{const l=[];let u=0,h=0,p=0,m;const g=o.length;for(let w=0;w<g;w++){const T=o[w];if(u===0&&h===0){if(T===MODIFIER_SEPARATOR){l.push(o.slice(p,w)),p=w+1;continue}if(T==="/"){m=w;continue}}T==="["?u++:T==="]"?u--:T==="("?h++:T===")"&&h--}const b=l.length===0?o:o.slice(p);let E=b,_=!1;b.endsWith(IMPORTANT_MODIFIER)?(E=b.slice(0,-1),_=!0):b.startsWith(IMPORTANT_MODIFIER)&&(E=b.slice(1),_=!0);const A=m&&m>p?m-p:void 0;return createResultObject(l,_,E,A)};if(t){const o=t+MODIFIER_SEPARATOR,l=i;i=u=>u.startsWith(o)?l(u.slice(o.length)):createResultObject(EMPTY_MODIFIERS,!1,u,void 0,!0)}if(n){const o=i;i=l=>n({className:l,parseClassName:o})}return i},createSortModifiers=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,i)=>{t.set(n,1e6+i)}),n=>{const i=[];let o=[];for(let l=0;l<n.length;l++){const u=n[l],h=u[0]==="[",p=t.has(u);h||p?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(u)):o.push(u)}return o.length>0&&(o.sort(),i.push(...o)),i}},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=t,u=[],h=e.trim().split(SPLIT_CLASSES_REGEX);let p="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:b,modifiers:E,hasImportantModifier:_,baseClassName:A,maybePostfixModifierPosition:w}=n(g);if(b){p=g+(p.length>0?" "+p:p);continue}let T=!!w,C=i(T?A.substring(0,w):A);if(!C){if(!T){p=g+(p.length>0?" "+p:p);continue}if(C=i(A),!C){p=g+(p.length>0?" "+p:p);continue}T=!1}const B=E.length===0?"":E.length===1?E[0]:l(E).join(":"),N=_?B+IMPORTANT_MODIFIER:B,j=N+C;if(u.indexOf(j)>-1)continue;u.push(j);const M=o(C,T);for(let D=0;D<M.length;++D){const V=M[D];u.push(N+V)}p=g+(p.length>0?" "+p:p)}return p},twJoin=(...e)=>{let t=0,n,i,o="";for(;t<e.length;)(n=e[t++])&&(i=toValue(n))&&(o&&(o+=" "),o+=i);return o},toValue=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=toValue(e[i]))&&(n&&(n+=" "),n+=t);return n},createTailwindMerge=(e,...t)=>{let n,i,o,l;const u=p=>{const m=t.reduce((g,b)=>b(g),e());return n=createConfigUtils(m),i=n.cache.get,o=n.cache.set,l=h,h(p)},h=p=>{const m=i(p);if(m)return m;const g=mergeClassList(p,n);return o(p,g),g};return l=u,(...p)=>l(twJoin(...p))},fallbackThemeArr=[],fromTheme=e=>{const t=n=>n[e]||fallbackThemeArr;return t.isThemeGetter=!0,t},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>fractionRegex.test(e),isNumber$1=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent$1=e=>e.endsWith("%")&&isNumber$1(e.slice(0,-1)),isTshirtSize=e=>tshirtUnitRegex.test(e),isAny=()=>!0,isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>arbitraryValueRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber$1),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>arbitraryVariableRegex.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,t,n)=>{const i=arbitraryValueRegex.exec(e);return i?i[1]?t(i[1]):n(i[2]):!1},getIsArbitraryVariable=(e,t,n=!1)=>{const i=arbitraryVariableRegex.exec(e);return i?i[1]?t(i[1]):n:!1},isLabelPosition=e=>e==="position"||e==="percentage",isLabelImage=e=>e==="image"||e==="url",isLabelSize=e=>e==="length"||e==="size"||e==="bg-size",isLabelLength=e=>e==="length",isLabelNumber=e=>e==="number",isLabelFamilyName=e=>e==="family-name",isLabelShadow=e=>e==="shadow",getDefaultConfig=()=>{const e=fromTheme("color"),t=fromTheme("font"),n=fromTheme("text"),i=fromTheme("font-weight"),o=fromTheme("tracking"),l=fromTheme("leading"),u=fromTheme("breakpoint"),h=fromTheme("container"),p=fromTheme("spacing"),m=fromTheme("radius"),g=fromTheme("shadow"),b=fromTheme("inset-shadow"),E=fromTheme("text-shadow"),_=fromTheme("drop-shadow"),A=fromTheme("blur"),w=fromTheme("perspective"),T=fromTheme("aspect"),C=fromTheme("ease"),B=fromTheme("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...j(),isArbitraryVariable,isArbitraryValue],D=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],L=()=>[isArbitraryVariable,isArbitraryValue,p],U=()=>[isFraction,"full","auto",...L()],J=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],$=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],K=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],te=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],he=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...L()],ie=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],ce=()=>[e,isArbitraryVariable,isArbitraryValue],ne=()=>[...j(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],Z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],H=()=>[isPercent$1,isArbitraryVariableLength,isArbitraryLength],F=()=>["","none","full",m,isArbitraryVariable,isArbitraryValue],z=()=>["",isNumber$1,isArbitraryVariableLength,isArbitraryLength],Y=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[isNumber$1,isPercent$1,isArbitraryVariablePosition,isArbitraryPosition],ue=()=>["","none",A,isArbitraryVariable,isArbitraryValue],se=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],ve=()=>["none",isNumber$1,isArbitraryVariable,isArbitraryValue],Ee=()=>[isNumber$1,isArbitraryVariable,isArbitraryValue],ye=()=>[isFraction,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber$1],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,T]}],container:["container"],columns:[{columns:[isNumber$1,isArbitraryValue,isArbitraryVariable,h]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",h,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber$1,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":te()}],"auto-rows":[{"auto-rows":te()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...he(),"normal"]}],"justify-self":[{"justify-self":["auto",...he()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...he(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...he(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...he(),"baseline"]}],"place-self":[{"place-self":["auto",...he()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[h,"screen",...ie()]}],"min-w":[{"min-w":[h,"screen","none",...ie()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent$1,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber$1,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[l,...L()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ce()}],"text-color":[{text:ce()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber$1,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:ce()}],"underline-offset":[{"underline-offset":[isNumber$1,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ne()}],"bg-repeat":[{bg:Z()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:ce()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:ce()}],"gradient-via":[{via:ce()}],"gradient-to":[{to:ce()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:ce()}],"border-color-x":[{"border-x":ce()}],"border-color-y":[{"border-y":ce()}],"border-color-s":[{"border-s":ce()}],"border-color-e":[{"border-e":ce()}],"border-color-t":[{"border-t":ce()}],"border-color-r":[{"border-r":ce()}],"border-color-b":[{"border-b":ce()}],"border-color-l":[{"border-l":ce()}],"divide-color":[{divide:ce()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber$1,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:ce()}],shadow:[{shadow:["","none",g,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:ce()}],"inset-shadow":[{"inset-shadow":["none",b,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":ce()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ce()}],"ring-offset-w":[{"ring-offset":[isNumber$1,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":ce()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":ce()}],"text-shadow":[{"text-shadow":["none",E,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":ce()}],opacity:[{opacity:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber$1]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":ce()}],"mask-image-linear-to-color":[{"mask-linear-to":ce()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":ce()}],"mask-image-t-to-color":[{"mask-t-to":ce()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":ce()}],"mask-image-r-to-color":[{"mask-r-to":ce()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":ce()}],"mask-image-b-to-color":[{"mask-b-to":ce()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":ce()}],"mask-image-l-to-color":[{"mask-l-to":ce()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":ce()}],"mask-image-x-to-color":[{"mask-x-to":ce()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":ce()}],"mask-image-y-to-color":[{"mask-y-to":ce()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":ce()}],"mask-image-radial-to-color":[{"mask-radial-to":ce()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[isNumber$1]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":ce()}],"mask-image-conic-to-color":[{"mask-conic-to":ce()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ne()}],"mask-repeat":[{mask:Z()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:ue()}],brightness:[{brightness:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",_,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":ce()}],grayscale:[{grayscale:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber$1,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber$1,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber$1,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",C,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber$1,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",B,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ve()}],"scale-x":[{"scale-x":ve()}],"scale-y":[{"scale-y":ve()}],"scale-z":[{"scale-z":ve()}],"scale-3d":["scale-3d"],skew:[{skew:Ee()}],"skew-x":[{"skew-x":Ee()}],"skew-y":[{"skew-y":Ee()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:ce()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ce()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...ce()]}],"stroke-w":[{stroke:[isNumber$1,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...ce()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}const Button=({className:e,variant:t="primary",size:n="md",isLoading:i,success:o,children:l,magnetic:u=!1,withShimmer:h=!1,disableShimmer:p=!1,pulse:m=!1,onClick:g,...b})=>{const[E,_]=reactExports.useState([]),A=$=>{const K=$.currentTarget.getBoundingClientRect(),te=$.clientX-K.left,me=$.clientY-K.top,he=Date.now();_(ee=>[...ee,{x:te,y:me,id:he}]),setTimeout(()=>{_(ee=>ee.filter(ie=>ie.id!==he))},600)},w=$=>{i||o||(A($),g==null||g($))},T=reactExports.useRef(null),C=useMotionValue(0),B=useMotionValue(0),N={damping:15,stiffness:150,mass:.1},j=useSpring(C,N),M=useSpring(B,N),D=$=>{if(!u||!T.current)return;const K=T.current.getBoundingClientRect(),te=K.left+K.width/2,me=K.top+K.height/2,he=$.clientX-te,ee=$.clientY-me;if(Math.sqrt(he*he+ee*ee)<80){const ce=he/80*8,ne=ee/80*8;C.set(ce),B.set(ne)}else C.set(0),B.set(0)},V=()=>{C.set(0),B.set(0)},L={primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg shadow-primary-500/30 border border-transparent",secondary:"bg-gradient-to-r from-secondary-500 to-pink-600 text-white shadow-lg shadow-secondary-500/30 border border-transparent",outline:"border-2 border-primary-200 dark:border-primary-800 text-primary-700 dark:text-primary-300 bg-transparent",ghost:"text-gray-600 dark:text-gray-300 bg-transparent"},U={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-8 py-3.5 text-lg font-bold tracking-wide"},J=(h||t==="primary"||t==="secondary")&&!p;return jsxRuntimeExports.jsxs(motion.button,{ref:T,whileHover:{scale:u?1.02:1.05,y:u?0:-2,boxShadow:t==="primary"||t==="secondary"?"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)":"none"},whileTap:{scale:.98},style:{x:j,y:M},onMouseMove:D,onMouseLeave:V,onClick:w,transition:{duration:.3,ease:[.34,1.56,.64,1]},className:cn("rounded-xl font-medium flex items-center justify-center gap-2 relative overflow-visible group select-none",L[t],U[n],(i||o)&&"cursor-default",e),disabled:i||o||b.disabled,...b,children:[m&&!i&&!o&&jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.4],opacity:[.3,0]},transition:{duration:2,repeat:1/0,ease:"easeOut"},className:cn("absolute inset-0 rounded-xl z-0",t==="primary"?"bg-primary-500":"bg-gray-400")}),J&&!i&&!o&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent z-0 pointer-events-none rounded-xl overflow-hidden"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-xl pointer-events-none",children:E.map($=>jsxRuntimeExports.jsx("span",{className:"absolute rounded-full bg-white/20 animate-ripple",style:{left:$.x,top:$.y,transform:"translate(-50%, -50%)",width:"200%",paddingBottom:"200%"}},$.id))}),jsxRuntimeExports.jsx("div",{className:"relative z-10 flex items-center gap-2",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:i?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-1 h-6",children:[0,1,2].map($=>jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-6,0]},transition:{duration:.6,repeat:1/0,delay:$*.12,ease:"easeInOut"},className:"w-2 h-2 bg-current rounded-full"},$))},"loading"):o?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.5,rotate:-45},animate:{opacity:1,scale:1,rotate:0},exit:{opacity:0,scale:.5},transition:{type:"spring",stiffness:300,damping:20},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"w-5 h-5",strokeWidth:3}),jsxRuntimeExports.jsx("span",{children:"Done!"})]},"success"):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:l},"content")})}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes ripple {
          0% { transform: translate(-50%, -50%) scale(0); opacity: 0.5; }
          100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }
        .animate-ripple {
          animation: ripple 0.6s linear;
        }
      `})]})},CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()",TextScramble=({text:e,className:t,duration:n=2e3})=>{const[i,o]=reactExports.useState(""),l=reactExports.useRef(null),u=useInView(l,{once:!0,amount:.5}),h=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(!u||h.current)return;h.current=!0;let p=0;const m=n/30;e.length/m;const g=setInterval(()=>{o(b=>{const E=p/m,_=Math.floor(e.length*E);return e.split("").map((A,w)=>w<_||Math.random()<.1?e[w]:CHARS[Math.floor(Math.random()*CHARS.length)]).join("")}),p++,p>m&&(o(e),clearInterval(g))},30);return()=>clearInterval(g)},[e,n,u]),jsxRuntimeExports.jsx("span",{ref:l,className:t,children:i||e.split("").map(()=>CHARS[Math.floor(Math.random()*CHARS.length)]).join("")})},CursorTrail=()=>{const[e,t]=reactExports.useState([]),n=reactExports.useRef(null);reactExports.useRef(0),reactExports.useEffect(()=>{n.current&&window.matchMedia("(pointer: coarse)").matches},[]);const i=o=>{if(window.innerWidth<768)return;const l=o.currentTarget.getBoundingClientRect(),u=o.clientX-l.left,h=o.clientY-l.top;Math.random()>.3||t(p=>[...p,{x:u,y:h,id:Math.random()}].slice(-10))};return jsxRuntimeExports.jsx("div",{className:"absolute inset-0 z-0 pointer-events-auto",onMouseMove:i,ref:n,children:jsxRuntimeExports.jsx(AnimatePresence,{children:e.map(o=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:.4,scale:1,x:o.x,y:o.y},animate:{opacity:0,scale:0,y:o.y-20},exit:{opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute w-1.5 h-1.5 bg-indigo-400 rounded-full pointer-events-none",style:{left:0,top:0}},o.id))})})};var module$1={};(function e(t,n,i,o){var l=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),u=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!t.OffscreenCanvas)return!1;try{var Z=new OffscreenCanvas(1,1),G=Z.getContext("2d");G.fillRect(0,0,1,1);var H=Z.transferToImageBitmap();G.createPattern(H,"no-repeat")}catch{return!1}return!0})();function p(){}function m(Z){var G=n.exports.Promise,H=G!==void 0?G:t.Promise;return typeof H=="function"?new H(Z):(Z(p,p),null)}var g=(function(Z,G){return{transform:function(H){if(Z)return H;if(G.has(H))return G.get(H);var F=new OffscreenCanvas(H.width,H.height),z=F.getContext("2d");return z.drawImage(H,0,0),G.set(H,F),F},clear:function(){G.clear()}}})(h,new Map),b=(function(){var Z=Math.floor(16.666666666666668),G,H,F={},z=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(G=function(Y){var ae=Math.random();return F[ae]=requestAnimationFrame(function Q(ue){z===ue||z+Z-1<ue?(z=ue,delete F[ae],Y()):F[ae]=requestAnimationFrame(Q)}),ae},H=function(Y){F[Y]&&cancelAnimationFrame(F[Y])}):(G=function(Y){return setTimeout(Y,Z)},H=function(Y){return clearTimeout(Y)}),{frame:G,cancel:H}})(),E=(function(){var Z,G,H={};function F(z){function Y(ae,Q){z.postMessage({options:ae||{},callback:Q})}z.init=function(Q){var ue=Q.transferControlToOffscreen();z.postMessage({canvas:ue},[ue])},z.fire=function(Q,ue,se){if(G)return Y(Q,null),G;var ve=Math.random().toString(36).slice(2);return G=m(function(Ee){function ye(De){De.data.callback===ve&&(delete H[ve],z.removeEventListener("message",ye),G=null,g.clear(),se(),Ee())}z.addEventListener("message",ye),Y(Q,ve),H[ve]=ye.bind(null,{data:{callback:ve}})}),G},z.reset=function(){z.postMessage({reset:!0});for(var Q in H)H[Q](),delete H[Q]}}return function(){if(Z)return Z;if(!i&&l){var z=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Z=new Worker(URL.createObjectURL(new Blob([z])))}catch(Y){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Y),null}F(Z)}return Z}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function A(Z,G){return G?G(Z):Z}function w(Z){return Z!=null}function T(Z,G,H){return A(Z&&w(Z[G])?Z[G]:_[G],H)}function C(Z){return Z<0?0:Math.floor(Z)}function B(Z,G){return Math.floor(Math.random()*(G-Z))+Z}function N(Z){return parseInt(Z,16)}function j(Z){return Z.map(M)}function M(Z){var G=String(Z).replace(/[^0-9a-f]/gi,"");return G.length<6&&(G=G[0]+G[0]+G[1]+G[1]+G[2]+G[2]),{r:N(G.substring(0,2)),g:N(G.substring(2,4)),b:N(G.substring(4,6))}}function D(Z){var G=T(Z,"origin",Object);return G.x=T(G,"x",Number),G.y=T(G,"y",Number),G}function V(Z){Z.width=document.documentElement.clientWidth,Z.height=document.documentElement.clientHeight}function L(Z){var G=Z.getBoundingClientRect();Z.width=G.width,Z.height=G.height}function U(Z){var G=document.createElement("canvas");return G.style.position="fixed",G.style.top="0px",G.style.left="0px",G.style.pointerEvents="none",G.style.zIndex=Z,G}function J(Z,G,H,F,z,Y,ae,Q,ue){Z.save(),Z.translate(G,H),Z.rotate(Y),Z.scale(F,z),Z.arc(0,0,1,ae,Q,ue),Z.restore()}function $(Z){var G=Z.angle*(Math.PI/180),H=Z.spread*(Math.PI/180);return{x:Z.x,y:Z.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Z.startVelocity*.5+Math.random()*Z.startVelocity,angle2D:-G+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Z.color,shape:Z.shape,tick:0,totalTicks:Z.ticks,decay:Z.decay,drift:Z.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Z.gravity*3,ovalScalar:.6,scalar:Z.scalar,flat:Z.flat}}function K(Z,G){G.x+=Math.cos(G.angle2D)*G.velocity+G.drift,G.y+=Math.sin(G.angle2D)*G.velocity+G.gravity,G.velocity*=G.decay,G.flat?(G.wobble=0,G.wobbleX=G.x+10*G.scalar,G.wobbleY=G.y+10*G.scalar,G.tiltSin=0,G.tiltCos=0,G.random=1):(G.wobble+=G.wobbleSpeed,G.wobbleX=G.x+10*G.scalar*Math.cos(G.wobble),G.wobbleY=G.y+10*G.scalar*Math.sin(G.wobble),G.tiltAngle+=.1,G.tiltSin=Math.sin(G.tiltAngle),G.tiltCos=Math.cos(G.tiltAngle),G.random=Math.random()+2);var H=G.tick++/G.totalTicks,F=G.x+G.random*G.tiltCos,z=G.y+G.random*G.tiltSin,Y=G.wobbleX+G.random*G.tiltCos,ae=G.wobbleY+G.random*G.tiltSin;if(Z.fillStyle="rgba("+G.color.r+", "+G.color.g+", "+G.color.b+", "+(1-H)+")",Z.beginPath(),u&&G.shape.type==="path"&&typeof G.shape.path=="string"&&Array.isArray(G.shape.matrix))Z.fill(ie(G.shape.path,G.shape.matrix,G.x,G.y,Math.abs(Y-F)*.1,Math.abs(ae-z)*.1,Math.PI/10*G.wobble));else if(G.shape.type==="bitmap"){var Q=Math.PI/10*G.wobble,ue=Math.abs(Y-F)*.1,se=Math.abs(ae-z)*.1,ve=G.shape.bitmap.width*G.scalar,Ee=G.shape.bitmap.height*G.scalar,ye=new DOMMatrix([Math.cos(Q)*ue,Math.sin(Q)*ue,-Math.sin(Q)*se,Math.cos(Q)*se,G.x,G.y]);ye.multiplySelf(new DOMMatrix(G.shape.matrix));var De=Z.createPattern(g.transform(G.shape.bitmap),"no-repeat");De.setTransform(ye),Z.globalAlpha=1-H,Z.fillStyle=De,Z.fillRect(G.x-ve/2,G.y-Ee/2,ve,Ee),Z.globalAlpha=1}else if(G.shape==="circle")Z.ellipse?Z.ellipse(G.x,G.y,Math.abs(Y-F)*G.ovalScalar,Math.abs(ae-z)*G.ovalScalar,Math.PI/10*G.wobble,0,2*Math.PI):J(Z,G.x,G.y,Math.abs(Y-F)*G.ovalScalar,Math.abs(ae-z)*G.ovalScalar,Math.PI/10*G.wobble,0,2*Math.PI);else if(G.shape==="star")for(var Ce=Math.PI/2*3,Oe=4*G.scalar,_e=8*G.scalar,Pe=G.x,oe=G.y,pe=5,Se=Math.PI/pe;pe--;)Pe=G.x+Math.cos(Ce)*_e,oe=G.y+Math.sin(Ce)*_e,Z.lineTo(Pe,oe),Ce+=Se,Pe=G.x+Math.cos(Ce)*Oe,oe=G.y+Math.sin(Ce)*Oe,Z.lineTo(Pe,oe),Ce+=Se;else Z.moveTo(Math.floor(G.x),Math.floor(G.y)),Z.lineTo(Math.floor(G.wobbleX),Math.floor(z)),Z.lineTo(Math.floor(Y),Math.floor(ae)),Z.lineTo(Math.floor(F),Math.floor(G.wobbleY));return Z.closePath(),Z.fill(),G.tick<G.totalTicks}function te(Z,G,H,F,z){var Y=G.slice(),ae=Z.getContext("2d"),Q,ue,se=m(function(ve){function Ee(){Q=ue=null,ae.clearRect(0,0,F.width,F.height),g.clear(),z(),ve()}function ye(){i&&!(F.width===o.width&&F.height===o.height)&&(F.width=Z.width=o.width,F.height=Z.height=o.height),!F.width&&!F.height&&(H(Z),F.width=Z.width,F.height=Z.height),ae.clearRect(0,0,F.width,F.height),Y=Y.filter(function(De){return K(ae,De)}),Y.length?Q=b.frame(ye):Ee()}Q=b.frame(ye),ue=Ee});return{addFettis:function(ve){return Y=Y.concat(ve),se},canvas:Z,promise:se,reset:function(){Q&&b.cancel(Q),ue&&ue()}}}function me(Z,G){var H=!Z,F=!!T(G||{},"resize"),z=!1,Y=T(G,"disableForReducedMotion",Boolean),ae=l&&!!T(G||{},"useWorker"),Q=ae?E():null,ue=H?V:L,se=Z&&Q?!!Z.__confetti_initialized:!1,ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ee;function ye(Ce,Oe,_e){for(var Pe=T(Ce,"particleCount",C),oe=T(Ce,"angle",Number),pe=T(Ce,"spread",Number),Se=T(Ce,"startVelocity",Number),ke=T(Ce,"decay",Number),Fe=T(Ce,"gravity",Number),Ke=T(Ce,"drift",Number),qe=T(Ce,"colors",j),we=T(Ce,"ticks",Number),tt=T(Ce,"shapes"),Qe=T(Ce,"scalar"),gt=!!T(Ce,"flat"),pt=D(Ce),_t=Pe,st=[],ft=Z.width*pt.x,Et=Z.height*pt.y;_t--;)st.push($({x:ft,y:Et,angle:oe,spread:pe,startVelocity:Se,color:qe[_t%qe.length],shape:tt[B(0,tt.length)],ticks:we,decay:ke,gravity:Fe,drift:Ke,scalar:Qe,flat:gt}));return Ee?Ee.addFettis(st):(Ee=te(Z,st,ue,Oe,_e),Ee.promise)}function De(Ce){var Oe=Y||T(Ce,"disableForReducedMotion",Boolean),_e=T(Ce,"zIndex",Number);if(Oe&&ve)return m(function(Se){Se()});H&&Ee?Z=Ee.canvas:H&&!Z&&(Z=U(_e),document.body.appendChild(Z)),F&&!se&&ue(Z);var Pe={width:Z.width,height:Z.height};Q&&!se&&Q.init(Z),se=!0,Q&&(Z.__confetti_initialized=!0);function oe(){if(Q){var Se={getBoundingClientRect:function(){if(!H)return Z.getBoundingClientRect()}};ue(Se),Q.postMessage({resize:{width:Se.width,height:Se.height}});return}Pe.width=Pe.height=null}function pe(){Ee=null,F&&(z=!1,t.removeEventListener("resize",oe)),H&&Z&&(document.body.contains(Z)&&document.body.removeChild(Z),Z=null,se=!1)}return F&&!z&&(z=!0,t.addEventListener("resize",oe,!1)),Q?Q.fire(Ce,Pe,pe):ye(Ce,Pe,pe)}return De.reset=function(){Q&&Q.reset(),Ee&&Ee.reset()},De}var he;function ee(){return he||(he=me(null,{useWorker:!0,resize:!0})),he}function ie(Z,G,H,F,z,Y,ae){var Q=new Path2D(Z),ue=new Path2D;ue.addPath(Q,new DOMMatrix(G));var se=new Path2D;return se.addPath(ue,new DOMMatrix([Math.cos(ae)*z,Math.sin(ae)*z,-Math.sin(ae)*Y,Math.cos(ae)*Y,H,F])),se}function ce(Z){if(!u)throw new Error("path confetti are not supported in this browser");var G,H;typeof Z=="string"?G=Z:(G=Z.path,H=Z.matrix);var F=new Path2D(G),z=document.createElement("canvas"),Y=z.getContext("2d");if(!H){for(var ae=1e3,Q=ae,ue=ae,se=0,ve=0,Ee,ye,De=0;De<ae;De+=2)for(var Ce=0;Ce<ae;Ce+=2)Y.isPointInPath(F,De,Ce,"nonzero")&&(Q=Math.min(Q,De),ue=Math.min(ue,Ce),se=Math.max(se,De),ve=Math.max(ve,Ce));Ee=se-Q,ye=ve-ue;var Oe=10,_e=Math.min(Oe/Ee,Oe/ye);H=[_e,0,0,_e,-Math.round(Ee/2+Q)*_e,-Math.round(ye/2+ue)*_e]}return{type:"path",path:G,matrix:H}}function ne(Z){var G,H=1,F="#000000",z='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Z=="string"?G=Z:(G=Z.text,H="scalar"in Z?Z.scalar:H,z="fontFamily"in Z?Z.fontFamily:z,F="color"in Z?Z.color:F);var Y=10*H,ae=""+Y+"px "+z,Q=new OffscreenCanvas(Y,Y),ue=Q.getContext("2d");ue.font=ae;var se=ue.measureText(G),ve=Math.ceil(se.actualBoundingBoxRight+se.actualBoundingBoxLeft),Ee=Math.ceil(se.actualBoundingBoxAscent+se.actualBoundingBoxDescent),ye=2,De=se.actualBoundingBoxLeft+ye,Ce=se.actualBoundingBoxAscent+ye;ve+=ye+ye,Ee+=ye+ye,Q=new OffscreenCanvas(ve,Ee),ue=Q.getContext("2d"),ue.font=ae,ue.fillStyle=F,ue.fillText(G,De,Ce);var Oe=1/H;return{type:"bitmap",bitmap:Q.transferToImageBitmap(),matrix:[Oe,0,0,Oe,-ve*Oe/2,-Ee*Oe/2]}}n.exports=function(){return ee().apply(this,arguments)},n.exports.reset=function(){ee().reset()},n.exports.create=me,n.exports.shapeFromPath=ce,n.exports.shapeFromText=ne})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),module$1,!1);const confetti=module$1.exports;module$1.exports.create;const triggerPrimaryConfetti=()=>{confetti({particleCount:150,spread:60,origin:{y:.6},colors:["#6366f1","#a855f7","#ec4899"]})},triggerDemoConfetti=()=>{const e=Date.now()+1e3,t=["#fbbf24","#f59e0b","#ffffff"];(function n(){confetti({particleCount:2,angle:60,spread:55,origin:{x:0,y:0},colors:t}),confetti({particleCount:2,angle:120,spread:55,origin:{x:1,y:0},colors:t}),Date.now()<e&&requestAnimationFrame(n)})()},triggerFinalConfetti=()=>{const t=Date.now()+2e3;(function n(){confetti({particleCount:5,angle:90,spread:100,origin:{x:.5,y:1},colors:["#6366f1","#ec4899","#10b981"],scalar:1.2}),Date.now()<t&&requestAnimationFrame(n)})()},TypewriterText=({text:e})=>{const[t,n]=reactExports.useState(""),i=reactExports.useRef(null),o=useInView(i,{once:!0});return reactExports.useEffect(()=>{if(!o)return;let l=0;n("");const u=setInterval(()=>{l<e.length?(n(h=>h+e.charAt(l)),l++):clearInterval(u)},30);return()=>clearInterval(u)},[e,o]),jsxRuntimeExports.jsxs("span",{ref:i,className:"inline",children:[t,jsxRuntimeExports.jsx(motion.span,{animate:{opacity:[1,0]},transition:{duration:.5,repeat:1/0,repeatType:"reverse"},className:"inline-block w-0.5 h-5 ml-1 bg-current align-middle"})]})},HighlightText=({text:e,keywords:t})=>{if(!t||t.length===0)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e});const n=new RegExp(`(${t.map(o=>o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi"),i=e.split(n);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i.map((o,l)=>t.some(h=>h.toLowerCase()===o.toLowerCase())?jsxRuntimeExports.jsxs("span",{className:"relative inline-block z-0",children:[jsxRuntimeExports.jsx("span",{className:"relative z-10 font-semibold",children:o}),jsxRuntimeExports.jsx(motion.span,{className:"absolute left-0 bottom-0.5 w-full h-1/2 bg-yellow-200/60 dark:bg-yellow-500/30 -z-10 rounded-sm",initial:{scaleX:0},whileInView:{scaleX:1},viewport:{amount:1,once:!0},transition:{duration:.4,ease:"easeOut"},style:{originX:0}})]},l):jsxRuntimeExports.jsx("span",{children:o},l))})},CTASection=()=>{const e=[{Icon:Star,delay:0,x:"10%",size:24},{Icon:CircleCheckBig,delay:2,x:"85%",size:32},{Icon:Trophy,delay:4,x:"20%",size:40},{Icon:Zap,delay:1,x:"70%",size:28},{Icon:Star,delay:5,x:"40%",size:20},{Icon:CircleCheckBig,delay:3,x:"60%",size:36},{Icon:BrainCircuit,delay:1.5,x:"30%",size:30},{Icon:Heart,delay:3.5,x:"50%",size:24}],t=reactExports.useRef(null),n=useInView(t,{margin:"100px"});return jsxRuntimeExports.jsxs("section",{ref:t,className:"relative py-32 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 animate-gradient-xy",style:{backgroundSize:"200% 200%"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-[0.05] animate-pulse-slow pointer-events-none",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E")`}}),n&&jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 z-0 opacity-20 pointer-events-none",style:{backgroundImage:"radial-gradient(circle, rgba(255,255,255,0.8) 2px, transparent 2.5px)",backgroundSize:"40px 40px",maskImage:"radial-gradient(circle at center, black 40%, transparent 100%)",WebkitMaskImage:"radial-gradient(circle at center, black 40%, transparent 100%)"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:n&&e.map((i,o)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-0 text-white/20",style:{left:i.x},initial:{y:100,opacity:0,rotate:0},animate:{y:-400,opacity:[0,.4,0],rotate:[0,45]},transition:{duration:8+Math.random()*4,repeat:1/0,delay:i.delay,ease:"linear"},children:jsxRuntimeExports.jsx(i.Icon,{size:i.size})},o))}),jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto px-4 relative z-10 text-center text-white",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-6xl font-display font-bold mb-6 tracking-tight",children:"Ready to Learn Faster?"}),jsxRuntimeExports.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 mb-12 max-w-2xl mx-auto leading-relaxed opacity-90",children:"Join thousands of students mastering their subjects with LearnFlow's AI-powered tools."}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.5],opacity:[.4,0]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 bg-white rounded-2xl z-0"}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05},animate:{scale:[1,1.02,1]},transition:{scale:{duration:3,repeat:1/0,ease:"easeInOut"},whileHover:{duration:.2}},onClick:i=>{triggerFinalConfetti()},className:"relative z-10 bg-white text-indigo-600 px-10 py-5 rounded-2xl font-bold text-xl shadow-2xl hover:shadow-indigo-900/20 hover:bg-indigo-50 transition-all flex items-center gap-3",children:["Start Learning Now",jsxRuntimeExports.jsx(ChevronRight,{className:"w-6 h-6"})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"mt-12 flex items-center justify-center gap-8 text-indigo-100/60 text-sm font-medium",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16})," No credit card required"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{size:16})," Free forever plan"]})]})]})})]})},FeatureCard=({feature:e,index:t,onLearnMore:n})=>jsxRuntimeExports.jsx(motion.div,{variants:{hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.6,ease:[.34,1.56,.64,1]}}},whileHover:{y:-8,scale:1.02},transition:{duration:.3,ease:"easeOut"},className:"group perspective-1000 h-[360px] sticky top-24 md:static md:block",style:{top:`calc(6rem + ${t*1.5}rem)`,zIndex:10+t},children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full transition-all duration-[600ms] ease-in-out preserve-3d group-hover:rotate-y-180",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden bg-white dark:bg-dark-800 rounded-3xl border border-gray-100 dark:border-dark-700 p-8 flex flex-col items-center text-center overflow-hidden transition-all duration-300 shadow-sm group-hover:shadow-2xl group-hover:bg-gradient-to-br group-hover:from-indigo-50 group-hover:to-purple-50 dark:group-hover:from-dark-700 dark:group-hover:to-dark-600",children:[jsxRuntimeExports.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none rounded-3xl z-0",children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:`border-${t}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#ec4899"})]}),jsxRuntimeExports.jsxs("filter",{id:`glow-${t}`,children:[jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),jsxRuntimeExports.jsxs("feMerge",{children:[jsxRuntimeExports.jsx("feMergeNode",{in:"coloredBlur"}),jsxRuntimeExports.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),jsxRuntimeExports.jsx(motion.rect,{width:"100%",height:"100%",x:"0",y:"0",rx:"24",ry:"24",fill:"none",stroke:`url(#border-${t})`,strokeWidth:"2",filter:`url(#glow-${t})`,initial:{pathLength:0,opacity:0},whileHover:{pathLength:1,opacity:1},transition:{duration:.8,ease:"easeInOut"}})]}),jsxRuntimeExports.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${e.gradient} opacity-10 rounded-bl-[100px] transition-transform duration-500 group-hover:scale-150`}),jsxRuntimeExports.jsx("div",{className:"relative mb-6 z-10",children:jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center transition-colors duration-500 bg-indigo-100 dark:bg-indigo-900/30 group-hover:bg-indigo-600",children:jsxRuntimeExports.jsx(motion.div,{whileHover:{rotate:[0,10,-5,0],scale:[1,1.1,1],transition:{duration:.6,times:[0,.3,.6,1],ease:"easeInOut"}},children:jsxRuntimeExports.jsx(e.icon,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400 transition-colors duration-500 group-hover:text-white"})})})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-3 text-gray-900 dark:text-white relative z-10 transition-colors duration-500 group-hover:text-indigo-900 dark:group-hover:text-white",children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed relative z-10",children:jsxRuntimeExports.jsx(HighlightText,{text:e.desc,keywords:e.keywords})}),jsxRuntimeExports.jsx("div",{className:"mt-auto opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform translate-y-4 group-hover:translate-y-0",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-indigo-500",children:"Hover to flip"})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden rotate-y-180 bg-white dark:bg-dark-800 rounded-3xl border border-primary-100 dark:border-dark-600 p-8 shadow-sm transition-shadow duration-300 group-hover:shadow-2xl flex flex-col justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500/5 to-secondary-500/5 rounded-3xl"}),jsxRuntimeExports.jsxs("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-6 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5 text-amber-500"}),"Key Features"]}),jsxRuntimeExports.jsx("ul",{className:"space-y-4 relative z-10",children:e.details.map((i,o)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-3 text-left",children:[jsxRuntimeExports.jsx("div",{className:"min-w-[24px] h-6 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3.5 h-3.5 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:i})]},o))}),jsxRuntimeExports.jsx("div",{className:"mt-8 flex justify-center",children:jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"outline",onClick:i=>{i.preventDefault(),n()},className:"w-full border-primary-200 hover:bg-primary-50 text-primary-700",children:["Learn More ",jsxRuntimeExports.jsx(ChevronRight,{size:14,className:"ml-1"})]})})]})]})}),ParallaxBackground=({blob1X:e,blob1Y:t,blob2X:n,blob2Y:i,blob3X:o,blob3Y:l,particles:u})=>{const h=reactExports.useRef(null),p=useInView(h);return jsxRuntimeExports.jsxs("div",{ref:h,className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-primary-100/40 via-gray-50/0 to-gray-50/0 dark:from-primary-900/20 dark:via-dark-900/0 dark:to-dark-900/0"}),p&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{style:{x:e,y:t},animate:{y:[-30,30,-30],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-20 -left-20 w-[600px] h-[600px] bg-primary-500/20 rounded-full blur-[100px] mix-blend-multiply dark:mix-blend-screen"}),jsxRuntimeExports.jsx(motion.div,{style:{x:n,y:i},animate:{y:[30,-30,30],opacity:[.2,.4,.2]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute top-40 -right-20 w-[500px] h-[500px] bg-secondary-500/20 rounded-full blur-[100px] mix-blend-multiply dark:mix-blend-screen"}),jsxRuntimeExports.jsx(motion.div,{style:{x:o,y:l},animate:{y:[-20,20,-20],scale:[1,1.1,1]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] bg-indigo-500/10 rounded-full blur-[80px] mix-blend-multiply dark:mix-blend-screen"}),u.map(m=>jsxRuntimeExports.jsx(motion.div,{className:"absolute bg-indigo-400/20 dark:bg-white/10 rounded-full blur-[1px]",style:{width:m.size,height:m.size,left:m.left,top:m.top},animate:{y:[0,-200],opacity:[0,.1,0]},transition:{duration:m.duration,repeat:1/0,delay:m.delay,ease:"linear"}},m.id)),jsxRuntimeExports.jsx(motion.div,{className:"absolute -top-[50%] -left-[50%] w-[200%] h-[200%] bg-gradient-to-r from-transparent via-white/5 to-transparent rotate-12",animate:{x:["0%","100%"]},transition:{duration:8,repeat:1/0,ease:"linear",repeatDelay:5}})]})]})},Landing=()=>{const e=useNavigate(),[t,n]=reactExports.useState(!0),{scrollY:i}=useScroll(),[o,l]=reactExports.useState(0),[u,h]=reactExports.useState(!1),[p,m]=reactExports.useState(0),g=useMotionValue(0),b=useMotionValue(0),E={damping:25,stiffness:150},_=useSpring(g,E),A=useSpring(b,E),w=useTransform(_,[-.5,.5],["-2%","2%"]),T=useTransform(A,[-.5,.5],["-2%","2%"]),C=useTransform(_,[-.5,.5],["1%","-1%"]),B=useTransform(A,[-.5,.5],["1%","-1%"]),N=useTransform(_,[-.5,.5],["-1.5%","1.5%"]),j=useTransform(A,[-.5,.5],["-1.5%","1.5%"]);reactExports.useEffect(()=>{const J=$=>{g.set($.clientX/window.innerWidth-.5),b.set($.clientY/window.innerHeight-.5)};return window.addEventListener("mousemove",J),()=>window.removeEventListener("mousemove",J)},[]),useMotionValueEvent(i,"change",J=>{J>o&&J>150?n(!1):n(!0),l(J)});const M=J=>{J.preventDefault(),triggerPrimaryConfetti(),h(!0),setTimeout(()=>{h(!1),e("/login")},1200)},D=J=>{const $=document.getElementById(J);if(!$)return;const K=$.getBoundingClientRect().top+window.scrollY,te=window.scrollY,me=K-te,ee=Math.abs(me)/800*1e3;let ie=null;m(100),setTimeout(()=>{window.requestAnimationFrame(ce)},200);function ce(ne){ie||(ie=ne);const Z=ne-ie,G=Math.min(Z/ee,1),H=G<.5?8*G*G*G*G:1-Math.pow(-2*G+2,4)/2;window.scrollTo(0,te+me*H),Z<ee?window.requestAnimationFrame(ce):setTimeout(()=>m(0),500)}},V={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.12,delayChildren:.1}}},L=reactExports.useMemo(()=>Array.from({length:20}).map((J,$)=>({id:$,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,size:Math.random()*6+4,duration:Math.random()*7+8,delay:Math.random()*5})),[]),U=[{icon:Upload,title:"Smart Analysis",desc:"Paste any text or upload notes. Our AI understands context and extracts key concepts instantly.",keywords:["AI understands context","extracts key concepts"],color:"bg-blue-500",gradient:"from-blue-500 to-indigo-600",details:["PDF, DOCX & Text Support","Context-Aware Extraction","Multi-Language Support"]},{icon:Zap,title:"Instant Quizzes",desc:"Generate multiple-choice, true/false, and short answer questions tailored to your difficulty level.",keywords:["tailored to your difficulty"],color:"bg-amber-500",gradient:"from-amber-400 to-orange-500",details:["Adaptive Difficulty","Various Question Types","Instant Explanations"]},{icon:Award,title:"Progress Tracking",desc:"Visualize your improvement over time with detailed analytics and performance charts.",keywords:["improvement over time","detailed analytics"],color:"bg-emerald-500",gradient:"from-emerald-400 to-teal-500",details:["Learning Velocity Charts","Topic Mastery Heatmaps","Weekly Streaks"]},{icon:BrainCircuit,title:"AI Tutor",desc:"Get personalized explanations for every answer. The AI adapts to your learning style.",keywords:["personalized explanations","adapts to your learning"],color:"bg-purple-500",gradient:"from-purple-500 to-pink-600",details:["Socratic Method","Personalized Analogies","24/7 Availability"]},{icon:Layers,title:"Flashcards",desc:"Automatically convert your notes into spaced repetition flashcards for long-term retention.",keywords:["spaced repetition","long-term retention"],color:"bg-rose-500",gradient:"from-rose-500 to-red-600",details:["Spaced Repetition","Smart Shuffling","Visual & Audio Cards"]},{icon:Globe,title:"Global Knowledge",desc:"Access a vast library of pre-generated quizzes on thousands of academic topics.",keywords:["vast library","academic topics"],color:"bg-cyan-500",gradient:"from-cyan-500 to-blue-600",details:["Community Library","Trending Topics","Verified Content"]}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-900 text-gray-900 dark:text-white selection:bg-primary-500/30",children:[jsxRuntimeExports.jsx("style",{children:`
        @keyframes gradient-flow {
          0% { background-position: 0% 50%; }
          100% { background-position: 200% 50%; }
        }
        .animate-gradient-flow {
          background-size: 200% auto;
          animation: gradient-flow 1.5s linear infinite;
        }
        @keyframes grid-move {
          0% { transform: translate(0, 0); }
          100% { transform: translate(50px, 50px); }
        }
        .animate-grid-move {
          animation: grid-move 20s linear infinite;
        }
        .preserve-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        
        /* New CTA Animations */
        @keyframes gradient-xy {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        .animate-gradient-xy {
          animation: gradient-xy 8s ease infinite;
        }
        @keyframes pulse-slow {
          0%, 100% { opacity: 0.05; }
          50% { opacity: 0.15; }
        }
        .animate-pulse-slow {
          animation: pulse-slow 4s ease-in-out infinite;
        }
      `}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 left-0 w-full h-1 z-[100]",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500",initial:{width:0},animate:{width:`${p}%`},transition:{duration:.2}})}),jsxRuntimeExports.jsx(motion.nav,{initial:{y:0},animate:{y:t?0:-100},transition:{duration:.3,ease:"easeInOut"},className:"fixed w-full z-50 bg-white/80 dark:bg-dark-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-dark-700/50",children:jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between h-20 items-center",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3 cursor-pointer",onClick:()=>D("hero-section"),children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 p-2.5 rounded-xl shadow-lg shadow-primary-600/20",children:jsxRuntimeExports.jsx(BrainCircuit,{className:"text-white w-6 h-6"})}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-display font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300",children:"LearnFlow"})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",className:"hidden sm:flex",children:"Sign In"})}),jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsx(Button,{size:"sm",className:"shadow-lg shadow-primary-500/25",children:"Get Started"})})]})]})})}),jsxRuntimeExports.jsxs("section",{id:"hero-section",className:"relative pt-32 pb-20 md:pt-48 md:pb-32 overflow-hidden min-h-[80vh] flex flex-col justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 overflow-hidden -z-20 pointer-events-none",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-[0.05] dark:opacity-[0.07] animate-grid-move",style:{backgroundImage:"radial-gradient(circle, currentColor 2px, transparent 2.5px)",backgroundSize:"50px 50px",maskImage:"linear-gradient(to bottom, black 50%, transparent 100%)",WebkitMaskImage:"linear-gradient(to bottom, black 50%, transparent 100%)"}})}),jsxRuntimeExports.jsx(ParallaxBackground,{blob1X:w,blob1Y:T,blob2X:C,blob2Y:B,blob3X:N,blob3Y:j,particles:L}),jsxRuntimeExports.jsx(CursorTrail,{}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 w-full",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"max-w-5xl mx-auto",children:[jsxRuntimeExports.jsx(motion.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",bounce:.5,duration:1.2},className:"flex justify-center mb-8",children:jsxRuntimeExports.jsxs(motion.div,{animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"group relative flex items-center gap-3 px-6 py-2.5 rounded-full bg-white dark:bg-white/5 border border-gray-200 dark:border-white/10 shadow-xl shadow-gray-200/50 dark:shadow-none backdrop-blur-xl cursor-default overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary-500/10 via-secondary-500/10 to-primary-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),jsxRuntimeExports.jsx(Sparkles,{size:16,className:"text-secondary-500 fill-secondary-500 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Crafted by"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-primary-600 dark:text-primary-400 drop-shadow-sm tracking-wide",children:"Divyansh"})]})}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-display font-bold mb-8 tracking-tight leading-[1.1]",children:[jsxRuntimeExports.jsx(TextScramble,{text:"Master Any Subject",className:"inline-block",duration:1e3}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("span",{className:"relative inline-block mt-2",children:[jsxRuntimeExports.jsx("span",{className:"relative z-10 text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 via-pink-500 to-indigo-500 animate-gradient-flow",children:"With AI Speed"}),jsxRuntimeExports.jsx("span",{className:"absolute -bottom-2 left-0 w-full h-3 bg-primary-200/50 dark:bg-primary-900/50 -rotate-1 rounded-full blur-sm"})]})]}),jsxRuntimeExports.jsx("div",{className:"text-xl md:text-2xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed min-h-[90px]",children:jsxRuntimeExports.jsx(TypewriterText,{text:"Upload your notes, PDFs, or articles. LearnFlow instantly generates interactive quizzes, tracks your progress, and helps you learn 10x faster."})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex flex-col sm:flex-row items-center justify-center gap-5",children:[jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:M,isLoading:u,magnetic:!0,withShimmer:!0,className:"h-16 px-12 text-xl shadow-xl shadow-primary-600/30 hover:shadow-primary-600/40 hover:-translate-y-1",children:["Start Learning Free",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 ml-1"})]}),jsxRuntimeExports.jsx(Link,{to:"/login",children:jsxRuntimeExports.jsx(Button,{size:"lg",variant:"outline",onClick:triggerDemoConfetti,className:"h-16 px-12 text-xl bg-white/50 dark:bg-white/5 backdrop-blur-sm hover:bg-white/80 dark:hover:bg-white/10",children:"View Demo"})})]})]})})})]}),jsxRuntimeExports.jsx("section",{id:"features-section",className:"py-32 bg-white dark:bg-dark-800 relative",children:jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-20",children:[jsxRuntimeExports.jsxs("h2",{className:"text-3xl md:text-5xl font-display font-bold mb-6 relative inline-block",children:["Powerful Features for Effective Learning",jsxRuntimeExports.jsx(motion.div,{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 to-purple-500",initial:{scaleX:0},whileInView:{scaleX:1},viewport:{once:!0},transition:{duration:1,ease:"easeInOut"},style:{originX:0}})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mt-6",children:"A complete suite of tools designed to help you ace your exams with less stress."})]}),jsxRuntimeExports.jsx(motion.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},variants:V,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:U.map((J,$)=>jsxRuntimeExports.jsx(FeatureCard,{feature:J,index:$,onLearnMore:()=>D("hero-section")},$))})]})}),jsxRuntimeExports.jsx(CTASection,{}),jsxRuntimeExports.jsxs("footer",{className:"bg-gray-900 text-white py-16 border-t border-gray-800 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-primary-900/20 rounded-full blur-3xl pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-8 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:items-start gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-white/10 p-2 rounded-xl backdrop-blur-md ring-1 ring-white/20",children:jsxRuntimeExports.jsx(BrainCircuit,{className:"text-white w-6 h-6"})}),jsxRuntimeExports.jsx("span",{className:"font-display font-bold text-2xl tracking-tight",children:"LearnFlow"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 max-w-xs text-center md:text-left",children:"Empowering students with AI-driven learning tools for a smarter future."})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center md:items-end gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-gray-400 text-sm",children:" 2025 LearnFlow AI. All rights reserved."}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 rounded-full border border-white/10 backdrop-blur-sm hover:bg-white/10 transition-colors cursor-default",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:"Developed with"}),jsxRuntimeExports.jsx(Heart,{className:"w-4 h-4 text-red-500 fill-red-500 animate-pulse"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-300",children:"by"}),jsxRuntimeExports.jsx("span",{className:"text-white font-bold bg-gradient-to-r from-primary-400 to-secondary-400 bg-clip-text text-transparent",children:"Divyansh"})]})]})]})]})]})};var EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(e){if(typeof e!="string")return!1;var t=EventKeys;return t.includes(e)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SVGElementPropKeySet=new Set(SVGElementPropKeys);function isSvgElementPropKey(e){return typeof e!="string"?!1:SVGElementPropKeySet.has(e)}function isDataAttribute(e){return typeof e=="string"&&e.startsWith("data-")}function svgPropertiesNoEvents(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(isSvgElementPropKey(n)||isDataAttribute(n))&&(t[n]=e[n]);return t}function svgPropertiesNoEventsFromUnknown(e){if(e==null)return null;if(reactExports.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return svgPropertiesNoEvents(t)}return typeof e=="object"&&!Array.isArray(e)?svgPropertiesNoEvents(e):null}function svgPropertiesAndEvents(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(isSvgElementPropKey(n)||isDataAttribute(n)||isEventKey(n))&&(t[n]=e[n]);return t}function svgPropertiesAndEventsFromUnknown(e){return e==null?null:reactExports.isValidElement(e)?svgPropertiesAndEvents(e.props):typeof e=="object"&&!Array.isArray(e)?svgPropertiesAndEvents(e):null}var _excluded$n=["children","width","height","viewBox","className","style","title","desc"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$s.apply(null,arguments)}function _objectWithoutProperties$n(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$n(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$n(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Surface=reactExports.forwardRef((e,t)=>{var{children:n,width:i,height:o,viewBox:l,className:u,style:h,title:p,desc:m}=e,g=_objectWithoutProperties$n(e,_excluded$n),b=l||{width:i,height:o,x:0,y:0},E=clsx("recharts-surface",u);return reactExports.createElement("svg",_extends$s({},svgPropertiesAndEvents(g),{className:E,width:i,height:o,style:h,viewBox:"".concat(b.x," ").concat(b.y," ").concat(b.width," ").concat(b.height),ref:t}),reactExports.createElement("title",null,p),reactExports.createElement("desc",null,m),n)}),_excluded$m=["children","className"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$r.apply(null,arguments)}function _objectWithoutProperties$m(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$m(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$m(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Layer=reactExports.forwardRef((e,t)=>{var{children:n,className:i}=e,o=_objectWithoutProperties$m(e,_excluded$m),l=clsx("recharts-layer",i);return reactExports.createElement("g",_extends$r({className:l},svgPropertiesAndEvents(o),{ref:t}),n)}),LegendPortalContext=reactExports.createContext(null);function constant$1(e){return function(){return e}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function appendRound(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return append;const n=10**t;return function(i){this._+=i[0];for(let o=1,l=i.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class Path{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?append:appendRound(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,i,o){this._append`Q${+t},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(t,n,i,o,l,u){this._append`C${+t},${+n},${+i},${+o},${this._x1=+l},${this._y1=+u}`}arcTo(t,n,i,o,l){if(t=+t,n=+n,i=+i,o=+o,l=+l,l<0)throw new Error(`negative radius: ${l}`);let u=this._x1,h=this._y1,p=i-t,m=o-n,g=u-t,b=h-n,E=g*g+b*b;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(E>epsilon)if(!(Math.abs(b*p-m*g)>epsilon)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let _=i-u,A=o-h,w=p*p+m*m,T=_*_+A*A,C=Math.sqrt(w),B=Math.sqrt(E),N=l*Math.tan((pi-Math.acos((w+E-T)/(2*C*B)))/2),j=N/B,M=N/C;Math.abs(j-1)>epsilon&&this._append`L${t+j*g},${n+j*b}`,this._append`A${l},${l},0,0,${+(b*_>g*A)},${this._x1=t+M*p},${this._y1=n+M*m}`}}arc(t,n,i,o,l,u){if(t=+t,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let h=i*Math.cos(o),p=i*Math.sin(o),m=t+h,g=n+p,b=1^u,E=u?o-l:l-o;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>epsilon||Math.abs(this._y1-g)>epsilon)&&this._append`L${m},${g}`,i&&(E<0&&(E=E%tau+tau),E>tauEpsilon?this._append`A${i},${i},0,1,${b},${t-h},${n-p}A${i},${i},0,1,${b},${this._x1=m},${this._y1=g}`:E>epsilon&&this._append`A${i},${i},0,${+(E>=pi)},${b},${this._x1=t+i*Math.cos(l)},${this._y1=n+i*Math.sin(l)}`)}rect(t,n,i,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function withPath(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);t=i}return e},()=>new Path(t)}function array(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Linear(e){this._context=e}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function curveLinear(e){return new Linear(e)}function x(e){return e[0]}function y(e){return e[1]}function shapeLine(e,t){var n=constant$1(!0),i=null,o=curveLinear,l=null,u=withPath(h);e=typeof e=="function"?e:e===void 0?x:constant$1(e),t=typeof t=="function"?t:t===void 0?y:constant$1(t);function h(p){var m,g=(p=array(p)).length,b,E=!1,_;for(i==null&&(l=o(_=u())),m=0;m<=g;++m)!(m<g&&n(b=p[m],m,p))===E&&((E=!E)?l.lineStart():l.lineEnd()),E&&l.point(+e(b,m,p),+t(b,m,p));if(_)return l=null,_+""||null}return h.x=function(p){return arguments.length?(e=typeof p=="function"?p:constant$1(+p),h):e},h.y=function(p){return arguments.length?(t=typeof p=="function"?p:constant$1(+p),h):t},h.defined=function(p){return arguments.length?(n=typeof p=="function"?p:constant$1(!!p),h):n},h.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),h):o},h.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),h):i},h}function shapeArea(e,t,n){var i=null,o=constant$1(!0),l=null,u=curveLinear,h=null,p=withPath(m);e=typeof e=="function"?e:e===void 0?x:constant$1(+e),t=typeof t=="function"?t:constant$1(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?y:constant$1(+n);function m(b){var E,_,A,w=(b=array(b)).length,T,C=!1,B,N=new Array(w),j=new Array(w);for(l==null&&(h=u(B=p())),E=0;E<=w;++E){if(!(E<w&&o(T=b[E],E,b))===C)if(C=!C)_=E,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),A=E-1;A>=_;--A)h.point(N[A],j[A]);h.lineEnd(),h.areaEnd()}C&&(N[E]=+e(T,E,b),j[E]=+t(T,E,b),h.point(i?+i(T,E,b):N[E],n?+n(T,E,b):j[E]))}if(B)return h=null,B+""||null}function g(){return shapeLine().defined(o).curve(u).context(l)}return m.x=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),i=null,m):e},m.x0=function(b){return arguments.length?(e=typeof b=="function"?b:constant$1(+b),m):e},m.x1=function(b){return arguments.length?(i=b==null?null:typeof b=="function"?b:constant$1(+b),m):i},m.y=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),n=null,m):t},m.y0=function(b){return arguments.length?(t=typeof b=="function"?b:constant$1(+b),m):t},m.y1=function(b){return arguments.length?(n=b==null?null:typeof b=="function"?b:constant$1(+b),m):n},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(n)},m.lineX1=function(){return g().x(i).y(t)},m.defined=function(b){return arguments.length?(o=typeof b=="function"?b:constant$1(!!b),m):o},m.curve=function(b){return arguments.length?(u=b,l!=null&&(h=u(l)),m):u},m.context=function(b){return arguments.length?(b==null?l=h=null:h=u(l=b),m):l},m}class Bump{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function bumpX(e){return new Bump(e,!0)}function bumpY(e){return new Bump(e,!1)}const symbolCircle={draw(e,t){const n=sqrt$1(t/pi$1);e.moveTo(n,0),e.arc(0,0,n,0,tau$1)}},symbolCross={draw(e,t){const n=sqrt$1(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(e,t){const n=sqrt$1(t/tan30_2),i=n*tan30;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},symbolSquare={draw(e,t){const n=sqrt$1(t),i=-n/2;e.rect(i,i,n,n)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(e,t){const n=sqrt$1(t*ka),i=kx*n,o=ky*n;e.moveTo(0,-n),e.lineTo(i,o);for(let l=1;l<5;++l){const u=tau$1*l/5,h=cos(u),p=sin(u);e.lineTo(p*n,-h*n),e.lineTo(h*i-p*o,p*i+h*o)}e.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(e,t){const n=-sqrt$1(t/(sqrt3*3));e.moveTo(0,n*2),e.lineTo(-sqrt3*n,-n),e.lineTo(sqrt3*n,-n),e.closePath()}},c=-.5,s=sqrt$1(3)/2,k=1/sqrt$1(12),a=(k/2+1)*3,symbolWye={draw(e,t){const n=sqrt$1(t/a),i=n/2,o=n*k,l=i,u=n*k+n,h=-l,p=u;e.moveTo(i,o),e.lineTo(l,u),e.lineTo(h,p),e.lineTo(c*i-s*o,s*i+c*o),e.lineTo(c*l-s*u,s*l+c*u),e.lineTo(c*h-s*p,s*h+c*p),e.lineTo(c*i+s*o,c*o-s*i),e.lineTo(c*l+s*u,c*u-s*l),e.lineTo(c*h+s*p,c*p-s*h),e.closePath()}};function Symbol$1(e,t){let n=null,i=withPath(o);e=typeof e=="function"?e:constant$1(e||symbolCircle),t=typeof t=="function"?t:constant$1(t===void 0?64:+t);function o(){let l;if(n||(n=l=i()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return o.type=function(l){return arguments.length?(e=typeof l=="function"?l:constant$1(l),o):e},o.size=function(l){return arguments.length?(t=typeof l=="function"?l:constant$1(+l),o):t},o.context=function(l){return arguments.length?(n=l??null,o):n},o}function noop$4(){}function point$2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Basis(e){this._context=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasis(e){return new Basis(e)}function BasisClosed(e){this._context=e}BasisClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisClosed(e){return new BasisClosed(e)}function BasisOpen(e){this._context=e}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:point$2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function curveBasisOpen(e){return new BasisOpen(e)}function LinearClosed(e){this._context=e}LinearClosed.prototype={areaStart:noop$4,areaEnd:noop$4,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function curveLinearClosed(e){return new LinearClosed(e)}function sign(e){return e<0?-1:1}function slope3(e,t,n){var i=e._x1-e._x0,o=t-e._x1,l=(e._y1-e._y0)/(i||o<0&&-0),u=(n-e._y1)/(o||i<0&&-0),h=(l*o+u*i)/(i+o);return(sign(l)+sign(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(h))||0}function slope2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function point$1(e,t,n){var i=e._x0,o=e._y0,l=e._x1,u=e._y1,h=(l-i)/3;e._context.bezierCurveTo(i+h,o+h*t,l-h,u-h*n,l,u)}function MonotoneX(e){this._context=e}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,n=slope3(this,e,t)),n);break;default:point$1(this,this._t0,n=slope3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function MonotoneY(e){this._context=new ReflectContext(e)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(e,t){MonotoneX.prototype.point.call(this,t,e)};function ReflectContext(e){this._context=e}ReflectContext.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,o,l){this._context.bezierCurveTo(t,e,i,n,l,o)}};function monotoneX(e){return new MonotoneX(e)}function monotoneY(e){return new MonotoneY(e)}function Natural(e){this._context=e}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var i=controlPoints(e),o=controlPoints(t),l=0,u=1;u<n;++l,++u)this._context.bezierCurveTo(i[0][l],o[0][l],i[1][l],o[1][l],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function controlPoints(e){var t,n=e.length-1,i,o=new Array(n),l=new Array(n),u=new Array(n);for(o[0]=0,l[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,l[t]=4,u[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,l[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)i=o[t]/l[t-1],l[t]-=i,u[t]-=i*u[t-1];for(o[n-1]=u[n-1]/l[n-1],t=n-2;t>=0;--t)o[t]=(u[t]-o[t+1])/l[t];for(l[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-o[t+1];return[o,l]}function curveNatural(e){return new Natural(e)}function Step(e,t){this._context=e,this._t=t}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function curveStep(e){return new Step(e,.5)}function stepBefore(e){return new Step(e,0)}function stepAfter(e){return new Step(e,1)}function stackOffsetNone(e,t){if((u=e.length)>1)for(var n=1,i,o,l=e[t[0]],u,h=l.length;n<u;++n)for(o=l,l=e[t[n]],i=0;i<h;++i)l[i][1]+=l[i][0]=isNaN(o[i][1])?o[i][0]:o[i][1]}function stackOrderNone(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function stackValue(e,t){return e[t]}function stackSeries(e){const t=[];return t.key=e,t}function shapeStack(){var e=constant$1([]),t=stackOrderNone,n=stackOffsetNone,i=stackValue;function o(l){var u=Array.from(e.apply(this,arguments),stackSeries),h,p=u.length,m=-1,g;for(const b of l)for(h=0,++m;h<p;++h)(u[h][m]=[0,+i(b,u[h].key,m,l)]).data=b;for(h=0,g=array(t(u));h<p;++h)u[g[h]].index=h;return n(u,g),u}return o.keys=function(l){return arguments.length?(e=typeof l=="function"?l:constant$1(Array.from(l)),o):e},o.value=function(l){return arguments.length?(i=typeof l=="function"?l:constant$1(+l),o):i},o.order=function(l){return arguments.length?(t=l==null?stackOrderNone:typeof l=="function"?l:constant$1(Array.from(l)),o):t},o.offset=function(l){return arguments.length?(n=l??stackOffsetNone,o):n},o}function stackOffsetExpand(e,t){if((i=e.length)>0){for(var n,i,o=0,l=e[0].length,u;o<l;++o){for(u=n=0;n<i;++n)u+=e[n][o][1]||0;if(u)for(n=0;n<i;++n)e[n][o][1]/=u}stackOffsetNone(e,t)}}function stackOffsetSilhouette(e,t){if((o=e.length)>0){for(var n=0,i=e[t[0]],o,l=i.length;n<l;++n){for(var u=0,h=0;u<o;++u)h+=e[u][n][1]||0;i[n][1]+=i[n][0]=-h/2}stackOffsetNone(e,t)}}function stackOffsetWiggle(e,t){if(!(!((u=e.length)>0)||!((l=(o=e[t[0]]).length)>0))){for(var n=0,i=1,o,l,u;i<l;++i){for(var h=0,p=0,m=0;h<u;++h){for(var g=e[t[h]],b=g[i][1]||0,E=g[i-1][1]||0,_=(b-E)/2,A=0;A<h;++A){var w=e[t[A]],T=w[i][1]||0,C=w[i-1][1]||0;_+=T-C}p+=b,m+=_*b}o[i-1][1]+=o[i-1][0]=n,p&&(n-=m/p)}o[i-1][1]+=o[i-1][0]=n,stackOffsetNone(e,t)}}var get$3={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;return typeof n=="string"||typeof n=="symbol"?n:Object.is((i=n==null?void 0:n.valueOf)==null?void 0:i.call(n),-0)?"-0":String(n)}e.toKey=t})(toKey)),toKey}var toPath={},toString$1={},hasRequiredToString;function requireToString(){return hasRequiredToString||(hasRequiredToString=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const i=String(n);return i==="0"&&Object.is(Number(n),-0)?"-0":i}e.toString=t})(toString$1)),toString$1}var hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireToString(),n=requireToKey();function i(o){if(Array.isArray(o))return o.map(n.toKey);if(typeof o=="symbol")return[o];o=t.toString(o);const l=[],u=o.length;if(u===0)return l;let h=0,p="",m="",g=!1;for(o.charCodeAt(0)===46&&(l.push(""),h++);h<u;){const b=o[h];m?b==="\\"&&h+1<u?(h++,p+=o[h]):b===m?m="":p+=b:g?b==='"'||b==="'"?m=b:b==="]"?(g=!1,l.push(p),p=""):p+=b:b==="["?(g=!0,p&&(l.push(p),p="")):b==="."?p&&(l.push(p),p=""):p+=b,h++}return p&&l.push(p),l}e.toPath=i})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsUnsafeProperty(),n=requireIsDeepKey(),i=requireToKey(),o=requireToPath();function l(h,p,m){if(h==null)return m;switch(typeof p){case"string":{if(t.isUnsafeProperty(p))return m;const g=h[p];return g===void 0?n.isDeepKey(p)?l(h,o.toPath(p),m):m:g}case"number":case"symbol":{typeof p=="number"&&(p=i.toKey(p));const g=h[p];return g===void 0?m:g}default:{if(Array.isArray(p))return u(h,p,m);if(Object.is(p==null?void 0:p.valueOf(),-0)?p="-0":p=String(p),t.isUnsafeProperty(p))return m;const g=h[p];return g===void 0?m:g}}}function u(h,p,m){if(p.length===0)return m;let g=h;for(let b=0;b<p.length;b++){if(g==null||t.isUnsafeProperty(p[b]))return m;g=g[p[b]]}return g===void 0?m:g}e.get=l})(get$3)),get$3}var get$2,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$2=requireGet$1().get),get$2}var getExports=requireGet();const get$1=getDefaultExportFromCjs(getExports);var defaultRoundPrecision=4;function round$1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultRoundPrecision,n=10**t,i=Math.round(e*n)/n;return Object.is(i,-0)?0:i}function roundTemplateLiteral(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e.reduce((o,l,u)=>{var h=n[u-1];return typeof h=="string"?o+h+l:h!==void 0?o+round$1(h)+l:o+l},"")}var mathSign=e=>e===0?0:e>0?1:-1,isNan=e=>typeof e=="number"&&e!=+e,isPercent=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,isNumber=e=>(typeof e=="number"||e instanceof Number)&&!isNan(e),isNumOrStr=e=>isNumber(e)||typeof e=="string",idCounter=0,uniqueId=e=>{var t=++idCounter;return"".concat(e||"").concat(t)},getPercentValue=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(t)&&typeof t!="string")return i;var l;if(isPercent(t)){if(n==null)return i;var u=t.indexOf("%");l=n*parseFloat(t.slice(0,u))/100}else l=+t;return isNan(l)&&(l=i),o&&n!=null&&l>n&&(l=n),l},hasDuplicate=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},i=0;i<t;i++)if(!n[String(e[i])])n[String(e[i])]=!0;else return!0;return!1};function interpolate$1(e,t,n){return isNumber(e)&&isNumber(t)?round$1(e+n*(t-e)):t}function findEntryInArray(e,t,n){if(!(!e||!e.length))return e.find(i=>i&&(typeof t=="function"?t(i):get$1(i,t))===n)}var isNullish=e=>e===null||typeof e>"u",upperFirst=e=>isNullish(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function isNotNil(e){return e!=null}function noop$3(){}var _excluded$l=["type","size","sizeType"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$q.apply(null,arguments)}function ownKeys$C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$C(Object(n),!0).forEach(function(i){_defineProperty$F(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$C(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$F(e,t,n){return(t=_toPropertyKey$F(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$F(e){var t=_toPrimitive$F(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$F(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$l(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$l(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$l(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=e=>{var t="symbol".concat(upperFirst(e));return symbolFactories[t]||symbolCircle},calculateAreaSize=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*RADIAN$1;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},registerSymbol=(e,t)=>{symbolFactories["symbol".concat(upperFirst(e))]=t},Symbols=e=>{var{type:t="circle",size:n=64,sizeType:i="area"}=e,o=_objectWithoutProperties$l(e,_excluded$l),l=_objectSpread$C(_objectSpread$C({},o),{},{type:t,size:n,sizeType:i}),u="circle";typeof t=="string"&&(u=t);var h=()=>{var E=getSymbolFactory(u),_=Symbol$1().type(E).size(calculateAreaSize(n,i,u)),A=_();if(A!==null)return A},{className:p,cx:m,cy:g}=l,b=svgPropertiesAndEvents(l);return isNumber(m)&&isNumber(g)&&isNumber(n)?reactExports.createElement("path",_extends$q({},b,{className:clsx("recharts-symbols",p),transform:"translate(".concat(m,", ").concat(g,")"),d:h()})):null};Symbols.registerSymbol=registerSymbol;var isPolarCoordinate=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,adaptEventHandlers=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(reactExports.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(o=>{isEventKey(o)&&(i[o]=(l=>n[o](n,l)))}),i},getEventHandlerOfChild=(e,t,n)=>i=>(e(t,n,i),null),adaptEventsOfChild=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var i=null;return Object.keys(e).forEach(o=>{var l=e[o];isEventKey(o)&&typeof l=="function"&&(i||(i={}),i[o]=getEventHandlerOfChild(l,t,n))}),i};function ownKeys$B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$B(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$B(Object(n),!0).forEach(function(i){_defineProperty$E(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$B(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$E(e,t,n){return(t=_toPropertyKey$E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$E(e){var t=_toPrimitive$E(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$E(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function resolveDefaultProps(e,t){var n=_objectSpread$B({},e),i=t,o=Object.keys(t),l=o.reduce((u,h)=>(u[h]===void 0&&i[h]!==void 0&&(u[h]=i[h]),u),n);return l}var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){const o=new Map;for(let l=0;l<n.length;l++){const u=n[l],h=i(u);o.has(h)||o.set(h,u)}return Array.from(o.values())}e.uniqBy=t})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsLength();function n(i){return i!=null&&typeof i!="function"&&t.isLength(i.length)}e.isArrayLike=n})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsArrayLike(),n=requireIsObjectLike();function i(o){return n.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=i})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGet$1();function n(i){return function(o){return t.get(o,i)}}e.property=n})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}e.eq=t})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsObject(),n=requireIsPrimitive(),i=requireEq();function o(g,b,E){return typeof E!="function"?o(g,b,()=>{}):l(g,b,function _(A,w,T,C,B,N){const j=E(A,w,T,C,B,N);return j!==void 0?!!j:l(A,w,_,N)},new Map)}function l(g,b,E,_){if(b===g)return!0;switch(typeof b){case"object":return u(g,b,E,_);case"function":return Object.keys(b).length>0?l(g,{...b},E,_):i.eq(g,b);default:return t.isObject(g)?typeof b=="string"?b==="":!0:i.eq(g,b)}}function u(g,b,E,_){if(b==null)return!0;if(Array.isArray(b))return p(g,b,E,_);if(b instanceof Map)return h(g,b,E,_);if(b instanceof Set)return m(g,b,E,_);const A=Object.keys(b);if(g==null||n.isPrimitive(g))return A.length===0;if(A.length===0)return!0;if(_!=null&&_.has(b))return _.get(b)===g;_==null||_.set(b,g);try{for(let w=0;w<A.length;w++){const T=A[w];if(!n.isPrimitive(g)&&!(T in g)||b[T]===void 0&&g[T]!==void 0||b[T]===null&&g[T]!==null||!E(g[T],b[T],T,g,b,_))return!1}return!0}finally{_==null||_.delete(b)}}function h(g,b,E,_){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[A,w]of b.entries()){const T=g.get(A);if(E(T,w,A,g,b,_)===!1)return!1}return!0}function p(g,b,E,_){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const A=new Set;for(let w=0;w<b.length;w++){const T=b[w];let C=!1;for(let B=0;B<g.length;B++){if(A.has(B))continue;const N=g[B];let j=!1;if(E(N,T,w,g,b,_)&&(j=!0),j){A.add(B),C=!0;break}}if(!C)return!1}return!0}function m(g,b,E,_){return b.size===0?!0:g instanceof Set?p([...g],[...b],E,_):!1}e.isMatchWith=o,e.isSetMatch=m})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatchWith();function n(i,o){return t.isMatchWith(i,o,()=>{})}e.isMatch=n})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(i=>Object.prototype.propertyIsEnumerable.call(n,i))}e.getSymbols=t})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(getTag)),getTag}var tags={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",i="[object Number]",o="[object Boolean]",l="[object Arguments]",u="[object Symbol]",h="[object Date]",p="[object Map]",m="[object Set]",g="[object Array]",b="[object Function]",E="[object ArrayBuffer]",_="[object Object]",A="[object Error]",w="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",B="[object Uint16Array]",N="[object Uint32Array]",j="[object BigUint64Array]",M="[object Int8Array]",D="[object Int16Array]",V="[object Int32Array]",L="[object BigInt64Array]",U="[object Float32Array]",J="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=E,e.arrayTag=g,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=j,e.booleanTag=o,e.dataViewTag=w,e.dateTag=h,e.errorTag=A,e.float32ArrayTag=U,e.float64ArrayTag=J,e.functionTag=b,e.int16ArrayTag=D,e.int32ArrayTag=V,e.int8ArrayTag=M,e.mapTag=p,e.numberTag=i,e.objectTag=_,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=u,e.uint16ArrayTag=B,e.uint32ArrayTag=N,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(tags)),tags}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGetSymbols(),n=requireGetTag(),i=requireTags(),o=requireIsPrimitive(),l=requireIsTypedArray();function u(g,b){return h(g,void 0,g,new Map,b)}function h(g,b,E,_=new Map,A=void 0){const w=A==null?void 0:A(g,b,E,_);if(w!==void 0)return w;if(o.isPrimitive(g))return g;if(_.has(g))return _.get(g);if(Array.isArray(g)){const T=new Array(g.length);_.set(g,T);for(let C=0;C<g.length;C++)T[C]=h(g[C],C,E,_,A);return Object.hasOwn(g,"index")&&(T.index=g.index),Object.hasOwn(g,"input")&&(T.input=g.input),T}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const T=new RegExp(g.source,g.flags);return T.lastIndex=g.lastIndex,T}if(g instanceof Map){const T=new Map;_.set(g,T);for(const[C,B]of g)T.set(C,h(B,C,E,_,A));return T}if(g instanceof Set){const T=new Set;_.set(g,T);for(const C of g)T.add(h(C,void 0,E,_,A));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(l.isTypedArray(g)){const T=new(Object.getPrototypeOf(g)).constructor(g.length);_.set(g,T);for(let C=0;C<g.length;C++)T[C]=h(g[C],C,E,_,A);return T}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const T=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return _.set(g,T),p(T,g,E,_,A),T}if(typeof File<"u"&&g instanceof File){const T=new File([g],g.name,{type:g.type});return _.set(g,T),p(T,g,E,_,A),T}if(typeof Blob<"u"&&g instanceof Blob){const T=new Blob([g],{type:g.type});return _.set(g,T),p(T,g,E,_,A),T}if(g instanceof Error){const T=new g.constructor;return _.set(g,T),T.message=g.message,T.name=g.name,T.stack=g.stack,T.cause=g.cause,p(T,g,E,_,A),T}if(g instanceof Boolean){const T=new Boolean(g.valueOf());return _.set(g,T),p(T,g,E,_,A),T}if(g instanceof Number){const T=new Number(g.valueOf());return _.set(g,T),p(T,g,E,_,A),T}if(g instanceof String){const T=new String(g.valueOf());return _.set(g,T),p(T,g,E,_,A),T}if(typeof g=="object"&&m(g)){const T=Object.create(Object.getPrototypeOf(g));return _.set(g,T),p(T,g,E,_,A),T}return g}function p(g,b,E=g,_,A){const w=[...Object.keys(b),...t.getSymbols(b)];for(let T=0;T<w.length;T++){const C=w[T],B=Object.getOwnPropertyDescriptor(g,C);(B==null||B.writable)&&(g[C]=h(b[C],C,E,_,A))}}function m(g){switch(n.getTag(g)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=h,e.copyProperties=p})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith$1();function n(i){return t.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}e.cloneDeep=n})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireCloneDeep$1();function i(o){return o=n.cloneDeep(o),l=>t.isMatch(l,o)}e.matches=i})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith$1(),n=requireTags();function i(o,l){return t.cloneDeepWith(o,(u,h,p,m)=>{const g=l==null?void 0:l(u,h,p,m);if(g!==void 0)return g;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case n.numberTag:case n.stringTag:case n.booleanTag:{const b=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(b,o),b}case n.argumentsTag:{const b={};return t.copyProperties(b,o),b.length=o.length,b[Symbol.iterator]=o[Symbol.iterator],b}default:return}})}e.cloneDeepWith=i})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCloneDeepWith();function n(i){return t.cloneDeepWith(i)}e.cloneDeep=n})(cloneDeep)),cloneDeep}var has$2={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(i,o=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<o;case"symbol":return!1;case"string":return t.test(i)}}e.isIndex=n})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireGetTag();function n(i){return i!==null&&typeof i=="object"&&t.getTag(i)==="[object Arguments]"}e.isArguments=n})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsDeepKey(),n=requireIsIndex(),i=requireIsArguments(),o=requireToPath();function l(u,h){let p;if(Array.isArray(h)?p=h:typeof h=="string"&&t.isDeepKey(h)&&(u==null?void 0:u[h])==null?p=o.toPath(h):p=[h],p.length===0)return!1;let m=u;for(let g=0;g<p.length;g++){const b=p[g];if((m==null||!Object.hasOwn(m,b))&&!((Array.isArray(m)||i.isArguments(m))&&n.isIndex(b)&&b<m.length))return!1;m=m[b]}return!0}e.has=l})(has$2)),has$2}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsMatch(),n=requireToKey(),i=requireCloneDeep(),o=requireGet$1(),l=requireHas();function u(h,p){switch(typeof h){case"object":{Object.is(h==null?void 0:h.valueOf(),-0)&&(h="-0");break}case"number":{h=n.toKey(h);break}}return p=i.cloneDeep(p),function(m){const g=o.get(m,h);return g===void 0?l.has(m,h):p===void 0?g===void 0:t.isMatch(g,p)}}e.matchesProperty=u})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIdentity(),n=requireProperty(),i=requireMatches(),o=requireMatchesProperty();function l(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?o.matchesProperty(u[0],u[1]):i.matches(u);case"string":case"symbol":case"number":return n.property(u)}}e.iteratee=l})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireUniqBy$2(),n=requireIdentity(),i=requireIsArrayLikeObject(),o=requireIteratee();function l(u,h=n.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),o.iteratee(h)):[]}e.uniqBy=l})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(e,t,n){return t===!0?uniqBy(e,n):typeof t=="function"?uniqBy(e,t):e}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var e=requireReact();function t(b,E){return b===E&&(b!==0||1/b===1/E)||b!==b&&E!==E}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function h(b,E){var _=E(),A=i({inst:{value:_,getSnapshot:E}}),w=A[0].inst,T=A[1];return l(function(){w.value=_,w.getSnapshot=E,p(w)&&T({inst:w})},[b,_,E]),o(function(){return p(w)&&T({inst:w}),b(function(){p(w)&&T({inst:w})})},[b]),u(_),_}function p(b){var E=b.getSnapshot;b=b.value;try{var _=E();return!n(b,_)}catch{return!0}}function m(b,E){return E()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return useSyncExternalStoreShim_production.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var e=requireReact(),t=requireShim();function n(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,l=e.useRef,u=e.useEffect,h=e.useMemo,p=e.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(m,g,b,E,_){var A=l(null);if(A.current===null){var w={hasValue:!1,value:null};A.current=w}else w=A.current;A=h(function(){function C(D){if(!B){if(B=!0,N=D,D=E(D),_!==void 0&&w.hasValue){var V=w.value;if(_(V,D))return j=V}return j=D}if(V=j,i(N,D))return V;var L=E(D);return _!==void 0&&_(V,L)?(N=D,V):(N=D,j=L)}var B=!1,N,j,M=b===void 0?null:b;return[function(){return C(g())},M===null?void 0:function(){return C(M())}]},[g,b,E,_]);var T=o(m,A[0],A[1]);return u(function(){w.hasValue=!0,w.value=T},[T]),p(T),T},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=e=>e,useAppDispatch=()=>{var e=reactExports.useContext(RechartsReduxContext);return e?e.store.dispatch:noopDispatch},noop$2=()=>{},addNestedSubNoop=()=>noop$2,refEquality=(e,t)=>e===t;function useAppSelector(e){var t=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:addNestedSubNoop,t?t.store.getState:noop$2,t?t.store.getState:noop$2,t?e:noop$2,refEquality)}function assertIsFunction(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function assertIsObject(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function assertIsArrayOfFunctions(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${t}[${n}]`)}}var ensureIsArray=e=>Array.isArray(e)?e:[e];function getDependencies(e){const t=Array.isArray(e[0])?e[0]:e;return assertIsArrayOfFunctions(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function collectInputSelectorResults(e,t){const n=[],{length:i}=e;for(let o=0;o<i;o++)n.push(e[o].apply(null,t));return n}var StrongRef=class{constructor(e){this.value=e}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(e,t={}){let n=createCacheNode();const{resultEqualityCheck:i}=t;let o,l=0;function u(){var b;let h=n;const{length:p}=arguments;for(let E=0,_=p;E<_;E++){const A=arguments[E];if(typeof A=="function"||typeof A=="object"&&A!==null){let w=h.o;w===null&&(h.o=w=new WeakMap);const T=w.get(A);T===void 0?(h=createCacheNode(),w.set(A,h)):h=T}else{let w=h.p;w===null&&(h.p=w=new Map);const T=w.get(A);T===void 0?(h=createCacheNode(),w.set(A,h)):h=T}}const m=h;let g;if(h.s===TERMINATED)g=h.v;else if(g=e.apply(null,arguments),l++,i){const E=((b=o==null?void 0:o.deref)==null?void 0:b.call(o))??o;E!=null&&i(E,g)&&(g=E,l!==0&&l--),o=typeof g=="object"&&g!==null||typeof g=="function"?new Ref(g):g}return m.s=TERMINATED,m.v=g,g}return u.clearCache=()=>{n=createCacheNode(),u.resetResultsCount()},u.resultsCount=()=>l,u.resetResultsCount=()=>{l=0},u}function createSelectorCreator(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,i=(...o)=>{let l=0,u=0,h,p={},m=o.pop();typeof m=="object"&&(p=m,m=o.pop()),assertIsFunction(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...n,...p},{memoize:b,memoizeOptions:E=[],argsMemoize:_=weakMapMemoize,argsMemoizeOptions:A=[]}=g,w=ensureIsArray(E),T=ensureIsArray(A),C=getDependencies(o),B=b(function(){return l++,m.apply(null,arguments)},...w),N=_(function(){u++;const M=collectInputSelectorResults(C,arguments);return h=B.apply(null,M),h},...T);return Object.assign(N,{resultFunc:m,memoizedResultFunc:B,dependencies:C,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>h,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:b,argsMemoize:_})};return Object.assign(i,{withTypes:()=>i}),i}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((e,t=createSelector)=>{assertIsObject(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),i=n.map(l=>e[l]);return t(i,(...l)=>l.reduce((u,h,p)=>(u[n[p]]=h,u),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,o,l)=>{if(i!==o){const u=t(i),h=t(o);if(u===h&&u===0){if(i<o)return l==="desc"?1:-1;if(i>o)return l==="desc"?-1:1}return l==="desc"?h-u:u-h}return 0};e.compareValues=n})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsSymbol(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(l,u){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(i.test(l)||!n.test(l))||u!=null&&Object.hasOwn(u,l)}e.isKey=o})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireCompareValues(),n=requireIsKey(),i=requireToPath();function o(l,u,h,p){if(l==null)return[];h=p?void 0:h,Array.isArray(l)||(l=Object.values(l)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(h)||(h=h==null?[]:[h]),h=h.map(_=>String(_));const m=(_,A)=>{let w=_;for(let T=0;T<A.length&&w!=null;++T)w=w[A[T]];return w},g=(_,A)=>A==null||_==null?A:typeof _=="object"&&"key"in _?Object.hasOwn(A,_.key)?A[_.key]:m(A,_.path):typeof _=="function"?_(A):Array.isArray(_)?m(A,_):typeof A=="object"?A[_]:A,b=u.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:i.toPath(_)}));return l.map(_=>({original:_,criteria:b.map(A=>g(A,_))})).slice().sort((_,A)=>{for(let w=0;w<b.length;w++){const T=t.compareValues(_.criteria[w],A.criteria[w],h[w]);if(T!==0)return T}return 0}).map(_=>_.original)}e.orderBy=o})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i=1){const o=[],l=Math.floor(i),u=(h,p)=>{for(let m=0;m<h.length;m++){const g=h[m];Array.isArray(g)&&p<l?u(g,p+1):o.push(g)}};return u(n,0),o}e.flatten=t})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsIndex(),n=requireIsArrayLike(),i=requireIsObject(),o=requireEq();function l(u,h,p){return i.isObject(p)&&(typeof h=="number"&&n.isArrayLike(p)&&t.isIndex(h)&&h<p.length||typeof h=="string"&&h in p)?o.eq(p[h],u):!1}e.isIterateeCall=l})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireOrderBy(),n=requireFlatten(),i=requireIsIterateeCall();function o(l,...u){const h=u.length;return h>1&&i.isIterateeCall(l,u[0],u[1])?u=[]:h>2&&i.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(l,n.flatten(u),["asc"])}e.sortBy=o})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=e=>e.legend.settings,selectLegendSize=e=>e.legend.size,selectAllLegendPayload2DArray=e=>e.legend.payload;createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(e,t)=>{var{itemSorter:n}=t,i=e.flat(1);return n?sortBy(i,n):i});var EPS$1=1;function useElementOffset(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=reactExports.useState({height:0,left:0,top:0,width:0}),i=reactExports.useCallback(o=>{if(o!=null){var l=o.getBoundingClientRect(),u={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(u.height-t.height)>EPS$1||Math.abs(u.left-t.left)>EPS$1||Math.abs(u.top-t.top)>EPS$1||Math.abs(u.width-t.width)>EPS$1)&&n({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,i]}function formatProdErrorMessage$1(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$5(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function createStore(e,t,n){if(typeof e!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(formatProdErrorMessage$1(1));return n(createStore)(e,t)}let i=e,o=t,l=new Map,u=l,h=0,p=!1;function m(){u===l&&(u=new Map,l.forEach((T,C)=>{u.set(C,T)}))}function g(){if(p)throw new Error(formatProdErrorMessage$1(3));return o}function b(T){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(4));if(p)throw new Error(formatProdErrorMessage$1(5));let C=!0;m();const B=h++;return u.set(B,T),function(){if(C){if(p)throw new Error(formatProdErrorMessage$1(6));C=!1,m(),u.delete(B),l=null}}}function E(T){if(!isPlainObject$5(T))throw new Error(formatProdErrorMessage$1(7));if(typeof T.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof T.type!="string")throw new Error(formatProdErrorMessage$1(17));if(p)throw new Error(formatProdErrorMessage$1(9));try{p=!0,o=i(o,T)}finally{p=!1}return(l=u).forEach(B=>{B()}),T}function _(T){if(typeof T!="function")throw new Error(formatProdErrorMessage$1(10));i=T,E({type:actionTypes_default.REPLACE})}function A(){const T=b;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(formatProdErrorMessage$1(11));function B(){const j=C;j.next&&j.next(g())}return B(),{unsubscribe:T(B)}},[symbol_observable_default](){return this}}}return E({type:actionTypes_default.INIT}),{dispatch:E,subscribe:b,getState:g,replaceReducer:_,[symbol_observable_default]:A}}function assertReducerShape(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof n(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const u=t[l];typeof e[u]=="function"&&(n[u]=e[u])}const i=Object.keys(n);let o;try{assertReducerShape(n)}catch(l){o=l}return function(u={},h){if(o)throw o;let p=!1;const m={};for(let g=0;g<i.length;g++){const b=i[g],E=n[b],_=u[b],A=E(_,h);if(typeof A>"u")throw h&&h.type,new Error(formatProdErrorMessage$1(14));m[b]=A,p=p||A!==_}return p=p||i.length!==Object.keys(u).length,p?m:u}}function compose$1(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...i)=>t(n(...i)))}function applyMiddleware(...e){return t=>(n,i)=>{const o=t(n,i);let l=()=>{throw new Error(formatProdErrorMessage$1(15))};const u={getState:o.getState,dispatch:(p,...m)=>l(p,...m)},h=e.map(p=>p(u));return l=compose$1(...h)(o.dispatch),{...o,dispatch:l}}}function isAction(e){return isPlainObject$5(e)&&"type"in e&&typeof e.type=="string"}var NOTHING$1=Symbol.for("immer-nothing"),DRAFTABLE$1=Symbol.for("immer-draftable"),DRAFT_STATE$1=Symbol.for("immer-state");function die$1(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var O=Object,getPrototypeOf$1=O.getPrototypeOf,CONSTRUCTOR="constructor",PROTOTYPE="prototype",CONFIGURABLE="configurable",ENUMERABLE="enumerable",WRITABLE="writable",VALUE="value",isDraft$1=e=>!!e&&!!e[DRAFT_STATE$1];function isDraftable$1(e){var t;return e?isPlainObject$4(e)||isArray$1(e)||!!e[DRAFTABLE$1]||!!((t=e[CONSTRUCTOR])!=null&&t[DRAFTABLE$1])||isMap$1(e)||isSet$1(e):!1}var objectCtorString$1=O[PROTOTYPE][CONSTRUCTOR].toString(),cachedCtorStrings$1=new WeakMap;function isPlainObject$4(e){if(!e||!isObjectish(e))return!1;const t=getPrototypeOf$1(e);if(t===null||t===O[PROTOTYPE])return!0;const n=O.hasOwnProperty.call(t,CONSTRUCTOR)&&t[CONSTRUCTOR];if(n===Object)return!0;if(!isFunction(n))return!1;let i=cachedCtorStrings$1.get(n);return i===void 0&&(i=Function.toString.call(n),cachedCtorStrings$1.set(n,i)),i===objectCtorString$1}function each$1(e,t,n=!0){getArchtype$1(e)===0?(n?Reflect.ownKeys(e):O.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((i,o)=>t(o,i,e))}function getArchtype$1(e){const t=e[DRAFT_STATE$1];return t?t.type_:isArray$1(e)?1:isMap$1(e)?2:isSet$1(e)?3:0}var has$1=(e,t,n=getArchtype$1(e))=>n===2?e.has(t):O[PROTOTYPE].hasOwnProperty.call(e,t),get=(e,t,n=getArchtype$1(e))=>n===2?e.get(t):e[t],set$1=(e,t,n,i=getArchtype$1(e))=>{i===2?e.set(t,n):i===3?e.add(n):e[t]=n};function is$2(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var isArray$1=Array.isArray,isMap$1=e=>e instanceof Map,isSet$1=e=>e instanceof Set,isObjectish=e=>typeof e=="object",isFunction=e=>typeof e=="function",isBoolean$1=e=>typeof e=="boolean";function isArrayIndex(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var latest$1=e=>e.copy_||e.base_,getFinalValue=e=>e.modified_?e.copy_:e.base_;function shallowCopy$1(e,t){if(isMap$1(e))return new Map(e);if(isSet$1(e))return new Set(e);if(isArray$1(e))return Array[PROTOTYPE].slice.call(e);const n=isPlainObject$4(e);if(t===!0||t==="class_only"&&!n){const i=O.getOwnPropertyDescriptors(e);delete i[DRAFT_STATE$1];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const u=o[l],h=i[u];h[WRITABLE]===!1&&(h[WRITABLE]=!0,h[CONFIGURABLE]=!0),(h.get||h.set)&&(i[u]={[CONFIGURABLE]:!0,[WRITABLE]:!0,[ENUMERABLE]:h[ENUMERABLE],[VALUE]:e[u]})}return O.create(getPrototypeOf$1(e),i)}else{const i=getPrototypeOf$1(e);if(i!==null&&n)return{...e};const o=O.create(i);return O.assign(o,e)}}function freeze$1(e,t=!1){return isFrozen$1(e)||isDraft$1(e)||!isDraftable$1(e)||(getArchtype$1(e)>1&&O.defineProperties(e,{set:dontMutateMethodOverride$1,add:dontMutateMethodOverride$1,clear:dontMutateMethodOverride$1,delete:dontMutateMethodOverride$1}),O.freeze(e),t&&each$1(e,(n,i)=>{freeze$1(i,!0)},!1)),e}function dontMutateFrozenCollections$1(){die$1(2)}var dontMutateMethodOverride$1={[VALUE]:dontMutateFrozenCollections$1};function isFrozen$1(e){return e===null||!isObjectish(e)?!0:O.isFrozen(e)}var PluginMapSet="MapSet",PluginPatches="Patches",PluginArrayMethods="ArrayMethods",plugins$1={};function getPlugin$1(e){const t=plugins$1[e];return t||die$1(0,e),t}var isPluginLoaded=e=>!!plugins$1[e],currentScope$1,getCurrentScope$1=()=>currentScope$1,createScope$1=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:isPluginLoaded(PluginMapSet)?getPlugin$1(PluginMapSet):void 0,arrayMethodsPlugin_:isPluginLoaded(PluginArrayMethods)?getPlugin$1(PluginArrayMethods):void 0});function usePatchesInScope$1(e,t){t&&(e.patchPlugin_=getPlugin$1(PluginPatches),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function revokeScope$1(e){leaveScope$1(e),e.drafts_.forEach(revokeDraft$1),e.drafts_=null}function leaveScope$1(e){e===currentScope$1&&(currentScope$1=e.parent_)}var enterScope$1=e=>currentScope$1=createScope$1(currentScope$1,e);function revokeDraft$1(e){const t=e[DRAFT_STATE$1];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function processResult$1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[DRAFT_STATE$1].modified_&&(revokeScope$1(t),die$1(4)),isDraftable$1(e)&&(e=finalize$1(t,e));const{patchPlugin_:o}=t;o&&o.generateReplacementPatches_(n[DRAFT_STATE$1].base_,e,t)}else e=finalize$1(t,n);return maybeFreeze$1(t,e,!0),revokeScope$1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NOTHING$1?e:void 0}function finalize$1(e,t){if(isFrozen$1(t))return t;const n=t[DRAFT_STATE$1];if(!n)return handleValue(t,e.handledSet_,e);if(!isSameScope(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:i}=n;if(i)for(;i.length>0;)i.pop()(e);generatePatchesAndFinalize(n,e)}return n.copy_}function maybeFreeze$1(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze$1(t,n)}function markStateFinalized(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var isSameScope=(e,t)=>e.scope_===t,EMPTY_LOCATIONS_RESULT=[];function updateDraftInParent(e,t,n,i){const o=latest$1(e),l=e.type_;if(i!==void 0&&get(o,i,l)===t){set$1(o,i,n,l);return}if(!e.draftLocations_){const h=e.draftLocations_=new Map;each$1(o,(p,m)=>{if(isDraft$1(m)){const g=h.get(m)||[];g.push(p),h.set(m,g)}})}const u=e.draftLocations_.get(t)??EMPTY_LOCATIONS_RESULT;for(const h of u)set$1(o,h,n,l)}function registerChildFinalizationCallback(e,t,n){e.callbacks_.push(function(o){var h;const l=t;if(!l||!isSameScope(l,o))return;(h=o.mapSetPlugin_)==null||h.fixSetContents(l);const u=getFinalValue(l);updateDraftInParent(e,l.draft_??l,u,n),generatePatchesAndFinalize(l,o)})}function generatePatchesAndFinalize(e,t){var i;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((i=e.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:o}=t;if(o){const l=o.getPath(e);l&&o.generatePatches_(e,l,t)}markStateFinalized(e)}}function handleCrossReference(e,t,n){const{scope_:i}=e;if(isDraft$1(n)){const o=n[DRAFT_STATE$1];isSameScope(o,i)&&o.callbacks_.push(function(){prepareCopy$1(e);const u=getFinalValue(o);updateDraftInParent(e,n,u,t)})}else isDraftable$1(n)&&e.callbacks_.push(function(){const l=latest$1(e);e.type_===3?l.has(n)&&handleValue(n,i.handledSet_,i):get(l,t,e.type_)===n&&i.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&handleValue(get(e.copy_,t,e.type_),i.handledSet_,i)})}function handleValue(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||isDraft$1(e)||t.has(e)||!isDraftable$1(e)||isFrozen$1(e)||(t.add(e),each$1(e,(i,o)=>{if(isDraft$1(o)){const l=o[DRAFT_STATE$1];if(isSameScope(l,n)){const u=getFinalValue(l);set$1(e,i,u,e.type_),markStateFinalized(l)}}else isDraftable$1(o)&&handleValue(o,t,n)})),e}function createProxyProxy$1(e,t){const n=isArray$1(e),i={type_:n?1:0,scope_:t?t.scope_:getCurrentScope$1(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=i,l=objectTraps$1;n&&(o=[i],l=arrayTraps$1);const{revoke:u,proxy:h}=Proxy.revocable(o,l);return i.draft_=h,i.revoke_=u,[h,i]}var objectTraps$1={get(e,t){if(t===DRAFT_STATE$1)return e;let n=e.scope_.arrayMethodsPlugin_;const i=e.type_===1&&typeof t=="string";if(i&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const o=latest$1(e);if(!has$1(o,t,e.type_))return readPropFromProto$1(e,o,t);const l=o[t];if(e.finalized_||!isDraftable$1(l)||i&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&isArrayIndex(t))return l;if(l===peek$1(e.base_,t)){prepareCopy$1(e);const u=e.type_===1?+t:t,h=createProxy$1(e.scope_,l,e,u);return e.copy_[u]=h}return l},has(e,t){return t in latest$1(e)},ownKeys(e){return Reflect.ownKeys(latest$1(e))},set(e,t,n){const i=getDescriptorFromProto$1(latest$1(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const o=peek$1(latest$1(e),t),l=o==null?void 0:o[DRAFT_STATE$1];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(is$2(n,o)&&(n!==void 0||has$1(e.base_,t,e.type_)))return!0;prepareCopy$1(e),markChanged$1(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),handleCrossReference(e,t,n)),!0},deleteProperty(e,t){return prepareCopy$1(e),peek$1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),markChanged$1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=latest$1(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{[WRITABLE]:!0,[CONFIGURABLE]:e.type_!==1||t!=="length",[ENUMERABLE]:i[ENUMERABLE],[VALUE]:n[t]}},defineProperty(){die$1(11)},getPrototypeOf(e){return getPrototypeOf$1(e.base_)},setPrototypeOf(){die$1(12)}},arrayTraps$1={};for(let e in objectTraps$1){let t=objectTraps$1[e];arrayTraps$1[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}arrayTraps$1.deleteProperty=function(e,t){return arrayTraps$1.set.call(this,e,t,void 0)};arrayTraps$1.set=function(e,t,n){return objectTraps$1.set.call(this,e[0],t,n,e[0])};function peek$1(e,t){const n=e[DRAFT_STATE$1];return(n?latest$1(n):e)[t]}function readPropFromProto$1(e,t,n){var o;const i=getDescriptorFromProto$1(t,n);return i?VALUE in i?i[VALUE]:(o=i.get)==null?void 0:o.call(e.draft_):void 0}function getDescriptorFromProto$1(e,t){if(!(t in e))return;let n=getPrototypeOf$1(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=getPrototypeOf$1(n)}}function markChanged$1(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged$1(e.parent_))}function prepareCopy$1(e){e.copy_||(e.assigned_=new Map,e.copy_=shallowCopy$1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2$1=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,i,o)=>{if(isFunction(n)&&!isFunction(i)){const u=i;i=n;const h=this;return function(m=u,...g){return h.produce(m,b=>i.call(this,b,...g))}}isFunction(i)||die$1(6),o!==void 0&&!isFunction(o)&&die$1(7);let l;if(isDraftable$1(n)){const u=enterScope$1(this),h=createProxy$1(u,n,void 0);let p=!0;try{l=i(h),p=!1}finally{p?revokeScope$1(u):leaveScope$1(u)}return usePatchesInScope$1(u,o),processResult$1(l,u)}else if(!n||!isObjectish(n)){if(l=i(n),l===void 0&&(l=n),l===NOTHING$1&&(l=void 0),this.autoFreeze_&&freeze$1(l,!0),o){const u=[],h=[];getPlugin$1(PluginPatches).generateReplacementPatches_(n,l,{patches_:u,inversePatches_:h}),o(u,h)}return l}else die$1(1,n)},this.produceWithPatches=(n,i)=>{if(isFunction(n))return(h,...p)=>this.produceWithPatches(h,m=>n(m,...p));let o,l;return[this.produce(n,i,(h,p)=>{o=h,l=p}),o,l]},isBoolean$1(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),isBoolean$1(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),isBoolean$1(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){isDraftable$1(t)||die$1(8),isDraft$1(t)&&(t=current$1(t));const n=enterScope$1(this),i=createProxy$1(n,t,void 0);return i[DRAFT_STATE$1].isManual_=!0,leaveScope$1(n),i}finishDraft(t,n){const i=t&&t[DRAFT_STATE$1];(!i||!i.isManual_)&&die$1(9);const{scope_:o}=i;return usePatchesInScope$1(o,n),processResult$1(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let i;for(i=n.length-1;i>=0;i--){const l=n[i];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}i>-1&&(n=n.slice(i+1));const o=getPlugin$1(PluginPatches).applyPatches_;return isDraft$1(t)?o(t,n):this.produce(t,l=>o(l,n))}};function createProxy$1(e,t,n,i){const[o,l]=isMap$1(t)?getPlugin$1(PluginMapSet).proxyMap_(t,n):isSet$1(t)?getPlugin$1(PluginMapSet).proxySet_(t,n):createProxyProxy$1(t,n);return((n==null?void 0:n.scope_)??getCurrentScope$1()).drafts_.push(o),l.callbacks_=(n==null?void 0:n.callbacks_)??[],l.key_=i,n&&i!==void 0?registerChildFinalizationCallback(n,l,i):l.callbacks_.push(function(p){var g;(g=p.mapSetPlugin_)==null||g.fixSetContents(l);const{patchPlugin_:m}=p;l.modified_&&m&&m.generatePatches_(l,[],p)}),o}function current$1(e){return isDraft$1(e)||die$1(10,e),currentImpl$1(e)}function currentImpl$1(e){if(!isDraftable$1(e)||isFrozen$1(e))return e;const t=e[DRAFT_STATE$1];let n,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=shallowCopy$1(e,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else n=shallowCopy$1(e,!0);return each$1(n,(o,l)=>{set$1(n,o,currentImpl$1(l))},i),t&&(t.finalized_=!1),n}var immer$1=new Immer2$1,produce=immer$1.produce;function createThunkMiddleware(e){return({dispatch:n,getState:i})=>o=>l=>typeof l=="function"?l(n,i,e):o(l)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)};function createAction(e,t){function n(...i){if(t){let o=t(...i);if(!o)throw new Error(formatProdErrorMessage(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:i[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=i=>isAction(i)&&i.type===e,n}var Tuple=class Oa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Oa.prototype)}static get[Symbol.species](){return Oa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Oa(...t[0].concat(this)):new Oa(...t.concat(this))}};function freezeDraftable(e){return isDraftable$1(e)?produce(e,()=>{}):e}function getOrInsertComputed(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function isBoolean(e){return typeof e=="boolean"}var buildGetDefaultMiddleware=()=>function(t){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:l=!0}=t??{};let u=new Tuple;return n&&(isBoolean(n)?u.push(thunk):u.push(withExtraArgument(n.extraArgument))),u},SHOULD_AUTOBATCH="RTK_autoBatch",prepareAutoBatched=()=>e=>({payload:e,meta:{[SHOULD_AUTOBATCH]:!0}}),createQueueWithTimer=e=>t=>{setTimeout(t,e)},autoBatchEnhancer=(e={type:"raf"})=>t=>(...n)=>{const i=t(...n);let o=!0,l=!1,u=!1;const h=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):e.type==="callback"?e.queueNotification:createQueueWithTimer(e.timeout),m=()=>{u=!1,l&&(l=!1,h.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const b=()=>o&&g(),E=i.subscribe(b);return h.add(g),()=>{E(),h.delete(g)}},dispatch(g){var b;try{return o=!((b=g==null?void 0:g.meta)!=null&&b[SHOULD_AUTOBATCH]),l=!o,l&&(u||(u=!0,p(m))),i.dispatch(g)}finally{o=!0}}})},buildGetDefaultEnhancers=e=>function(n){const{autoBatch:i=!0}=n??{};let o=new Tuple(e);return i&&o.push(autoBatchEnhancer(typeof i=="object"?i:void 0)),o};function configureStore(e){const t=buildGetDefaultMiddleware(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:l=void 0,enhancers:u=void 0}=e||{};let h;if(typeof n=="function")h=n;else if(isPlainObject$5(n))h=combineReducers(n);else throw new Error(formatProdErrorMessage(1));let p;typeof i=="function"?p=i(t):p=t();let m=compose$1;o&&(m=composeWithDevTools({trace:!1,...typeof o=="object"&&o}));const g=applyMiddleware(...p),b=buildGetDefaultEnhancers(g);let E=typeof u=="function"?u(b):b();const _=m(...E);return createStore(h,l,_)}function executeReducerBuilderCallback(e){const t={},n=[];let i;const o={addCase(l,u){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(formatProdErrorMessage(28));if(h in t)throw new Error(formatProdErrorMessage(29));return t[h]=u,o},addAsyncThunk(l,u){return u.pending&&(t[l.pending.type]=u.pending),u.rejected&&(t[l.rejected.type]=u.rejected),u.fulfilled&&(t[l.fulfilled.type]=u.fulfilled),u.settled&&n.push({matcher:l.settled,reducer:u.settled}),o},addMatcher(l,u){return n.push({matcher:l,reducer:u}),o},addDefaultCase(l){return i=l,o}};return e(o),[t,n,i]}function isStateFunction(e){return typeof e=="function"}function createReducer(e,t){let[n,i,o]=executeReducerBuilderCallback(t),l;if(isStateFunction(e))l=()=>freezeDraftable(e());else{const h=freezeDraftable(e);l=()=>h}function u(h=l(),p){let m=[n[p.type],...i.filter(({matcher:g})=>g(p)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[o]),m.reduce((g,b)=>{if(b)if(isDraft$1(g)){const _=b(g,p);return _===void 0?g:_}else{if(isDraftable$1(g))return produce(g,E=>b(E,p));{const E=b(g,p);if(E===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return g},h)}return u.getInitialState=l,u}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(e=21)=>{let t="",n=e;for(;n--;)t+=urlAlphabet[Math.random()*64|0];return t},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(e,t){return`${e}/${t}`}function buildCreateSlice({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[asyncThunkSymbol];return function(o){const{name:l,reducerPath:u=l}=o;if(!l)throw new Error(formatProdErrorMessage(11));const h=(typeof o.reducers=="function"?o.reducers(buildReducerCreators()):o.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(j,M){const D=typeof j=="string"?j:j.type;if(!D)throw new Error(formatProdErrorMessage(12));if(D in m.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return m.sliceCaseReducersByType[D]=M,g},addMatcher(j,M){return m.sliceMatchers.push({matcher:j,reducer:M}),g},exposeAction(j,M){return m.actionCreators[j]=M,g},exposeCaseReducer(j,M){return m.sliceCaseReducersByName[j]=M,g}};p.forEach(j=>{const M=h[j],D={reducerName:j,type:getType(l,j),createNotation:typeof o.reducers=="function"};isAsyncThunkSliceReducerDefinition(M)?handleThunkCaseReducerDefinition(D,M,g,t):handleNormalReducerDefinition(D,M,g)});function b(){const[j={},M=[],D=void 0]=typeof o.extraReducers=="function"?executeReducerBuilderCallback(o.extraReducers):[o.extraReducers],V={...j,...m.sliceCaseReducersByType};return createReducer(o.initialState,L=>{for(let U in V)L.addCase(U,V[U]);for(let U of m.sliceMatchers)L.addMatcher(U.matcher,U.reducer);for(let U of M)L.addMatcher(U.matcher,U.reducer);D&&L.addDefaultCase(D)})}const E=j=>j,_=new Map,A=new WeakMap;let w;function T(j,M){return w||(w=b()),w(j,M)}function C(){return w||(w=b()),w.getInitialState()}function B(j,M=!1){function D(L){let U=L[j];return typeof U>"u"&&M&&(U=getOrInsertComputed(A,D,C)),U}function V(L=E){const U=getOrInsertComputed(_,M,()=>new WeakMap);return getOrInsertComputed(U,L,()=>{const J={};for(const[$,K]of Object.entries(o.selectors??{}))J[$]=wrapSelector(K,L,()=>getOrInsertComputed(A,L,C),M);return J})}return{reducerPath:j,getSelectors:V,get selectors(){return V(D)},selectSlice:D}}const N={name:l,reducer:T,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...B(u),injectInto(j,{reducerPath:M,...D}={}){const V=M??u;return j.inject({reducerPath:V,reducer:T},D),{...N,...B(V,!0)}}};return N}}function wrapSelector(e,t,n,i){function o(l,...u){let h=t(l);return typeof h>"u"&&i&&(h=n()),e(h,...u)}return o.unwrapped=e,o}var createSlice=buildCreateSlice();function buildReducerCreators(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function handleNormalReducerDefinition({type:e,reducerName:t,createNotation:n},i,o){let l,u;if("reducer"in i){if(n&&!isCaseReducerWithPrepareDefinition(i))throw new Error(formatProdErrorMessage(17));l=i.reducer,u=i.prepare}else l=i;o.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,u?createAction(e,u):createAction(e))}function isAsyncThunkSliceReducerDefinition(e){return e._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(e){return e._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:e,reducerName:t},n,i,o){if(!o)throw new Error(formatProdErrorMessage(18));const{payloadCreator:l,fulfilled:u,pending:h,rejected:p,settled:m,options:g}=n,b=o(e,l,g);i.exposeAction(t,b),u&&i.addCase(b.fulfilled,u),h&&i.addCase(b.pending,h),p&&i.addCase(b.rejected,p),m&&i.addMatcher(b.settled,m),i.exposeCaseReducer(t,{fulfilled:u||noop$1,pending:h||noop$1,rejected:p||noop$1,settled:m||noop$1})}function noop$1(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(e){Lt(this,"name","TaskAbortError");Lt(this,"message");this.code=e,this.message=`${task} ${cancelled} (reason: ${e})`}},assertFunction=(e,t)=>{if(typeof e!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(e,t=noop2)=>(e.catch(t),e),addAbortSignalListener=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),validateActive=e=>{if(e.aborted)throw new TaskAbortError(e.reason)};function raceWithSignal(e,t){let n=noop2;return new Promise((i,o)=>{const l=()=>o(new TaskAbortError(e.reason));if(e.aborted){l();return}n=addAbortSignalListener(e,l),t.finally(()=>n()).then(i,o)}).finally(()=>{n=noop2})}var runTask=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof TaskAbortError?"cancelled":"rejected",error:n}}finally{t==null||t()}},createPause=e=>t=>catchRejection(raceWithSignal(e,t).then(n=>(validateActive(e),n))),createDelay=e=>{const t=createPause(e);return n=>t(new Promise(i=>setTimeout(i,n)))},{assign}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(e,t)=>{const n=i=>addAbortSignalListener(e,()=>i.abort(e.reason));return(i,o)=>{assertFunction(i);const l=new AbortController;n(l);const u=runTask(async()=>{validateActive(e),validateActive(l.signal);const h=await i({pause:createPause(l.signal),delay:createDelay(l.signal),signal:l.signal});return validateActive(l.signal),h},()=>l.abort(taskCompleted));return o!=null&&o.autoJoin&&t.push(u.catch(noop2)),{result:createPause(e)(u),cancel(){l.abort(taskCancelled)}}}},createTakePattern=(e,t)=>{const n=async(i,o)=>{validateActive(t);let l=()=>{};const h=[new Promise((p,m)=>{let g=e({predicate:i,effect:(b,E)=>{E.unsubscribe(),p([b,E.getState(),E.getOriginalState()])}});l=()=>{g(),m()}})];o!=null&&h.push(new Promise(p=>setTimeout(p,o,null)));try{const p=await raceWithSignal(t,Promise.race(h));return validateActive(t),p}finally{l()}};return(i,o)=>catchRejection(n(i,o))},getListenerEntryPropsFrom=e=>{let{type:t,actionCreator:n,matcher:i,predicate:o,effect:l}=e;if(t)o=createAction(t).match;else if(n)t=n.type,o=n.match;else if(i)o=i;else if(!o)throw new Error(formatProdErrorMessage(21));return assertFunction(l),{predicate:o,type:t,effect:l}},createListenerEntry=assign(e=>{const{type:t,predicate:n,effect:i}=getListenerEntryPropsFrom(e);return{id:nanoid(),effect:i,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(e,t)=>{const{type:n,effect:i,predicate:o}=getListenerEntryPropsFrom(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===o)&&l.effect===i)},cancelActiveListeners=e=>{e.pending.forEach(t=>{t.abort(listenerCancelled)})},createClearListenerMiddleware=(e,t)=>()=>{for(const n of t.keys())cancelActiveListeners(n);e.clear()},safelyNotifyError=(e,t,n)=>{try{e(t,n)}catch(i){setTimeout(()=>{throw i},0)}},addListener=assign(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...e)=>{console.error(`${alm}/error`,...e)},createListenerMiddleware=(e={})=>{const t=new Map,n=new Map,i=_=>{const A=n.get(_)??0;n.set(_,A+1)},o=_=>{const A=n.get(_)??1;A===1?n.delete(_):n.set(_,A-1)},{extra:l,onError:u=defaultErrorHandler}=e;assertFunction(u);const h=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),A=>{_.unsubscribe(),A!=null&&A.cancelActive&&cancelActiveListeners(_)}),p=_=>{const A=findListenerEntry(t,_)??createListenerEntry(_);return h(A)};assign(p,{withTypes:()=>p});const m=_=>{const A=findListenerEntry(t,_);return A&&(A.unsubscribe(),_.cancelActive&&cancelActiveListeners(A)),!!A};assign(m,{withTypes:()=>m});const g=async(_,A,w,T)=>{const C=new AbortController,B=createTakePattern(p,C.signal),N=[];try{_.pending.add(C),i(_),await Promise.resolve(_.effect(A,assign({},w,{getOriginalState:T,condition:(j,M)=>B(j,M).then(Boolean),take:B,delay:createDelay(C.signal),pause:createPause(C.signal),extra:l,signal:C.signal,fork:createFork(C.signal,N),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((j,M,D)=>{j!==C&&(j.abort(listenerCancelled),D.delete(j))})},cancel:()=>{C.abort(listenerCancelled),_.pending.delete(C)},throwIfCancelled:()=>{validateActive(C.signal)}})))}catch(j){j instanceof TaskAbortError||safelyNotifyError(u,j,{raisedBy:"effect"})}finally{await Promise.all(N),C.abort(listenerCompleted),o(_),_.pending.delete(C)}},b=createClearListenerMiddleware(t,n);return{middleware:_=>A=>w=>{if(!isAction(w))return A(w);if(addListener.match(w))return p(w.payload);if(clearAllListeners.match(w)){b();return}if(removeListener.match(w))return m(w.payload);let T=_.getState();const C=()=>{if(T===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return T};let B;try{if(B=A(w),t.size>0){const N=_.getState(),j=Array.from(t.values());for(const M of j){let D=!1;try{D=M.predicate(w,N,T)}catch(V){D=!1,safelyNotifyError(u,V,{raisedBy:"predicate"})}D&&g(M,w,_,C)}}}finally{T=INTERNAL_NIL_TOKEN}return B},startListening:p,stopListening:m,clearListeners:b}};function formatProdErrorMessage(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var initialState$b={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$b,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,i,o,l;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(i=t.payload.right)!==null&&i!==void 0?i:0,e.margin.bottom=(o=t.payload.bottom)!==null&&o!==void 0?o:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function getSliced(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function isWellBehavedNumber(e){return Number.isFinite(e)}function isPositiveNumber(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ownKeys$A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$A(Object(n),!0).forEach(function(i){_defineProperty$D(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$A(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$D(e,t,n){return(t=_toPropertyKey$D(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$D(e){var t=_toPrimitive$D(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$D(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getValueByDataKey(e,t,n){return isNullish(e)||isNullish(t)?n:isNumOrStr(t)?get$1(e,t,n):typeof t=="function"?t(e):n}var appendOffsetOfLegend=(e,t,n)=>{if(t&&n){var{width:i,height:o}=n,{align:l,verticalAlign:u,layout:h}=t;if((h==="vertical"||h==="horizontal"&&u==="middle")&&l!=="center"&&isNumber(e[l]))return _objectSpread$A(_objectSpread$A({},e),{},{[l]:e[l]+(i||0)});if((h==="horizontal"||h==="vertical"&&l==="center")&&u!=="middle"&&isNumber(e[u]))return _objectSpread$A(_objectSpread$A({},e),{},{[u]:e[u]+(o||0)})}return e},isCategoricalAxis=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",getCoordinatesOfGrid=(e,t,n,i)=>{if(i)return e.map(h=>h.coordinate);var o,l,u=e.map(h=>(h.coordinate===t&&(o=!0),h.coordinate===n&&(l=!0),h.coordinate));return o||u.push(t),l||u.push(n),u},getTicksOfAxis=(e,t,n)=>{if(!e)return null;var{duplicateDomain:i,type:o,range:l,scale:u,realScaleType:h,isCategorical:p,categoricalDomain:m,tickCount:g,ticks:b,niceTicks:E,axisType:_}=e;if(!u)return null;var A=h==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,w=o==="category"&&u.bandwidth?u.bandwidth()/A:0;if(w=_==="angleAxis"&&l&&l.length>=2?mathSign(l[0]-l[1])*2*w:w,b||E){var T=(b||E||[]).map((C,B)=>{var N=i?i.indexOf(C):C;return{coordinate:u(N)+w,value:C,offset:w,index:B}});return T.filter(C=>!isNan(C.coordinate))}return p&&m?m.map((C,B)=>({coordinate:u(C)+w,value:C,index:B,offset:w})):u.ticks&&g!=null?u.ticks(g).map((C,B)=>({coordinate:u(C)+w,value:C,offset:w,index:B})):u.domain().map((C,B)=>({coordinate:u(C)+w,value:i?i[C]:C,index:B,offset:w}))},EPS=1e-4,checkDomainOfScale=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,i=e.range(),o=Math.min(i[0],i[1])-EPS,l=Math.max(i[0],i[1])+EPS,u=e(t[0]),h=e(t[n-1]);(u<o||u>l||h<o||h>l)&&e.domain([t[0],t[n-1]])}},truncateByDomain=(e,t)=>{if(!t||t.length!==2||!isNumber(t[0])||!isNumber(t[1]))return e;var n=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!isNumber(e[0])||e[0]<n)&&(o[0]=n),(!isNumber(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},offsetSign=e=>{var t,n=e.length;if(!(n<=0)){var i=(t=e[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var o=0;o<i;++o)for(var l=0,u=0,h=0;h<n;++h){var p=e[h],m=p==null?void 0:p[o];if(m!=null){var g=m[1],b=m[0],E=isNan(g)?b:g;E>=0?(m[0]=l,m[1]=l+E,l=g):(m[0]=u,m[1]=u+E,u=g)}}}},offsetPositive=e=>{var t,n=e.length;if(!(n<=0)){var i=(t=e[0])===null||t===void 0?void 0:t.length;if(!(i==null||i<=0))for(var o=0;o<i;++o)for(var l=0,u=0;u<n;++u){var h=e[u],p=h==null?void 0:h[o];if(p!=null){var m=isNan(p[1])?p[0]:p[1];m>=0?(p[0]=l,p[1]=l+m,l=p[1]):(p[0]=0,p[1]=0)}}}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(e,t,n)=>{var i,o=(i=STACK_OFFSET_MAP[n])!==null&&i!==void 0?i:stackOffsetNone,l=shapeStack().keys(t).value((h,p)=>Number(getValueByDataKey(h,p,0))).order(stackOrderNone).offset(o),u=l(e);return u.forEach((h,p)=>{h.forEach((m,g)=>{var b=getValueByDataKey(e[g],t[p],0);Array.isArray(b)&&b.length===2&&isNumber(b[0])&&isNumber(b[1])&&(m[0]=b[0],m[1]=b[1])})}),u};function getNormalizedStackId(e){return e==null?void 0:String(e)}function getCateCoordinateOfLine(e){var{axis:t,ticks:n,bandSize:i,entry:o,index:l,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!isNullish(o[t.dataKey])){var h=findEntryInArray(n,"value",o[t.dataKey]);if(h)return h.coordinate+i/2}return n[l]?n[l].coordinate+i/2:null}var p=getValueByDataKey(o,isNullish(u)?t.dataKey:u);return isNullish(p)?null:t.scale(p)}var getCateCoordinateOfBar=e=>{var{axis:t,ticks:n,offset:i,bandSize:o,entry:l,index:u}=e;if(t.type==="category")return n[u]?n[u].coordinate+i:null;var h=getValueByDataKey(l,t.dataKey,t.scale.domain()[u]);return isNullish(h)?null:t.scale(h)-o/2+i},getBaseValueOfBar=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},getDomainOfSingle=e=>{var t=e.flat(2).filter(isNumber);return[Math.min(...t),Math.max(...t)]},makeDomainFinite=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],getDomainOfStackGroups=(e,t,n)=>{if(e!=null)return makeDomainFinite(Object.keys(e).reduce((i,o)=>{var l=e[o];if(!l)return i;var{stackedData:u}=l,h=u.reduce((p,m)=>{var g=getSliced(m,t,n),b=getDomainOfSingle(g);return!isWellBehavedNumber(b[0])||!isWellBehavedNumber(b[1])?p:[Math.min(p[0],b[0]),Math.max(p[1],b[1])]},[1/0,-1/0]);return[Math.min(h[0],i[0]),Math.max(h[1],i[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&t&&t.length>=2){for(var o=sortBy(t,g=>g.coordinate),l=1/0,u=1,h=o.length;u<h;u++){var p=o[u],m=o[u-1];l=Math.min(((p==null?void 0:p.coordinate)||0)-((m==null?void 0:m.coordinate)||0),l)}return l===1/0?0:l}return n?void 0:0};function getTooltipEntry(e){var{tooltipEntrySettings:t,dataKey:n,payload:i,value:o,name:l}=e;return _objectSpread$A(_objectSpread$A({},t),{},{dataKey:n,payload:i,value:o,name:l})}function getTooltipNameProp(e,t){if(e)return String(e);if(typeof t=="string")return t}var calculateCartesianTooltipPos=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},calculatePolarTooltipPos=(e,t)=>t==="centric"?e.angle:e.radius,selectChartWidth=e=>e.layout.width,selectChartHeight=e=>e.layout.height,selectContainerScale=e=>e.layout.scale,selectMargin=e=>e.layout.margin,selectAllXAxes=createSelector(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),selectAllYAxes=createSelector(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME="data-recharts-item-id",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$z(Object(n),!0).forEach(function(i){_defineProperty$C(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$z(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$C(e,t,n){return(t=_toPropertyKey$C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$C(e){var t=_toPrimitive$C(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$C(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var selectBrushHeight=e=>e.brush.height;function selectLeftAxesOffset(e){var t=selectAllYAxes(e);return t.reduce((n,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var o=typeof i.width=="number"?i.width:DEFAULT_Y_AXIS_WIDTH;return n+o}return n},0)}function selectRightAxesOffset(e){var t=selectAllYAxes(e);return t.reduce((n,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var o=typeof i.width=="number"?i.width:DEFAULT_Y_AXIS_WIDTH;return n+o}return n},0)}function selectTopAxesOffset(e){var t=selectAllXAxes(e);return t.reduce((n,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?n+i.height:n,0)}function selectBottomAxesOffset(e){var t=selectAllXAxes(e);return t.reduce((n,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?n+i.height:n,0)}var selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectLeftAxesOffset,selectRightAxesOffset,selectTopAxesOffset,selectBottomAxesOffset,selectLegendSettings,selectLegendSize],(e,t,n,i,o,l,u,h,p,m)=>{var g={left:(n.left||0)+o,right:(n.right||0)+l},b={top:(n.top||0)+u,bottom:(n.bottom||0)+h},E=_objectSpread$z(_objectSpread$z({},b),g),_=E.bottom;E.bottom+=i,E=appendOffsetOfLegend(E,p,m);var A=e-E.left-E.right,w=t-E.top-E.bottom;return _objectSpread$z(_objectSpread$z({brushBottom:_},E),{},{width:Math.max(A,0),height:Math.max(w,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(e,t)=>({x:0,y:0,width:e,height:t})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=e=>e.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(e,t,n)=>({height:e.height,x:isNumber(e.x)?e.x:t.left,y:isNumber(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:isNumber(e.width)?e.width:t.width})),throttle$2={},debounce$1={},debounce={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,i,{signal:o,edges:l}={}){let u,h=null;const p=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),g=()=>{h!==null&&(n.apply(u,h),u=void 0,h=null)},b=()=>{m&&g(),w()};let E=null;const _=()=>{E!=null&&clearTimeout(E),E=setTimeout(()=>{E=null,b()},i)},A=()=>{E!==null&&(clearTimeout(E),E=null)},w=()=>{A(),u=void 0,h=null},T=()=>{g()},C=function(...B){if(o!=null&&o.aborted)return;u=this,h=B;const N=E==null;_(),p&&N&&g()};return C.schedule=_,C.cancel=w,C.flush=T,o==null||o.addEventListener("abort",w,{once:!0}),C}e.debounce=t})(debounce)),debounce}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireDebounce$1();function n(i,o=0,l={}){typeof l!="object"&&(l={});const{leading:u=!1,trailing:h=!0,maxWait:p}=l,m=Array(2);u&&(m[0]="leading"),h&&(m[1]="trailing");let g,b=null;const E=t.debounce(function(...w){g=i.apply(this,w),b=null},o,{edges:m}),_=function(...w){return p!=null&&(b===null&&(b=Date.now()),Date.now()-b>=p)?(g=i.apply(this,w),b=Date.now(),E.cancel(),E.schedule(),g):(E.apply(this,w),g)},A=()=>(E.flush(),g);return _.cancel=E.cancel,_.flush=A,_}e.debounce=n})(debounce$1)),debounce$1}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireDebounce();function n(i,o=0,l={}){const{leading:u=!0,trailing:h=!0}=l;return t.debounce(i,o,{leading:u,maxWait:o,trailing:h})}e.throttle=n})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(n.replace(/%s/g,()=>o[u++]))}},calculateChartDimensions=(e,t,n)=>{var{width:i="100%",height:o="100%",aspect:l,maxHeight:u}=n,h=isPercent(i)?e:Number(i),p=isPercent(o)?t:Number(o);return l&&l>0&&(h?p=h/l:p&&(h=p*l),u&&p!=null&&p>u&&(p=u)),{calculatedWidth:h,calculatedHeight:p}},bothOverflow={width:0,height:0,overflow:"visible"},overflowX={width:0,overflowX:"visible"},overflowY={height:0,overflowY:"visible"},noStyle={},getInnerDivStyle=e=>{var{width:t,height:n}=e,i=isPercent(t),o=isPercent(n);return i&&o?bothOverflow:i?overflowX:o?overflowY:noStyle};function getDefaultWidthAndHeight(e){var{width:t,height:n,aspect:i}=e,o=t,l=n;return o===void 0&&l===void 0?(o="100%",l="100%"):o===void 0?o=i&&i>0?void 0:"100%":l===void 0&&(l=i&&i>0?void 0:"100%"),{width:o,height:l}}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$p.apply(null,arguments)}function ownKeys$y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$y(Object(n),!0).forEach(function(i){_defineProperty$B(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$y(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$B(e,t,n){return(t=_toPropertyKey$B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$B(e){var t=_toPrimitive$B(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$B(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ResponsiveContainerContext=reactExports.createContext({width:-1,height:-1});function isAcceptableSize(e){return isPositiveNumber(e.width)&&isPositiveNumber(e.height)}function ResponsiveContainerContextProvider(e){var{children:t,width:n,height:i}=e,o=reactExports.useMemo(()=>({width:n,height:i}),[n,i]);return isAcceptableSize(o)?reactExports.createElement(ResponsiveContainerContext.Provider,{value:o},t):null}var useResponsiveContainerContext=()=>reactExports.useContext(ResponsiveContainerContext),SizeDetectorContainer=reactExports.forwardRef((e,t)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:o,height:l,minWidth:u=0,minHeight:h,maxHeight:p,children:m,debounce:g=0,id:b,className:E,onResize:_,style:A={}}=e,w=reactExports.useRef(null),T=reactExports.useRef();T.current=_,reactExports.useImperativeHandle(t,()=>w.current);var[C,B]=reactExports.useState({containerWidth:i.width,containerHeight:i.height}),N=reactExports.useCallback((L,U)=>{B(J=>{var $=Math.round(L),K=Math.round(U);return J.containerWidth===$&&J.containerHeight===K?J:{containerWidth:$,containerHeight:K}})},[]);reactExports.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return noop$3;var L=K=>{var te,{width:me,height:he}=K[0].contentRect;N(me,he),(te=T.current)===null||te===void 0||te.call(T,me,he)};g>0&&(L=throttle(L,g,{trailing:!0,leading:!1}));var U=new ResizeObserver(L),{width:J,height:$}=w.current.getBoundingClientRect();return N(J,$),U.observe(w.current),()=>{U.disconnect()}},[N,g]);var{containerWidth:j,containerHeight:M}=C;warn(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:V}=calculateChartDimensions(j,M,{width:o,height:l,aspect:n,maxHeight:p});return warn(D!=null&&D>0||V!=null&&V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,V,o,l,u,h,n),reactExports.createElement("div",{id:b?"".concat(b):void 0,className:clsx("recharts-responsive-container",E),style:_objectSpread$y(_objectSpread$y({},A),{},{width:o,height:l,minWidth:u,minHeight:h,maxHeight:p}),ref:w},reactExports.createElement("div",{style:getInnerDivStyle({width:o,height:l})},reactExports.createElement(ResponsiveContainerContextProvider,{width:D,height:V},m)))}),ResponsiveContainer=reactExports.forwardRef((e,t)=>{var n=useResponsiveContainerContext();if(isPositiveNumber(n.width)&&isPositiveNumber(n.height))return e.children;var{width:i,height:o}=getDefaultWidthAndHeight({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:u}=calculateChartDimensions(void 0,void 0,{width:i,height:o,aspect:e.aspect,maxHeight:e.maxHeight});return isNumber(l)&&isNumber(u)?reactExports.createElement(ResponsiveContainerContextProvider,{width:l,height:u},e.children):reactExports.createElement(SizeDetectorContainer,_extends$p({},e,{width:i,height:o,ref:t}))});function cartesianViewBoxToTrapezoid(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var useViewBox=()=>{var e,t=useIsPanorama(),n=useAppSelector(selectChartViewBox),i=useAppSelector(selectBrushDimensions),o=(e=useAppSelector(selectBrushSettings))===null||e===void 0?void 0:e.padding;return!t||!i||!o?n:{width:i.width-o.left-o.right,height:i.height-o.top-o.bottom,x:o.left,y:o.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var e;return(e=useAppSelector(selectChartOffsetInternal))!==null&&e!==void 0?e:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),selectChartLayout=e=>e.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),useCartesianChartLayout=()=>{var e=useChartLayout();if(e==="horizontal"||e==="vertical")return e},useIsInChartContext=()=>{var e=useChartLayout();return e!==void 0},ReportChartSize=e=>{var t=useAppDispatch(),n=useIsPanorama(),{width:i,height:o}=e,l=useResponsiveContainerContext(),u=i,h=o;return l&&(u=l.width>0?l.width:i,h=l.height>0?l.height:o),reactExports.useEffect(()=>{!n&&isPositiveNumber(u)&&isPositiveNumber(h)&&t(setChartSize({width:u,height:h}))},[t,n,u,h]),null},NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(e){return!!e&&!!e[DRAFT_STATE]}function isDraftable(e){var t;return e?isPlainObject$3(e)||Array.isArray(e)||!!e[DRAFTABLE]||!!((t=e.constructor)!=null&&t[DRAFTABLE])||isMap(e)||isSet(e):!1}var objectCtorString=Object.prototype.constructor.toString(),cachedCtorStrings=new WeakMap;function isPlainObject$3(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let i=cachedCtorStrings.get(n);return i===void 0&&(i=Function.toString.call(n),cachedCtorStrings.set(n,i)),i===objectCtorString}function each(e,t,n=!0){getArchtype(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((i,o)=>t(o,i,e))}function getArchtype(e){const t=e[DRAFT_STATE];return t?t.type_:Array.isArray(e)?1:isMap(e)?2:isSet(e)?3:0}function has(e,t){return getArchtype(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function set(e,t,n){const i=getArchtype(e);i===2?e.set(t,n):i===3?e.add(n):e[t]=n}function is$1(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function latest(e){return e.copy_||e.base_}function shallowCopy(e,t){if(isMap(e))return new Map(e);if(isSet(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=isPlainObject$3(e);if(t===!0||t==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(e);delete i[DRAFT_STATE];let o=Reflect.ownKeys(i);for(let l=0;l<o.length;l++){const u=o[l],h=i[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[u]})}return Object.create(getPrototypeOf(e),i)}else{const i=getPrototypeOf(e);if(i!==null&&n)return{...e};const o=Object.create(i);return Object.assign(o,e)}}function freeze(e,t=!1){return isFrozen(e)||isDraft(e)||!isDraftable(e)||(getArchtype(e)>1&&Object.defineProperties(e,{set:dontMutateMethodOverride,add:dontMutateMethodOverride,clear:dontMutateMethodOverride,delete:dontMutateMethodOverride}),Object.freeze(e),t&&Object.values(e).forEach(n=>freeze(n,!0))),e}function dontMutateFrozenCollections(){die(2)}var dontMutateMethodOverride={value:dontMutateFrozenCollections};function isFrozen(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var plugins={};function getPlugin(e){const t=plugins[e];return t||die(0,e),t}var currentScope;function getCurrentScope(){return currentScope}function createScope(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(e,t){t&&(getPlugin("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}function enterScope(e){return currentScope=createScope(currentScope,e)}function revokeDraft(e){const t=e[DRAFT_STATE];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function processResult(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[DRAFT_STATE].modified_&&(revokeScope(t),die(4)),isDraftable(e)&&(e=finalize(t,e),t.parent_||maybeFreeze(t,e)),t.patches_&&getPlugin("Patches").generateReplacementPatches_(n[DRAFT_STATE].base_,e,t.patches_,t.inversePatches_)):e=finalize(t,n,[]),revokeScope(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==NOTHING?e:void 0}function finalize(e,t,n){if(isFrozen(t))return t;const i=e.immer_.shouldUseStrictIteration(),o=t[DRAFT_STATE];if(!o)return each(t,(l,u)=>finalizeProperty(e,o,t,l,u,n),i),t;if(o.scope_!==e)return t;if(!o.modified_)return maybeFreeze(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const l=o.copy_;let u=l,h=!1;o.type_===3&&(u=new Set(l),l.clear(),h=!0),each(u,(p,m)=>finalizeProperty(e,o,l,p,m,n,h),i),maybeFreeze(e,l,!1),n&&e.patches_&&getPlugin("Patches").generatePatches_(o,n,e.patches_,e.inversePatches_)}return o.copy_}function finalizeProperty(e,t,n,i,o,l,u){if(o==null||typeof o!="object"&&!u)return;const h=isFrozen(o);if(!(h&&!u)){if(isDraft(o)){const p=l&&t&&t.type_!==3&&!has(t.assigned_,i)?l.concat(i):void 0,m=finalize(e,o,p);if(set(n,i,m),isDraft(m))e.canAutoFreeze_=!1;else return}else u&&n.add(o);if(isDraftable(o)&&!h){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[i]===o&&h)return;finalize(e,o),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&(isMap(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&maybeFreeze(e,o)}}}function maybeFreeze(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(t,n)}function createProxyProxy(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,l=objectTraps;n&&(o=[i],l=arrayTraps);const{revoke:u,proxy:h}=Proxy.revocable(o,l);return i.draft_=h,i.revoke_=u,h}var objectTraps={get(e,t){if(t===DRAFT_STATE)return e;const n=latest(e);if(!has(n,t))return readPropFromProto(e,n,t);const i=n[t];return e.finalized_||!isDraftable(i)?i:i===peek(e.base_,t)?(prepareCopy(e),e.copy_[t]=createProxy(i,e)):i},has(e,t){return t in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,t,n){const i=getDescriptorFromProto(latest(e),t);if(i!=null&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const o=peek(latest(e),t),l=o==null?void 0:o[DRAFT_STATE];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(is$1(n,o)&&(n!==void 0||has(e.base_,t)))return!0;prepareCopy(e),markChanged(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return peek(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,prepareCopy(e),markChanged(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=latest(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:i.enumerable,value:n[t]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(e,t)=>{arrayTraps[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});arrayTraps.deleteProperty=function(e,t){return arrayTraps.set.call(this,e,t,void 0)};arrayTraps.set=function(e,t,n){return objectTraps.set.call(this,e[0],t,n,e[0])};function peek(e,t){const n=e[DRAFT_STATE];return(n?latest(n):e)[t]}function readPropFromProto(e,t,n){var o;const i=getDescriptorFromProto(t,n);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(e.draft_):void 0}function getDescriptorFromProto(e,t){if(!(t in e))return;let n=getPrototypeOf(e);for(;n;){const i=Object.getOwnPropertyDescriptor(n,t);if(i)return i;n=getPrototypeOf(n)}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,i)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const u=this;return function(p=l,...m){return u.produce(p,g=>n.call(this,g,...m))}}typeof n!="function"&&die(6),i!==void 0&&typeof i!="function"&&die(7);let o;if(isDraftable(t)){const l=enterScope(this),u=createProxy(t,void 0);let h=!0;try{o=n(u),h=!1}finally{h?revokeScope(l):leaveScope(l)}return usePatchesInScope(l,i),processResult(o,l)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===NOTHING&&(o=void 0),this.autoFreeze_&&freeze(o,!0),i){const l=[],u=[];getPlugin("Patches").generateReplacementPatches_(t,o,l,u),i(l,u)}return o}else die(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(u,...h)=>this.produceWithPatches(u,p=>t(p,...h));let i,o;return[this.produce(t,n,(u,h)=>{i=u,o=h}),i,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));const t=enterScope(this),n=createProxy(e,void 0);return n[DRAFT_STATE].isManual_=!0,leaveScope(t),n}finishDraft(e,t){const n=e&&e[DRAFT_STATE];(!n||!n.isManual_)&&die(9);const{scope_:i}=n;return usePatchesInScope(i,t),processResult(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const i=getPlugin("Patches").applyPatches_;return isDraft(e)?i(e,t):this.produce(e,o=>i(o,t))}};function createProxy(e,t){const n=isMap(e)?getPlugin("MapSet").proxyMap_(e,t):isSet(e)?getPlugin("MapSet").proxySet_(e,t):createProxyProxy(e,t);return(t?t.scope_:getCurrentScope()).drafts_.push(n),n}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;const t=e[DRAFT_STATE];let n,i=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=shallowCopy(e,t.scope_.immer_.useStrictShallowCopy_),i=t.scope_.immer_.shouldUseStrictIteration()}else n=shallowCopy(e,!0);return each(n,(o,l)=>{set(n,o,currentImpl(l))},i),t&&(t.finalized_=!1),n}var immer=new Immer2;immer.produce;function castDraft(e){return e}var initialState$a={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$a,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:prepareAutoBatched()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:i}=t.payload,o=current$1(e).payload.indexOf(n);o>-1&&(e.payload[o]=i)},prepare:prepareAutoBatched()},removeLegendPayload:{reducer(e,t){var n=current$1(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:prepareAutoBatched()}}}),{setLegendSize,setLegendSettings,addLegendPayload,replaceLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer;function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$o.apply(null,arguments)}function ownKeys$x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$x(Object(n),!0).forEach(function(i){_defineProperty$A(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$x(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$A(e,t,n){return(t=_toPropertyKey$A(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$A(e){var t=_toPrimitive$A(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$A(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultFormatter(e){return Array.isArray(e)&&isNumOrStr(e[0])&&isNumOrStr(e[1])?e.join(" ~ "):e}var DefaultTooltipContent=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:i={},labelStyle:o={},payload:l,formatter:u,itemSorter:h,wrapperClassName:p,labelClassName:m,label:g,labelFormatter:b,accessibilityLayer:E=!1}=e,_=()=>{if(l&&l.length){var M={padding:0,margin:0},D=(h?sortBy(l,h):l).map((V,L)=>{if(V.type==="none")return null;var U=V.formatter||u||defaultFormatter,{value:J,name:$}=V,K=J,te=$;if(U){var me=U(J,$,V,L,l);if(Array.isArray(me))[K,te]=me;else if(me!=null)K=me;else return null}var he=_objectSpread$x({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},i);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:he},isNumOrStr(te)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},te):null,isNumOrStr(te)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},K),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},A=_objectSpread$x({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=_objectSpread$x({margin:0},o),T=!isNullish(g),C=T?g:"",B=clsx("recharts-default-tooltip",p),N=clsx("recharts-tooltip-label",m);T&&b&&l!==void 0&&l!==null&&(C=b(g,l));var j=E?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$o({className:B,style:A},j),reactExports.createElement("p",{className:N,style:w},reactExports.isValidElement(C)?C:"".concat(C)),_())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(e){var{coordinate:t,translateX:n,translateY:i}=e;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(n)&&t&&isNumber(t.x)&&n>=t.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(n)&&t&&isNumber(t.x)&&n<t.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(i)&&t&&isNumber(t.y)&&i>=t.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(i)&&t&&isNumber(t.y)&&i<t.y})}function getTooltipTranslateXY(e){var{allowEscapeViewBox:t,coordinate:n,key:i,offsetTopLeft:o,position:l,reverseDirection:u,tooltipDimension:h,viewBox:p,viewBoxDimension:m}=e;if(l&&isNumber(l[i]))return l[i];var g=n[i]-h-(o>0?o:0),b=n[i]+o;if(t[i])return u[i]?g:b;var E=p[i];if(E==null)return 0;if(u[i]){var _=g,A=E;return _<A?Math.max(b,E):Math.max(g,E)}if(m==null)return 0;var w=b+h,T=E+m;return w>T?Math.max(g,E):Math.max(b,E)}function getTransformStyle(e){var{translateX:t,translateY:n,useTranslate3d:i}=e;return{transform:i?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function getTooltipTranslate(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:i,position:o,reverseDirection:l,tooltipBox:u,useTranslate3d:h,viewBox:p}=e,m,g,b;return u.height>0&&u.width>0&&n?(g=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u.width,viewBox:p,viewBoxDimension:p.width}),b=getTooltipTranslateXY({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:i,position:o,reverseDirection:l,tooltipDimension:u.height,viewBox:p,viewBoxDimension:p.height}),m=getTransformStyle({translateX:g,translateY:b,useTranslate3d:h})):m=TOOLTIP_HIDDEN,{cssProperties:m,cssClasses:getTooltipCSSClassName({translateX:g,translateY:b,coordinate:n})}}function ownKeys$w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$w(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$w(Object(n),!0).forEach(function(i){_defineProperty$z(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$w(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$z(e,t,n){return(t=_toPropertyKey$z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$z(e){var t=_toPrimitive$z(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$z(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$z(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$z(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,i,o,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&n!==void 0?n:0,y:(o=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:i,animationEasing:o,children:l,coordinate:u,hasPayload:h,isAnimationActive:p,offset:m,position:g,reverseDirection:b,useTranslate3d:E,viewBox:_,wrapperStyle:A,lastBoundingBox:w,innerRef:T,hasPortalFromProps:C}=this.props,{cssClasses:B,cssProperties:N}=getTooltipTranslate({allowEscapeViewBox:n,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:b,tooltipBox:{height:w.height,width:w.width},useTranslate3d:E,viewBox:_}),j=C?{}:_objectSpread$w(_objectSpread$w({transition:p&&t?"transform ".concat(i,"ms ").concat(o):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&h?"visible":"hidden",position:"absolute",top:0,left:0}),M=_objectSpread$w(_objectSpread$w({},j),{},{visibility:!this.state.dismissed&&t&&h?"visible":"hidden"},A);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:B,style:M,ref:T},l)}}var useAccessibilityLayer=()=>{var e;return(e=useAppSelector(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$n.apply(null,arguments)}function ownKeys$v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$v(Object(n),!0).forEach(function(i){_defineProperty$y(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$v(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$y(e,t,n){return(t=_toPropertyKey$y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$y(e){var t=_toPrimitive$y(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$y(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=e=>isWellBehavedNumber(e.x)&&isWellBehavedNumber(e.y),areaDefined=e=>e.base!=null&&defined(e.base)&&defined(e),getX=e=>e.x,getY=e=>e.y,getCurveFactory=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(upperFirst(e));return(n==="curveMonotone"||n==="curveBump")&&t?CURVE_FACTORIES["".concat(n).concat(t==="vertical"?"Y":"X")]:CURVE_FACTORIES[n]||curveLinear},getPath$1=e=>{var{type:t="linear",points:n=[],baseLine:i,layout:o,connectNulls:l=!1}=e,u=getCurveFactory(t,o),h=l?n.filter(defined):n,p;if(Array.isArray(i)){var m=n.map((_,A)=>_objectSpread$v(_objectSpread$v({},_),{},{base:i[A]}));o==="vertical"?p=shapeArea().y(getY).x1(getX).x0(_=>_.base.x):p=shapeArea().x(getX).y1(getY).y0(_=>_.base.y);var g=p.defined(areaDefined).curve(u),b=l?m.filter(areaDefined):m;return g(b)}o==="vertical"&&isNumber(i)?p=shapeArea().y(getY).x1(getX).x0(i):isNumber(i)?p=shapeArea().x(getX).y1(getY).y0(i):p=shapeLine().x(getX).y(getY);var E=p.defined(defined).curve(u);return E(h)},Curve=e=>{var{className:t,points:n,path:i,pathRef:o}=e,l=useChartLayout();if((!n||!n.length)&&!i)return null;var u={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},h=n&&n.length?getPath$1(u):i;return reactExports.createElement("path",_extends$n({},svgPropertiesNoEvents(e),adaptEventHandlers(e),{className:clsx("recharts-curve",t),d:h===null?void 0:h,ref:o}))},_excluded$k=["x","y","top","left","width","height","className"];function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$m.apply(null,arguments)}function ownKeys$u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$u(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$u(Object(n),!0).forEach(function(i){_defineProperty$x(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$u(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$x(e,t,n){return(t=_toPropertyKey$x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$x(e){var t=_toPrimitive$x(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$x(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$k(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$k(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$k(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var getPath=(e,t,n,i,o,l)=>"M".concat(e,",").concat(o,"v").concat(i,"M").concat(l,",").concat(t,"h").concat(n),Cross=e=>{var{x:t=0,y:n=0,top:i=0,left:o=0,width:l=0,height:u=0,className:h}=e,p=_objectWithoutProperties$k(e,_excluded$k),m=_objectSpread$u({x:t,y:n,top:i,left:o,width:l,height:u},p);return!isNumber(t)||!isNumber(n)||!isNumber(l)||!isNumber(u)||!isNumber(i)||!isNumber(o)?null:reactExports.createElement("path",_extends$m({},svgPropertiesAndEvents(m),{className:clsx("recharts-cross",h),d:getPath(t,n,l,u,i,o)}))};function getCursorRectangle(e,t,n,i){var o=i/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-o,width:e==="horizontal"?i:n.width-1,height:e==="horizontal"?n.height-1:i}}function ownKeys$t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$t(Object(n),!0).forEach(function(i){_defineProperty$w(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$t(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$w(e,t,n){return(t=_toPropertyKey$w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$w(e){var t=_toPrimitive$w(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$w(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getDashCase=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),getTransitionVal=(e,t,n)=>e.map(i=>"".concat(getDashCase(i)," ").concat(t,"ms ").concat(n)).join(","),getIntersectionKeys=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,i)=>n.filter(o=>i.includes(o))),mapObject=(e,t)=>Object.keys(t).reduce((n,i)=>_objectSpread$t(_objectSpread$t({},n),{},{[i]:e(i,t[i])}),{});function ownKeys$s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$s(Object(n),!0).forEach(function(i){_defineProperty$v(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$s(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$v(e,t,n){return(t=_toPropertyKey$v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$v(e){var t=_toPrimitive$v(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$v(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var alpha=(e,t,n)=>e+(t-e)*n,needContinue=e=>{var{from:t,to:n}=e;return t!==n},calStepperVals=(e,t,n)=>{var i=mapObject((o,l)=>{if(needContinue(l)){var[u,h]=e(l.from,l.to,l.velocity);return _objectSpread$s(_objectSpread$s({},l),{},{from:u,velocity:h})}return l},t);return n<1?mapObject((o,l)=>needContinue(l)&&i[o]!=null?_objectSpread$s(_objectSpread$s({},l),{},{velocity:alpha(l.velocity,i[o].velocity,n),from:alpha(l.from,i[o].from,n)}):l,t):calStepperVals(e,i,n-1)};function createStepperUpdate(e,t,n,i,o,l){var u,h=i.reduce((E,_)=>_objectSpread$s(_objectSpread$s({},E),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),p=()=>mapObject((E,_)=>_.from,h),m=()=>!Object.values(h).filter(needContinue).length,g=null,b=E=>{u||(u=E);var _=E-u,A=_/n.dt;h=calStepperVals(n,h,A),o(_objectSpread$s(_objectSpread$s(_objectSpread$s({},e),t),p())),u=E,m()||(g=l.setTimeout(b))};return()=>(g=l.setTimeout(b),()=>{var E;(E=g)===null||E===void 0||E()})}function createTimingUpdate(e,t,n,i,o,l,u){var h=null,p=o.reduce((b,E)=>{var _=e[E],A=t[E];return _==null||A==null?b:_objectSpread$s(_objectSpread$s({},b),{},{[E]:[_,A]})},{}),m,g=b=>{m||(m=b);var E=(b-m)/i,_=mapObject((w,T)=>alpha(...T,n(E)),p);if(l(_objectSpread$s(_objectSpread$s(_objectSpread$s({},e),t),_)),E<1)h=u.setTimeout(g);else{var A=mapObject((w,T)=>alpha(...T,n(1)),p);l(_objectSpread$s(_objectSpread$s(_objectSpread$s({},e),t),A))}};return()=>(h=u.setTimeout(g),()=>{var b;(b=h)===null||b===void 0||b()})}const configUpdate=(e,t,n,i,o,l)=>{var u=getIntersectionKeys(e,t);return n==null?()=>(o(_objectSpread$s(_objectSpread$s({},e),t)),()=>{}):n.isStepper===!0?createStepperUpdate(e,t,n,u,o,l):createTimingUpdate(e,t,n,i,u,o,l)};var ACCURACY=1e-4,cubicBezierFactor=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],evaluatePolynomial=(e,t)=>e.map((n,i)=>n*t**i).reduce((n,i)=>n+i),cubicBezier=(e,t)=>n=>{var i=cubicBezierFactor(e,t);return evaluatePolynomial(i,n)},derivativeCubicBezier=(e,t)=>n=>{var i=cubicBezierFactor(e,t),o=[...i.map((l,u)=>l*u).slice(1),0];return evaluatePolynomial(o,n)},parseCubicBezier=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var i=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(i==null||i.length!==4)return null;var o=i.map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]},getBezierCoordinates=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var o=parseCubicBezier(n[0]);if(o)return o}}return n.length===4?n:[0,0,1,1]},createBezierEasing=(e,t,n,i)=>{var o=cubicBezier(e,n),l=cubicBezier(t,i),u=derivativeCubicBezier(e,n),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,b=g,E=0;E<8;++E){var _=o(b)-g,A=u(b);if(Math.abs(_-g)<ACCURACY||A<ACCURACY)return l(b);b=h(b-_/A)}return l(b)};return p.isStepper=!1,p},configBezier=function(){return createBezierEasing(...getBezierCoordinates(...arguments))},configSpring=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:o=17}=t,l=(u,h,p)=>{var m=-(u-h)*n,g=p*i,b=p+(m-g)*o/1e3,E=p*o/1e3+u;return Math.abs(E-h)<ACCURACY&&Math.abs(b)<ACCURACY?[h,0]:[E,b]};return l.isStepper=!0,l.dt=o,l},configEasing=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(e);case"spring":return configSpring();default:if(e.split("(")[0]==="cubic-bezier")return configBezier(e)}return typeof e=="function"?e:null};function createAnimateManager(e){var t,n=()=>null,i=!1,o=null,l=u=>{if(!i){if(Array.isArray(u)){if(!u.length)return;var h=u,[p,...m]=h;if(typeof p=="number"){o=e.setTimeout(l.bind(null,m),p);return}l(p),o=e.setTimeout(l.bind(null,m));return}typeof u=="string"&&(t=u,n(t)),typeof u=="object"&&(t=u,n(t)),typeof u=="function"&&u()}};return{stop:()=>{i=!0},start:u=>{i=!1,o&&(o(),o=null),l(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>e}}class RequestAnimationFrameTimeoutController{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),o=null,l=u=>{u-i>=n?t(u):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(l))};return o=requestAnimationFrame(l),()=>{o!=null&&cancelAnimationFrame(o)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(e,t){var n=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>t??n(e),[e,t,n])}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global={isSsr:parseIsSsrByDefault()},defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from={t:0},to={t:1};function JavascriptAnimate(e){var t=resolveDefaultProps(e,defaultJavascriptAnimateProps),{isActive:n,canBegin:i,duration:o,easing:l,begin:u,onAnimationEnd:h,onAnimationStart:p,children:m}=t,g=n==="auto"?!Global.isSsr:n,b=useAnimationManager(t.animationId,t.animationManager),[E,_]=reactExports.useState(g?from:to),A=reactExports.useRef(null);return reactExports.useEffect(()=>{g||_(to)},[g]),reactExports.useEffect(()=>{if(!g||!i)return noop$3;var w=configUpdate(from,to,configEasing(l),o,_,b.getTimeoutController()),T=()=>{A.current=w()};return b.start([p,u,T,o,h]),()=>{b.stop(),A.current&&A.current(),h()}},[g,i,o,l,u,p,h,b]),m(E.t)}function useAnimationId(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=reactExports.useRef(uniqueId(t)),i=reactExports.useRef(e);return i.current!==e&&(n.current=uniqueId(t),i.current=e),n.current}var _excluded$j=["radius"],_excluded2$a=["radius"],_templateObject$2,_templateObject2$2,_templateObject3$2,_templateObject4$2,_templateObject5$2,_templateObject6$1,_templateObject7$1,_templateObject8,_templateObject9,_templateObject0;function ownKeys$r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$r(Object(n),!0).forEach(function(i){_defineProperty$u(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$r(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$u(e,t,n){return(t=_toPropertyKey$u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$u(e){var t=_toPrimitive$u(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$u(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$l.apply(null,arguments)}function _objectWithoutProperties$j(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$j(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$j(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _taggedTemplateLiteral$2(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var getRectanglePath=(e,t,n,i,o)=>{var l=round$1(n),u=round$1(i),h=Math.min(Math.abs(l)/2,Math.abs(u)/2),p=u>=0?1:-1,m=l>=0?1:-1,g=u>=0&&l>=0||u<0&&l<0?1:0,b;if(h>0&&o instanceof Array){for(var E=[0,0,0,0],_=0,A=4;_<A;_++)E[_]=o[_]>h?h:o[_];b=roundTemplateLiteral(_templateObject$2||(_templateObject$2=_taggedTemplateLiteral$2(["M",",",""])),e,t+p*E[0]),E[0]>0&&(b+=roundTemplateLiteral(_templateObject2$2||(_templateObject2$2=_taggedTemplateLiteral$2(["A ",",",",0,0,",",",",",""])),E[0],E[0],g,e+m*E[0],t)),b+=roundTemplateLiteral(_templateObject3$2||(_templateObject3$2=_taggedTemplateLiteral$2(["L ",",",""])),e+n-m*E[1],t),E[1]>0&&(b+=roundTemplateLiteral(_templateObject4$2||(_templateObject4$2=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),E[1],E[1],g,e+n,t+p*E[1])),b+=roundTemplateLiteral(_templateObject5$2||(_templateObject5$2=_taggedTemplateLiteral$2(["L ",",",""])),e+n,t+i-p*E[2]),E[2]>0&&(b+=roundTemplateLiteral(_templateObject6$1||(_templateObject6$1=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),E[2],E[2],g,e+n-m*E[2],t+i)),b+=roundTemplateLiteral(_templateObject7$1||(_templateObject7$1=_taggedTemplateLiteral$2(["L ",",",""])),e+m*E[3],t+i),E[3]>0&&(b+=roundTemplateLiteral(_templateObject8||(_templateObject8=_taggedTemplateLiteral$2(["A ",",",",0,0,",`,
        `,",",""])),E[3],E[3],g,e,t+i-p*E[3])),b+="Z"}else if(h>0&&o===+o&&o>0){var w=Math.min(h,o);b=roundTemplateLiteral(_templateObject9||(_templateObject9=_taggedTemplateLiteral$2(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+p*w,w,w,g,e+m*w,t,e+n-m*w,t,w,w,g,e+n,t+p*w,e+n,t+i-p*w,w,w,g,e+n-m*w,t+i,e+m*w,t+i,w,w,g,e,t+i-p*w)}else b=roundTemplateLiteral(_templateObject0||(_templateObject0=_taggedTemplateLiteral$2(["M ",","," h "," v "," h "," Z"])),e,t,n,i,-n);return b},defaultRectangleProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=e=>{var t=resolveDefaultProps(e,defaultRectangleProps),n=reactExports.useRef(null),[i,o]=reactExports.useState(-1);reactExports.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var ie=n.current.getTotalLength();ie&&o(ie)}catch{}},[]);var{x:l,y:u,width:h,height:p,radius:m,className:g}=t,{animationEasing:b,animationDuration:E,animationBegin:_,isAnimationActive:A,isUpdateAnimationActive:w}=t,T=reactExports.useRef(h),C=reactExports.useRef(p),B=reactExports.useRef(l),N=reactExports.useRef(u),j=reactExports.useMemo(()=>({x:l,y:u,width:h,height:p,radius:m}),[l,u,h,p,m]),M=useAnimationId(j,"rectangle-");if(l!==+l||u!==+u||h!==+h||p!==+p||h===0||p===0)return null;var D=clsx("recharts-rectangle",g);if(!w){var V=svgPropertiesAndEvents(t),{radius:L}=V,U=_objectWithoutProperties$j(V,_excluded$j);return reactExports.createElement("path",_extends$l({},U,{x:round$1(l),y:round$1(u),width:round$1(h),height:round$1(p),radius:typeof m=="number"?m:void 0,className:D,d:getRectanglePath(l,u,h,p,m)}))}var J=T.current,$=C.current,K=B.current,te=N.current,me="0px ".concat(i===-1?1:i,"px"),he="".concat(i,"px 0px"),ee=getTransitionVal(["strokeDasharray"],E,typeof b=="string"?b:defaultRectangleProps.animationEasing);return reactExports.createElement(JavascriptAnimate,{animationId:M,key:M,canBegin:i>0,duration:E,easing:b,isActive:w,begin:_},ie=>{var ce=interpolate$1(J,h,ie),ne=interpolate$1($,p,ie),Z=interpolate$1(K,l,ie),G=interpolate$1(te,u,ie);n.current&&(T.current=ce,C.current=ne,B.current=Z,N.current=G);var H;A?ie>0?H={transition:ee,strokeDasharray:he}:H={strokeDasharray:me}:H={strokeDasharray:he};var F=svgPropertiesAndEvents(t),{radius:z}=F,Y=_objectWithoutProperties$j(F,_excluded2$a);return reactExports.createElement("path",_extends$l({},Y,{radius:typeof m=="number"?m:void 0,className:D,d:getRectanglePath(Z,G,ce,ne,m),ref:n,style:_objectSpread$r(_objectSpread$r({},H),t.style)}))})};function ownKeys$q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$q(Object(n),!0).forEach(function(i){_defineProperty$t(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$q(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$t(e,t,n){return(t=_toPropertyKey$t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$t(e){var t=_toPrimitive$t(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$t(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RADIAN=Math.PI/180,radianToDegree=e=>e*180/Math.PI,polarToCartesian=(e,t,n,i)=>({x:e+Math.cos(-RADIAN*i)*n,y:t+Math.sin(-RADIAN*i)*n}),getMaxRadius=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},distanceBetweenPoints=(e,t)=>{var{x:n,y:i}=e,{x:o,y:l}=t;return Math.sqrt((n-o)**2+(i-l)**2)},getAngleOfPoint=(e,t)=>{var{x:n,y:i}=e,{cx:o,cy:l}=t,u=distanceBetweenPoints({x:n,y:i},{x:o,y:l});if(u<=0)return{radius:u,angle:0};var h=(n-o)/u,p=Math.acos(h);return i>l&&(p=2*Math.PI-p),{radius:u,angle:radianToDegree(p),angleInRadian:p}},formatAngleOfSector=e=>{var{startAngle:t,endAngle:n}=e,i=Math.floor(t/360),o=Math.floor(n/360),l=Math.min(i,o);return{startAngle:t-l*360,endAngle:n-l*360}},reverseFormatAngleOfSector=(e,t)=>{var{startAngle:n,endAngle:i}=t,o=Math.floor(n/360),l=Math.floor(i/360),u=Math.min(o,l);return e+u*360},inRangeOfSector=(e,t)=>{var{chartX:n,chartY:i}=e,{radius:o,angle:l}=getAngleOfPoint({x:n,y:i},t),{innerRadius:u,outerRadius:h}=t;if(o<u||o>h||o===0)return null;var{startAngle:p,endAngle:m}=formatAngleOfSector(t),g=l,b;if(p<=m){for(;g>m;)g-=360;for(;g<p;)g+=360;b=g>=p&&g<=m}else{for(;g>p;)g-=360;for(;g<m;)g+=360;b=g>=m&&g<=p}return b?_objectSpread$q(_objectSpread$q({},t),{},{radius:o,angle:reverseFormatAngleOfSector(g,t)}):null};function getRadialCursorPoints(e){var{cx:t,cy:n,radius:i,startAngle:o,endAngle:l}=e,u=polarToCartesian(t,n,i,o),h=polarToCartesian(t,n,i,l);return{points:[u,h],cx:t,cy:n,radius:i,startAngle:o,endAngle:l}}var _templateObject$1,_templateObject2$1,_templateObject3$1,_templateObject4$1,_templateObject5$1,_templateObject6,_templateObject7;function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$k.apply(null,arguments)}function _taggedTemplateLiteral$1(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var getDeltaAngle$1=(e,t)=>{var n=mathSign(t-e),i=Math.min(Math.abs(t-e),359.999);return n*i},getTangentCircle=e=>{var{cx:t,cy:n,radius:i,angle:o,sign:l,isExternal:u,cornerRadius:h,cornerIsExternal:p}=e,m=h*(u?1:-1)+i,g=Math.asin(h/m)/RADIAN,b=p?o:o+l*g,E=polarToCartesian(t,n,m,b),_=polarToCartesian(t,n,i,b),A=p?o-l*g:o,w=polarToCartesian(t,n,m*Math.cos(g*RADIAN),A);return{center:E,circleTangency:_,lineTangency:w,theta:g}},getSectorPath=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:o,startAngle:l,endAngle:u}=e,h=getDeltaAngle$1(l,u),p=l+h,m=polarToCartesian(t,n,o,l),g=polarToCartesian(t,n,o,p),b=roundTemplateLiteral(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral$1(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),m.x,m.y,o,o,+(Math.abs(h)>180),+(l>p),g.x,g.y);if(i>0){var E=polarToCartesian(t,n,i,l),_=polarToCartesian(t,n,i,p);b+=roundTemplateLiteral(_templateObject2$1||(_templateObject2$1=_taggedTemplateLiteral$1(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,i,i,+(Math.abs(h)>180),+(l<=p),E.x,E.y)}else b+=roundTemplateLiteral(_templateObject3$1||(_templateObject3$1=_taggedTemplateLiteral$1(["L ",","," Z"])),t,n);return b},getSectorWithCorner=e=>{var{cx:t,cy:n,innerRadius:i,outerRadius:o,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:h,startAngle:p,endAngle:m}=e,g=mathSign(m-p),{circleTangency:b,lineTangency:E,theta:_}=getTangentCircle({cx:t,cy:n,radius:o,angle:p,sign:g,cornerRadius:l,cornerIsExternal:h}),{circleTangency:A,lineTangency:w,theta:T}=getTangentCircle({cx:t,cy:n,radius:o,angle:m,sign:-g,cornerRadius:l,cornerIsExternal:h}),C=h?Math.abs(p-m):Math.abs(p-m)-_-T;if(C<0)return u?roundTemplateLiteral(_templateObject4$1||(_templateObject4$1=_taggedTemplateLiteral$1(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),E.x,E.y,l,l,l*2,l,l,-l*2):getSectorPath({cx:t,cy:n,innerRadius:i,outerRadius:o,startAngle:p,endAngle:m});var B=roundTemplateLiteral(_templateObject5$1||(_templateObject5$1=_taggedTemplateLiteral$1(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),E.x,E.y,l,l,+(g<0),b.x,b.y,o,o,+(C>180),+(g<0),A.x,A.y,l,l,+(g<0),w.x,w.y);if(i>0){var{circleTangency:N,lineTangency:j,theta:M}=getTangentCircle({cx:t,cy:n,radius:i,angle:p,sign:g,isExternal:!0,cornerRadius:l,cornerIsExternal:h}),{circleTangency:D,lineTangency:V,theta:L}=getTangentCircle({cx:t,cy:n,radius:i,angle:m,sign:-g,isExternal:!0,cornerRadius:l,cornerIsExternal:h}),U=h?Math.abs(p-m):Math.abs(p-m)-M-L;if(U<0&&l===0)return"".concat(B,"L").concat(t,",").concat(n,"Z");B+=roundTemplateLiteral(_templateObject6||(_templateObject6=_taggedTemplateLiteral$1(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),V.x,V.y,l,l,+(g<0),D.x,D.y,i,i,+(U>180),+(g>0),N.x,N.y,l,l,+(g<0),j.x,j.y)}else B+=roundTemplateLiteral(_templateObject7||(_templateObject7=_taggedTemplateLiteral$1(["L",",","Z"])),t,n);return B},defaultSectorProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=e=>{var t=resolveDefaultProps(e,defaultSectorProps),{cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:u,forceCornerRadius:h,cornerIsExternal:p,startAngle:m,endAngle:g,className:b}=t;if(l<o||m===g)return null;var E=clsx("recharts-sector",b),_=l-o,A=getPercentValue(u,_,0,!0),w;return A>0&&Math.abs(m-g)<360?w=getSectorWithCorner({cx:n,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(A,_/2),forceCornerRadius:h,cornerIsExternal:p,startAngle:m,endAngle:g}):w=getSectorPath({cx:n,cy:i,innerRadius:o,outerRadius:l,startAngle:m,endAngle:g}),reactExports.createElement("path",_extends$k({},svgPropertiesAndEvents(t),{className:E,d:w}))};function getCursorPoints(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(isPolarCoordinate(t)){if(e==="centric"){var{cx:i,cy:o,innerRadius:l,outerRadius:u,angle:h}=t,p=polarToCartesian(i,o,l,h),m=polarToCartesian(i,o,u,h);return[{x:p.x,y:p.y},{x:m.x,y:m.y}]}return getRadialCursorPoints(t)}}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsSymbol();function n(i){return t.isSymbol(i)?NaN:Number(i)}e.toNumber=n})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireToNumber();function n(i){return i?(i=t.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}e.toFinite=n})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireIsIterateeCall(),n=requireToFinite();function i(o,l,u){u&&typeof u!="number"&&t.isIterateeCall(o,l,u)&&(l=u=void 0),o=n.toFinite(o),l===void 0?(l=o,o=0):l=n.toFinite(l),u=u===void 0?o<l?1:-1:n.toFinite(u);const h=Math.max(Math.ceil((l-o)/(u||1)),0),p=new Array(h);for(let m=0;m<h;m++)p[m]=o,o+=u;return p}e.range=i})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function descending(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bisector(e){let t,n,i;e.length!==2?(t=ascending,n=(h,p)=>ascending(e(h),p),i=(h,p)=>e(h)-p):(t=e===ascending||e===descending?e:zero$1,n=e,i=e);function o(h,p,m=0,g=h.length){if(m<g){if(t(p,p)!==0)return g;do{const b=m+g>>>1;n(h[b],p)<0?m=b+1:g=b}while(m<g)}return m}function l(h,p,m=0,g=h.length){if(m<g){if(t(p,p)!==0)return g;do{const b=m+g>>>1;n(h[b],p)<=0?m=b+1:g=b}while(m<g)}return m}function u(h,p,m=0,g=h.length){const b=o(h,p,m,g-1);return b>m&&i(h[b-1],p)>-i(h[b],p)?b-1:b}return{left:o,center:u,right:l}}function zero$1(){return 0}function number$2(e){return e===null?NaN:+e}function*numbers(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(t,n=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[i,o]of t)this.set(i,o)}get(t){return super.get(intern_get(this,t))}has(t){return super.has(intern_get(this,t))}set(t,n){return super.set(intern_set(this,t),n)}delete(t){return super.delete(intern_delete(this,t))}}function intern_get({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):n}function intern_set({_intern:e,_key:t},n){const i=t(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function intern_delete({_intern:e,_key:t},n){const i=t(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function keyof(e){return e!==null&&typeof e=="object"?e.valueOf():e}function compareDefined(e=ascending){if(e===ascending)return ascendingDefined;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const i=e(t,n);return i||i===0?i:(e(n,n)===0)-(e(t,t)===0)}}function ascendingDefined(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(e,t,n){const i=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(i)),l=i/Math.pow(10,o),u=l>=e10?10:l>=e5?5:l>=e2?2:1;let h,p,m;return o<0?(m=Math.pow(10,-o)/u,h=Math.round(e*m),p=Math.round(t*m),h/m<e&&++h,p/m>t&&--p,m=-m):(m=Math.pow(10,o)*u,h=Math.round(e/m),p=Math.round(t/m),h*m<e&&++h,p*m>t&&--p),p<h&&.5<=n&&n<2?tickSpec(e,t,n*2):[h,p,m]}function ticks(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const i=t<e,[o,l,u]=i?tickSpec(t,e,n):tickSpec(e,t,n);if(!(l>=o))return[];const h=l-o+1,p=new Array(h);if(i)if(u<0)for(let m=0;m<h;++m)p[m]=(l-m)/-u;else for(let m=0;m<h;++m)p[m]=(l-m)*u;else if(u<0)for(let m=0;m<h;++m)p[m]=(o+m)/-u;else for(let m=0;m<h;++m)p[m]=(o+m)*u;return p}function tickIncrement(e,t,n){return t=+t,e=+e,n=+n,tickSpec(e,t,n)[2]}function tickStep(e,t,n){t=+t,e=+e,n=+n;const i=t<e,o=i?tickIncrement(t,e,n):tickIncrement(e,t,n);return(i?-1:1)*(o<0?1/-o:o)}function max(e,t){let n;for(const i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function min(e,t){let n;for(const i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function quickselect(e,t,n=0,i=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(e.length-1,i)),!(n<=t&&t<=i))return e;for(o=o===void 0?ascendingDefined:compareDefined(o);i>n;){if(i-n>600){const p=i-n+1,m=t-n+1,g=Math.log(p),b=.5*Math.exp(2*g/3),E=.5*Math.sqrt(g*b*(p-b)/p)*(m-p/2<0?-1:1),_=Math.max(n,Math.floor(t-m*b/p+E)),A=Math.min(i,Math.floor(t+(p-m)*b/p+E));quickselect(e,t,_,A,o)}const l=e[t];let u=n,h=i;for(swap(e,n,t),o(e[i],l)>0&&swap(e,n,i);u<h;){for(swap(e,u,h),++u,--h;o(e[u],l)<0;)++u;for(;o(e[h],l)>0;)--h}o(e[n],l)===0?swap(e,n,h):(++h,swap(e,h,i)),h<=t&&(n=h+1),t<=h&&(i=h-1)}return e}function swap(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function quantile$1(e,t,n){if(e=Float64Array.from(numbers(e)),!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return min(e);if(t>=1)return max(e);var i,o=(i-1)*t,l=Math.floor(o),u=max(quickselect(e,l).subarray(0,l+1)),h=min(e.subarray(l+1));return u+(h-u)*(o-l)}}function quantileSorted(e,t,n=number$2){if(!(!(i=e.length)||isNaN(t=+t))){if(t<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,o=(i-1)*t,l=Math.floor(o),u=+n(e[l],l,e),h=+n(e[l+1],l+1,e);return u+(h-u)*(o-l)}}function range$1(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(o);++i<o;)l[i]=e+i*n;return l}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function initInterpolator(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const implicit=Symbol("implicit");function ordinal(){var e=new InternMap,t=[],n=[],i=implicit;function o(l){let u=e.get(l);if(u===void 0){if(i!==implicit)return i;e.set(l,u=t.push(l)-1)}return n[u%n.length]}return o.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new InternMap;for(const u of l)e.has(u)||e.set(u,t.push(u)-1);return o},o.range=function(l){return arguments.length?(n=Array.from(l),o):n.slice()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.copy=function(){return ordinal(t,n).unknown(i)},initRange.apply(o,arguments),o}function band(){var e=ordinal().unknown(void 0),t=e.domain,n=e.range,i=0,o=1,l,u,h=!1,p=0,m=0,g=.5;delete e.unknown;function b(){var E=t().length,_=o<i,A=_?o:i,w=_?i:o;l=(w-A)/Math.max(1,E-p+m*2),h&&(l=Math.floor(l)),A+=(w-A-l*(E-p))*g,u=l*(1-p),h&&(A=Math.round(A),u=Math.round(u));var T=range$1(E).map(function(C){return A+l*C});return n(_?T.reverse():T)}return e.domain=function(E){return arguments.length?(t(E),b()):t()},e.range=function(E){return arguments.length?([i,o]=E,i=+i,o=+o,b()):[i,o]},e.rangeRound=function(E){return[i,o]=E,i=+i,o=+o,h=!0,b()},e.bandwidth=function(){return u},e.step=function(){return l},e.round=function(E){return arguments.length?(h=!!E,b()):h},e.padding=function(E){return arguments.length?(p=Math.min(1,m=+E),b()):p},e.paddingInner=function(E){return arguments.length?(p=Math.min(1,E),b()):p},e.paddingOuter=function(E){return arguments.length?(m=+E,b()):m},e.align=function(E){return arguments.length?(g=Math.max(0,Math.min(1,E)),b()):g},e.copy=function(){return band(t(),[i,o]).round(h).paddingInner(p).paddingOuter(m).align(g)},initRange.apply(b(),arguments)}function pointish(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pointish(t())},e}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function extend(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?rgbn(t):n===3?new Rgb(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rgba(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):e==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,e&255,1)}function rgba(e,t,n,i){return i<=0&&(e=t=n=NaN),new Rgb(e,t,n,i)}function rgbConvert(e){return e instanceof Color||(e=color(e)),e?(e=e.rgb(),new Rgb(e.r,e.g,e.b,e.opacity)):new Rgb}function rgb$1(e,t,n,i){return arguments.length===1?rgbConvert(e):new Rgb(e,t,n,i??1)}function Rgb(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}define(Rgb,rgb$1,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const e=clampa(this.opacity);return`${e===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${e===1?")":`, ${e})`}`}function clampa(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function clampi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hex(e){return e=clampi(e),(e<16?"0":"")+e.toString(16)}function hsla(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,n,i)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),l=Math.max(t,n,i),u=NaN,h=l-o,p=(l+o)/2;return h?(t===l?u=(n-i)/h+(n<i)*6:n===l?u=(i-t)/h+2:u=(t-n)/h+4,h/=p<.5?l+o:2-l-o,u*=60):h=p>0&&p<1?0:u,new Hsl(u,h,p,e.opacity)}function hsl(e,t,n,i){return arguments.length===1?hslConvert(e):new Hsl(e,t,n,i??1)}function Hsl(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}define(Hsl,hsl,extend(Color,{brighter(e){return e=e==null?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,o=2*n-i;return new Rgb(hsl2rgb(e>=240?e-240:e+120,o,i),hsl2rgb(e,o,i),hsl2rgb(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=clampa(this.opacity);return`${e===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function clamph(e){return e=(e||0)%360,e<0?e+360:e}function clampt(e){return Math.max(0,Math.min(1,e||0))}function hsl2rgb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const constant=e=>()=>e;function linear$1(e,t){return function(n){return e+n*t}}function exponential(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function gamma(e){return(e=+e)==1?nogamma:function(t,n){return n-t?exponential(t,n,e):constant(isNaN(t)?n:t)}}function nogamma(e,t){var n=t-e;return n?linear$1(e,n):constant(isNaN(e)?t:e)}const rgb=(function e(t){var n=gamma(t);function i(o,l){var u=n((o=rgb$1(o)).r,(l=rgb$1(l)).r),h=n(o.g,l.g),p=n(o.b,l.b),m=nogamma(o.opacity,l.opacity);return function(g){return o.r=u(g),o.g=h(g),o.b=p(g),o.opacity=m(g),o+""}}return i.gamma=e,i})(1);function numberArray(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),o;return function(l){for(o=0;o<n;++o)i[o]=e[o]*(1-l)+t[o]*l;return i}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,o=new Array(i),l=new Array(n),u;for(u=0;u<i;++u)o[u]=interpolate(e[u],t[u]);for(;u<n;++u)l[u]=t[u];return function(h){for(u=0;u<i;++u)l[u]=o[u](h);return l}}function date$1(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function interpolateNumber(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function object(e,t){var n={},i={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=interpolate(e[o],t[o]):i[o]=t[o];return function(l){for(o in n)i[o]=n[o](l);return i}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var n=reA.lastIndex=reB.lastIndex=0,i,o,l,u=-1,h=[],p=[];for(e=e+"",t=t+"";(i=reA.exec(e))&&(o=reB.exec(t));)(l=o.index)>n&&(l=t.slice(n,l),h[u]?h[u]+=l:h[++u]=l),(i=i[0])===(o=o[0])?h[u]?h[u]+=o:h[++u]=o:(h[++u]=null,p.push({i:u,x:interpolateNumber(i,o)})),n=reB.lastIndex;return n<t.length&&(l=t.slice(n),h[u]?h[u]+=l:h[++u]=l),h.length<2?p[0]?one(p[0].x):zero(t):(t=p.length,function(m){for(var g=0,b;g<t;++g)h[(b=p[g]).i]=b.x(m);return h.join("")})}function interpolate(e,t){var n=typeof t,i;return t==null||n==="boolean"?constant(t):(n==="number"?interpolateNumber:n==="string"?(i=color(t))?(t=i,rgb):string:t instanceof color?rgb:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function piecewise(e,t){t===void 0&&(t=e,e=interpolate);for(var n=0,i=t.length-1,o=t[0],l=new Array(i<0?0:i);n<i;)l[n]=e(o,o=t[++n]);return function(u){var h=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return l[h](u-h)}}function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity$3(e){return e}function normalize(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function bimap(e,t,n){var i=e[0],o=e[1],l=t[0],u=t[1];return o<i?(i=normalize(o,i),l=n(u,l)):(i=normalize(i,o),l=n(l,u)),function(h){return l(i(h))}}function polymap(e,t,n){var i=Math.min(e.length,t.length)-1,o=new Array(i),l=new Array(i),u=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=normalize(e[u],e[u+1]),l[u]=n(t[u],t[u+1]);return function(h){var p=bisectRight(e,h,1,i)-1;return l[p](o[p](h))}}function copy$1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer$2(){var e=unit,t=unit,n=interpolate,i,o,l,u=identity$3,h,p,m;function g(){var E=Math.min(e.length,t.length);return u!==identity$3&&(u=clamper(e[0],e[E-1])),h=E>2?polymap:bimap,p=m=null,b}function b(E){return E==null||isNaN(E=+E)?l:(p||(p=h(e.map(i),t,n)))(i(u(E)))}return b.invert=function(E){return u(o((m||(m=h(t,e.map(i),interpolateNumber)))(E)))},b.domain=function(E){return arguments.length?(e=Array.from(E,number$1),g()):e.slice()},b.range=function(E){return arguments.length?(t=Array.from(E),g()):t.slice()},b.rangeRound=function(E){return t=Array.from(E),n=interpolateRound,g()},b.clamp=function(E){return arguments.length?(u=E?!0:identity$3,g()):u!==identity$3},b.interpolate=function(E){return arguments.length?(n=E,g()):n},b.unknown=function(E){return arguments.length?(l=E,b):l},function(E,_){return i=E,o=_,g()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function formatDecimalParts(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function exponent(e){return e=formatDecimalParts(Math.abs(e)),e?e[1]:NaN}function formatGroup(e,t){return function(n,i){for(var o=n.length,l=[],u=0,h=e[0],p=0;o>0&&h>0&&(p+h+1>i&&(h=Math.max(1,i-p)),l.push(n.substring(o-=h,o+h)),!((p+=h+1)>i));)h=e[u=(u+1)%e.length];return l.reverse().join(t)}}function formatNumerals(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(e){if(!(t=re.exec(e)))throw new Error("invalid format: "+e);var t;return new FormatSpecifier({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(e){e:for(var t=e.length,n=1,i=-1,o;n<t;++n)switch(e[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(o+1):e}var prefixExponent;function formatPrefixAuto(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var i=n[0],o=n[1],l=o-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return l===u?i:l>u?i+new Array(l-u+1).join("0"):l>0?i.slice(0,l)+"."+i.slice(l):"0."+new Array(1-l).join("0")+formatDecimalParts(e,Math.max(0,t+l-1))[0]}function formatRounded(e,t){var n=formatDecimalParts(e,t);if(!n)return e+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const formatTypes={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:formatDecimal,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>formatRounded(e*100,t),r:formatRounded,s:formatPrefixAuto,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function identity$2(e){return e}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(e){var t=e.grouping===void 0||e.thousands===void 0?identity$2:formatGroup(map$1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?identity$2:formatNumerals(map$1.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",h=e.minus===void 0?"":e.minus+"",p=e.nan===void 0?"NaN":e.nan+"";function m(b){b=formatSpecifier(b);var E=b.fill,_=b.align,A=b.sign,w=b.symbol,T=b.zero,C=b.width,B=b.comma,N=b.precision,j=b.trim,M=b.type;M==="n"?(B=!0,M="g"):formatTypes[M]||(N===void 0&&(N=12),j=!0,M="g"),(T||E==="0"&&_==="=")&&(T=!0,E="0",_="=");var D=w==="$"?n:w==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",V=w==="$"?i:/[%p]/.test(M)?u:"",L=formatTypes[M],U=/[defgprs%]/.test(M);N=N===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function J($){var K=D,te=V,me,he,ee;if(M==="c")te=L($)+te,$="";else{$=+$;var ie=$<0||1/$<0;if($=isNaN($)?p:L(Math.abs($),N),j&&($=formatTrim($)),ie&&+$==0&&A!=="+"&&(ie=!1),K=(ie?A==="("?A:h:A==="-"||A==="("?"":A)+K,te=(M==="s"?prefixes[8+prefixExponent/3]:"")+te+(ie&&A==="("?")":""),U){for(me=-1,he=$.length;++me<he;)if(ee=$.charCodeAt(me),48>ee||ee>57){te=(ee===46?o+$.slice(me+1):$.slice(me))+te,$=$.slice(0,me);break}}}B&&!T&&($=t($,1/0));var ce=K.length+$.length+te.length,ne=ce<C?new Array(C-ce+1).join(E):"";switch(B&&T&&($=t(ne+$,ne.length?C-te.length:1/0),ne=""),_){case"<":$=K+$+te+ne;break;case"=":$=K+ne+$+te;break;case"^":$=ne.slice(0,ce=ne.length>>1)+K+$+te+ne.slice(ce);break;default:$=ne+K+$+te;break}return l($)}return J.toString=function(){return b+""},J}function g(b,E){var _=m((b=formatSpecifier(b),b.type="f",b)),A=Math.max(-8,Math.min(8,Math.floor(exponent(E)/3)))*3,w=Math.pow(10,-A),T=prefixes[8+A/3];return function(C){return _(w*C)+T}}return{format:m,formatPrefix:g}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(e){return locale$1=formatLocale$1(e),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(e){return Math.max(0,-exponent(Math.abs(e)))}function precisionPrefix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(t)/3)))*3-exponent(Math.abs(e)))}function precisionRound(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,exponent(t)-exponent(e))+1}function tickFormat(e,t,n,i){var o=tickStep(e,t,n),l;switch(i=formatSpecifier(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(l=precisionPrefix(o,u))&&(i.precision=l),formatPrefix(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(l=precisionRound(o,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=l-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(l=precisionFixed(o))&&(i.precision=l-(i.type==="%")*2);break}}return format(i)}function linearish(e){var t=e.domain;return e.ticks=function(n){var i=t();return ticks(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var o=t();return tickFormat(o[0],o[o.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),o=0,l=i.length-1,u=i[o],h=i[l],p,m,g=10;for(h<u&&(m=u,u=h,h=m,m=o,o=l,l=m);g-- >0;){if(m=tickIncrement(u,h,n),m===p)return i[o]=u,i[l]=h,t(i);if(m>0)u=Math.floor(u/m)*m,h=Math.ceil(h/m)*m;else if(m<0)u=Math.ceil(u*m)/m,h=Math.floor(h*m)/m;else break;p=m}return e},e}function linear(){var e=continuous();return e.copy=function(){return copy$1(e,linear())},initRange.apply(e,arguments),linearish(e)}function identity$1(e){var t;function n(i){return i==null||isNaN(i=+i)?t:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(e=Array.from(i,number$1),n):e.slice()},n.unknown=function(i){return arguments.length?(t=i,n):t},n.copy=function(){return identity$1(e).unknown(t)},e=arguments.length?Array.from(e,number$1):[0,1],linearish(n)}function nice(e,t){e=e.slice();var n=0,i=e.length-1,o=e[n],l=e[i],u;return l<o&&(u=n,n=i,i=u,u=o,o=l,l=u),e[n]=t.floor(o),e[i]=t.ceil(l),e}function transformLog(e){return Math.log(e)}function transformExp(e){return Math.exp(e)}function transformLogn(e){return-Math.log(-e)}function transformExpn(e){return-Math.exp(-e)}function pow10(e){return isFinite(e)?+("1e"+e):e<0?0:e}function powp(e){return e===10?pow10:e===Math.E?Math.exp:t=>Math.pow(e,t)}function logp(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function reflect(e){return(t,n)=>-e(-t,n)}function loggish(e){const t=e(transformLog,transformExp),n=t.domain;let i=10,o,l;function u(){return o=logp(i),l=powp(i),n()[0]<0?(o=reflect(o),l=reflect(l),e(transformLogn,transformExpn)):e(transformLog,transformExp),t}return t.base=function(h){return arguments.length?(i=+h,u()):i},t.domain=function(h){return arguments.length?(n(h),u()):n()},t.ticks=h=>{const p=n();let m=p[0],g=p[p.length-1];const b=g<m;b&&([m,g]=[g,m]);let E=o(m),_=o(g),A,w;const T=h==null?10:+h;let C=[];if(!(i%1)&&_-E<T){if(E=Math.floor(E),_=Math.ceil(_),m>0){for(;E<=_;++E)for(A=1;A<i;++A)if(w=E<0?A/l(-E):A*l(E),!(w<m)){if(w>g)break;C.push(w)}}else for(;E<=_;++E)for(A=i-1;A>=1;--A)if(w=E>0?A/l(-E):A*l(E),!(w<m)){if(w>g)break;C.push(w)}C.length*2<T&&(C=ticks(m,g,T))}else C=ticks(E,_,Math.min(_-E,T)).map(l);return b?C.reverse():C},t.tickFormat=(h,p)=>{if(h==null&&(h=10),p==null&&(p=i===10?"s":","),typeof p!="function"&&(!(i%1)&&(p=formatSpecifier(p)).precision==null&&(p.trim=!0),p=format(p)),h===1/0)return p;const m=Math.max(1,i*h/t.ticks().length);return g=>{let b=g/l(Math.round(o(g)));return b*i<i-.5&&(b*=i),b<=m?p(g):""}},t.nice=()=>n(nice(n(),{floor:h=>l(Math.floor(o(h))),ceil:h=>l(Math.ceil(o(h)))})),t}function log(){const e=loggish(transformer$2()).domain([1,10]);return e.copy=()=>copy$1(e,log()).base(e.base()),initRange.apply(e,arguments),e}function transformSymlog(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function transformSymexp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function symlogish(e){var t=1,n=e(transformSymlog(t),transformSymexp(t));return n.constant=function(i){return arguments.length?e(transformSymlog(t=+i),transformSymexp(t)):t},linearish(n)}function symlog(){var e=symlogish(transformer$2());return e.copy=function(){return copy$1(e,symlog()).constant(e.constant())},initRange.apply(e,arguments)}function transformPow(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function transformSqrt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function transformSquare(e){return e<0?-e*e:e*e}function powish(e){var t=e(identity$3,identity$3),n=1;function i(){return n===1?e(identity$3,identity$3):n===.5?e(transformSqrt,transformSquare):e(transformPow(n),transformPow(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,i()):n},linearish(t)}function pow(){var e=powish(transformer$2());return e.copy=function(){return copy$1(e,pow()).exponent(e.exponent())},initRange.apply(e,arguments),e}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(e){return Math.sign(e)*e*e}function unsquare(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function radial(){var e=continuous(),t=[0,1],n=!1,i;function o(l){var u=unsquare(e(l));return isNaN(u)?i:n?Math.round(u):u}return o.invert=function(l){return e.invert(square(l))},o.domain=function(l){return arguments.length?(e.domain(l),o):e.domain()},o.range=function(l){return arguments.length?(e.range((t=Array.from(l,number$1)).map(square)),o):t.slice()},o.rangeRound=function(l){return o.range(l).round(!0)},o.round=function(l){return arguments.length?(n=!!l,o):n},o.clamp=function(l){return arguments.length?(e.clamp(l),o):e.clamp()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.copy=function(){return radial(e.domain(),t).round(n).clamp(e.clamp()).unknown(i)},initRange.apply(o,arguments),linearish(o)}function quantile(){var e=[],t=[],n=[],i;function o(){var u=0,h=Math.max(1,t.length);for(n=new Array(h-1);++u<h;)n[u-1]=quantileSorted(e,u/h);return l}function l(u){return u==null||isNaN(u=+u)?i:t[bisectRight(n,u)]}return l.invertExtent=function(u){var h=t.indexOf(u);return h<0?[NaN,NaN]:[h>0?n[h-1]:e[0],h<n.length?n[h]:e[e.length-1]]},l.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let h of u)h!=null&&!isNaN(h=+h)&&e.push(h);return e.sort(ascending),o()},l.range=function(u){return arguments.length?(t=Array.from(u),o()):t.slice()},l.unknown=function(u){return arguments.length?(i=u,l):i},l.quantiles=function(){return n.slice()},l.copy=function(){return quantile().domain(e).range(t).unknown(i)},initRange.apply(l,arguments)}function quantize(){var e=0,t=1,n=1,i=[.5],o=[0,1],l;function u(p){return p!=null&&p<=p?o[bisectRight(i,p,0,n)]:l}function h(){var p=-1;for(i=new Array(n);++p<n;)i[p]=((p+1)*t-(p-n)*e)/(n+1);return u}return u.domain=function(p){return arguments.length?([e,t]=p,e=+e,t=+t,h()):[e,t]},u.range=function(p){return arguments.length?(n=(o=Array.from(p)).length-1,h()):o.slice()},u.invertExtent=function(p){var m=o.indexOf(p);return m<0?[NaN,NaN]:m<1?[e,i[0]]:m>=n?[i[n-1],t]:[i[m-1],i[m]]},u.unknown=function(p){return arguments.length&&(l=p),u},u.thresholds=function(){return i.slice()},u.copy=function(){return quantize().domain([e,t]).range(o).unknown(l)},initRange.apply(linearish(u),arguments)}function threshold(){var e=[.5],t=[0,1],n,i=1;function o(l){return l!=null&&l<=l?t[bisectRight(e,l,0,i)]:n}return o.domain=function(l){return arguments.length?(e=Array.from(l),i=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(l){return arguments.length?(t=Array.from(l),i=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(l){var u=t.indexOf(l);return[e[u-1],e[u]]},o.unknown=function(l){return arguments.length?(n=l,o):n},o.copy=function(){return threshold().domain(e).range(t).unknown(n)},initRange.apply(o,arguments)}const t0=new Date,t1=new Date;function timeInterval(e,t,n,i){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=l=>(e(l=new Date(+l)),l),o.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),o.round=l=>{const u=o(l),h=o.ceil(l);return l-u<h-l?u:h},o.offset=(l,u)=>(t(l=new Date(+l),u==null?1:Math.floor(u)),l),o.range=(l,u,h)=>{const p=[];if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<u)||!(h>0))return p;let m;do p.push(m=new Date(+l)),t(l,h),e(l);while(m<l&&l<u);return p},o.filter=l=>timeInterval(u=>{if(u>=u)for(;e(u),!l(u);)u.setTime(u-1)},(u,h)=>{if(u>=u)if(h<0)for(;++h<=0;)for(;t(u,-1),!l(u););else for(;--h>=0;)for(;t(u,1),!l(u););}),n&&(o.count=(l,u)=>(t0.setTime(+l),t1.setTime(+u),e(t0),e(t1),Math.floor(n(t0,t1))),o.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(i?u=>i(u)%l===0:u=>o.count(0,u)%l===0):o)),o}const millisecond=timeInterval(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);millisecond.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?timeInterval(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*durationSecond)},(e,t)=>(t-e)/durationSecond,e=>e.getUTCSeconds());second.range;const timeMinute=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getMinutes());timeMinute.range;const utcMinute=timeInterval(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*durationMinute)},(e,t)=>(t-e)/durationMinute,e=>e.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getHours());timeHour.range;const utcHour=timeInterval(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*durationHour)},(e,t)=>(t-e)/durationHour,e=>e.getUTCHours());utcHour.range;const timeDay=timeInterval(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay,e=>e.getDate()-1);timeDay.range;const utcDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>e.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/durationDay,e=>Math.floor(e/durationDay));unixDay.range;function timeWeekday(e){return timeInterval(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(e){return timeInterval(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());timeMonth.range;const utcMonth=timeInterval(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());utcMonth.range;const timeYear=timeInterval(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());timeYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});timeYear.range;const utcYear=timeInterval(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());utcYear.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:timeInterval(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});utcYear.range;function ticker(e,t,n,i,o,l){const u=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[l,1,durationMinute],[l,5,5*durationMinute],[l,15,15*durationMinute],[l,30,30*durationMinute],[o,1,durationHour],[o,3,3*durationHour],[o,6,6*durationHour],[o,12,12*durationHour],[i,1,durationDay],[i,2,2*durationDay],[n,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function h(m,g,b){const E=g<m;E&&([m,g]=[g,m]);const _=b&&typeof b.range=="function"?b:p(m,g,b),A=_?_.range(m,+g+1):[];return E?A.reverse():A}function p(m,g,b){const E=Math.abs(g-m)/b,_=bisector(([,,T])=>T).right(u,E);if(_===u.length)return e.every(tickStep(m/durationYear,g/durationYear,b));if(_===0)return millisecond.every(Math.max(tickStep(m,g,b),1));const[A,w]=u[E/u[_-1][2]<u[_][2]/E?_-1:_];return A.every(w)}return[h,p]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,n=e.date,i=e.time,o=e.periods,l=e.days,u=e.shortDays,h=e.months,p=e.shortMonths,m=formatRe(o),g=formatLookup(o),b=formatRe(l),E=formatLookup(l),_=formatRe(u),A=formatLookup(u),w=formatRe(h),T=formatLookup(h),C=formatRe(p),B=formatLookup(p),N={a:ie,A:ce,b:ne,B:Z,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:G,q:H,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},j={a:F,A:z,b:Y,B:ae,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Q,q:ue,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},M={a:J,A:$,b:K,B:te,c:me,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:U,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:he,X:ee,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};N.x=D(n,N),N.X=D(i,N),N.c=D(t,N),j.x=D(n,j),j.X=D(i,j),j.c=D(t,j);function D(se,ve){return function(Ee){var ye=[],De=-1,Ce=0,Oe=se.length,_e,Pe,oe;for(Ee instanceof Date||(Ee=new Date(+Ee));++De<Oe;)se.charCodeAt(De)===37&&(ye.push(se.slice(Ce,De)),(Pe=pads[_e=se.charAt(++De)])!=null?_e=se.charAt(++De):Pe=_e==="e"?" ":"0",(oe=ve[_e])&&(_e=oe(Ee,Pe)),ye.push(_e),Ce=De+1);return ye.push(se.slice(Ce,De)),ye.join("")}}function V(se,ve){return function(Ee){var ye=newDate(1900,void 0,1),De=L(ye,se,Ee+="",0),Ce,Oe;if(De!=Ee.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(ve&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ce=utcDate(newDate(ye.y,0,1)),Oe=Ce.getUTCDay(),Ce=Oe>4||Oe===0?utcMonday.ceil(Ce):utcMonday(Ce),Ce=utcDay.offset(Ce,(ye.V-1)*7),ye.y=Ce.getUTCFullYear(),ye.m=Ce.getUTCMonth(),ye.d=Ce.getUTCDate()+(ye.w+6)%7):(Ce=localDate(newDate(ye.y,0,1)),Oe=Ce.getDay(),Ce=Oe>4||Oe===0?timeMonday.ceil(Ce):timeMonday(Ce),Ce=timeDay.offset(Ce,(ye.V-1)*7),ye.y=Ce.getFullYear(),ye.m=Ce.getMonth(),ye.d=Ce.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Oe="Z"in ye?utcDate(newDate(ye.y,0,1)).getUTCDay():localDate(newDate(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Oe+5)%7:ye.w+ye.U*7-(Oe+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,utcDate(ye)):localDate(ye)}}function L(se,ve,Ee,ye){for(var De=0,Ce=ve.length,Oe=Ee.length,_e,Pe;De<Ce;){if(ye>=Oe)return-1;if(_e=ve.charCodeAt(De++),_e===37){if(_e=ve.charAt(De++),Pe=M[_e in pads?ve.charAt(De++):_e],!Pe||(ye=Pe(se,Ee,ye))<0)return-1}else if(_e!=Ee.charCodeAt(ye++))return-1}return ye}function U(se,ve,Ee){var ye=m.exec(ve.slice(Ee));return ye?(se.p=g.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function J(se,ve,Ee){var ye=_.exec(ve.slice(Ee));return ye?(se.w=A.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function $(se,ve,Ee){var ye=b.exec(ve.slice(Ee));return ye?(se.w=E.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function K(se,ve,Ee){var ye=C.exec(ve.slice(Ee));return ye?(se.m=B.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function te(se,ve,Ee){var ye=w.exec(ve.slice(Ee));return ye?(se.m=T.get(ye[0].toLowerCase()),Ee+ye[0].length):-1}function me(se,ve,Ee){return L(se,t,ve,Ee)}function he(se,ve,Ee){return L(se,n,ve,Ee)}function ee(se,ve,Ee){return L(se,i,ve,Ee)}function ie(se){return u[se.getDay()]}function ce(se){return l[se.getDay()]}function ne(se){return p[se.getMonth()]}function Z(se){return h[se.getMonth()]}function G(se){return o[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function F(se){return u[se.getUTCDay()]}function z(se){return l[se.getUTCDay()]}function Y(se){return p[se.getUTCMonth()]}function ae(se){return h[se.getUTCMonth()]}function Q(se){return o[+(se.getUTCHours()>=12)]}function ue(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ve=D(se+="",N);return ve.toString=function(){return se},ve},parse:function(se){var ve=V(se+="",!1);return ve.toString=function(){return se},ve},utcFormat:function(se){var ve=D(se+="",j);return ve.toString=function(){return se},ve},utcParse:function(se){var ve=V(se+="",!0);return ve.toString=function(){return se},ve}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(e,t,n){var i=e<0?"-":"",o=(i?-e:e)+"",l=o.length;return i+(l<n?new Array(n-l+1).join(t)+o:o)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function parseWeekdayNumberSunday(e,t,n){var i=numberRe.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function parseWeekdayNumberMonday(e,t,n){var i=numberRe.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function parseWeekNumberSunday(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function parseWeekNumberISO(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function parseWeekNumberMonday(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function parseFullYear(e,t,n){var i=numberRe.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function parseYear(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function parseZone(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function parseQuarter(e,t,n){var i=numberRe.exec(t.slice(n,n+1));return i?(e.q=i[0]*3-3,n+i[0].length):-1}function parseMonthNumber(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function parseDayOfMonth(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function parseDayOfYear(e,t,n){var i=numberRe.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function parseHour24(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function parseMinutes(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function parseSeconds(e,t,n){var i=numberRe.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function parseMilliseconds(e,t,n){var i=numberRe.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function parseMicroseconds(e,t,n){var i=numberRe.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function parseLiteralPercent(e,t,n){var i=percentRe.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function parseUnixTimestamp(e,t,n){var i=numberRe.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function parseUnixTimestampSeconds(e,t,n){var i=numberRe.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return t===0?7:t}function formatWeekNumberSunday(e,t){return pad(timeSunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||t===0?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(timeThursday.count(timeYear(e),e)+(timeYear(e).getDay()===4),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(timeMonday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return e=dISO(e),pad(e.getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var n=e.getDay();return e=n>=4||n===0?timeThursday(e):timeThursday.ceil(e),pad(e.getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return t===0?7:t}function formatUTCWeekNumberSunday(e,t){return pad(utcSunday.count(utcYear(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||t===0?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(utcThursday.count(utcYear(e),e)+(utcYear(e).getUTCDay()===4),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return e=UTCdISO(e),pad(e.getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var n=e.getUTCDay();return e=n>=4||n===0?utcThursday(e):utcThursday.ceil(e),pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(e){return locale=formatLocale(e),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,n,i,o,l,u,h,p,m){var g=continuous(),b=g.invert,E=g.domain,_=m(".%L"),A=m(":%S"),w=m("%I:%M"),T=m("%I %p"),C=m("%a %d"),B=m("%b %d"),N=m("%B"),j=m("%Y");function M(D){return(p(D)<D?_:h(D)<D?A:u(D)<D?w:l(D)<D?T:i(D)<D?o(D)<D?C:B:n(D)<D?N:j)(D)}return g.invert=function(D){return new Date(b(D))},g.domain=function(D){return arguments.length?E(Array.from(D,number)):E().map(date)},g.ticks=function(D){var V=E();return e(V[0],V[V.length-1],D??10)},g.tickFormat=function(D,V){return V==null?M:m(V)},g.nice=function(D){var V=E();return(!D||typeof D.range!="function")&&(D=t(V[0],V[V.length-1],D??10)),D?E(nice(V,D)):g},g.copy=function(){return copy$1(g,calendar(e,t,n,i,o,l,u,h,p,m))},g}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var e=0,t=1,n,i,o,l,u=identity$3,h=!1,p;function m(b){return b==null||isNaN(b=+b)?p:u(o===0?.5:(b=(l(b)-n)*o,h?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t]=b,n=l(e=+e),i=l(t=+t),o=n===i?0:1/(i-n),m):[e,t]},m.clamp=function(b){return arguments.length?(h=!!b,m):h},m.interpolator=function(b){return arguments.length?(u=b,m):u};function g(b){return function(E){var _,A;return arguments.length?([_,A]=E,u=b(_,A),m):[u(0),u(1)]}}return m.range=g(interpolate),m.rangeRound=g(interpolateRound),m.unknown=function(b){return arguments.length?(p=b,m):p},function(b){return l=b,n=b(e),i=b(t),o=n===i?0:1/(i-n),m}}function copy(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sequential(){var e=linearish(transformer$1()(identity$3));return e.copy=function(){return copy(e,sequential())},initInterpolator.apply(e,arguments)}function sequentialLog(){var e=loggish(transformer$1()).domain([1,10]);return e.copy=function(){return copy(e,sequentialLog()).base(e.base())},initInterpolator.apply(e,arguments)}function sequentialSymlog(){var e=symlogish(transformer$1());return e.copy=function(){return copy(e,sequentialSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function sequentialPow(){var e=powish(transformer$1());return e.copy=function(){return copy(e,sequentialPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var e=[],t=identity$3;function n(i){if(i!=null&&!isNaN(i=+i))return t((bisectRight(e,i,1)-1)/(e.length-1))}return n.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ascending),n},n.interpolator=function(i){return arguments.length?(t=i,n):t},n.range=function(){return e.map((i,o)=>t(o/(e.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(o,l)=>quantile$1(e,l/i))},n.copy=function(){return sequentialQuantile(t).domain(e)},initInterpolator.apply(n,arguments)}function transformer(){var e=0,t=.5,n=1,i=1,o,l,u,h,p,m=identity$3,g,b=!1,E;function _(w){return isNaN(w=+w)?E:(w=.5+((w=+g(w))-l)*(i*w<i*l?h:p),m(b?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([e,t,n]=w,o=g(e=+e),l=g(t=+t),u=g(n=+n),h=o===l?0:.5/(l-o),p=l===u?0:.5/(u-l),i=l<o?-1:1,_):[e,t,n]},_.clamp=function(w){return arguments.length?(b=!!w,_):b},_.interpolator=function(w){return arguments.length?(m=w,_):m};function A(w){return function(T){var C,B,N;return arguments.length?([C,B,N]=T,m=piecewise(w,[C,B,N]),_):[m(0),m(.5),m(1)]}}return _.range=A(interpolate),_.rangeRound=A(interpolateRound),_.unknown=function(w){return arguments.length?(E=w,_):E},function(w){return g=w,o=w(e),l=w(t),u=w(n),h=o===l?0:.5/(l-o),p=l===u?0:.5/(u-l),i=l<o?-1:1,_}}function diverging(){var e=linearish(transformer()(identity$3));return e.copy=function(){return copy(e,diverging())},initInterpolator.apply(e,arguments)}function divergingLog(){var e=loggish(transformer()).domain([.1,1,10]);return e.copy=function(){return copy(e,divergingLog()).base(e.base())},initInterpolator.apply(e,arguments)}function divergingSymlog(){var e=symlogish(transformer());return e.copy=function(){return copy(e,divergingSymlog()).constant(e.constant())},initInterpolator.apply(e,arguments)}function divergingPow(){var e=powish(transformer());return e.copy=function(){return copy(e,divergingPow()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=e=>e.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanoramaPosition4=(e,t,n,i)=>i?selectChartDataAndAlwaysIgnoreIndexes(e):selectChartDataWithIndexes(e),selectChartDataWithIndexesIfNotInPanoramaPosition3=(e,t,n)=>n?selectChartDataAndAlwaysIgnoreIndexes(e):selectChartDataWithIndexes(e);function isWellFormedNumberDomain(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(isWellBehavedNumber(t)&&isWellBehavedNumber(n))return!0}return!1}function extendDomain(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function numericalDomainSpecifiedWithoutRequiringData(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,i]=e,o,l;if(isWellBehavedNumber(n))o=n;else if(typeof n=="function")return;if(isWellBehavedNumber(i))l=i;else if(typeof i=="function")return;var u=[o,l];if(isWellFormedNumberDomain(u))return u}}function parseNumericalUserDomain(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var i=e(t,n);if(isWellFormedNumberDomain(i))return extendDomain(i,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[o,l]=e,u,h;if(o==="auto")t!=null&&(u=Math.min(...t));else if(isNumber(o))u=o;else if(typeof o=="function")try{t!=null&&(u=o(t==null?void 0:t[0]))}catch{}else if(typeof o=="string"&&MIN_VALUE_REG.test(o)){var p=MIN_VALUE_REG.exec(o);if(p==null||p[1]==null||t==null)u=void 0;else{var m=+p[1];u=t[0]-m}}else u=t==null?void 0:t[0];if(l==="auto")t!=null&&(h=Math.max(...t));else if(isNumber(l))h=l;else if(typeof l=="function")try{t!=null&&(h=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&MAX_VALUE_REG.test(l)){var g=MAX_VALUE_REG.exec(l);if(g==null||g[1]==null||t==null)h=void 0;else{var b=+g[1];h=t[1]+b}}else h=t==null?void 0:t[1];var E=[u,h];if(isWellFormedNumberDomain(E))return t==null?E:extendDomain(E,t,n)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P={};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};P.comparedTo=P.cmp=function(e){var t,n,i,o,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(i=l.d.length,o=e.d.length,t=0,n=i<o?i:o;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return i===o?0:i>o^l.s<0?1:-1};P.decimalPlaces=P.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*LOG_BASE;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(e){return divide(this,new this.constructor(e))};P.dividedToIntegerBy=P.idiv=function(e){var t=this,n=t.constructor;return round(divide(t,new n(e),0,1),n.precision)};P.equals=P.eq=function(e){return!this.cmp(e)};P.exponent=function(){return getBase10Exponent(this)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){return this.cmp(e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n=this,i=n.constructor,o=i.precision,l=o+5;if(e===void 0)e=new i(10);else if(e=new i(e),e.s<1||e.eq(ONE))throw Error(decimalError+"NaN");if(n.s<1)throw Error(decimalError+(n.s?"NaN":"-Infinity"));return n.eq(ONE)?new i(0):(external=!1,t=divide(ln(n,l),ln(e,l),l),external=!0,round(t,o))};P.minus=P.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?subtract(t,e):add(t,(e.s=-e.s,e))};P.modulo=P.mod=function(e){var t,n=this,i=n.constructor,o=i.precision;if(e=new i(e),!e.s)throw Error(decimalError+"NaN");return n.s?(external=!1,t=divide(n,e,0,1).times(e),external=!0,n.minus(t)):round(new i(n),o)};P.naturalExponential=P.exp=function(){return exp(this)};P.naturalLogarithm=P.ln=function(){return ln(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};P.plus=P.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?add(t,e):subtract(t,(e.s=-e.s,e))};P.precision=P.sd=function(e){var t,n,i,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(invalidArgument+e);if(t=getBase10Exponent(o)+1,i=o.d.length-1,n=i*LOG_BASE+1,i=o.d[i],i){for(;i%10==0;i/=10)n--;for(i=o.d[0];i>=10;i/=10)n++}return e&&t>n?t:n};P.squareRoot=P.sqrt=function(){var e,t,n,i,o,l,u,h=this,p=h.constructor;if(h.s<1){if(!h.s)return new p(0);throw Error(decimalError+"NaN")}for(e=getBase10Exponent(h),external=!1,o=Math.sqrt(+h),o==0||o==1/0?(t=digitsToString(h.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=mathfloor((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),i=new p(t)):i=new p(o.toString()),n=p.precision,o=u=n+3;;)if(l=i,i=l.plus(divide(h,l,u+2)).times(.5),digitsToString(l.d).slice(0,u)===(t=digitsToString(i.d)).slice(0,u)){if(t=t.slice(u-3,u+1),o==u&&t=="4999"){if(round(l,n+1,0),l.times(l).eq(h)){i=l;break}}else if(t!="9999")break;u+=4}return external=!0,round(i,n)};P.times=P.mul=function(e){var t,n,i,o,l,u,h,p,m,g=this,b=g.constructor,E=g.d,_=(e=new b(e)).d;if(!g.s||!e.s)return new b(0);for(e.s*=g.s,n=g.e+e.e,p=E.length,m=_.length,p<m&&(l=E,E=_,_=l,u=p,p=m,m=u),l=[],u=p+m,i=u;i--;)l.push(0);for(i=m;--i>=0;){for(t=0,o=p+i;o>i;)h=l[o]+_[i]*E[o-i-1]+t,l[o--]=h%BASE|0,t=h/BASE|0;l[o]=(l[o]+t)%BASE|0}for(;!l[--u];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,external?round(e,b.precision):e};P.toDecimalPlaces=P.todp=function(e,t){var n=this,i=n.constructor;return n=new i(n),e===void 0?n:(checkInt32(e,0,MAX_DIGITS),t===void 0?t=i.rounding:checkInt32(t,0,8),round(n,e+getBase10Exponent(n)+1,t))};P.toExponential=function(e,t){var n,i=this,o=i.constructor;return e===void 0?n=toString(i,!0):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=o.rounding:checkInt32(t,0,8),i=round(new o(i),e+1,t),n=toString(i,!0,e+1)),n};P.toFixed=function(e,t){var n,i,o=this,l=o.constructor;return e===void 0?toString(o):(checkInt32(e,0,MAX_DIGITS),t===void 0?t=l.rounding:checkInt32(t,0,8),i=round(new l(o),e+getBase10Exponent(o)+1,t),n=toString(i.abs(),!1,e+getBase10Exponent(i)+1),o.isneg()&&!o.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var e=this,t=e.constructor;return round(new t(e),getBase10Exponent(e)+1,t.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(e){var t,n,i,o,l,u,h=this,p=h.constructor,m=12,g=+(e=new p(e));if(!e.s)return new p(ONE);if(h=new p(h),!h.s){if(e.s<1)throw Error(decimalError+"Infinity");return h}if(h.eq(ONE))return h;if(i=p.precision,e.eq(ONE))return round(h,i);if(t=e.e,n=e.d.length-1,u=t>=n,l=h.s,u){if((n=g<0?-g:g)<=MAX_SAFE_INTEGER){for(o=new p(ONE),t=Math.ceil(i/LOG_BASE+4),external=!1;n%2&&(o=o.times(h),truncate(o.d,t)),n=mathfloor(n/2),n!==0;)h=h.times(h),truncate(h.d,t);return external=!0,e.s<0?new p(ONE).div(o):round(o,i)}}else if(l<0)throw Error(decimalError+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,h.s=1,external=!1,o=e.times(ln(h,i+m)),external=!0,o=exp(o),o.s=l,o};P.toPrecision=function(e,t){var n,i,o=this,l=o.constructor;return e===void 0?(n=getBase10Exponent(o),i=toString(o,n<=l.toExpNeg||n>=l.toExpPos)):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=l.rounding:checkInt32(t,0,8),o=round(new l(o),e,t),n=getBase10Exponent(o),i=toString(o,e<=n||n<=l.toExpNeg,e)),i};P.toSignificantDigits=P.tosd=function(e,t){var n=this,i=n.constructor;return e===void 0?(e=i.precision,t=i.rounding):(checkInt32(e,1,MAX_DIGITS),t===void 0?t=i.rounding:checkInt32(t,0,8)),round(new i(n),e,t)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=getBase10Exponent(e),n=e.constructor;return toString(e,t<=n.toExpNeg||t>=n.toExpPos)};function add(e,t){var n,i,o,l,u,h,p,m,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),external?round(t,b):t;if(p=e.d,m=t.d,u=e.e,o=t.e,p=p.slice(),l=u-o,l){for(l<0?(i=p,l=-l,h=m.length):(i=m,o=u,h=p.length),u=Math.ceil(b/LOG_BASE),h=u>h?u+1:h+1,l>h&&(l=h,i.length=1),i.reverse();l--;)i.push(0);i.reverse()}for(h=p.length,l=m.length,h-l<0&&(l=h,i=m,m=p,p=i),n=0;l;)n=(p[--l]=p[l]+m[l]+n)/BASE|0,p[l]%=BASE;for(n&&(p.unshift(n),++o),h=p.length;p[--h]==0;)p.pop();return t.d=p,t.e=o,external?round(t,b):t}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(invalidArgument+e)}function digitsToString(e){var t,n,i,o=e.length-1,l="",u=e[0];if(o>0){for(l+=u,t=1;t<o;t++)i=e[t]+"",n=LOG_BASE-i.length,n&&(l+=getZeroString(n)),l+=i;u=e[t],i=u+"",n=LOG_BASE-i.length,n&&(l+=getZeroString(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return l+u}var divide=(function(){function e(i,o){var l,u=0,h=i.length;for(i=i.slice();h--;)l=i[h]*o+u,i[h]=l%BASE|0,u=l/BASE|0;return u&&i.unshift(u),i}function t(i,o,l,u){var h,p;if(l!=u)p=l>u?1:-1;else for(h=p=0;h<l;h++)if(i[h]!=o[h]){p=i[h]>o[h]?1:-1;break}return p}function n(i,o,l){for(var u=0;l--;)i[l]-=u,u=i[l]<o[l]?1:0,i[l]=u*BASE+i[l]-o[l];for(;!i[0]&&i.length>1;)i.shift()}return function(i,o,l,u){var h,p,m,g,b,E,_,A,w,T,C,B,N,j,M,D,V,L,U=i.constructor,J=i.s==o.s?1:-1,$=i.d,K=o.d;if(!i.s)return new U(i);if(!o.s)throw Error(decimalError+"Division by zero");for(p=i.e-o.e,V=K.length,M=$.length,_=new U(J),A=_.d=[],m=0;K[m]==($[m]||0);)++m;if(K[m]>($[m]||0)&&--p,l==null?B=l=U.precision:u?B=l+(getBase10Exponent(i)-getBase10Exponent(o))+1:B=l,B<0)return new U(0);if(B=B/LOG_BASE+2|0,m=0,V==1)for(g=0,K=K[0],B++;(m<M||g)&&B--;m++)N=g*BASE+($[m]||0),A[m]=N/K|0,g=N%K|0;else{for(g=BASE/(K[0]+1)|0,g>1&&(K=e(K,g),$=e($,g),V=K.length,M=$.length),j=V,w=$.slice(0,V),T=w.length;T<V;)w[T++]=0;L=K.slice(),L.unshift(0),D=K[0],K[1]>=BASE/2&&++D;do g=0,h=t(K,w,V,T),h<0?(C=w[0],V!=T&&(C=C*BASE+(w[1]||0)),g=C/D|0,g>1?(g>=BASE&&(g=BASE-1),b=e(K,g),E=b.length,T=w.length,h=t(b,w,E,T),h==1&&(g--,n(b,V<E?L:K,E))):(g==0&&(h=g=1),b=K.slice()),E=b.length,E<T&&b.unshift(0),n(w,b,T),h==-1&&(T=w.length,h=t(K,w,V,T),h<1&&(g++,n(w,V<T?L:K,T))),T=w.length):h===0&&(g++,w=[0]),A[m++]=g,h&&w[0]?w[T++]=$[j]||0:(w=[$[j]],T=1);while((j++<M||w[0]!==void 0)&&B--)}return A[0]||A.shift(),_.e=p,round(_,u?l+getBase10Exponent(_)+1:l)}})();function exp(e,t){var n,i,o,l,u,h,p=0,m=0,g=e.constructor,b=g.precision;if(getBase10Exponent(e)>16)throw Error(exponentOutOfRange+getBase10Exponent(e));if(!e.s)return new g(ONE);for(external=!1,h=b,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(i=Math.log(mathpow(2,m))/Math.LN10*2+5|0,h+=i,n=o=l=new g(ONE),g.precision=h;;){if(o=round(o.times(e),h),n=n.times(++p),u=l.plus(divide(o,n,h)),digitsToString(u.d).slice(0,h)===digitsToString(l.d).slice(0,h)){for(;m--;)l=round(l.times(l),h);return g.precision=b,t==null?(external=!0,round(l,b)):l}l=u}}function getBase10Exponent(e){for(var t=e.e*LOG_BASE,n=e.d[0];n>=10;n/=10)t++;return t}function getLn10(e,t,n){if(t>e.LN10.sd())throw external=!0,n&&(e.precision=n),Error(decimalError+"LN10 precision limit exceeded");return round(new e(e.LN10),t)}function getZeroString(e){for(var t="";e--;)t+="0";return t}function ln(e,t){var n,i,o,l,u,h,p,m,g,b=1,E=10,_=e,A=_.d,w=_.constructor,T=w.precision;if(_.s<1)throw Error(decimalError+(_.s?"NaN":"-Infinity"));if(_.eq(ONE))return new w(0);if(t==null?(external=!1,m=T):m=t,_.eq(10))return t==null&&(external=!0),getLn10(w,m);if(m+=E,w.precision=m,n=digitsToString(A),i=n.charAt(0),l=getBase10Exponent(_),Math.abs(l)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)_=_.times(e),n=digitsToString(_.d),i=n.charAt(0),b++;l=getBase10Exponent(_),i>1?(_=new w("0."+n),l++):_=new w(i+"."+n.slice(1))}else return p=getLn10(w,m+2,T).times(l+""),_=ln(new w(i+"."+n.slice(1)),m-E).plus(p),w.precision=T,t==null?(external=!0,round(_,T)):_;for(h=u=_=divide(_.minus(ONE),_.plus(ONE),m),g=round(_.times(_),m),o=3;;){if(u=round(u.times(g),m),p=h.plus(divide(u,new w(o),m)),digitsToString(p.d).slice(0,m)===digitsToString(h.d).slice(0,m))return h=h.times(2),l!==0&&(h=h.plus(getLn10(w,m+2,T).times(l+""))),h=divide(h,new w(b),m),w.precision=T,t==null?(external=!0,round(h,T)):h;h=p,o+=2}}function parseDecimal(e,t){var n,i,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(n<0&&(n=i),n+=+t.slice(i+1),t=t.substring(0,i)):n<0&&(n=t.length),i=0;t.charCodeAt(i)===48;)++i;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(i,o),t){if(o-=i,n=n-i-1,e.e=mathfloor(n/LOG_BASE),e.d=[],i=(n+1)%LOG_BASE,n<0&&(i+=LOG_BASE),i<o){for(i&&e.d.push(+t.slice(0,i)),o-=LOG_BASE;i<o;)e.d.push(+t.slice(i,i+=LOG_BASE));t=t.slice(i),i=LOG_BASE-t.length}else i-=o;for(;i--;)t+="0";if(e.d.push(+t),external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+n)}else e.s=0,e.e=0,e.d=[0];return e}function round(e,t,n){var i,o,l,u,h,p,m,g,b=e.d;for(u=1,l=b[0];l>=10;l/=10)u++;if(i=t-u,i<0)i+=LOG_BASE,o=t,m=b[g=0];else{if(g=Math.ceil((i+1)/LOG_BASE),l=b.length,g>=l)return e;for(m=l=b[g],u=1;l>=10;l/=10)u++;i%=LOG_BASE,o=i-LOG_BASE+u}if(n!==void 0&&(l=mathpow(10,u-o-1),h=m/l%10|0,p=t<0||b[g+1]!==void 0||m%l,p=n<4?(h||p)&&(n==0||n==(e.s<0?3:2)):h>5||h==5&&(n==4||p||n==6&&(i>0?o>0?m/mathpow(10,u-o):0:b[g-1])%10&1||n==(e.s<0?8:7))),t<1||!b[0])return p?(l=getBase10Exponent(e),b.length=1,t=t-l-1,b[0]=mathpow(10,(LOG_BASE-t%LOG_BASE)%LOG_BASE),e.e=mathfloor(-t/LOG_BASE)||0):(b.length=1,b[0]=e.e=e.s=0),e;if(i==0?(b.length=g,l=1,g--):(b.length=g+1,l=mathpow(10,LOG_BASE-i),b[g]=o>0?(m/mathpow(10,u-o)%mathpow(10,o)|0)*l:0),p)for(;;)if(g==0){(b[0]+=l)==BASE&&(b[0]=1,++e.e);break}else{if(b[g]+=l,b[g]!=BASE)break;b[g--]=0,l=1}for(i=b.length;b[--i]===0;)b.pop();if(external&&(e.e>MAX_E||e.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(e));return e}function subtract(e,t){var n,i,o,l,u,h,p,m,g,b,E=e.constructor,_=E.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new E(e),external?round(t,_):t;if(p=e.d,b=t.d,i=t.e,m=e.e,p=p.slice(),u=m-i,u){for(g=u<0,g?(n=p,u=-u,h=b.length):(n=b,i=m,h=p.length),o=Math.max(Math.ceil(_/LOG_BASE),h)+2,u>o&&(u=o,n.length=1),n.reverse(),o=u;o--;)n.push(0);n.reverse()}else{for(o=p.length,h=b.length,g=o<h,g&&(h=o),o=0;o<h;o++)if(p[o]!=b[o]){g=p[o]<b[o];break}u=0}for(g&&(n=p,p=b,b=n,t.s=-t.s),h=p.length,o=b.length-h;o>0;--o)p[h++]=0;for(o=b.length;o>u;){if(p[--o]<b[o]){for(l=o;l&&p[--l]===0;)p[l]=BASE-1;--p[l],p[o]+=BASE}p[o]-=b[o]}for(;p[--h]===0;)p.pop();for(;p[0]===0;p.shift())--i;return p[0]?(t.d=p,t.e=i,external?round(t,_):t):new E(0)}function toString(e,t,n){var i,o=getBase10Exponent(e),l=digitsToString(e.d),u=l.length;return t?(n&&(i=n-u)>0?l=l.charAt(0)+"."+l.slice(1)+getZeroString(i):u>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(o<0?"e":"e+")+o):o<0?(l="0."+getZeroString(-o-1)+l,n&&(i=n-u)>0&&(l+=getZeroString(i))):o>=u?(l+=getZeroString(o+1-u),n&&(i=n-o-1)>0&&(l=l+"."+getZeroString(i))):((i=o+1)<u&&(l=l.slice(0,i)+"."+l.slice(i)),n&&(i=n-u)>0&&(o+1===u&&(l+="."),l+=getZeroString(i))),e.s<0?"-"+l:l}function truncate(e,t){if(e.length>t)return e.length=t,!0}function clone(e){var t,n,i;function o(l){var u=this;if(!(u instanceof o))return new o(l);if(u.constructor=o,l instanceof o){u.s=l.s,u.e=l.e,u.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(invalidArgument+l);if(l>0)u.s=1;else if(l<0)l=-l,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(l===~~l&&l<1e7){u.e=0,u.d=[l];return}return parseDecimal(u,l.toString())}else if(typeof l!="string")throw Error(invalidArgument+l);if(l.charCodeAt(0)===45?(l=l.slice(1),u.s=-1):u.s=1,isDecimal.test(l))parseDecimal(u,l);else throw Error(invalidArgument+l)}if(o.prototype=P,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=clone,o.config=o.set=config,e===void 0&&(e={}),e)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<i.length;)e.hasOwnProperty(n=i[t++])||(e[n]=this[n]);return o.config(e),o}function config(e){if(!e||typeof e!="object")throw Error(decimalError+"Object expected");var t,n,i,o=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((i=e[n=o[t]])!==void 0)if(mathfloor(i)===i&&i>=o[t+1]&&i<=o[t+2])this[n]=i;else throw Error(invalidArgument+n+": "+i);if((i=e[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(invalidArgument+n+": "+i);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=e=>e,PLACE_HOLDER={},isPlaceHolder=e=>e===PLACE_HOLDER,curry0=e=>function t(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},curryN=(e,t)=>e===1?t:curry0(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var l=i.filter(u=>u!==PLACE_HOLDER).length;return l>=e?t(...i):curryN(e-l,curry0(function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var m=i.map(g=>isPlaceHolder(g)?h.shift():g);return t(...m,...h)}))}),curry=e=>curryN(e.length,e),range=(e,t)=>{for(var n=[],i=e;i<t;++i)n[i-e]=i;return n},map=curry((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),compose=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length)return identity;var o=n.reverse(),l=o[0],u=o.slice(1);return function(){return u.reduce((h,p)=>p(h),l(...arguments))}};function getDigitCount(e){var t;return e===0?t=1:t=Math.floor(new Decimal$1(e).abs().log(10).toNumber())+1,t}function rangeStep(e,t,n){for(var i=new Decimal$1(e),o=0,l=[];i.lt(t)&&o<1e5;)l.push(i.toNumber()),i=i.add(n),o++;return l}var getValidInterval=e=>{var[t,n]=e,[i,o]=[t,n];return t>n&&([i,o]=[n,t]),[i,o]},getFormatStep=(e,t,n)=>{if(e.lte(0))return new Decimal$1(0);var i=getDigitCount(e.toNumber()),o=new Decimal$1(10).pow(i),l=e.div(o),u=i!==1?.05:.1,h=new Decimal$1(Math.ceil(l.div(u).toNumber())).add(n).mul(u),p=h.mul(o);return t?new Decimal$1(p.toNumber()):new Decimal$1(Math.ceil(p.toNumber()))},getTickOfSingleValue=(e,t,n)=>{var i=new Decimal$1(1),o=new Decimal$1(e);if(!o.isint()&&n){var l=Math.abs(e);l<1?(i=new Decimal$1(10).pow(getDigitCount(e)-1),o=new Decimal$1(Math.floor(o.div(i).toNumber())).mul(i)):l>1&&(o=new Decimal$1(Math.floor(e)))}else e===0?o=new Decimal$1(Math.floor((t-1)/2)):n||(o=new Decimal$1(Math.floor(e)));var u=Math.floor((t-1)/2),h=compose(map(p=>o.add(new Decimal$1(p-u).mul(i)).toNumber()),range);return h(0,t)},_calculateStep=function(t,n,i,o){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(i-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var u=getFormatStep(new Decimal$1(n).sub(t).div(i-1),o,l),h;t<=0&&n>=0?h=new Decimal$1(0):(h=new Decimal$1(t).add(n).div(2),h=h.sub(new Decimal$1(h).mod(u)));var p=Math.ceil(h.sub(t).div(u).toNumber()),m=Math.ceil(new Decimal$1(n).sub(h).div(u).toNumber()),g=p+m+1;return g>i?_calculateStep(t,n,i,o,l+1):(g<i&&(m=n>0?m+(i-g):m,p=n>0?p:p+(i-g)),{step:u,tickMin:h.sub(new Decimal$1(p).mul(u)),tickMax:h.add(new Decimal$1(m).mul(u))})},getNiceTickValues=function(t){var[n,i]=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(o,2),[h,p]=getValidInterval([n,i]);if(h===-1/0||p===1/0){var m=p===1/0?[h,...range(0,o-1).map(()=>1/0)]:[...range(0,o-1).map(()=>-1/0),p];return n>i?m.reverse():m}if(h===p)return getTickOfSingleValue(h,o,l);var{step:g,tickMin:b,tickMax:E}=_calculateStep(h,p,u,l,0),_=rangeStep(b,E.add(new Decimal$1(.1).mul(g)),g);return n>i?_.reverse():_},getTickValuesFixedDomain=function(t,n){var[i,o]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,h]=getValidInterval([i,o]);if(u===-1/0||h===1/0)return[i,o];if(u===h)return[u];var p=Math.max(n,2),m=getFormatStep(new Decimal$1(h).sub(u).div(p-1),l,0),g=[...rangeStep(new Decimal$1(u),new Decimal$1(h),m),h];return l===!1&&(g=g.map(b=>Math.round(b))),i>o?g.reverse():g},selectRootMaxBarSize=e=>e.rootProps.maxBarSize,selectBarGap=e=>e.rootProps.barGap,selectBarCategoryGap=e=>e.rootProps.barCategoryGap,selectRootBarSize=e=>e.rootProps.barSize,selectStackOffsetType=e=>e.rootProps.stackOffset,selectReverseStackOrder=e=>e.rootProps.reverseStackOrder,selectChartName=e=>e.options.chartName,selectSyncId=e=>e.rootProps.syncId,selectSyncMethod=e=>e.rootProps.syncMethod,selectEventEmitter=e=>e.options.eventEmitter,selectChartBaseValue=e=>e.rootProps.baseValue,DefaultZIndexes={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=e=>e.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(e,t)=>{if(e!=null)return getPercentValue(e.innerRadius,t,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(e,t)=>{if(e!=null)return getPercentValue(e.outerRadius,t,t*.8)}),combineAngleAxisRange=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(e,t,n,i,o,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||i==null)){var{cx:u,cy:h,startAngle:p,endAngle:m}=t;return{cx:getPercentValue(u,o,o/2),cy:getPercentValue(h,l,l/2),innerRadius:n,outerRadius:i,startAngle:p,endAngle:m,clockWise:!1}}}),pickAxisType=(e,t)=>t,pickAxisId=(e,t,n)=>n;function getStackSeriesIdentifier(e){return e==null?void 0:e.id}function combineDisplayedStackedData(e,t,n){var{chartData:i=[]}=t,{allowDuplicatedCategory:o,dataKey:l}=n,u=new Map;return e.forEach(h=>{var p,m=(p=h.data)!==null&&p!==void 0?p:i;if(!(m==null||m.length===0)){var g=getStackSeriesIdentifier(h);m.forEach((b,E)=>{var _=l==null||o?E:String(getValueByDataKey(b,l,null)),A=getValueByDataKey(b,h.dataKey,0),w;u.has(_)?w=u.get(_):w={},Object.assign(w,{[g]:A}),u.set(_,w)})}}),Array.from(u.values())}function isStacked(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var numberDomainEqualityCheck=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function emptyArraysAreEqualCheck(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function arrayContentsAreEqualCheck(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var selectTooltipAxisType=e=>{var t=selectChartLayout(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=e=>e.tooltip.settings.axisId;function ownKeys$p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$p(Object(n),!0).forEach(function(i){_defineProperty$s(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$p(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$s(e,t,n){return(t=_toPropertyKey$s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$s(e){var t=_toPrimitive$s(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$s(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettingsNoDefaults=(e,t)=>e.cartesianAxis.xAxis[t],selectXAxisSettings=(e,t)=>{var n=selectXAxisSettingsNoDefaults(e,t);return n??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettingsNoDefaults=(e,t)=>e.cartesianAxis.yAxis[t],selectYAxisSettings=(e,t)=>{var n=selectYAxisSettingsNoDefaults(e,t);return n??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??implicitZAxis},selectBaseAxis=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);case"zAxis":return selectZAxisSettings(e,n);case"angleAxis":return selectAngleAxis(e,n);case"radiusAxis":return selectRadiusAxis(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectCartesianAxisSettings=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectAxisSettings=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSettings(e,n);case"yAxis":return selectYAxisSettings(e,n);case"angleAxis":return selectAngleAxis(e,n);case"radiusAxis":return selectRadiusAxis(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},selectHasBar=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function itemAxisPredicate(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var selectUnfilteredCartesianItems=e=>e.graphicalItems.cartesianItems,selectAxisPredicate$1=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(e,t,n)=>e.filter(n).filter(i=>(t==null?void 0:t.includeHidden)===!0?!0:!i.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate$1],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=e=>e.map(t=>t.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),combineDisplayedData=(e,t)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:o}=t;return e.length>0?e:n.slice(i,o+1)},selectDisplayedData$1=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanoramaPosition4],combineDisplayedData),combineAppliedValues=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:getValueByDataKey(i,t.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>e.map(o=>({value:getValueByDataKey(o,i)}))):e.map(i=>({value:i})),selectAllAppliedValues=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function makeNumber(e){if(isNumOrStr(e)||e instanceof Date){var t=Number(e);if(isWellBehavedNumber(t))return t}}function makeDomain(e){if(Array.isArray(e)){var t=[makeNumber(e[0]),makeNumber(e[1])];return isWellFormedNumberDomain(t)?t:void 0}var n=makeNumber(e);if(n!=null)return[n,n]}function onlyAllowNumbers(e){return e.map(makeNumber).filter(isNotNil)}function getErrorDomainByDataKey(e,t,n){return!n||typeof t!="number"||isNan(t)?[]:n.length?onlyAllowNumbers(n.flatMap(i=>{var o=getValueByDataKey(e,i.dataKey),l,u;if(Array.isArray(o)?[l,u]=o:l=u=o,!(!isWellBehavedNumber(l)||!isWellBehavedNumber(u)))return[t-l,t+u]})):[]}var selectTooltipAxis=e=>{var t=selectTooltipAxisType(e),n=selectTooltipAxisId(e);return selectAxisSettings(e,t,n)},selectTooltipAxisDataKey=createSelector([selectTooltipAxis],e=>e==null?void 0:e.dataKey),selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanoramaPosition4,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(e,t,n,i)=>{var o={},l=t.reduce((u,h)=>{if(h.stackId==null)return u;var p=u[h.stackId];return p==null&&(p=[]),p.push(h),u[h.stackId]=p,u},o);return Object.fromEntries(Object.entries(l).map(u=>{var[h,p]=u,m=i?[...p].reverse():p,g=m.map(getStackSeriesIdentifier);return[h,{stackedData:getStackedData(e,g,n),graphicalItems:m}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),combineDomainOfStackGroups=(e,t,n,i)=>{var{dataStartIndex:o,dataEndIndex:l}=t;if(i==null&&n!=="zAxis"){var u=getDomainOfStackGroups(e,o,l);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},selectAllowsDataOverflow=createSelector([selectBaseAxis],e=>e.allowDataOverflow),getDomainDefinition=e=>{var t;if(e==null||!("domain"in e))return defaultNumericDomain;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=onlyAllowNumbers(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:defaultNumericDomain},selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),selectDomainFromUserPreference=createSelector([selectDomainDefinition,selectAllowsDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType,selectDomainFromUserPreference],combineDomainOfStackGroups,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectAllErrorBarSettings=e=>e.errorBars,combineRelevantErrorBarSettings=(e,t,n)=>e.flatMap(i=>t[i.id]).filter(Boolean).filter(i=>isErrorBarRelevantForAxisType(n,i)),mergeDomains=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var o=n.filter(Boolean);if(o.length!==0){var l=o.flat(),u=Math.min(...l),h=Math.max(...l);return[u,h]}},combineDomainOfAllAppliedNumericalValuesIncludingErrorValues=(e,t,n,i,o)=>{var l,u;if(n.length>0&&e.forEach(h=>{n.forEach(p=>{var m,g,b=(m=i[p.id])===null||m===void 0?void 0:m.filter(C=>isErrorBarRelevantForAxisType(o,C)),E=getValueByDataKey(h,(g=t.dataKey)!==null&&g!==void 0?g:p.dataKey),_=getErrorDomainByDataKey(h,E,b);if(_.length>=2){var A=Math.min(..._),w=Math.max(..._);(l==null||A<l)&&(l=A),(u==null||w>u)&&(u=w)}var T=makeDomain(E);T!=null&&(l=l==null?T[0]:Math.min(l,T[0]),u=u==null?T[1]:Math.max(u,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(h=>{var p=makeDomain(getValueByDataKey(h,t.dataKey));p!=null&&(l=l==null?p[0]:Math.min(l,p[0]),u=u==null?p[1]:Math.max(u,p[1]))}),isWellBehavedNumber(l)&&isWellBehavedNumber(u))return[l,u]},selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1=createSelector([selectDisplayedData$1,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}});function onlyAllowNumbersAndStringsAndDates(e){var{value:t}=e;if(isNumOrStr(t)||t instanceof Date)return t}var computeDomainOfTypeCategory=(e,t,n)=>{var i=e.map(onlyAllowNumbersAndStringsAndDates).filter(o=>o!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hasDuplicate(i))?range$2(0,e.length):t.allowDuplicatedCategory?i:Array.from(new Set(i))},selectReferenceDots=e=>e.referenceElements.dots,filterReferenceElements=(e,t,n)=>e.filter(i=>i.ifOverflow==="extendDomain").filter(i=>t==="xAxis"?i.xAxisId===n:i.yAxisId===n),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=e=>e.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=e=>e.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(e,t)=>{if(e!=null){var n=onlyAllowNumbers(e.map(i=>t==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(e,t)=>{if(e!=null){var n=onlyAllowNumbers(e.flatMap(i=>[t==="xAxis"?i.x1:i.y1,t==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain);function extractXCoordinates(e){var t;if(e.x!=null)return onlyAllowNumbers([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(i=>i.x);return n==null||n.length===0?[]:onlyAllowNumbers(n)}function extractYCoordinates(e){var t;if(e.y!=null)return onlyAllowNumbers([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(i=>i.y);return n==null||n.length===0?[]:onlyAllowNumbers(n)}var combineLinesDomain=(e,t)=>{if(e!=null){var n=e.flatMap(i=>t==="xAxis"?extractXCoordinates(i):extractYCoordinates(i));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},selectReferenceLinesDomain=createSelector([selectReferenceLinesByAxis,pickAxisType],combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(e,t,n)=>mergeDomains(e,n,t)),combineNumericalDomain=(e,t,n,i,o,l,u,h)=>{if(n!=null)return n;var p=u==="vertical"&&h==="xAxis"||u==="horizontal"&&h==="yAxis",m=p?mergeDomains(i,l,o):mergeDomains(l,o);return parseNumericalUserDomain(t,m,e.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,selectDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues$1,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),expandDomain=[0,1],combineAxisDomain=(e,t,n,i,o,l,u)=>{if(!((e==null||n==null||n.length===0)&&u===void 0)){var{dataKey:h,type:p}=e,m=isCategoricalAxis(t,l);if(m&&h==null){var g;return range$2(0,(g=n==null?void 0:n.length)!==null&&g!==void 0?g:0)}return p==="category"?computeDomainOfTypeCategory(i,e,m):o==="expand"?expandDomain:u}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData$1,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(e,t,n,i,o)=>{if(e!=null){var{scale:l,type:u}=e;if(l==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":u==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof l=="string"){var h="scale".concat(upperFirst(l));return h in d3Scales?h:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(e){if(e!=null){if(e in d3Scales)return d3Scales[e]();var t="scale".concat(upperFirst(e));if(t in d3Scales)return d3Scales[t]()}}function combineScaleFunction(e,t,n,i){if(!(n==null||i==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(i);var o=getD3ScaleFromType(t);if(o!=null){var l=o.domain(n).range(i);return checkDomainOfScale(l),l}}}var combineNiceTicks=(e,t,n)=>{var i=getDomainDefinition(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&isWellFormedNumberDomain(e))return getNiceTickValues(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&isWellFormedNumberDomain(e))return getTickValuesFixedDomain(e,t.tickCount,t.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(e,t,n,i)=>{if(i!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&isWellFormedNumberDomain(t)&&Array.isArray(n)&&n.length>0){var o=t[0],l=n[0],u=t[1],h=n[n.length-1];return[Math.min(o,l),Math.max(u,h)]}return t},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,i=Array.from(onlyAllowNumbers(e.map(b=>b.value))).sort((b,E)=>b-E),o=i[0],l=i[i.length-1];if(o==null||l==null)return 1/0;var u=l-o;if(u===0)return 1/0;for(var h=0;h<i.length-1;h++){var p=i[h],m=i[h+1];if(!(p==null||m==null)){var g=m-p;n=Math.min(n,g)}}return n/u}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(e,t,n,i,o)=>o,(e,t,n,i,o)=>{if(!isWellBehavedNumber(e))return 0;var l=t==="vertical"?i.height:i.width;if(o==="gap")return e*l/2;if(o==="no-gap"){var u=getPercentValue(n,e*l),h=e*l/2;return h-u-(h-u)/l*u}return 0}),selectCalculatedXAxisPadding=(e,t,n)=>{var i=selectXAxisSettings(e,t);return i==null||typeof i.padding!="string"?0:selectCalculatedPadding(e,"xAxis",t,n,i.padding)},selectCalculatedYAxisPadding=(e,t,n)=>{var i=selectYAxisSettings(e,t);return i==null||typeof i.padding!="string"?0:selectCalculatedPadding(e,"yAxis",t,n,i.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(e,t)=>{var n,i;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((n=o.left)!==null&&n!==void 0?n:0)+t,right:((i=o.right)!==null&&i!==void 0?i:0)+t}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(e,t)=>{var n,i;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((n=o.top)!==null&&n!==void 0?n:0)+t,bottom:((i=o.bottom)!==null&&i!==void 0?i:0)+t}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(e,t,n)=>n],(e,t,n,i,o)=>{var{padding:l}=i;return o?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(e,t,n)=>n],(e,t,n,i,o,l)=>{var{padding:u}=o;return l?[i.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),selectAxisRange=(e,t,n,i)=>{var o;switch(t){case"xAxis":return combineXAxisRange(e,n,i);case"yAxis":return combineYAxisRange(e,n,i);case"zAxis":return(o=selectZAxisSettings(e,n))===null||o===void 0?void 0:o.range;case"angleAxis":return selectAngleAxisRange(e);case"radiusAxis":return selectRadiusAxisRange(e,n);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pickAxisOrientation=(e,t)=>t,pickMirror=(e,t,n)=>n,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(e,t,n)=>e.filter(i=>i.orientation===t).filter(i=>i.mirror===n).sort(compareIds)),getXAxisSize=(e,t)=>({width:e.width,height:t.height}),getYAxisSize=(e,t)=>{var n=typeof t.width=="number"?t.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:e.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},combineYAxisPositionStartingPoint=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(e,t,n,i,o)=>{var l={},u;return n.forEach(h=>{var p=getXAxisSize(t,h);u==null&&(u=combineXAxisPositionStartingPoint(t,i,e));var m=i==="top"&&!o||i==="bottom"&&o;l[h.id]=u-Number(m)*p.height,u+=(m?-1:1)*p.height}),l}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(e,t,n,i,o)=>{var l={},u;return n.forEach(h=>{var p=getYAxisSize(t,h);u==null&&(u=combineYAxisPositionStartingPoint(t,i,e));var m=i==="left"&&!o||i==="right"&&o;l[h.id]=u-Number(m)*p.width,u+=(m?-1:1)*p.width}),l}),selectXAxisOffsetSteps=(e,t)=>{var n=selectXAxisSettings(e,t);if(n!=null)return selectAllXAxesOffsetSteps(e,n.orientation,n.mirror)},selectXAxisPosition=createSelector([selectChartOffsetInternal,selectXAxisSettings,selectXAxisOffsetSteps,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var o=n==null?void 0:n[i];return o==null?{x:e.left,y:0}:{x:e.left,y:o}}}),selectYAxisOffsetSteps=(e,t)=>{var n=selectYAxisSettings(e,t);if(n!=null)return selectAllYAxesOffsetSteps(e,n.orientation,n.mirror)},selectYAxisPosition=createSelector([selectChartOffsetInternal,selectYAxisSettings,selectYAxisOffsetSteps,(e,t)=>t],(e,t,n,i)=>{if(t!=null){var o=n==null?void 0:n[i];return o==null?{x:0,y:e.top}:{x:o,y:e.top}}}),selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(e,t)=>{var n=typeof t.width=="number"?t.width:DEFAULT_Y_AXIS_WIDTH;return{width:n,height:e.height}}),selectCartesianAxisSize=(e,t,n)=>{switch(t){case"xAxis":return selectXAxisSize(e,n).width;case"yAxis":return selectYAxisSize(e,n).height;default:return}},combineDuplicateDomain=(e,t,n,i)=>{if(n!=null){var{allowDuplicatedCategory:o,type:l,dataKey:u}=n,h=isCategoricalAxis(e,i),p=t.map(m=>m.value);if(u&&h&&l==="category"&&o&&hasDuplicate(p))return p}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(e,t,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:o,scale:l}=n,u=isCategoricalAxis(e,i);if(u&&(o==="number"||l!=="auto"))return t.map(h=>h.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(e,t,n,i,o,l,u,h,p)=>{if(t!=null){var m=isCategoricalAxis(e,p);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:p,categoricalDomain:l,duplicateDomain:o,isCategorical:m,niceTicks:h,range:u,realScaleType:n,scale:i}}}),combineAxisTicks=(e,t,n,i,o,l,u,h,p)=>{if(!(t==null||i==null)){var m=isCategoricalAxis(e,p),{type:g,ticks:b,tickCount:E}=t,_=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,A=g==="category"&&i.bandwidth?i.bandwidth()/_:0;A=p==="angleAxis"&&l!=null&&l.length>=2?mathSign(l[0]-l[1])*2*A:A;var w=b||o;if(w){var T=w.map((C,B)=>{var N=u?u.indexOf(C):C;return{index:B,coordinate:i(N)+A,value:C,offset:A}});return T.filter(C=>isWellBehavedNumber(C.coordinate))}return m&&h?h.map((C,B)=>({coordinate:i(C)+A,value:C,index:B,offset:A})).filter(C=>isWellBehavedNumber(C.coordinate)):i.ticks?i.ticks(E).map(C=>({coordinate:i(C)+A,value:C,offset:A})):i.domain().map((C,B)=>({coordinate:i(C)+A,value:u?u[C]:C,index:B,offset:A}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(e,t,n,i,o,l,u)=>{if(!(t==null||n==null||i==null||i[0]===i[1])){var h=isCategoricalAxis(e,u),{tickCount:p}=t,m=0;return m=u==="angleAxis"&&(i==null?void 0:i.length)>=2?mathSign(i[0]-i[1])*2*m:m,h&&l?l.map((g,b)=>({coordinate:n(g)+m,value:g,index:b,offset:m})):n.ticks?n.ticks(p).map(g=>({coordinate:n(g)+m,value:g,offset:m})):n.domain().map((g,b)=>({coordinate:n(g)+m,value:o?o[g]:g,index:b,offset:m}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(e,t)=>{if(!(e==null||t==null))return _objectSpread$p(_objectSpread$p({},e),{},{scale:t})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((e,t,n)=>selectZAxisSettings(e,n),selectZAxisScale,(e,t)=>{if(!(e==null||t==null))return _objectSpread$p(_objectSpread$p({},e),{},{scale:t})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(e,t,n)=>{switch(e){case"horizontal":return t.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=e=>e.options.defaultTooltipEventType,selectValidateTooltipEventTypes=e=>e.options.validateTooltipEventTypes;function combineTooltipEventType(e,t,n){if(e==null)return t;var i=e?"axis":"item";return n==null?t:n.includes(i)?i:t}function selectTooltipEventType$1(e,t){var n=selectDefaultTooltipEventType(e),i=selectValidateTooltipEventTypes(e);return combineTooltipEventType(t,n,i)}function useTooltipEventType(e){return useAppSelector(t=>selectTooltipEventType$1(t,e))}var combineActiveLabel=(e,t)=>{var n,i=Number(t);if(!(isNan(i)||t==null))return i>=0?e==null||(n=e[i])===null||n===void 0?void 0:n.value:void 0},selectTooltipSettings=e=>e.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},initialState$9={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:prepareAutoBatched()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:i}=t.payload,o=current$1(e).tooltipItemPayloads.indexOf(n);o>-1&&(e.tooltipItemPayloads[o]=i)},prepare:prepareAutoBatched()},removeTooltipEntrySettings:{reducer(e,t){var n=current$1(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:prepareAutoBatched()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings,replaceTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$o(Object(n),!0).forEach(function(i){_defineProperty$r(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$o(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$r(e,t,n){return(t=_toPropertyKey$r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$r(e){var t=_toPrimitive$r(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$r(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function chooseAppropriateMouseInteraction(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hasBeenActivePreviously(e){return e.index!=null}var combineTooltipInteractionState=(e,t,n,i)=>{if(t==null)return noInteraction;var o=chooseAppropriateMouseInteraction(e,t,n);if(o==null)return noInteraction;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(hasBeenActivePreviously(o)){if(l)return _objectSpread$o(_objectSpread$o({},o),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return _objectSpread$o(_objectSpread$o({},noInteraction),{},{coordinate:o.coordinate})};function toFiniteNumber(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function isValueWithinNumberDomain(e,t){var n=toFiniteNumber(e),i=t[0],o=t[1];if(n===void 0)return!1;var l=Math.min(i,o),u=Math.max(i,o);return n>=l&&n<=u}function isValueWithinDomain(e,t,n){if(n==null||t==null)return!0;var i=getValueByDataKey(e,t);return i==null||!isWellFormedNumberDomain(n)?!0:isValueWithinNumberDomain(i,n)}var combineActiveTooltipIndex=(e,t,n,i)=>{var o=e==null?void 0:e.index;if(o==null)return null;var l=Number(o);if(!isWellBehavedNumber(l))return o;var u=0,h=1/0;t.length>0&&(h=t.length-1);var p=Math.max(u,Math.min(l,h)),m=t[p];return m==null||isValueWithinDomain(m,n,i)?String(p):null},combineCoordinateForDefaultIndex=(e,t,n,i,o,l,u,h)=>{if(!(l==null||h==null)){var p=u[0],m=p==null?void 0:h(p.positions,l);if(m!=null)return m;var g=o==null?void 0:o[Number(l)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(i.top+t)/2};default:return{x:(i.left+e)/2,y:g.coordinate}}}},combineTooltipPayloadConfigurations=(e,t,n,i)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;if(n==="hover"?o=e.itemInteraction.hover.graphicalItemId:o=e.itemInteraction.click.graphicalItemId,o==null&&i!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(u=>{var h;return((h=u.settings)===null||h===void 0?void 0:h.graphicalItemId)===o})},selectTooltipPayloadSearcher=e=>e.options.tooltipPayloadSearcher,selectTooltipState=e=>e.tooltip;function ownKeys$n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$n(Object(n),!0).forEach(function(i){_defineProperty$q(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$n(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$q(e,t,n){return(t=_toPropertyKey$q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$q(e){var t=_toPrimitive$q(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function selectFinalData(e,t){return e??t}var combineTooltipPayload=(e,t,n,i,o,l,u)=>{if(!(t==null||l==null)){var{chartData:h,computedData:p,dataStartIndex:m,dataEndIndex:g}=n,b=[];return e.reduce((E,_)=>{var A,{dataDefinedOnItem:w,settings:T}=_,C=selectFinalData(w,h),B=Array.isArray(C)?getSliced(C,m,g):C,N=(A=T==null?void 0:T.dataKey)!==null&&A!==void 0?A:i,j=T==null?void 0:T.nameKey,M;if(i&&Array.isArray(B)&&!Array.isArray(B[0])&&u==="axis"?M=findEntryInArray(B,i,o):M=l(B,t,p,j),Array.isArray(M))M.forEach(V=>{var L=_objectSpread$n(_objectSpread$n({},T),{},{name:V.name,unit:V.unit,color:void 0,fill:void 0});E.push(getTooltipEntry({tooltipEntrySettings:L,dataKey:V.dataKey,payload:V.payload,value:getValueByDataKey(V.payload,V.dataKey),name:V.name}))});else{var D;E.push(getTooltipEntry({tooltipEntrySettings:T,dataKey:N,payload:M,value:getValueByDataKey(M,N),name:(D=getValueByDataKey(M,j))!==null&&D!==void 0?D:T==null?void 0:T.name}))}return E},b)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],e=>e.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData,{memoizeOptions:{resultEqualityCheck:emptyArraysAreEqualCheck}}),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectTooltipDataOverflow=createSelector([selectTooltipAxis],e=>e.allowDataOverflow),selectTooltipDomainFromUserPreferences=createSelector([selectTooltipAxisDomainDefinition,selectTooltipDataOverflow],numericalDomainSpecifiedWithoutRequiringData),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],e=>e.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType,selectReverseStackOrder],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType,selectTooltipDomainFromUserPreferences],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectDomainOfAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues,{memoizeOptions:{resultEqualityCheck:numberDomainEqualityCheck}}),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainFromUserPreferences,selectTooltipDomainOfStackGroups,selectDomainOfAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=e=>{var t=selectTooltipAxisType(e),n=selectTooltipAxisId(e),i=!1;return selectAxisRange(e,t,n,i)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(e,t,n,i,o,l,u,h)=>{if(t){var{type:p}=t,m=isCategoricalAxis(e,h);if(i){var g=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,b=p==="category"&&i.bandwidth?i.bandwidth()/g:0;return b=h==="angleAxis"&&o!=null&&(o==null?void 0:o.length)>=2?mathSign(o[0]-o[1])*2*b:b,m&&u?u.map((E,_)=>({coordinate:i(E)+b,value:E,index:_,offset:b})):i.domain().map((E,_)=>({coordinate:i(E)+b,value:l?l[E]:E,index:_,offset:b}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(e,t,n)=>combineTooltipEventType(n.shared,e,t)),selectTooltipTrigger=e=>e.tooltip.settings.trigger,selectDefaultIndex=e=>e.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],e=>{if(e)return e.dataKey}),selectActiveTooltipGraphicalItemId=createSelector([selectTooltipInteractionState$1],e=>{if(e)return e.graphicalItemId}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function ownKeys$m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$m(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$m(Object(n),!0).forEach(function(i){_defineProperty$p(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$m(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$p(e,t,n){return(t=_toPropertyKey$p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$p(e){var t=_toPrimitive$p(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$p(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var e=useTooltipAxis(),t=useAppSelector(selectTooltipAxisTicks),n=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(!e||!n?void 0:_objectSpread$m(_objectSpread$m({},e),{},{scale:n}),t)};function ownKeys$l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$l(Object(n),!0).forEach(function(i){_defineProperty$o(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$l(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$o(e,t,n){return(t=_toPropertyKey$o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$o(e){var t=_toPrimitive$o(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$o(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var getActiveCartesianCoordinate=(e,t,n,i)=>{var o=t.find(l=>l&&l.index===n);if(o){if(e==="horizontal")return{x:o.coordinate,y:i.chartY};if(e==="vertical")return{x:i.chartX,y:o.coordinate}}return{x:0,y:0}},getActivePolarCoordinate=(e,t,n,i)=>{var o=t.find(m=>m&&m.index===n);if(o){if(e==="centric"){var l=o.coordinate,{radius:u}=i;return _objectSpread$l(_objectSpread$l(_objectSpread$l({},i),polarToCartesian(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}var h=o.coordinate,{angle:p}=i;return _objectSpread$l(_objectSpread$l(_objectSpread$l({},i),polarToCartesian(i.cx,i.cy,h,p)),{},{angle:p,radius:h})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function isInCartesianRange(e,t){var{chartX:n,chartY:i}=e;return n>=t.left&&n<=t.left+t.width&&i>=t.top&&i<=t.top+t.height}var calculateActiveTickIndex=(e,t,n,i,o)=>{var l,u=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(u<=1||e==null)return 0;if(i==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var h=0;h<u;h++){var p,m,g,b,E,_=h>0?(p=n[h-1])===null||p===void 0?void 0:p.coordinate:(m=n[u-1])===null||m===void 0?void 0:m.coordinate,A=(g=n[h])===null||g===void 0?void 0:g.coordinate,w=h>=u-1?(b=n[0])===null||b===void 0?void 0:b.coordinate:(E=n[h+1])===null||E===void 0?void 0:E.coordinate,T=void 0;if(!(_==null||A==null||w==null))if(mathSign(A-_)!==mathSign(w-A)){var C=[];if(mathSign(w-A)===mathSign(o[1]-o[0])){T=w;var B=A+o[1]-o[0];C[0]=Math.min(B,(B+_)/2),C[1]=Math.max(B,(B+_)/2)}else{T=_;var N=w+o[1]-o[0];C[0]=Math.min(A,(N+A)/2),C[1]=Math.max(A,(N+A)/2)}var j=[Math.min(A,(T+A)/2),Math.max(A,(T+A)/2)];if(e>j[0]&&e<=j[1]||e>=C[0]&&e<=C[1]){var M;return(M=n[h])===null||M===void 0?void 0:M.index}}else{var D=Math.min(_,w),V=Math.max(_,w);if(e>(D+A)/2&&e<=(V+A)/2){var L;return(L=n[h])===null||L===void 0?void 0:L.index}}}else if(t)for(var U=0;U<u;U++){var J=t[U];if(J!=null){var $=t[U+1],K=t[U-1];if(U===0&&$!=null&&e<=(J.coordinate+$.coordinate)/2||U===u-1&&K!=null&&e>(J.coordinate+K.coordinate)/2||U>0&&U<u-1&&K!=null&&$!=null&&e>(J.coordinate+K.coordinate)/2&&e<=(J.coordinate+$.coordinate)/2)return J.index}}return-1},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(e,t)=>t,pickTrigger=(e,t,n)=>n,pickDefaultIndex=(e,t,n,i)=>i,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,e=>sortBy(e,t=>t.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData,selectTooltipAxisDataKey,selectTooltipAxisDomain],combineActiveTooltipIndex),selectTooltipDataKey=(e,t,n)=>{if(t!=null){var i=selectTooltipState(e);return t==="axis"?n==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:n==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),selectActiveLabel=createSelector([selectTooltipAxisTicks,selectActiveIndex],combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxisDataKey,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState,selectActiveIndex],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),combineActiveCartesianProps=(e,t,n,i,o,l,u)=>{if(!(!e||!n||!i||!o)&&isInCartesianRange(e,u)){var h=calculateCartesianTooltipPos(e,t),p=calculateActiveTickIndex(h,l,o,n,i),m=getActiveCartesianCoordinate(t,o,p,e);return{activeIndex:String(p),activeCoordinate:m}}},combineActivePolarProps=(e,t,n,i,o,l,u)=>{if(!(!e||!i||!o||!l||!n)){var h=inRangeOfSector(e,n);if(h){var p=calculatePolarTooltipPos(h,t),m=calculateActiveTickIndex(p,u,l,i,o),g=getActivePolarCoordinate(t,l,m,h);return{activeIndex:String(m),activeCoordinate:g}}}},combineActiveProps=(e,t,n,i,o,l,u,h)=>{if(!(!e||!t||!i||!o||!l))return t==="horizontal"||t==="vertical"?combineActiveCartesianProps(e,t,i,o,l,u,h):combineActivePolarProps(e,t,n,i,o,l,u)},selectZIndexPortalElement=createSelector(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var i=e[t];if(i!=null)return n?i.panoramaElement:i.element}}),selectAllRegisteredZIndexes=createSelector(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(i=>parseInt(i,10)).concat(Object.values(DefaultZIndexes)),n=Array.from(new Set(t));return n.sort((i,o)=>i-o)},{memoizeOptions:{resultEqualityCheck:arrayContentsAreEqualCheck}});function ownKeys$k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$k(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$k(Object(n),!0).forEach(function(i){_defineProperty$n(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$k(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$n(e,t,n){return(t=_toPropertyKey$n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$n(e){var t=_toPrimitive$n(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$n(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var seed={},initialState$8={zIndexMap:Object.values(DefaultZIndexes).reduce((e,t)=>_objectSpread$k(_objectSpread$k({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),seed)},defaultZIndexSet=new Set(Object.values(DefaultZIndexes));function isDefaultZIndex(e){return defaultZIndexSet.has(e)}var zIndexSlice=createSlice({name:"zIndex",initialState:initialState$8,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!isDefaultZIndex(n)&&delete e.zIndexMap[n])},prepare:prepareAutoBatched()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:i,isPanorama:o}=t.payload;e.zIndexMap[n]?o?e.zIndexMap[n].panoramaElement=i:e.zIndexMap[n].element=i:e.zIndexMap[n]={consumers:0,element:o?void 0:i,panoramaElement:o?i:void 0}},prepare:prepareAutoBatched()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:prepareAutoBatched()}}}),{registerZIndexPortal,unregisterZIndexPortal,registerZIndexPortalElement,unregisterZIndexPortalElement}=zIndexSlice.actions,zIndexReducer=zIndexSlice.reducer;function ZIndexLayer(e){var{zIndex:t,children:n}=e,i=useIsInChartContext(),o=i&&t!==void 0&&t!==0,l=useIsPanorama(),u=useAppDispatch();reactExports.useLayoutEffect(()=>o?(u(registerZIndexPortal({zIndex:t})),()=>{u(unregisterZIndexPortal({zIndex:t}))}):noop$3,[u,t,o]);var h=useAppSelector(p=>selectZIndexPortalElement(p,t,l));return o?h?reactDomExports.createPortal(n,h):null:n}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$j.apply(null,arguments)}function ownKeys$j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$j(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$j(Object(n),!0).forEach(function(i){_defineProperty$m(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$j(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$m(e,t,n){return(t=_toPropertyKey$m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$m(e){var t=_toPrimitive$m(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$m(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RenderCursor(e){var{cursor:t,cursorComp:n,cursorProps:i}=e;return reactExports.isValidElement(t)?reactExports.cloneElement(t,i):reactExports.createElement(n,i)}function CursorInternal(e){var t,{coordinate:n,payload:i,index:o,offset:l,tooltipAxisBandSize:u,layout:h,cursor:p,tooltipEventType:m,chartName:g}=e,b=n,E=i,_=o;if(!p||!b||g!=="ScatterChart"&&m!=="axis")return null;var A,w,T;if(g==="ScatterChart")A=b,w=Cross,T=DefaultZIndexes.cursorLine;else if(g==="BarChart")A=getCursorRectangle(h,b,l,u),w=Rectangle,T=DefaultZIndexes.cursorRectangle;else if(h==="radial"&&isPolarCoordinate(b)){var{cx:C,cy:B,radius:N,startAngle:j,endAngle:M}=getRadialCursorPoints(b);A={cx:C,cy:B,startAngle:j,endAngle:M,innerRadius:N,outerRadius:N},w=Sector,T=DefaultZIndexes.cursorLine}else A={points:getCursorPoints(h,b,l)},w=Curve,T=DefaultZIndexes.cursorLine;var D=typeof p=="object"&&"className"in p?p.className:void 0,V=_objectSpread$j(_objectSpread$j(_objectSpread$j(_objectSpread$j({stroke:"#ccc",pointerEvents:"none"},l),A),svgPropertiesNoEventsFromUnknown(p)),{},{payload:E,payloadIndex:_,className:clsx("recharts-tooltip-cursor",D)});return reactExports.createElement(ZIndexLayer,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},reactExports.createElement(RenderCursor,{cursor:p,cursorComp:w,cursorProps:V}))}function Cursor(e){var t=useTooltipAxisBandSize(),n=useOffsetInternal(),i=useChartLayout(),o=useChartName();return t==null||n==null||i==null||o==null?null:reactExports.createElement(CursorInternal,_extends$j({},e,{offset:n,layout:i,tooltipAxisBandSize:t,chartName:o}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function l(p,m,g,b,E){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new o(g,b||p,E),A=n?n+m:m;return p._events[A]?p._events[A].fn?p._events[A]=[p._events[A],_]:p._events[A].push(_):(p._events[A]=_,p._eventsCount++),p}function u(p,m){--p._eventsCount===0?p._events=new i:delete p._events[m]}function h(){this._events=new i,this._eventsCount=0}h.prototype.eventNames=function(){var m=[],g,b;if(this._eventsCount===0)return m;for(b in g=this._events)t.call(g,b)&&m.push(n?b.slice(1):b);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},h.prototype.listeners=function(m){var g=n?n+m:m,b=this._events[g];if(!b)return[];if(b.fn)return[b.fn];for(var E=0,_=b.length,A=new Array(_);E<_;E++)A[E]=b[E].fn;return A},h.prototype.listenerCount=function(m){var g=n?n+m:m,b=this._events[g];return b?b.fn?1:b.length:0},h.prototype.emit=function(m,g,b,E,_,A){var w=n?n+m:m;if(!this._events[w])return!1;var T=this._events[w],C=arguments.length,B,N;if(T.fn){switch(T.once&&this.removeListener(m,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,g),!0;case 3:return T.fn.call(T.context,g,b),!0;case 4:return T.fn.call(T.context,g,b,E),!0;case 5:return T.fn.call(T.context,g,b,E,_),!0;case 6:return T.fn.call(T.context,g,b,E,_,A),!0}for(N=1,B=new Array(C-1);N<C;N++)B[N-1]=arguments[N];T.fn.apply(T.context,B)}else{var j=T.length,M;for(N=0;N<j;N++)switch(T[N].once&&this.removeListener(m,T[N].fn,void 0,!0),C){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,g);break;case 3:T[N].fn.call(T[N].context,g,b);break;case 4:T[N].fn.call(T[N].context,g,b,E);break;default:if(!B)for(M=1,B=new Array(C-1);M<C;M++)B[M-1]=arguments[M];T[N].fn.apply(T[N].context,B)}}return!0},h.prototype.on=function(m,g,b){return l(this,m,g,b,!1)},h.prototype.once=function(m,g,b){return l(this,m,g,b,!0)},h.prototype.removeListener=function(m,g,b,E){var _=n?n+m:m;if(!this._events[_])return this;if(!g)return u(this,_),this;var A=this._events[_];if(A.fn)A.fn===g&&(!E||A.once)&&(!b||A.context===b)&&u(this,_);else{for(var w=0,T=[],C=A.length;w<C;w++)(A[w].fn!==g||E&&!A[w].once||b&&A[w].context!==b)&&T.push(A[w]);T.length?this._events[_]=T.length===1?T[0]:T:u(this,_)}return this},h.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&u(this,g)):(this._events=new i,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,e.exports=h})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(e,t){if(t){var n=Number.parseInt(t,10);if(!isNan(n))return e==null?void 0:e[n]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(e){return e.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:i}=t.payload;n!=null&&(e.dataStartIndex=n),i!=null&&(e.dataEndIndex=i)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,_excluded$i=["x","y"];function ownKeys$i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$i(Object(n),!0).forEach(function(i){_defineProperty$l(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$i(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$l(e,t,n){return(t=_toPropertyKey$l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$l(e){var t=_toPrimitive$l(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$l(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$i(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$i(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$i(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function useTooltipSyncEventsListener(){var e=useAppSelector(selectSyncId),t=useAppSelector(selectEventEmitter),n=useAppDispatch(),i=useAppSelector(selectSyncMethod),o=useAppSelector(selectTooltipAxisTicks),l=useChartLayout(),u=useViewBox(),h=useAppSelector(p=>p.rootProps.className);reactExports.useEffect(()=>{if(e==null)return noop$3;var p=(m,g,b)=>{if(t!==b&&e===m){if(i==="index"){var E;if(u&&g!==null&&g!==void 0&&(E=g.payload)!==null&&E!==void 0&&E.coordinate&&g.payload.sourceViewBox){var _=g.payload.coordinate,{x:A,y:w}=_,T=_objectWithoutProperties$i(_,_excluded$i),{x:C,y:B,width:N,height:j}=g.payload.sourceViewBox,M=_objectSpread$i(_objectSpread$i({},T),{},{x:u.x+(N?(A-C)/N:0)*u.width,y:u.y+(j?(w-B)/j:0)*u.height});n(_objectSpread$i(_objectSpread$i({},g),{},{payload:_objectSpread$i(_objectSpread$i({},g.payload),{},{coordinate:M})}))}else n(g);return}if(o!=null){var D;if(typeof i=="function"){var V={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},L=i(o,V);D=o[L]}else i==="value"&&(D=o.find(ee=>String(ee.value)===g.payload.label));var{coordinate:U}=g.payload;if(D==null||g.payload.active===!1||U==null||u==null){n(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:J,y:$}=U,K=Math.min(J,u.x+u.width),te=Math.min($,u.y+u.height),me={x:l==="horizontal"?D.coordinate:K,y:l==="horizontal"?te:D.coordinate},he=setSyncInteraction({active:g.payload.active,coordinate:me,dataKey:g.payload.dataKey,index:String(D.index),label:g.payload.label,sourceViewBox:g.payload.sourceViewBox,graphicalItemId:g.payload.graphicalItemId});n(he)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,p),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,p)}},[h,n,t,e,i,o,l,u])}function useBrushSyncEventsListener(){var e=useAppSelector(selectSyncId),t=useAppSelector(selectEventEmitter),n=useAppDispatch();reactExports.useEffect(()=>{if(e==null)return noop$3;var i=(o,l,u)=>{t!==u&&e===o&&n(setDataStartEndIndexes(l))};return eventCenter.on(BRUSH_SYNC_EVENT,i),()=>{eventCenter.off(BRUSH_SYNC_EVENT,i)}},[n,t,e])}function useSynchronisedEventsFromOtherCharts(){var e=useAppDispatch();reactExports.useEffect(()=>{e(createEventEmitter())},[e]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(e,t,n,i,o,l){var u=useAppSelector(_=>selectTooltipDataKey(_,e,t)),h=useAppSelector(selectEventEmitter),p=useAppSelector(selectSyncId),m=useAppSelector(selectSyncMethod),g=useAppSelector(selectSynchronisedTooltipState),b=g==null?void 0:g.active,E=useViewBox();reactExports.useEffect(()=>{if(!b&&p!=null&&h!=null){var _=setSyncInteraction({active:l,coordinate:n,dataKey:u,index:o,label:typeof i=="number"?String(i):i,sourceViewBox:E,graphicalItemId:void 0});eventCenter.emit(TOOLTIP_SYNC_EVENT,p,_,h)}},[b,n,u,o,i,h,p,m,l,E])}function ownKeys$h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$h(Object(n),!0).forEach(function(i){_defineProperty$k(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$h(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$k(e,t,n){return(t=_toPropertyKey$k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$k(e){var t=_toPrimitive$k(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$k(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultUniqBy(e){return e.dataKey}function renderContent(e,t){return reactExports.isValidElement(e)?reactExports.cloneElement(e,t):typeof e=="function"?reactExports.createElement(e,t):reactExports.createElement(DefaultTooltipContent,t)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(e){var t,n,i=resolveDefaultProps(e,defaultTooltipProps),{active:o,allowEscapeViewBox:l,animationDuration:u,animationEasing:h,content:p,filterNull:m,isAnimationActive:g,offset:b,payloadUniqBy:E,position:_,reverseDirection:A,useTranslate3d:w,wrapperStyle:T,cursor:C,shared:B,trigger:N,defaultIndex:j,portal:M,axisId:D}=i,V=useAppDispatch(),L=typeof j=="number"?String(j):j;reactExports.useEffect(()=>{V(setTooltipSettingsState({shared:B,trigger:N,axisId:D,active:o,defaultIndex:L}))},[V,B,N,D,o,L]);var U=useViewBox(),J=useAccessibilityLayer(),$=useTooltipEventType(B),{activeIndex:K,isActive:te}=(t=useAppSelector(Q=>selectIsTooltipActive(Q,$,N,L)))!==null&&t!==void 0?t:{},me=useAppSelector(Q=>selectTooltipPayload(Q,$,N,L)),he=useAppSelector(Q=>selectActiveLabel(Q,$,N,L)),ee=useAppSelector(Q=>selectActiveCoordinate(Q,$,N,L)),ie=me,ce=useTooltipPortal(),ne=(n=o??te)!==null&&n!==void 0?n:!1,[Z,G]=useElementOffset([ie,ne]),H=$==="axis"?he:void 0;useTooltipChartSynchronisation($,N,ee,H,K,ne);var F=M??ce;if(F==null||U==null||$==null)return null;var z=ie??emptyPayload;ne||(z=emptyPayload),m&&z.length&&(z=getUniqPayload(z.filter(Q=>Q.value!=null&&(Q.hide!==!0||i.includeHidden)),E,defaultUniqBy));var Y=z.length>0,ae=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:l,animationDuration:u,animationEasing:h,isAnimationActive:g,active:ne,coordinate:ee,hasPayload:Y,offset:b,position:_,reverseDirection:A,useTranslate3d:w,viewBox:U,wrapperStyle:T,lastBoundingBox:Z,innerRef:G,hasPortalFromProps:!!M},renderContent(p,_objectSpread$h(_objectSpread$h({},i),{},{payload:z,label:H,active:ne,activeIndex:K,coordinate:ee,accessibilityLayer:J})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(ae,F),ne&&reactExports.createElement(Cursor,{cursor:C,tooltipEventType:$,coordinate:ee,payload:z,index:K}))}var Cell=e=>null;Cell.displayName="Cell";function _defineProperty$j(e,t,n){return(t=_toPropertyKey$j(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$j(e){var t=_toPrimitive$j(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$j(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class LRUCache{constructor(t){_defineProperty$j(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$g(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$g(Object(n),!0).forEach(function(i){_defineProperty$i(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$g(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$i(e,t,n){return(t=_toPropertyKey$i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$i(e){var t=_toPrimitive$i(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$i(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$g({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(e,t){var n=t.fontSize||"",i=t.fontFamily||"",o=t.fontWeight||"",l=t.fontStyle||"",u=t.letterSpacing||"",h=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(l,"|").concat(u,"|").concat(h)}var measureTextWithDOM=(e,t)=>{try{var n=document.getElementById(MEASUREMENT_SPAN_ID);n||(n=document.createElement("span"),n.setAttribute("id",MEASUREMENT_SPAN_ID),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,SPAN_STYLE,t),n.textContent="".concat(e);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},getStringSize=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Global.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(t,n);var i=createCacheKey(t,n),o=stringCache.get(i);if(o)return o;var l=measureTextWithDOM(t,n);return stringCache.set(i,l),l},_DecimalCSS;function _defineProperty$h(e,t,n){return(t=_toPropertyKey$h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$h(e){var t=_toPrimitive$h(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$h(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=["cm","mm","pt","pc","in","Q","px"];function isSupportedUnit(e){return FIXED_CSS_LENGTH_UNITS.includes(e)}var STR_NAN="NaN";function convertToPx(e,t){return e*CONVERSION_RATES[t]}class DecimalCSS{static parse(t){var n,[,i,o]=(n=NUM_SPLIT_REGEX.exec(t))!==null&&n!==void 0?n:[];return i==null?DecimalCSS.NaN:new DecimalCSS(parseFloat(i),o??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,isNan(t)&&(this.unit=""),n!==""&&!CSS_LENGTH_UNIT_REGEX.test(n)&&(this.num=NaN,this.unit=""),isSupportedUnit(n)&&(this.num=convertToPx(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}_DecimalCSS=DecimalCSS;_defineProperty$h(DecimalCSS,"NaN",new _DecimalCSS(NaN,""));function calculateArithmetic(e){if(e==null||e.includes(STR_NAN))return STR_NAN;for(var t=e;t.includes("*")||t.includes("/");){var n,[,i,o,l]=(n=MULTIPLY_OR_DIVIDE_REGEX.exec(t))!==null&&n!==void 0?n:[],u=DecimalCSS.parse(i??""),h=DecimalCSS.parse(l??""),p=o==="*"?u.multiply(h):u.divide(h);if(p.isNaN())return STR_NAN;t=t.replace(MULTIPLY_OR_DIVIDE_REGEX,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,b,E]=(m=ADD_OR_SUBTRACT_REGEX.exec(t))!==null&&m!==void 0?m:[],_=DecimalCSS.parse(g??""),A=DecimalCSS.parse(E??""),w=b==="+"?_.add(A):_.subtract(A);if(w.isNaN())return STR_NAN;t=t.replace(ADD_OR_SUBTRACT_REGEX,w.toString())}return t}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(e){for(var t=e,n;(n=PARENTHESES_REGEX.exec(t))!=null;){var[,i]=n;t=t.replace(PARENTHESES_REGEX,calculateArithmetic(i))}return t}function evaluateExpression(e){var t=e.replace(/\s+/g,"");return t=calculateParentheses(t),t=calculateArithmetic(t),t}function safeEvaluateExpression(e){try{return evaluateExpression(e)}catch{return STR_NAN}}function reduceCSSCalc(e){var t=safeEvaluateExpression(e.slice(5,-1));return t===STR_NAN?"":t}var _excluded$h=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_excluded2$9=["dx","dy","angle","className","breakAll"];function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$i.apply(null,arguments)}function _objectWithoutProperties$h(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$h(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$h(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=e=>{var{children:t,breakAll:n,style:i}=e;try{var o=[];isNullish(t)||(n?o=t.toString().split(""):o=t.toString().split(BREAKING_SPACES));var l=o.map(h=>({word:h,width:getStringSize(h,i).width})),u=n?0:getStringSize("",i).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}};function isValidTextAnchor(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var calculate=(e,t,n,i)=>e.reduce((o,l)=>{var{word:u,width:h}=l,p=o[o.length-1];if(p&&h!=null&&(t==null||i||p.width+h+n<Number(t)))p.words.push(u),p.width+=h+n;else{var m={words:[u],width:h};o.push(m)}return o},[]),findLongestLine=e=>e.reduce((t,n)=>t.width>n.width?t:n),suffix="",checkOverflow=(e,t,n,i,o,l,u,h)=>{var p=e.slice(0,t),m=calculateWordWidths({breakAll:n,style:i,children:p+suffix});if(!m)return[!1,[]];var g=calculate(m.wordsWithComputedWidth,l,u,h),b=g.length>o||findLongestLine(g).width>Number(l);return[b,g]},calculateWordsByLines=(e,t,n,i,o)=>{var{maxLines:l,children:u,style:h,breakAll:p}=e,m=isNumber(l),g=String(u),b=calculate(t,i,n,o);if(!m||o)return b;var E=b.length>l||findLongestLine(b).width>Number(i);if(!E)return b;for(var _=0,A=g.length-1,w=0,T;_<=A&&w<=g.length-1;){var C=Math.floor((_+A)/2),B=C-1,[N,j]=checkOverflow(g,B,p,h,l,i,n,o),[M]=checkOverflow(g,C,p,h,l,i,n,o);if(!N&&!M&&(_=C+1),N&&M&&(A=C-1),!N&&M){T=j;break}w++}return T||b},getWordsWithoutCalculate=e=>{var t=isNullish(e)?[]:e.toString().split(BREAKING_SPACES);return[{words:t,width:void 0}]},getWordsByLines=e=>{var{width:t,scaleToFit:n,children:i,style:o,breakAll:l,maxLines:u}=e;if((t||n)&&!Global.isSsr){var h,p,m=calculateWordWidths({breakAll:l,children:i,style:o});if(m){var{wordsWithComputedWidth:g,spaceWidth:b}=m;h=g,p=b}else return getWordsWithoutCalculate(i);return calculateWordsByLines({breakAll:l,children:i,maxLines:u,style:o},h,p,t,!!n)}return getWordsWithoutCalculate(i)},DEFAULT_FILL="#808080",textDefaultProps={angle:0,breakAll:!1,capHeight:"0.71em",fill:DEFAULT_FILL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Text=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,textDefaultProps),{x:i,y:o,lineHeight:l,capHeight:u,fill:h,scaleToFit:p,textAnchor:m,verticalAnchor:g}=n,b=_objectWithoutProperties$h(n,_excluded$h),E=reactExports.useMemo(()=>getWordsByLines({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:p,style:b.style,width:b.width}),[b.breakAll,b.children,b.maxLines,p,b.style,b.width]),{dx:_,dy:A,angle:w,className:T,breakAll:C}=b,B=_objectWithoutProperties$h(b,_excluded2$9);if(!isNumOrStr(i)||!isNumOrStr(o)||E.length===0)return null;var N=Number(i)+(isNumber(_)?_:0),j=Number(o)+(isNumber(A)?A:0);if(!isWellBehavedNumber(N)||!isWellBehavedNumber(j))return null;var M;switch(g){case"start":M=reduceCSSCalc("calc(".concat(u,")"));break;case"middle":M=reduceCSSCalc("calc(".concat((E.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=reduceCSSCalc("calc(".concat(E.length-1," * -").concat(l,")"));break}var D=[];if(p){var V=E[0].width,{width:L}=b;D.push("scale(".concat(isNumber(L)&&isNumber(V)?L/V:1,")"))}return w&&D.push("rotate(".concat(w,", ").concat(N,", ").concat(j,")")),D.length&&(B.transform=D.join(" ")),reactExports.createElement("text",_extends$i({},svgPropertiesAndEvents(B),{ref:t,x:N,y:j,className:clsx("recharts-text",T),textAnchor:m,fill:h.includes("url")?DEFAULT_FILL:h}),E.map((U,J)=>{var $=U.words.join(C?"":" ");return reactExports.createElement("tspan",{x:N,dy:J===0?M:l,key:"".concat($,"-").concat(J)},$)}))});Text.displayName="Text";var _excluded$g=["labelRef"],_excluded2$8=["content"];function _objectWithoutProperties$g(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$g(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$g(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ownKeys$f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$f(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$f(Object(n),!0).forEach(function(i){_defineProperty$g(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$f(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$g(e,t,n){return(t=_toPropertyKey$g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$g(e){var t=_toPrimitive$g(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$g(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$h.apply(null,arguments)}var CartesianLabelContext=reactExports.createContext(null),CartesianLabelContextProvider=e=>{var{x:t,y:n,upperWidth:i,lowerWidth:o,width:l,height:u,children:h}=e,p=reactExports.useMemo(()=>({x:t,y:n,upperWidth:i,lowerWidth:o,width:l,height:u}),[t,n,i,o,l,u]);return reactExports.createElement(CartesianLabelContext.Provider,{value:p},h)},useCartesianLabelContext=()=>{var e=reactExports.useContext(CartesianLabelContext),t=useViewBox();return e||cartesianViewBoxToTrapezoid(t)},PolarLabelContext=reactExports.createContext(null),usePolarLabelContext=()=>{var e=reactExports.useContext(PolarLabelContext),t=useAppSelector(selectPolarViewBox);return e||t},getLabel=e=>{var{value:t,formatter:n}=e,i=isNullish(e.children)?t:e.children;return typeof n=="function"?n(i):i},isLabelContentAFunction=e=>e!=null&&typeof e=="function",getDeltaAngle=(e,t)=>{var n=mathSign(t-e),i=Math.min(Math.abs(t-e),360);return n*i},renderRadialLabel=(e,t,n,i,o)=>{var{offset:l,className:u}=e,{cx:h,cy:p,innerRadius:m,outerRadius:g,startAngle:b,endAngle:E,clockWise:_}=o,A=(m+g)/2,w=getDeltaAngle(b,E),T=w>=0?1:-1,C,B;switch(t){case"insideStart":C=b+T*l,B=_;break;case"insideEnd":C=E-T*l,B=!_;break;case"end":C=E+T*l,B=_;break;default:throw new Error("Unsupported position ".concat(t))}B=w<=0?B:!B;var N=polarToCartesian(h,p,A,C),j=polarToCartesian(h,p,A,C+(B?1:-1)*359),M="M".concat(N.x,",").concat(N.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(B?0:1,`,
    `).concat(j.x,",").concat(j.y),D=isNullish(e.id)?uniqueId("recharts-radial-line-"):e.id;return reactExports.createElement("text",_extends$h({},i,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",u)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:D,d:M})),reactExports.createElement("textPath",{xlinkHref:"#".concat(D)},n))},getAttrsOfPolarLabel=(e,t,n)=>{var{cx:i,cy:o,innerRadius:l,outerRadius:u,startAngle:h,endAngle:p}=e,m=(h+p)/2;if(n==="outside"){var{x:g,y:b}=polarToCartesian(i,o,u+t,m);return{x:g,y:b,textAnchor:g>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var E=(l+u)/2,{x:_,y:A}=polarToCartesian(i,o,E,m);return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},isPolar=e=>"cx"in e&&isNumber(e.cx),getAttrsOfCartesianLabel=(e,t)=>{var{parentViewBox:n,offset:i,position:o}=e,l;n!=null&&!isPolar(n)&&(l=n);var{x:u,y:h,upperWidth:p,lowerWidth:m,height:g}=t,b=u,E=u+(p-m)/2,_=(b+E)/2,A=(p+m)/2,w=b+p/2,T=g>=0?1:-1,C=T*i,B=T>0?"end":"start",N=T>0?"start":"end",j=p>=0?1:-1,M=j*i,D=j>0?"end":"start",V=j>0?"start":"end";if(o==="top"){var L={x:b+p/2,y:h-C,textAnchor:"middle",verticalAnchor:B};return _objectSpread$f(_objectSpread$f({},L),l?{height:Math.max(h-l.y,0),width:p}:{})}if(o==="bottom"){var U={x:E+m/2,y:h+g+C,textAnchor:"middle",verticalAnchor:N};return _objectSpread$f(_objectSpread$f({},U),l?{height:Math.max(l.y+l.height-(h+g),0),width:m}:{})}if(o==="left"){var J={x:_-M,y:h+g/2,textAnchor:D,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},J),l?{width:Math.max(J.x-l.x,0),height:g}:{})}if(o==="right"){var $={x:_+A+M,y:h+g/2,textAnchor:V,verticalAnchor:"middle"};return _objectSpread$f(_objectSpread$f({},$),l?{width:Math.max(l.x+l.width-$.x,0),height:g}:{})}var K=l?{width:A,height:g}:{};return o==="insideLeft"?_objectSpread$f({x:_+M,y:h+g/2,textAnchor:V,verticalAnchor:"middle"},K):o==="insideRight"?_objectSpread$f({x:_+A-M,y:h+g/2,textAnchor:D,verticalAnchor:"middle"},K):o==="insideTop"?_objectSpread$f({x:b+p/2,y:h+C,textAnchor:"middle",verticalAnchor:N},K):o==="insideBottom"?_objectSpread$f({x:E+m/2,y:h+g-C,textAnchor:"middle",verticalAnchor:B},K):o==="insideTopLeft"?_objectSpread$f({x:b+M,y:h+C,textAnchor:V,verticalAnchor:N},K):o==="insideTopRight"?_objectSpread$f({x:b+p-M,y:h+C,textAnchor:D,verticalAnchor:N},K):o==="insideBottomLeft"?_objectSpread$f({x:E+M,y:h+g-C,textAnchor:V,verticalAnchor:B},K):o==="insideBottomRight"?_objectSpread$f({x:E+m-M,y:h+g-C,textAnchor:D,verticalAnchor:B},K):o&&typeof o=="object"&&(isNumber(o.x)||isPercent(o.x))&&(isNumber(o.y)||isPercent(o.y))?_objectSpread$f({x:u+getPercentValue(o.x,A),y:h+getPercentValue(o.y,g),textAnchor:"end",verticalAnchor:"end"},K):_objectSpread$f({x:w,y:h+g/2,textAnchor:"middle",verticalAnchor:"middle"},K)},defaultLabelProps={angle:0,offset:5,zIndex:DefaultZIndexes.label,position:"middle",textBreakAll:!1};function Label(e){var t=resolveDefaultProps(e,defaultLabelProps),{viewBox:n,position:i,value:o,children:l,content:u,className:h="",textBreakAll:p,labelRef:m}=t,g=usePolarLabelContext(),b=useCartesianLabelContext(),E=i==="center"?b:g??b,_,A,w;if(n==null?_=E:isPolar(n)?_=n:_=cartesianViewBoxToTrapezoid(n),!_||isNullish(o)&&isNullish(l)&&!reactExports.isValidElement(u)&&typeof u!="function")return null;var T=_objectSpread$f(_objectSpread$f({},t),{},{viewBox:_});if(reactExports.isValidElement(u)){var{labelRef:C}=T,B=_objectWithoutProperties$g(T,_excluded$g);return reactExports.cloneElement(u,B)}if(typeof u=="function"){var{content:N}=T,j=_objectWithoutProperties$g(T,_excluded2$8);if(A=reactExports.createElement(u,j),reactExports.isValidElement(A))return A}else A=getLabel(t);var M=svgPropertiesAndEvents(t);if(isPolar(_)){if(i==="insideStart"||i==="insideEnd"||i==="end")return renderRadialLabel(t,i,A,M,_);w=getAttrsOfPolarLabel(_,t.offset,t.position)}else w=getAttrsOfCartesianLabel(t,_);return reactExports.createElement(ZIndexLayer,{zIndex:t.zIndex},reactExports.createElement(Text,_extends$h({ref:m,className:clsx("recharts-label",h)},M,w,{textAnchor:isValidTextAnchor(M.textAnchor)?M.textAnchor:w.textAnchor,breakAll:p}),A))}Label.displayName="Label";var parseLabel=(e,t,n)=>{if(!e)return null;var i={viewBox:t,labelRef:n};return e===!0?reactExports.createElement(Label,_extends$h({key:"label-implicit"},i)):isNumOrStr(e)?reactExports.createElement(Label,_extends$h({key:"label-implicit",value:e},i)):reactExports.isValidElement(e)?e.type===Label?reactExports.cloneElement(e,_objectSpread$f({key:"label-implicit"},i)):reactExports.createElement(Label,_extends$h({key:"label-implicit",content:e},i)):isLabelContentAFunction(e)?reactExports.createElement(Label,_extends$h({key:"label-implicit",content:e},i)):e&&typeof e=="object"?reactExports.createElement(Label,_extends$h({},e,{key:"label-implicit"},i)):null};function CartesianLabelFromLabelProp(e){var{label:t,labelRef:n}=e,i=useCartesianLabelContext();return parseLabel(t,i,n)||null}var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(last$2)),last$2}var toArray$1={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(toArray$1)),toArray$1}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=requireLast$2(),n=requireToArray(),i=requireIsArrayLike();function o(l){if(i.isArrayLike(l))return t.last(n.toArray(l))}e.last=o})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$f=["valueAccessor"],_excluded2$7=["dataKey","clockWise","id","textBreakAll","zIndex"];function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$g.apply(null,arguments)}function _objectWithoutProperties$f(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$f(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$f(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var defaultAccessor=e=>Array.isArray(e.value)?last(e.value):e.value,CartesianLabelListContext=reactExports.createContext(void 0),CartesianLabelListContextProvider=CartesianLabelListContext.Provider,PolarLabelListContext=reactExports.createContext(void 0),PolarLabelListContextProvider=PolarLabelListContext.Provider;function useCartesianLabelListContext(){return reactExports.useContext(CartesianLabelListContext)}function usePolarLabelListContext(){return reactExports.useContext(PolarLabelListContext)}function LabelList(e){var{valueAccessor:t=defaultAccessor}=e,n=_objectWithoutProperties$f(e,_excluded$f),{dataKey:i,clockWise:o,id:l,textBreakAll:u,zIndex:h}=n,p=_objectWithoutProperties$f(n,_excluded2$7),m=useCartesianLabelListContext(),g=usePolarLabelListContext(),b=m||g;return!b||!b.length?null:reactExports.createElement(ZIndexLayer,{zIndex:h??DefaultZIndexes.label},reactExports.createElement(Layer,{className:"recharts-label-list"},b.map((E,_)=>{var A,w=isNullish(i)?t(E,_):getValueByDataKey(E&&E.payload,i),T=isNullish(l)?{}:{id:"".concat(l,"-").concat(_)};return reactExports.createElement(Label,_extends$g({key:"label-".concat(_)},svgPropertiesAndEvents(E),p,T,{fill:(A=n.fill)!==null&&A!==void 0?A:E.fill,parentViewBox:E.parentViewBox,value:w,textBreakAll:u,viewBox:E.viewBox,index:_,zIndex:0}))})))}LabelList.displayName="LabelList";function LabelListFromLabelProp(e){var{label:t}=e;return t?t===!0?reactExports.createElement(LabelList,{key:"labelList-implicit"}):reactExports.isValidElement(t)||isLabelContentAFunction(t)?reactExports.createElement(LabelList,{key:"labelList-implicit",content:t}):typeof t=="object"?reactExports.createElement(LabelList,_extends$g({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$f.apply(null,arguments)}var Dot=e=>{var{cx:t,cy:n,r:i,className:o}=e,l=clsx("recharts-dot",o);return isNumber(t)&&isNumber(n)&&isNumber(i)?reactExports.createElement("circle",_extends$f({},svgPropertiesNoEvents(e),adaptEventHandlers(e),{className:l,cx:t,cy:n,r:i})):null},selectUnfilteredPolarItems=e=>e.graphicalItems.polarItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),selectPolarItemsSettings=createSelector([selectUnfilteredPolarItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectPolarGraphicalItemsData=createSelector([selectPolarItemsSettings],combineGraphicalItemsData),selectPolarDisplayedData=createSelector([selectPolarGraphicalItemsData,selectChartDataAndAlwaysIgnoreIndexes],combineDisplayedData),selectPolarAppliedValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],combineAppliedValues);createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings],(e,t,n)=>n.length>0?e.flatMap(i=>n.flatMap(o=>{var l,u=getValueByDataKey(i,(l=t.dataKey)!==null&&l!==void 0?l:o.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:getValueByDataKey(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})));var unsupportedInPolarChart=()=>{},selectDomainOfAllPolarAppliedNumericalValues=createSelector([selectPolarDisplayedData,selectBaseAxis,selectPolarItemsSettings,selectAllErrorBarSettings,pickAxisType],combineDomainOfAllAppliedNumericalValuesIncludingErrorValues),selectPolarNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainFromUserPreference,unsupportedInPolarChart,selectDomainOfAllPolarAppliedNumericalValues,unsupportedInPolarChart,selectChartLayout,pickAxisType],combineNumericalDomain),selectPolarAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectPolarDisplayedData,selectPolarAppliedValues,selectStackOffsetType,pickAxisType,selectPolarNumericalDomain],combineAxisDomain),selectPolarNiceTicks=createSelector([selectPolarAxisDomain,selectBaseAxis,selectRealScaleType],combineNiceTicks);createSelector([selectBaseAxis,selectPolarAxisDomain,selectPolarNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks);var initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer;function ownKeys$e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$e(Object(n),!0).forEach(function(i){_defineProperty$f(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$e(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$f(e,t,n){return(t=_toPropertyKey$f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$f(e){var t=_toPrimitive$f(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$f(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pickId=(e,t)=>t,selectSynchronisedPieSettings=createSelector([selectUnfilteredPolarItems,pickId],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),emptyArray=[],pickCells$1=(e,t,n)=>(n==null?void 0:n.length)===0?emptyArray:n,selectDisplayedData=createSelector([selectChartDataAndAlwaysIgnoreIndexes,selectSynchronisedPieSettings,pickCells$1],(e,t,n)=>{var{chartData:i}=e;if(t!=null){var o;if((t==null?void 0:t.data)!=null&&t.data.length>0?o=t.data:o=i,(!o||!o.length)&&n!=null&&(o=n.map(l=>_objectSpread$e(_objectSpread$e({},t.presentationProps),l.props))),o!=null)return o}}),selectPieLegend=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1],(e,t,n)=>{if(!(e==null||t==null))return e.map((i,o)=>{var l,u=getValueByDataKey(i,t.nameKey,t.name),h;return n!=null&&(l=n[o])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?h=n[o].props.fill:typeof i=="object"&&i!=null&&"fill"in i?h=i.fill:h=t.fill,{value:getTooltipNameProp(u,t.dataKey),color:h,payload:i,type:t.legendType}})}),selectPieSectors=createSelector([selectDisplayedData,selectSynchronisedPieSettings,pickCells$1,selectChartOffsetInternal],(e,t,n,i)=>{if(!(t==null||e==null))return computePieSectors({offset:i,pieSettings:t,displayedData:e,cells:n})}),reactIs={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function A(w){if(typeof w=="object"&&w!==null){var T=w.$$typeof;switch(T){case e:switch(w=w.type,w){case n:case o:case i:case p:case m:case E:return w;default:switch(w=w&&w.$$typeof,w){case u:case h:case b:case g:return w;case l:return w;default:return T}}case t:return T}}}return reactIs_production.ContextConsumer=l,reactIs_production.ContextProvider=u,reactIs_production.Element=e,reactIs_production.ForwardRef=h,reactIs_production.Fragment=n,reactIs_production.Lazy=b,reactIs_production.Memo=g,reactIs_production.Portal=t,reactIs_production.Profiler=o,reactIs_production.StrictMode=i,reactIs_production.Suspense=p,reactIs_production.SuspenseList=m,reactIs_production.isContextConsumer=function(w){return A(w)===l},reactIs_production.isContextProvider=function(w){return A(w)===u},reactIs_production.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},reactIs_production.isForwardRef=function(w){return A(w)===h},reactIs_production.isFragment=function(w){return A(w)===n},reactIs_production.isLazy=function(w){return A(w)===b},reactIs_production.isMemo=function(w){return A(w)===g},reactIs_production.isPortal=function(w){return A(w)===t},reactIs_production.isProfiler=function(w){return A(w)===o},reactIs_production.isStrictMode=function(w){return A(w)===i},reactIs_production.isSuspense=function(w){return A(w)===p},reactIs_production.isSuspenseList=function(w){return A(w)===m},reactIs_production.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===o||w===i||w===p||w===m||typeof w=="object"&&w!==null&&(w.$$typeof===b||w.$$typeof===g||w.$$typeof===u||w.$$typeof===l||w.$$typeof===h||w.$$typeof===_||w.getModuleId!==void 0)},reactIs_production.typeOf=A,reactIs_production}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production()),reactIs.exports}var reactIsExports=requireReactIs(),getDisplayName=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lastChildren=null,lastResult=null,toArray=e=>{if(e===lastChildren&&Array.isArray(lastResult))return lastResult;var t=[];return reactExports.Children.forEach(e,n=>{isNullish(n)||(reactIsExports.isFragment(n)?t=t.concat(toArray(n.props.children)):t.push(n))}),lastResult=t,lastChildren=e,t};function findAllByType(e,t){var n=[],i=[];return Array.isArray(t)?i=t.map(o=>getDisplayName(o)):i=[getDisplayName(t)],toArray(e).forEach(o=>{var l=get$1(o,"type.displayName")||get$1(o,"type.name");l&&i.indexOf(l)!==-1&&n.push(o)}),n}var isClipDot=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,isPlainObject$2={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var o;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((o=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&o.writable)?!1:n.toString()===`[object ${l}]`}let i=n;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(n)===i}e.isPlainObject=t})(isPlainObject$2)),isPlainObject$2}var isPlainObject$1,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$1=requireIsPlainObject$1().isPlainObject),isPlainObject$1}var isPlainObjectExports=requireIsPlainObject();const isPlainObject=getDefaultExportFromCjs(isPlainObjectExports);var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;function ownKeys$d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$d(Object(n),!0).forEach(function(i){_defineProperty$e(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$d(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$e(e,t,n){return(t=_toPropertyKey$e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$e(e){var t=_toPrimitive$e(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$e.apply(null,arguments)}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var getTrapezoidPath=(e,t,n,i,o)=>{var l=n-i,u;return u=roundTemplateLiteral(_templateObject||(_templateObject=_taggedTemplateLiteral(["M ",",",""])),e,t),u+=roundTemplateLiteral(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["L ",",",""])),e+n,t),u+=roundTemplateLiteral(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["L ",",",""])),e+n-l/2,t+o),u+=roundTemplateLiteral(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["L ",",",""])),e+n-l/2-i,t+o),u+=roundTemplateLiteral(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["L ",","," Z"])),e,t),u},defaultTrapezoidProps={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=e=>{var t=resolveDefaultProps(e,defaultTrapezoidProps),{x:n,y:i,upperWidth:o,lowerWidth:l,height:u,className:h}=t,{animationEasing:p,animationDuration:m,animationBegin:g,isUpdateAnimationActive:b}=t,E=reactExports.useRef(null),[_,A]=reactExports.useState(-1),w=reactExports.useRef(o),T=reactExports.useRef(l),C=reactExports.useRef(u),B=reactExports.useRef(n),N=reactExports.useRef(i),j=useAnimationId(e,"trapezoid-");if(reactExports.useEffect(()=>{if(E.current&&E.current.getTotalLength)try{var me=E.current.getTotalLength();me&&A(me)}catch{}},[]),n!==+n||i!==+i||o!==+o||l!==+l||u!==+u||o===0&&l===0||u===0)return null;var M=clsx("recharts-trapezoid",h);if(!b)return reactExports.createElement("g",null,reactExports.createElement("path",_extends$e({},svgPropertiesAndEvents(t),{className:M,d:getTrapezoidPath(n,i,o,l,u)})));var D=w.current,V=T.current,L=C.current,U=B.current,J=N.current,$="0px ".concat(_===-1?1:_,"px"),K="".concat(_,"px 0px"),te=getTransitionVal(["strokeDasharray"],m,p);return reactExports.createElement(JavascriptAnimate,{animationId:j,key:j,canBegin:_>0,duration:m,easing:p,isActive:b,begin:g},me=>{var he=interpolate$1(D,o,me),ee=interpolate$1(V,l,me),ie=interpolate$1(L,u,me),ce=interpolate$1(U,n,me),ne=interpolate$1(J,i,me);E.current&&(w.current=he,T.current=ee,C.current=ie,B.current=ce,N.current=ne);var Z=me>0?{transition:te,strokeDasharray:K}:{strokeDasharray:$};return reactExports.createElement("path",_extends$e({},svgPropertiesAndEvents(t),{className:M,d:getTrapezoidPath(ce,ne,he,ee,ie),ref:E,style:_objectSpread$d(_objectSpread$d({},Z),t.style)}))})},_excluded$e=["option","shapeType","activeClassName"];function _objectWithoutProperties$e(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$e(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$e(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ownKeys$c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$c(Object(n),!0).forEach(function(i){_defineProperty$d(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$c(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$d(e,t,n){return(t=_toPropertyKey$d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$d(e){var t=_toPrimitive$d(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$d(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function defaultPropTransformer(e,t){return _objectSpread$c(_objectSpread$c({},t),e)}function isSymbolsProps(e,t){return e==="symbols"}function ShapeSelector(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return reactExports.createElement(Rectangle,n);case"trapezoid":return reactExports.createElement(Trapezoid,n);case"sector":return reactExports.createElement(Sector,n);case"symbols":if(isSymbolsProps(t))return reactExports.createElement(Symbols,n);break;case"curve":return reactExports.createElement(Curve,n);default:return null}}function getPropsFromShapeOption(e){return reactExports.isValidElement(e)?e.props:e}function Shape(e){var{option:t,shapeType:n,activeClassName:i="recharts-active-shape"}=e,o=_objectWithoutProperties$e(e,_excluded$e),l;if(reactExports.isValidElement(t))l=reactExports.cloneElement(t,_objectSpread$c(_objectSpread$c({},o),getPropsFromShapeOption(t)));else if(typeof t=="function")l=t(o,o.index);else if(isPlainObject(t)&&typeof t!="boolean"){var u=defaultPropTransformer(t,o);l=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:u})}else{var h=o;l=reactExports.createElement(ShapeSelector,{shapeType:n,elementProps:h})}return o.isActive?reactExports.createElement(Layer,{className:i},l):l}var useMouseEnterItemDispatch=(e,t,n)=>{var i=useAppDispatch();return(o,l)=>u=>{e==null||e(o,l,u),i(setActiveMouseOverItemIndex({activeIndex:String(l),activeDataKey:t,activeCoordinate:o.tooltipPosition,activeGraphicalItemId:n}))}},useMouseLeaveItemDispatch=e=>{var t=useAppDispatch();return(n,i)=>o=>{e==null||e(n,i,o),t(mouseLeaveItem())}},useMouseClickItemDispatch=(e,t,n)=>{var i=useAppDispatch();return(o,l)=>u=>{e==null||e(o,l,u),i(setActiveClickItemIndex({activeIndex:String(l),activeDataKey:t,activeCoordinate:o.tooltipPosition,activeGraphicalItemId:n}))}};function SetTooltipEntrySettings(e){var{tooltipEntrySettings:t}=e,n=useAppDispatch(),i=useIsPanorama(),o=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{i||(o.current===null?n(addTooltipEntrySettings(t)):o.current!==t&&n(replaceTooltipEntrySettings({prev:o.current,next:t})),o.current=t)},[t,n,i]),reactExports.useLayoutEffect(()=>()=>{o.current&&(n(removeTooltipEntrySettings(o.current)),o.current=null)},[n]),null}function SetLegendPayload(e){var{legendPayload:t}=e,n=useAppDispatch(),i=useIsPanorama(),o=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{i||(o.current===null?n(addLegendPayload(t)):o.current!==t&&n(replaceLegendPayload({prev:o.current,next:t})),o.current=t)},[n,i,t]),reactExports.useLayoutEffect(()=>()=>{o.current&&(n(removeLegendPayload(o.current)),o.current=null)},[n]),null}function SetPolarLegendPayload(e){var{legendPayload:t}=e,n=useAppDispatch(),i=useAppSelector(selectChartLayout),o=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{i!=="centric"&&i!=="radial"||(o.current===null?n(addLegendPayload(t)):o.current!==t&&n(replaceLegendPayload({prev:o.current,next:t})),o.current=t)},[n,i,t]),reactExports.useLayoutEffect(()=>()=>{o.current&&(n(removeLegendPayload(o.current)),o.current=null)},[n]),null}var _ref,useIdFallback=()=>{var[e]=reactExports.useState(()=>uniqueId("uid-"));return e},useId=(_ref=React$1.useId)!==null&&_ref!==void 0?_ref:useIdFallback;function useUniqueId(e,t){var n=useId();return t||(e?"".concat(e,"-").concat(n):n)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=e=>{var{id:t,type:n,children:i}=e,o=useUniqueId("recharts-".concat(n),t);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:o},i(o))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:prepareAutoBatched()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:i}=t.payload,o=current$1(e).cartesianItems.indexOf(n);o>-1&&(e.cartesianItems[o]=i)},prepare:prepareAutoBatched()},removeCartesianGraphicalItem:{reducer(e,t){var n=current$1(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:prepareAutoBatched()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:prepareAutoBatched()},removePolarGraphicalItem:{reducer(e,t){var n=current$1(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:prepareAutoBatched()}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer,SetCartesianGraphicalItemImpl=e=>{var t=useAppDispatch(),n=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{n.current===null?t(addCartesianGraphicalItem(e)):n.current!==e&&t(replaceCartesianGraphicalItem({prev:n.current,next:e})),n.current=e},[t,e]),reactExports.useLayoutEffect(()=>()=>{n.current&&(t(removeCartesianGraphicalItem(n.current)),n.current=null)},[t]),null},SetCartesianGraphicalItem=reactExports.memo(SetCartesianGraphicalItemImpl);function SetPolarGraphicalItem(e){var t=useAppDispatch();return reactExports.useLayoutEffect(()=>(t(addPolarGraphicalItem(e)),()=>{t(removePolarGraphicalItem(e))}),[t,e]),null}var _excluded$d=["key"],_excluded2$6=["onMouseEnter","onClick","onMouseLeave"],_excluded3$2=["id"],_excluded4$2=["id"];function ownKeys$b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$b(Object(n),!0).forEach(function(i){_defineProperty$c(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$b(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$c(e,t,n){return(t=_toPropertyKey$c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$c(e){var t=_toPrimitive$c(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$c(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$d.apply(null,arguments)}function _objectWithoutProperties$d(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$d(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$d(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function SetPiePayloadLegend(e){var t=reactExports.useMemo(()=>findAllByType(e.children,Cell),[e.children]),n=useAppSelector(i=>selectPieLegend(i,e.id,t));return n==null?null:reactExports.createElement(SetPolarLegendPayload,{legendPayload:n})}var SetPieTooltipEntrySettings=reactExports.memo(e=>{var{dataKey:t,nameKey:n,sectors:i,stroke:o,strokeWidth:l,fill:u,name:h,hide:p,tooltipType:m,id:g}=e,b={dataDefinedOnItem:i.map(E=>E.tooltipPayload),positions:i.map(E=>E.tooltipPosition),settings:{stroke:o,strokeWidth:l,fill:u,dataKey:t,nameKey:n,name:getTooltipNameProp(h,t),hide:p,type:m,color:u,unit:"",graphicalItemId:g}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:b})}),getTextAnchor=(e,t)=>e>t?"start":e<t?"end":"middle",getOuterRadius=(e,t,n)=>getPercentValue(typeof t=="function"?t(e):t,n,n*.8),parseCoordinateOfPie=(e,t,n)=>{var{top:i,left:o,width:l,height:u}=t,h=getMaxRadius(l,u),p=o+getPercentValue(e.cx,l,l/2),m=i+getPercentValue(e.cy,u,u/2),g=getPercentValue(e.innerRadius,h,0),b=getOuterRadius(n,e.outerRadius,h),E=e.maxRadius||Math.sqrt(l*l+u*u)/2;return{cx:p,cy:m,innerRadius:g,outerRadius:b,maxRadius:E}},parseDeltaAngle=(e,t)=>{var n=mathSign(t-e),i=Math.min(Math.abs(t-e),360);return n*i};function getClassNamePropertyIfExists(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var renderLabelLineItem=(e,t)=>{if(reactExports.isValidElement(e))return reactExports.cloneElement(e,t);if(typeof e=="function")return e(t);var n=clsx("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:i}=t,o=_objectWithoutProperties$d(t,_excluded$d);return reactExports.createElement(Curve,_extends$d({},o,{type:"linear",className:n}))},renderLabelItem=(e,t,n)=>{if(reactExports.isValidElement(e))return reactExports.cloneElement(e,t);var i=n;if(typeof e=="function"&&(i=e(t),reactExports.isValidElement(i)))return i;var o=clsx("recharts-pie-label-text",getClassNamePropertyIfExists(e));return reactExports.createElement(Text,_extends$d({},t,{alignmentBaseline:"middle",className:o}),i)};function PieLabels(e){var{sectors:t,props:n,showLabels:i}=e,{label:o,labelLine:l,dataKey:u}=n;if(!i||!o||!t)return null;var h=svgPropertiesNoEvents(n),p=svgPropertiesNoEventsFromUnknown(o),m=svgPropertiesNoEventsFromUnknown(l),g=typeof o=="object"&&"offsetRadius"in o&&typeof o.offsetRadius=="number"&&o.offsetRadius||20,b=t.map((E,_)=>{var A=(E.startAngle+E.endAngle)/2,w=polarToCartesian(E.cx,E.cy,E.outerRadius+g,A),T=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},h),E),{},{stroke:"none"},p),{},{index:_,textAnchor:getTextAnchor(w.x,E.cx)},w),C=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},h),E),{},{fill:"none",stroke:E.fill},m),{},{index:_,points:[polarToCartesian(E.cx,E.cy,E.outerRadius,A),w],key:"line"});return reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label,key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(_)},reactExports.createElement(Layer,null,l&&renderLabelLineItem(l,C),renderLabelItem(o,T,getValueByDataKey(E,u))))});return reactExports.createElement(Layer,{className:"recharts-pie-labels"},b)}function PieLabelList(e){var{sectors:t,props:n,showLabels:i}=e,{label:o}=n;return typeof o=="object"&&o!=null&&"position"in o?reactExports.createElement(LabelListFromLabelProp,{label:o}):reactExports.createElement(PieLabels,{sectors:t,props:n,showLabels:i})}function PieSectors(e){var{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:o,shape:l,id:u}=e,h=useAppSelector(selectActiveTooltipIndex),p=useAppSelector(selectActiveTooltipDataKey),m=useAppSelector(selectActiveTooltipGraphicalItemId),{onMouseEnter:g,onClick:b,onMouseLeave:E}=o,_=_objectWithoutProperties$d(o,_excluded2$6),A=useMouseEnterItemDispatch(g,o.dataKey,u),w=useMouseLeaveItemDispatch(E),T=useMouseClickItemDispatch(b,o.dataKey,u);return t==null||t.length===0?null:reactExports.createElement(reactExports.Fragment,null,t.map((C,B)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var N=m==null||m===u,j=String(B)===h&&(p==null||o.dataKey===p)&&N,M=h?i:null,D=n&&j?n:M,V=_objectSpread$b(_objectSpread$b({},C),{},{stroke:C.stroke,tabIndex:-1,[DATA_ITEM_INDEX_ATTRIBUTE_NAME]:B,[DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME]:u});return reactExports.createElement(Layer,_extends$d({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(B),tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(_,C,B),{onMouseEnter:A(C,B),onMouseLeave:w(C,B),onClick:T(C,B)}),reactExports.createElement(Shape,_extends$d({option:l??D,index:B,shapeType:"sector",isActive:j},V)))}))}function computePieSectors(e){var t,{pieSettings:n,displayedData:i,cells:o,offset:l}=e,{cornerRadius:u,startAngle:h,endAngle:p,dataKey:m,nameKey:g,tooltipType:b}=n,E=Math.abs(n.minAngle),_=parseDeltaAngle(h,p),A=Math.abs(_),w=i.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=i.filter(D=>getValueByDataKey(D,m,0)!==0).length,C=(A>=360?T:T-1)*w,B=A-T*E-C,N=i.reduce((D,V)=>{var L=getValueByDataKey(V,m,0);return D+(isNumber(L)?L:0)},0),j;if(N>0){var M;j=i.map((D,V)=>{var L=getValueByDataKey(D,m,0),U=getValueByDataKey(D,g,V),J=parseCoordinateOfPie(n,l,D),$=(isNumber(L)?L:0)/N,K,te=_objectSpread$b(_objectSpread$b({},D),o&&o[V]&&o[V].props);V?K=M.endAngle+mathSign(_)*w*(L!==0?1:0):K=h;var me=K+mathSign(_)*((L!==0?E:0)+$*B),he=(K+me)/2,ee=(J.innerRadius+J.outerRadius)/2,ie=[{name:U,value:L,payload:te,dataKey:m,type:b,graphicalItemId:n.id}],ce=polarToCartesian(J.cx,J.cy,ee,he);return M=_objectSpread$b(_objectSpread$b(_objectSpread$b(_objectSpread$b({},n.presentationProps),{},{percent:$,cornerRadius:typeof u=="string"?parseFloat(u):u,name:U,tooltipPayload:ie,midAngle:he,middleRadius:ee,tooltipPosition:ce},te),J),{},{value:L,dataKey:m,startAngle:K,endAngle:me,payload:te,paddingAngle:mathSign(_)*w}),M})}return j}function PieLabelListProvider(e){var{showLabels:t,sectors:n,children:i}=e,o=reactExports.useMemo(()=>!t||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,t]);return reactExports.createElement(PolarLabelListContextProvider,{value:t?o:void 0},i)}function SectorsWithAnimation(e){var{props:t,previousSectorsRef:n,id:i}=e,{sectors:o,isAnimationActive:l,animationBegin:u,animationDuration:h,animationEasing:p,activeShape:m,inactiveShape:g,onAnimationStart:b,onAnimationEnd:E}=t,_=useAnimationId(t,"recharts-pie-"),A=n.current,[w,T]=reactExports.useState(!1),C=reactExports.useCallback(()=>{typeof E=="function"&&E(),T(!1)},[E]),B=reactExports.useCallback(()=>{typeof b=="function"&&b(),T(!0)},[b]);return reactExports.createElement(PieLabelListProvider,{showLabels:!w,sectors:o},reactExports.createElement(JavascriptAnimate,{animationId:_,begin:u,duration:h,isActive:l,easing:p,onAnimationStart:B,onAnimationEnd:C,key:_},N=>{var j=[],M=o&&o[0],D=M==null?void 0:M.startAngle;return o==null||o.forEach((V,L)=>{var U=A&&A[L],J=L>0?get$1(V,"paddingAngle",0):0;if(U){var $=interpolate$1(U.endAngle-U.startAngle,V.endAngle-V.startAngle,N),K=_objectSpread$b(_objectSpread$b({},V),{},{startAngle:D+J,endAngle:D+$+J});j.push(K),D=K.endAngle}else{var{endAngle:te,startAngle:me}=V,he=interpolate$1(0,te-me,N),ee=_objectSpread$b(_objectSpread$b({},V),{},{startAngle:D+J,endAngle:D+he+J});j.push(ee),D=ee.endAngle}}),n.current=j,reactExports.createElement(Layer,null,reactExports.createElement(PieSectors,{sectors:j,activeShape:m,inactiveShape:g,allOtherPieProps:t,shape:t.shape,id:i}))}),reactExports.createElement(PieLabelList,{showLabels:!w,sectors:o,props:t}),t.children)}var defaultPieProps={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:DefaultZIndexes.area};function PieImpl(e){var{id:t}=e,n=_objectWithoutProperties$d(e,_excluded3$2),{hide:i,className:o,rootTabIndex:l}=e,u=reactExports.useMemo(()=>findAllByType(e.children,Cell),[e.children]),h=useAppSelector(g=>selectPieSectors(g,t,u)),p=reactExports.useRef(null),m=clsx("recharts-pie",o);return i||h==null?(p.current=null,reactExports.createElement(Layer,{tabIndex:l,className:m})):reactExports.createElement(ZIndexLayer,{zIndex:e.zIndex},reactExports.createElement(SetPieTooltipEntrySettings,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:h,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),reactExports.createElement(Layer,{tabIndex:l,className:m},reactExports.createElement(SectorsWithAnimation,{props:_objectSpread$b(_objectSpread$b({},n),{},{sectors:h}),previousSectorsRef:p,id:t})))}function Pie(e){var t=resolveDefaultProps(e,defaultPieProps),{id:n}=t,i=_objectWithoutProperties$d(t,_excluded4$2),o=svgPropertiesNoEvents(i);return reactExports.createElement(RegisterGraphicalItemId,{id:n,type:"pie"},l=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetPolarGraphicalItem,{type:"pie",id:l,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:o,maxRadius:t.maxRadius}),reactExports.createElement(SetPiePayloadLegend,_extends$d({},i,{id:l})),reactExports.createElement(PieImpl,_extends$d({},i,{id:l}))))}Pie.displayName="Pie";var _excluded$c=["points"];function ownKeys$a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$a(Object(n),!0).forEach(function(i){_defineProperty$b(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$a(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$b(e,t,n){return(t=_toPropertyKey$b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$b(e){var t=_toPrimitive$b(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$b(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$c.apply(null,arguments)}function _objectWithoutProperties$c(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$c(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$c(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function DotItem(e){var{option:t,dotProps:n,className:i}=e;if(reactExports.isValidElement(t))return reactExports.cloneElement(t,n);if(typeof t=="function")return t(n);var o=clsx(i,typeof t!="boolean"?t.className:""),l=n??{},{points:u}=l,h=_objectWithoutProperties$c(l,_excluded$c);return reactExports.createElement(Dot,_extends$c({},h,{className:o}))}function shouldRenderDots(e,t){return e==null?!1:t?!0:e.length===1}function Dots(e){var{points:t,dot:n,className:i,dotClassName:o,dataKey:l,baseProps:u,needClip:h,clipPathId:p,zIndex:m=DefaultZIndexes.scatter}=e;if(!shouldRenderDots(t,n))return null;var g=isClipDot(n),b=svgPropertiesAndEventsFromUnknown(n),E=t.map((A,w)=>{var T,C,B=_objectSpread$a(_objectSpread$a(_objectSpread$a({r:3},u),b),{},{index:w,cx:(T=A.x)!==null&&T!==void 0?T:void 0,cy:(C=A.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:A.value,payload:A.payload,points:t});return reactExports.createElement(DotItem,{key:"dot-".concat(w),option:n,dotProps:B,className:o})}),_={};return h&&p!=null&&(_.clipPath="url(#clipPath-".concat(g?"":"dots-").concat(p,")")),reactExports.createElement(ZIndexLayer,{zIndex:m},reactExports.createElement(Layer,_extends$c({className:i},_),E))}function ownKeys$9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$9(Object(n),!0).forEach(function(i){_defineProperty$a(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$9(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$a(e,t,n){return(t=_toPropertyKey$a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$a(e){var t=_toPrimitive$a(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$a(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultAxisId=0,initialState$4={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$4,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:prepareAutoBatched()},replaceXAxis:{reducer(e,t){var{prev:n,next:i}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==i.id&&delete e.xAxis[n.id],e.xAxis[i.id]=i)},prepare:prepareAutoBatched()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:prepareAutoBatched()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:prepareAutoBatched()},replaceYAxis:{reducer(e,t){var{prev:n,next:i}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==i.id&&delete e.yAxis[n.id],e.yAxis[i.id]=i)},prepare:prepareAutoBatched()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:prepareAutoBatched()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:prepareAutoBatched()},replaceZAxis:{reducer(e,t){var{prev:n,next:i}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==i.id&&delete e.zAxis[n.id],e.zAxis[i.id]=i)},prepare:prepareAutoBatched()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:prepareAutoBatched()},updateYAxisWidth(e,t){var{id:n,width:i}=t.payload,o=e.yAxis[n];if(o){var l=o.widthHistory||[];if(l.length===3&&l[0]===l[2]&&i===l[1]&&i!==o.width&&Math.abs(i-l[0])<=1)return;var u=[...l,i].slice(-3);e.yAxis[n]=_objectSpread$9(_objectSpread$9({},e.yAxis[n]),{},{width:i,widthHistory:u})}}}}),{addXAxis,replaceXAxis,removeXAxis,addYAxis,replaceYAxis,removeYAxis,addZAxis,replaceZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,selectChartOffset=createSelector([selectChartOffsetInternal],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$8(Object(n),!0).forEach(function(i){_defineProperty$9(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$8(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$9(e,t,n){return(t=_toPropertyKey$9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$9(e){var t=_toPrimitive$9(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ActivePoint=e=>{var{point:t,childIndex:n,mainColor:i,activeDot:o,dataKey:l,clipPath:u}=e;if(o===!1||t.x==null||t.y==null)return null;var h={index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},p=_objectSpread$8(_objectSpread$8(_objectSpread$8({},h),svgPropertiesNoEventsFromUnknown(o)),adaptEventHandlers(o)),m;return reactExports.isValidElement(o)?m=reactExports.cloneElement(o,p):typeof o=="function"?m=o(p):m=reactExports.createElement(Dot,p),reactExports.createElement(Layer,{className:"recharts-active-dot",clipPath:u},m)};function ActivePoints(e){var{points:t,mainColor:n,activeDot:i,itemDataKey:o,clipPath:l,zIndex:u=DefaultZIndexes.activeDot}=e,h=useAppSelector(selectActiveTooltipIndex),p=useActiveTooltipDataPoints();if(t==null||p==null)return null;var m=t.find(g=>p.includes(g.payload));return isNullish(m)?null:reactExports.createElement(ZIndexLayer,{zIndex:u},reactExports.createElement(ActivePoint,{point:m,childIndex:Number(h),mainColor:n,dataKey:o,activeDot:i,clipPath:l}))}var getBarSize=(e,t,n)=>{var i=n??e;if(!isNullish(i))return getPercentValue(i,t,0)},combineBarSizeList=(e,t,n)=>{var i={},o=e.filter(isStacked),l=e.filter(m=>m.stackId==null),u=o.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),i),h=Object.entries(u).map(m=>{var[g,b]=m,E=b.map(A=>A.dataKey),_=getBarSize(t,n,b[0].barSize);return{stackId:g,dataKeys:E,barSize:_}}),p=l.map(m=>{var g=[m.dataKey].filter(E=>E!=null),b=getBarSize(t,n,m.barSize);return{stackId:void 0,dataKeys:g,barSize:b}});return[...h,...p]};function ownKeys$7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$7(Object(n),!0).forEach(function(i){_defineProperty$8(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$7(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$8(e,t,n){return(t=_toPropertyKey$8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$8(e){var t=_toPrimitive$8(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getBarPositions(e,t,n,i,o){var l=i.length;if(!(l<1)){var u=getPercentValue(e,n,0,!0),h,p=[];if(isWellBehavedNumber(i[0].barSize)){var m=!1,g=n/l,b=i.reduce((C,B)=>C+(B.barSize||0),0);b+=(l-1)*u,b>=n&&(b-=(l-1)*u,u=0),b>=n&&g>0&&(m=!0,g*=.9,b=l*g);var E=(n-b)/2>>0,_={offset:E-u,size:0};h=i.reduce((C,B)=>{var N,j={stackId:B.stackId,dataKeys:B.dataKeys,position:{offset:_.offset+_.size+u,size:m?g:(N=B.barSize)!==null&&N!==void 0?N:0}},M=[...C,j];return _=M[M.length-1].position,M},p)}else{var A=getPercentValue(t,n,0,!0);n-2*A-(l-1)*u<=0&&(u=0);var w=(n-2*A-(l-1)*u)/l;w>1&&(w>>=0);var T=isWellBehavedNumber(o)?Math.min(w,o):w;h=i.reduce((C,B,N)=>[...C,{stackId:B.stackId,dataKeys:B.dataKeys,position:{offset:A+(w+u)*N+(w-T)/2,size:T}}],p)}return h}}var combineAllBarPositions=(e,t,n,i,o,l,u)=>{var h=isNullish(u)?t:u,p=getBarPositions(n,i,o!==l?o:l,e,h);return o!==l&&p!=null&&(p=p.map(m=>_objectSpread$7(_objectSpread$7({},m),{},{position:_objectSpread$7(_objectSpread$7({},m.position),{},{offset:m.position.offset-o/2})}))),p},combineStackedData=(e,t)=>{var n=getStackSeriesIdentifier(t);if(!(!e||n==null||t==null)){var{stackId:i}=t;if(i!=null){var o=e[i];if(o){var{stackedData:l}=o;if(l)return l.find(u=>u.key===n)}}}};function getZIndexFromUnknown(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&isWellBehavedNumber(e.zIndex)?e.zIndex:t}var ChartDataContextProvider=e=>{var{chartData:t}=e,n=useAppDispatch(),i=useIsPanorama();return reactExports.useEffect(()=>i?()=>{}:(n(setChartData(t)),()=>{n(setChartData(void 0))}),[t,n,i]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(e,t){return t.payload==null?initialState$3:t.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$7(e,t,n){return(t=_toPropertyKey$7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$7(e){var t=_toPrimitive$7(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ScaleHelper{static create(t){return new ScaleHelper(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(i)switch(i){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?t>=i&&t<=o:t>=o&&t<=i}}_defineProperty$7(ScaleHelper,"EPS",1e-4);function normalizeAngle(e){return(e%180+180)%180}var getAngledRectangleWidth=function(t){var{width:n,height:i}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=normalizeAngle(o),u=l*Math.PI/180,h=Math.atan(i/n),p=u>h&&u<Math.PI-h?i/Math.sin(u):n/Math.cos(u);return Math.abs(p)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=current$1(e).dots.findIndex(i=>i===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=current$1(e).areas.findIndex(i=>i===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=current$1(e).lines.findIndex(i=>i===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=e=>{var{children:t}=e,[n]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),i=usePlotArea();if(i==null)return null;var{x:o,y:l,width:u,height:h}=i;return reactExports.createElement(ClipPathIdContext.Provider,{value:n},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:n},reactExports.createElement("rect",{x:o,y:l,height:h,width:u}))),t)};function getEveryNth(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],i=0;i<e.length;i+=t){var o=e[i];o!==void 0&&n.push(o)}return n}function getAngledTickWidth(e,t,n){var i={width:e.width+t.width,height:e.height+t.height};return getAngledRectangleWidth(i,n)}function getTickBoundaries(e,t,n){var i=n==="width",{x:o,y:l,width:u,height:h}=e;return t===1?{start:i?o:l,end:i?o+u:l+h}:{start:i?o+u:l+h,end:i?o:l}}function isVisible(e,t,n,i,o){if(e*t<e*i||e*t>e*o)return!1;var l=n();return e*(t-e*l/2-i)>=0&&e*(t+e*l/2-o)<=0}function getNumberIntervalTicks(e,t){return getEveryNth(e,t+1)}function getEquidistantTicks(e,t,n,i,o){for(var l=(i||[]).slice(),{start:u,end:h}=t,p=0,m=1,g=u,b=function(){var A=i==null?void 0:i[p];if(A===void 0)return{v:getEveryNth(i,m)};var w=p,T,C=()=>(T===void 0&&(T=n(A,w)),T),B=A.coordinate,N=p===0||isVisible(e,B,C,g,h);N||(p=0,g=u,m+=1),N&&(g=B+e*(C()/2+o),p+=m)},E;m<=l.length;)if(E=b(),E)return E.v;return[]}function getEquidistantPreserveEndTicks(e,t,n,i,o){var l=(i||[]).slice(),u=l.length;if(u===0)return[];for(var{start:h,end:p}=t,m=1;m<=u;m++){for(var g=(u-1)%m,b=h,E=!0,_=function(){var B=i[A],N=A,j,M=()=>(j===void 0&&(j=n(B,N)),j),D=B.coordinate,V=A===g||isVisible(e,D,M,b,p);if(!V)return E=!1,1;V&&(b=D+e*(M()/2+o))},A=g;A<u&&!_();A+=m);if(E){for(var w=[],T=g;T<u;T+=m)w.push(i[T]);return w}}return[]}function ownKeys$6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$6(Object(n),!0).forEach(function(i){_defineProperty$6(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$6(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$6(e,t,n){return(t=_toPropertyKey$6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$6(e){var t=_toPrimitive$6(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getTicksEnd(e,t,n,i,o){for(var l=(i||[]).slice(),u=l.length,{start:h}=t,{end:p}=t,m=function(E){var _=l[E],A,w=()=>(A===void 0&&(A=n(_,E)),A);if(E===u-1){var T=e*(_.coordinate+e*w()/2-p);l[E]=_=_objectSpread$6(_objectSpread$6({},_),{},{tickCoord:T>0?_.coordinate-T*e:_.coordinate})}else l[E]=_=_objectSpread$6(_objectSpread$6({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var C=isVisible(e,_.tickCoord,w,h,p);C&&(p=_.tickCoord-e*(w()/2+o),l[E]=_objectSpread$6(_objectSpread$6({},_),{},{isShow:!0}))}},g=u-1;g>=0;g--)m(g);return l}function getTicksStart(e,t,n,i,o,l){var u=(i||[]).slice(),h=u.length,{start:p,end:m}=t;if(l){var g=i[h-1],b=n(g,h-1),E=e*(g.coordinate+e*b/2-m);if(u[h-1]=g=_objectSpread$6(_objectSpread$6({},g),{},{tickCoord:E>0?g.coordinate-E*e:g.coordinate}),g.tickCoord!=null){var _=isVisible(e,g.tickCoord,()=>b,p,m);_&&(m=g.tickCoord-e*(b/2+o),u[h-1]=_objectSpread$6(_objectSpread$6({},g),{},{isShow:!0}))}}for(var A=l?h-1:h,w=function(B){var N=u[B],j,M=()=>(j===void 0&&(j=n(N,B)),j);if(B===0){var D=e*(N.coordinate-e*M()/2-p);u[B]=N=_objectSpread$6(_objectSpread$6({},N),{},{tickCoord:D<0?N.coordinate-D*e:N.coordinate})}else u[B]=N=_objectSpread$6(_objectSpread$6({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var V=isVisible(e,N.tickCoord,M,p,m);V&&(p=N.tickCoord+e*(M()/2+o),u[B]=_objectSpread$6(_objectSpread$6({},N),{},{isShow:!0}))}},T=0;T<A;T++)w(T);return u}function getTicks(e,t,n){var{tick:i,ticks:o,viewBox:l,minTickGap:u,orientation:h,interval:p,tickFormatter:m,unit:g,angle:b}=e;if(!o||!o.length||!i)return[];if(isNumber(p)||Global.isSsr){var E;return(E=getNumberIntervalTicks(o,isNumber(p)?p:0))!==null&&E!==void 0?E:[]}var _=[],A=h==="top"||h==="bottom"?"width":"height",w=g&&A==="width"?getStringSize(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(N,j)=>{var M=typeof m=="function"?m(N.value,j):N.value;return A==="width"?getAngledTickWidth(getStringSize(M,{fontSize:t,letterSpacing:n}),w,b):getStringSize(M,{fontSize:t,letterSpacing:n})[A]},C=o.length>=2?mathSign(o[1].coordinate-o[0].coordinate):1,B=getTickBoundaries(l,C,A);return p==="equidistantPreserveStart"?getEquidistantTicks(C,B,T,o,u):p==="equidistantPreserveEnd"?getEquidistantPreserveEndTicks(C,B,T,o,u):(p==="preserveStart"||p==="preserveStartEnd"?_=getTicksStart(C,B,T,o,u,p==="preserveStartEnd"):_=getTicksEnd(C,B,T,o,u),_.filter(N=>N.isShow))}var getCalculatedYAxisWidth=e=>{var{ticks:t,label:n,labelGapWithTick:i=5,tickSize:o=0,tickMargin:l=0}=e,u=0;if(t){Array.from(t).forEach(g=>{if(g){var b=g.getBoundingClientRect();b.width>u&&(u=b.width)}});var h=n?n.getBoundingClientRect().width:0,p=o+l,m=u+p+h+(n?i:0);return Math.round(m)}return 0},_excluded$b=["axisLine","width","height","className","hide","ticks","axisType"];function _objectWithoutProperties$b(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$b(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$b(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$b.apply(null,arguments)}function ownKeys$5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$5(Object(n),!0).forEach(function(i){_defineProperty$5(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$5(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$5(e,t,n){return(t=_toPropertyKey$5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$5(e){var t=_toPrimitive$5(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$5(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var defaultCartesianAxisProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:DefaultZIndexes.axis};function AxisLine(e){var{x:t,y:n,width:i,height:o,orientation:l,mirror:u,axisLine:h,otherSvgProps:p}=e;if(!h)return null;var m=_objectSpread$5(_objectSpread$5(_objectSpread$5({},p),svgPropertiesNoEvents(h)),{},{fill:"none"});if(l==="top"||l==="bottom"){var g=+(l==="top"&&!u||l==="bottom"&&u);m=_objectSpread$5(_objectSpread$5({},m),{},{x1:t,y1:n+g*o,x2:t+i,y2:n+g*o})}else{var b=+(l==="left"&&!u||l==="right"&&u);m=_objectSpread$5(_objectSpread$5({},m),{},{x1:t+b*i,y1:n,x2:t+b*i,y2:n+o})}return reactExports.createElement("line",_extends$b({},m,{className:clsx("recharts-cartesian-axis-line",get$1(h,"className"))}))}function getTickLineCoord(e,t,n,i,o,l,u,h,p){var m,g,b,E,_,A,w=h?-1:1,T=e.tickSize||u,C=isNumber(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":m=g=e.coordinate,E=n+ +!h*o,b=E-w*T,A=b-w*p,_=C;break;case"left":b=E=e.coordinate,g=t+ +!h*i,m=g-w*T,_=m-w*p,A=C;break;case"right":b=E=e.coordinate,g=t+ +h*i,m=g+w*T,_=m+w*p,A=C;break;default:m=g=e.coordinate,E=n+ +h*o,b=E+w*T,A=b+w*p,_=C;break}return{line:{x1:m,y1:b,x2:g,y2:E},tick:{x:_,y:A}}}function getTickTextAnchor(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function getTickVerticalAnchor(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function TickItem(e){var{option:t,tickProps:n,value:i}=e,o,l=clsx(n.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(t))o=reactExports.cloneElement(t,_objectSpread$5(_objectSpread$5({},n),{},{className:l}));else if(typeof t=="function")o=t(_objectSpread$5(_objectSpread$5({},n),{},{className:l}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=clsx(u,t==null?void 0:t.className)),o=reactExports.createElement(Text,_extends$b({},n,{className:u}),i)}return o}var Ticks=reactExports.forwardRef((e,t)=>{var{ticks:n=[],tick:i,tickLine:o,stroke:l,tickFormatter:u,unit:h,padding:p,tickTextProps:m,orientation:g,mirror:b,x:E,y:_,width:A,height:w,tickSize:T,tickMargin:C,fontSize:B,letterSpacing:N,getTicksConfig:j,events:M,axisType:D}=e,V=getTicks(_objectSpread$5(_objectSpread$5({},j),{},{ticks:n}),B,N),L=getTickTextAnchor(g,b),U=getTickVerticalAnchor(g,b),J=svgPropertiesNoEvents(j),$=svgPropertiesNoEventsFromUnknown(i),K={};typeof o=="object"&&(K=o);var te=_objectSpread$5(_objectSpread$5({},J),{},{fill:"none"},K),me=V.map(ie=>_objectSpread$5({entry:ie},getTickLineCoord(ie,E,_,A,w,g,T,b,C))),he=me.map(ie=>{var{entry:ce,line:ne}=ie;return reactExports.createElement(Layer,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},o&&reactExports.createElement("line",_extends$b({},te,ne,{className:clsx("recharts-cartesian-axis-tick-line",get$1(o,"className"))})))}),ee=me.map((ie,ce)=>{var{entry:ne,tick:Z}=ie,G=_objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({textAnchor:L,verticalAnchor:U},J),{},{stroke:"none",fill:l},$),Z),{},{index:ce,payload:ne,visibleTicksCount:V.length,tickFormatter:u,padding:p},m);return reactExports.createElement(Layer,_extends$b({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ne.value,"-").concat(ne.coordinate,"-").concat(ne.tickCoord)},adaptEventsOfChild(M,ne,ce)),i&&reactExports.createElement(TickItem,{option:i,tickProps:G,value:"".concat(typeof u=="function"?u(ne.value,ce):ne.value).concat(h||"")}))});return reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},ee.length>0&&reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.label},reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},ee)),he.length>0&&reactExports.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},he))}),CartesianAxisComponent=reactExports.forwardRef((e,t)=>{var{axisLine:n,width:i,height:o,className:l,hide:u,ticks:h,axisType:p}=e,m=_objectWithoutProperties$b(e,_excluded$b),[g,b]=reactExports.useState(""),[E,_]=reactExports.useState(""),A=reactExports.useRef(null);reactExports.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return getCalculatedYAxisWidth({ticks:A.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=reactExports.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");A.current=C;var B=C[0];if(B){var N=window.getComputedStyle(B),j=N.fontSize,M=N.letterSpacing;(j!==g||M!==E)&&(b(j),_(M))}}},[g,E]);return u||i!=null&&i<=0||o!=null&&o<=0?null:reactExports.createElement(ZIndexLayer,{zIndex:e.zIndex},reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",l)},reactExports.createElement(AxisLine,{x:e.x,y:e.y,width:i,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:svgPropertiesNoEvents(e)}),reactExports.createElement(Ticks,{ref:w,axisType:p,events:m,fontSize:g,getTicksConfig:e,height:e.height,letterSpacing:E,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:h,unit:e.unit,width:e.width,x:e.x,y:e.y}),reactExports.createElement(CartesianLabelContextProvider,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},reactExports.createElement(CartesianLabelFromLabelProp,{label:e.label,labelRef:e.labelRef}),e.children)))}),CartesianAxis=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,defaultCartesianAxisProps);return reactExports.createElement(CartesianAxisComponent,_extends$b({},n,{ref:t}))});CartesianAxis.displayName="CartesianAxis";var _excluded$a=["x1","y1","x2","y2","key"],_excluded2$5=["offset"],_excluded3$1=["xAxisId","yAxisId"],_excluded4$1=["xAxisId","yAxisId"];function ownKeys$4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$4(Object(n),!0).forEach(function(i){_defineProperty$4(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$4(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$4(e,t,n){return(t=_toPropertyKey$4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$4(e){var t=_toPrimitive$4(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$4(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$a.apply(null,arguments)}function _objectWithoutProperties$a(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$a(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$a(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var Background=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:i,y:o,width:l,height:u,ry:h}=e;return reactExports.createElement("rect",{x:i,y:o,ry:h,width:l,height:u,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LineItem(e){var{option:t,lineItemProps:n}=e,i;if(reactExports.isValidElement(t))i=reactExports.cloneElement(t,n);else if(typeof t=="function")i=t(n);else{var o,{x1:l,y1:u,x2:h,y2:p,key:m}=n,g=_objectWithoutProperties$a(n,_excluded$a),b=(o=svgPropertiesNoEvents(g))!==null&&o!==void 0?o:{},{offset:E}=b,_=_objectWithoutProperties$a(b,_excluded2$5);i=reactExports.createElement("line",_extends$a({},_,{x1:l,y1:u,x2:h,y2:p,fill:"none",key:m}))}return i}function HorizontalGridLines(e){var{x:t,width:n,horizontal:i=!0,horizontalPoints:o}=e;if(!i||!o||!o.length)return null;var{xAxisId:l,yAxisId:u}=e,h=_objectWithoutProperties$a(e,_excluded3$1),p=o.map((m,g)=>{var b=_objectSpread$4(_objectSpread$4({},h),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(g),index:g});return reactExports.createElement(LineItem,{key:"line-".concat(g),option:i,lineItemProps:b})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function VerticalGridLines(e){var{y:t,height:n,vertical:i=!0,verticalPoints:o}=e;if(!i||!o||!o.length)return null;var{xAxisId:l,yAxisId:u}=e,h=_objectWithoutProperties$a(e,_excluded4$1),p=o.map((m,g)=>{var b=_objectSpread$4(_objectSpread$4({},h),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(g),index:g});return reactExports.createElement(LineItem,{option:i,lineItemProps:b,key:"line-".concat(g)})});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function HorizontalStripes(e){var{horizontalFill:t,fillOpacity:n,x:i,y:o,width:l,height:u,horizontalPoints:h,horizontal:p=!0}=e;if(!p||!t||!t.length||h==null)return null;var m=h.map(b=>Math.round(b+o-o)).sort((b,E)=>b-E);o!==m[0]&&m.unshift(0);var g=m.map((b,E)=>{var _=!m[E+1],A=_?o+u-b:m[E+1]-b;if(A<=0)return null;var w=E%t.length;return reactExports.createElement("rect",{key:"react-".concat(E),y:b,x:i,height:A,width:l,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function VerticalStripes(e){var{vertical:t=!0,verticalFill:n,fillOpacity:i,x:o,y:l,width:u,height:h,verticalPoints:p}=e;if(!t||!n||!n.length)return null;var m=p.map(b=>Math.round(b+o-o)).sort((b,E)=>b-E);o!==m[0]&&m.unshift(0);var g=m.map((b,E)=>{var _=!m[E+1],A=_?o+u-b:m[E+1]-b;if(A<=0)return null;var w=E%n.length;return reactExports.createElement("rect",{key:"react-".concat(E),x:b,y:l,width:A,height:h,stroke:"none",fill:n[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var defaultVerticalCoordinatesGenerator=(e,t)=>{var{xAxis:n,width:i,height:o,offset:l}=e;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,t)},defaultHorizontalCoordinatesGenerator=(e,t)=>{var{yAxis:n,width:i,height:o,offset:l}=e;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},defaultCartesianAxisProps),n),{},{ticks:getTicksOfAxis(n),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,t)},defaultCartesianGridProps={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:DefaultZIndexes.grid};function CartesianGrid(e){var t=useChartWidth(),n=useChartHeight(),i=useOffsetInternal(),o=_objectSpread$4(_objectSpread$4({},resolveDefaultProps(e,defaultCartesianGridProps)),{},{x:isNumber(e.x)?e.x:i.left,y:isNumber(e.y)?e.y:i.top,width:isNumber(e.width)?e.width:i.width,height:isNumber(e.height)?e.height:i.height}),{xAxisId:l,yAxisId:u,x:h,y:p,width:m,height:g,syncWithTicks:b,horizontalValues:E,verticalValues:_}=o,A=useIsPanorama(),w=useAppSelector(U=>selectAxisPropsNeededForCartesianGridTicksGenerator(U,"xAxis",l,A)),T=useAppSelector(U=>selectAxisPropsNeededForCartesianGridTicksGenerator(U,"yAxis",u,A));if(!isPositiveNumber(m)||!isPositiveNumber(g)||!isNumber(h)||!isNumber(p))return null;var C=o.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,B=o.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:N,verticalPoints:j}=o;if((!N||!N.length)&&typeof B=="function"){var M=E&&E.length,D=B({yAxis:T?_objectSpread$4(_objectSpread$4({},T),{},{ticks:M?E:T.ticks}):void 0,width:t??m,height:n??g,offset:i},M?!0:b);warn(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(N=D)}if((!j||!j.length)&&typeof C=="function"){var V=_&&_.length,L=C({xAxis:w?_objectSpread$4(_objectSpread$4({},w),{},{ticks:V?_:w.ticks}):void 0,width:t??m,height:n??g,offset:i},V?!0:b);warn(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(j=L)}return reactExports.createElement(ZIndexLayer,{zIndex:o.zIndex},reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),reactExports.createElement(HorizontalStripes,_extends$a({},o,{horizontalPoints:N})),reactExports.createElement(VerticalStripes,_extends$a({},o,{verticalPoints:j})),reactExports.createElement(HorizontalGridLines,_extends$a({},o,{offset:i,horizontalPoints:N,xAxis:w,yAxis:T})),reactExports.createElement(VerticalGridLines,_extends$a({},o,{offset:i,verticalPoints:j,xAxis:w,yAxis:T}))))}CartesianGrid.displayName="CartesianGrid";var initialState$1={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$1,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]||(e[n]=[]),e[n].push(i)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:i,next:o}=t.payload;e[n]&&(e[n]=e[n].map(l=>l.dataKey===i.dataKey&&l.direction===i.direction?o:l))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:i}=t.payload;e[n]&&(e[n]=e[n].filter(o=>o.dataKey!==i.dataKey||o.direction!==i.direction))}}}),{addErrorBar,replaceErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$9=["children"];function _objectWithoutProperties$9(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$9(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$9(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(e){var{children:t}=e,n=_objectWithoutProperties$9(e,_excluded$9);return reactExports.createElement(ErrorBarContext.Provider,{value:n},t)}function useNeedsClip(e,t){var n,i,o=useAppSelector(m=>selectXAxisSettings(m,e)),l=useAppSelector(m=>selectYAxisSettings(m,t)),u=(n=o==null?void 0:o.allowDataOverflow)!==null&&n!==void 0?n:implicitXAxis.allowDataOverflow,h=(i=l==null?void 0:l.allowDataOverflow)!==null&&i!==void 0?i:implicitYAxis.allowDataOverflow,p=u||h;return{needClip:p,needClipX:u,needClipY:h}}function GraphicalItemClipPath(e){var{xAxisId:t,yAxisId:n,clipPathId:i}=e,o=usePlotArea(),{needClipX:l,needClipY:u,needClip:h}=useNeedsClip(t,n);if(!h||!o)return null;var{x:p,y:m,width:g,height:b}=o;return reactExports.createElement("clipPath",{id:"clipPath-".concat(i)},reactExports.createElement("rect",{x:l?p:p-g/2,y:u?m:m-b/2,width:l?g:g*2,height:u?b:b*2}))}function getRadiusAndStrokeWidthFromDot(e){var t=svgPropertiesNoEventsFromUnknown(e),n=3,i=2;if(t!=null){var{r:o,strokeWidth:l}=t,u=Number(o),h=Number(l);return(Number.isNaN(u)||u<0)&&(u=n),(Number.isNaN(h)||h<0)&&(h=i),{r:u,strokeWidth:h}}return{r:n,strokeWidth:i}}var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var e=requireReact();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,o=e.useRef,l=e.useEffect,u=e.useMemo,h=e.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(p,m,g,b,E){var _=o(null);if(_.current===null){var A={hasValue:!1,value:null};_.current=A}else A=_.current;_=u(function(){function T(M){if(!C){if(C=!0,B=M,M=b(M),E!==void 0&&A.hasValue){var D=A.value;if(E(D,M))return N=D}return N=M}if(D=N,n(B,M))return D;var V=b(M);return E!==void 0&&E(D,V)?(B=M,D):(B=M,N=V)}var C=!1,B,N,j=g===void 0?null:g;return[function(){return T(m())},j===null?void 0:function(){return T(j())}]},[m,g,b,E]);var w=i(p,_[0],_[1]);return l(function(){A.hasValue=!0,A.value=w},[w]),h(w),w},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(e){e()}function createListenerCollection(){let e=null,t=null;return{clear(){e=null,t=null},notify(){defaultNoopBatch(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=t={callback:n,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(e,t){let n,i=nullListeners,o=0,l=!1;function u(w){g();const T=i.subscribe(w);let C=!1;return()=>{C||(C=!0,T(),b())}}function h(){i.notify()}function p(){A.onStateChange&&A.onStateChange()}function m(){return l}function g(){o++,n||(n=e.subscribe(p),i=createListenerCollection())}function b(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=nullListeners)}function E(){l||(l=!0,g())}function _(){l&&(l=!1,b())}const A={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:_,getListeners:()=>i};return A}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect();function is(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function shallowEqual(e,t){if(is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!is(e[n[o]],t[n[o]]))return!1;return!0}var ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const e=gT[ContextKey]??(gT[ContextKey]=new Map);let t=e.get(reactExports.createContext);return t||(t=reactExports.createContext(null),e.set(reactExports.createContext,t)),t}var ReactReduxContext=getContext();function Provider(e){const{children:t,context:n,serverState:i,store:o}=e,l=reactExports.useMemo(()=>{const p=createSubscription(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),u=reactExports.useMemo(()=>o.getState(),[o]);useIsomorphicLayoutEffect(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,u]);const h=n||ReactReduxContext;return reactExports.createElement(h.Provider,{value:l},t)}var Provider_default=Provider,propsToShallowCompare=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sameValueZero(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function propsAreEqual(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var i of n)if(propsToShallowCompare.has(i)){if(e[i]==null&&t[i]==null)continue;if(!shallowEqual(e[i],t[i]))return!1}else if(!sameValueZero(e[i],t[i]))return!1;return!0}function selectXAxisIdFromGraphicalItemId(e,t){var n,i;return(n=(i=e.graphicalItems.cartesianItems.find(o=>o.id===t))===null||i===void 0?void 0:i.xAxisId)!==null&&n!==void 0?n:defaultAxisId}function selectYAxisIdFromGraphicalItemId(e,t){var n,i;return(n=(i=e.graphicalItems.cartesianItems.find(o=>o.id===t))===null||i===void 0?void 0:i.yAxisId)!==null&&n!==void 0?n:defaultAxisId}var selectXAxisWithScale$1=(e,t,n)=>selectAxisWithScale(e,"xAxis",selectXAxisIdFromGraphicalItemId(e,t),n),selectXAxisTicks$1=(e,t,n)=>selectTicksOfGraphicalItem(e,"xAxis",selectXAxisIdFromGraphicalItemId(e,t),n),selectYAxisWithScale$1=(e,t,n)=>selectAxisWithScale(e,"yAxis",selectYAxisIdFromGraphicalItemId(e,t),n),selectYAxisTicks$1=(e,t,n)=>selectTicksOfGraphicalItem(e,"yAxis",selectYAxisIdFromGraphicalItemId(e,t),n),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1],(e,t,n,i,o)=>isCategoricalAxis(e,"xAxis")?getBandSizeOfAxis(t,i,!1):getBandSizeOfAxis(n,o,!1)),pickAreaId=(e,t)=>t,selectSynchronisedAreaSettings=createSelector([selectUnfilteredCartesianItems,pickAreaId],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),selectNumericalAxisType=e=>{var t=selectChartLayout(e),n=isCategoricalAxis(t,"xAxis");return n?"yAxis":"xAxis"},selectNumericalAxisIdFromGraphicalItemId=(e,t)=>{var n=selectNumericalAxisType(e);return n==="yAxis"?selectYAxisIdFromGraphicalItemId(e,t):selectXAxisIdFromGraphicalItemId(e,t)},selectNumericalAxisStackGroups=(e,t,n)=>selectStackGroups(e,selectNumericalAxisType(e),selectNumericalAxisIdFromGraphicalItemId(e,t),n),selectGraphicalItemStackedData=createSelector([selectSynchronisedAreaSettings,selectNumericalAxisStackGroups],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:i}=e,o=getStackSeriesIdentifier(e);if(!(i==null||o==null)){var l=(n=t[i])===null||n===void 0?void 0:n.stackedData,u=l==null?void 0:l.find(h=>h.key===o);if(u!=null)return u.map(h=>[h[0],h[1]])}}}),selectArea=createSelector([selectChartLayout,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectGraphicalItemStackedData,selectChartDataWithIndexesIfNotInPanoramaPosition3,selectBandSize,selectSynchronisedAreaSettings,selectChartBaseValue],(e,t,n,i,o,l,u,h,p,m)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:E}=u;if(!(p==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||i==null||o==null||i.length===0||o.length===0||h==null)){var{data:_}=p,A;if(_&&_.length>0?A=_:A=g==null?void 0:g.slice(b,E+1),A!=null)return computeArea({layout:e,xAxis:t,yAxis:n,xAxisTicks:i,yAxisTicks:o,dataStartIndex:b,areaSettings:p,stackedData:l,displayedData:A,chartBaseValue:m,bandSize:h})}}),_excluded$8=["id"],_excluded2$4=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$9.apply(null,arguments)}function _objectWithoutProperties$8(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$8(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$8(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function ownKeys$3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$3(Object(n),!0).forEach(function(i){_defineProperty$3(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$3(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$3(e,t,n){return(t=_toPropertyKey$3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$3(e){var t=_toPrimitive$3(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function getLegendItemColor(e,t){return e&&e!=="none"?e:t}var computeLegendPayloadFromAreaData=e=>{var{dataKey:t,name:n,stroke:i,fill:o,legendType:l,hide:u}=e;return[{inactive:u,dataKey:t,type:l,color:getLegendItemColor(i,o),value:getTooltipNameProp(n,t),payload:e}]},SetAreaTooltipEntrySettings=reactExports.memo(e=>{var{dataKey:t,data:n,stroke:i,strokeWidth:o,fill:l,name:u,hide:h,unit:p,tooltipType:m,id:g}=e,b={dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:o,fill:l,dataKey:t,nameKey:void 0,name:getTooltipNameProp(u,t),hide:h,type:m,color:getLegendItemColor(i,l),unit:p,graphicalItemId:g}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:b})});function AreaDotsWrapper(e){var{clipPathId:t,points:n,props:i}=e,{needClip:o,dot:l,dataKey:u}=i,h=svgPropertiesNoEvents(i);return reactExports.createElement(Dots,{points:n,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:u,baseProps:h,needClip:o,clipPathId:t})}function AreaLabelListProvider(e){var{showLabels:t,children:n,points:i}=e,o=i.map(l=>{var u,h,p={x:(u=l.x)!==null&&u!==void 0?u:0,y:(h=l.y)!==null&&h!==void 0?h:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _objectSpread$3(_objectSpread$3({},p),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return reactExports.createElement(CartesianLabelListContextProvider,{value:t?o:void 0},n)}function StaticArea(e){var{points:t,baseLine:n,needClip:i,clipPathId:o,props:l}=e,{layout:u,type:h,stroke:p,connectNulls:m,isRange:g}=l,{id:b}=l,E=_objectWithoutProperties$8(l,_excluded$8),_=svgPropertiesNoEvents(E),A=svgPropertiesAndEvents(E);return reactExports.createElement(reactExports.Fragment,null,(t==null?void 0:t.length)>1&&reactExports.createElement(Layer,{clipPath:i?"url(#clipPath-".concat(o,")"):void 0},reactExports.createElement(Curve,_extends$9({},A,{id:b,points:t,connectNulls:m,type:h,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),p!=="none"&&reactExports.createElement(Curve,_extends$9({},_,{className:"recharts-area-curve",layout:u,type:h,connectNulls:m,fill:"none",points:t})),p!=="none"&&g&&reactExports.createElement(Curve,_extends$9({},_,{className:"recharts-area-curve",layout:u,type:h,connectNulls:m,fill:"none",points:n}))),reactExports.createElement(AreaDotsWrapper,{points:t,props:E,clipPathId:o}))}function VerticalRect(e){var t,n,{alpha:i,baseLine:o,points:l,strokeWidth:u}=e,h=(t=l[0])===null||t===void 0?void 0:t.y,p=(n=l[l.length-1])===null||n===void 0?void 0:n.y;if(!isWellBehavedNumber(h)||!isWellBehavedNumber(p))return null;var m=i*Math.abs(h-p),g=Math.max(...l.map(b=>b.x||0));return isNumber(o)?g=Math.max(o,g):o&&Array.isArray(o)&&o.length&&(g=Math.max(...o.map(b=>b.x||0),g)),isNumber(g)?reactExports.createElement("rect",{x:0,y:h<p?h:h-m,width:g+(u?parseInt("".concat(u),10):1),height:Math.floor(m)}):null}function HorizontalRect(e){var t,n,{alpha:i,baseLine:o,points:l,strokeWidth:u}=e,h=(t=l[0])===null||t===void 0?void 0:t.x,p=(n=l[l.length-1])===null||n===void 0?void 0:n.x;if(!isWellBehavedNumber(h)||!isWellBehavedNumber(p))return null;var m=i*Math.abs(h-p),g=Math.max(...l.map(b=>b.y||0));return isNumber(o)?g=Math.max(o,g):o&&Array.isArray(o)&&o.length&&(g=Math.max(...o.map(b=>b.y||0),g)),isNumber(g)?reactExports.createElement("rect",{x:h<p?h:h-m,y:0,width:m,height:Math.floor(g+(u?parseInt("".concat(u),10):1))}):null}function ClipRect(e){var{alpha:t,layout:n,points:i,baseLine:o,strokeWidth:l}=e;return n==="vertical"?reactExports.createElement(VerticalRect,{alpha:t,points:i,baseLine:o,strokeWidth:l}):reactExports.createElement(HorizontalRect,{alpha:t,points:i,baseLine:o,strokeWidth:l})}function AreaWithAnimation(e){var{needClip:t,clipPathId:n,props:i,previousPointsRef:o,previousBaselineRef:l}=e,{points:u,baseLine:h,isAnimationActive:p,animationBegin:m,animationDuration:g,animationEasing:b,onAnimationStart:E,onAnimationEnd:_}=i,A=reactExports.useMemo(()=>({points:u,baseLine:h}),[u,h]),w=useAnimationId(A,"recharts-area-"),T=useCartesianChartLayout(),[C,B]=reactExports.useState(!1),N=!C,j=reactExports.useCallback(()=>{typeof _=="function"&&_(),B(!1)},[_]),M=reactExports.useCallback(()=>{typeof E=="function"&&E(),B(!0)},[E]);if(T==null)return null;var D=o.current,V=l.current;return reactExports.createElement(AreaLabelListProvider,{showLabels:N,points:u},i.children,reactExports.createElement(JavascriptAnimate,{animationId:w,begin:m,duration:g,isActive:p,easing:b,onAnimationEnd:j,onAnimationStart:M,key:w},L=>{if(D){var U=D.length/u.length,J=L===1?u:u.map((K,te)=>{var me=Math.floor(te*U);if(D[me]){var he=D[me];return _objectSpread$3(_objectSpread$3({},K),{},{x:interpolate$1(he.x,K.x,L),y:interpolate$1(he.y,K.y,L)})}return K}),$;return isNumber(h)?$=interpolate$1(V,h,L):isNullish(h)||isNan(h)?$=interpolate$1(V,0,L):$=h.map((K,te)=>{var me=Math.floor(te*U);if(Array.isArray(V)&&V[me]){var he=V[me];return _objectSpread$3(_objectSpread$3({},K),{},{x:interpolate$1(he.x,K.x,L),y:interpolate$1(he.y,K.y,L)})}return K}),L>0&&(o.current=J,l.current=$),reactExports.createElement(StaticArea,{points:J,baseLine:$,needClip:t,clipPathId:n,props:i})}return L>0&&(o.current=u,l.current=h),reactExports.createElement(Layer,null,p&&reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:"animationClipPath-".concat(n)},reactExports.createElement(ClipRect,{alpha:L,points:u,baseLine:h,layout:T,strokeWidth:i.strokeWidth}))),reactExports.createElement(Layer,{clipPath:"url(#animationClipPath-".concat(n,")")},reactExports.createElement(StaticArea,{points:u,baseLine:h,needClip:t,clipPathId:n,props:i})))}),reactExports.createElement(LabelListFromLabelProp,{label:i.label}))}function RenderArea(e){var{needClip:t,clipPathId:n,props:i}=e,o=reactExports.useRef(null),l=reactExports.useRef();return reactExports.createElement(AreaWithAnimation,{needClip:t,clipPathId:n,props:i,previousPointsRef:o,previousBaselineRef:l})}class AreaWithState extends reactExports.PureComponent{render(){var{hide:t,dot:n,points:i,className:o,top:l,left:u,needClip:h,xAxisId:p,yAxisId:m,width:g,height:b,id:E,baseLine:_,zIndex:A}=this.props;if(t)return null;var w=clsx("recharts-area",o),T=E,{r:C,strokeWidth:B}=getRadiusAndStrokeWidthFromDot(n),N=isClipDot(n),j=C*2+B,M=h?"url(#clipPath-".concat(N?"":"dots-").concat(T,")"):void 0;return reactExports.createElement(ZIndexLayer,{zIndex:A},reactExports.createElement(Layer,{className:w},h&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:T,xAxisId:p,yAxisId:m}),!N&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(T)},reactExports.createElement("rect",{x:u-j/2,y:l-j/2,width:g+j,height:b+j}))),reactExports.createElement(RenderArea,{needClip:h,clipPathId:T,props:this.props})),reactExports.createElement(ActivePoints,{points:i,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(_)&&reactExports.createElement(ActivePoints,{points:_,mainColor:getLegendItemColor(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var defaultAreaProps={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.area};function AreaImpl(e){var t,n=resolveDefaultProps(e,defaultAreaProps),{activeDot:i,animationBegin:o,animationDuration:l,animationEasing:u,connectNulls:h,dot:p,fill:m,fillOpacity:g,hide:b,isAnimationActive:E,legendType:_,stroke:A,xAxisId:w,yAxisId:T}=n,C=_objectWithoutProperties$8(n,_excluded2$4),B=useChartLayout(),N=useChartName(),{needClip:j}=useNeedsClip(w,T),M=useIsPanorama(),{points:D,isRange:V,baseLine:L}=(t=useAppSelector(me=>selectArea(me,e.id,M)))!==null&&t!==void 0?t:{},U=usePlotArea();if(B!=="horizontal"&&B!=="vertical"||U==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:J,width:$,x:K,y:te}=U;return!D||!D.length?null:reactExports.createElement(AreaWithState,_extends$9({},C,{activeDot:i,animationBegin:o,animationDuration:l,animationEasing:u,baseLine:L,connectNulls:h,dot:p,fill:m,fillOpacity:g,height:J,hide:b,layout:B,isAnimationActive:E==="auto"?!Global.isSsr:E,isRange:V,legendType:_,needClip:j,points:D,stroke:A,width:$,left:K,top:te,xAxisId:w,yAxisId:T}))}var getBaseValue=(e,t,n,i,o)=>{var l=n??t;if(isNumber(l))return l;var u=e==="horizontal"?o:i,h=u.scale.domain();if(u.type==="number"){var p=Math.max(h[0],h[1]),m=Math.min(h[0],h[1]);return l==="dataMin"?m:l==="dataMax"||p<0?p:Math.max(Math.min(h[0],h[1]),0)}return l==="dataMin"?h[0]:l==="dataMax"?h[1]:h[0]};function computeArea(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:i},stackedData:o,layout:l,chartBaseValue:u,xAxis:h,yAxis:p,displayedData:m,dataStartIndex:g,xAxisTicks:b,yAxisTicks:E,bandSize:_}=e,A=o&&o.length,w=getBaseValue(l,u,n,h,p),T=l==="horizontal",C=!1,B=m.map((j,M)=>{var D,V,L;if(A)L=o[g+M];else{var U=getValueByDataKey(j,i);Array.isArray(U)?(L=U,C=!0):L=[w,U]}var J=(D=(V=L)===null||V===void 0?void 0:V[1])!==null&&D!==void 0?D:null,$=J==null||A&&!t&&getValueByDataKey(j,i)==null;return T?{x:getCateCoordinateOfLine({axis:h,ticks:b,bandSize:_,entry:j,index:M}),y:$?null:p.scale(J),value:L,payload:j}:{x:$?null:h.scale(J),y:getCateCoordinateOfLine({axis:p,ticks:E,bandSize:_,entry:j,index:M}),value:L,payload:j}}),N;return A||C?N=B.map(j=>{var M=Array.isArray(j.value)?j.value[0]:null;return T?{x:j.x,y:M!=null&&j.y!=null?p.scale(M):null,payload:j.payload}:{x:M!=null?h.scale(M):null,y:j.y,payload:j.payload}}):N=T?p.scale(w):h.scale(w),{points:B,baseLine:N,isRange:C}}function AreaFn(e){var t=resolveDefaultProps(e,defaultAreaProps),n=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"area"},i=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(t)}),reactExports.createElement(SetAreaTooltipEntrySettings,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),reactExports.createElement(SetCartesianGraphicalItem,{type:"area",id:i,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:getNormalizedStackId(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),reactExports.createElement(AreaImpl,_extends$9({},t,{id:i}))))}var Area=reactExports.memo(AreaFn,propsAreEqual);Area.displayName="Area";var prefix="Invariant failed";function invariant(e,t){throw new Error(prefix)}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$8.apply(null,arguments)}function BarRectangle(e){return reactExports.createElement(Shape,_extends$8({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var minPointSizeCallback=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,o)=>{if(isNumber(t))return t;var l=isNumber(i)||isNullish(i);return l?t(i,o):(l||invariant(),n)}},pickIsPanorama=(e,t,n)=>n,pickBarId=(e,t)=>t,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],e=>e==null?void 0:e.maxBarSize),pickCells=(e,t,n,i)=>i,selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,selectXAxisIdFromGraphicalItemId,selectYAxisIdFromGraphicalItemId,pickIsPanorama],(e,t,n,i,o)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===i).filter(l=>l.isPanorama===o).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),selectBarStackGroups=(e,t,n)=>{var i=selectChartLayout(e),o=selectXAxisIdFromGraphicalItemId(e,t),l=selectYAxisIdFromGraphicalItemId(e,t);if(!(o==null||l==null))return i==="horizontal"?selectStackGroups(e,"yAxis",l,n):selectStackGroups(e,"xAxis",o,n)},selectBarCartesianAxisSize=(e,t)=>{var n=selectChartLayout(e),i=selectXAxisIdFromGraphicalItemId(e,t),o=selectYAxisIdFromGraphicalItemId(e,t);if(!(i==null||o==null))return n==="horizontal"?selectCartesianAxisSize(e,"xAxis",i):selectCartesianAxisSize(e,"yAxis",o)},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(e,t,n)=>{var i,o,l=selectSynchronisedBarSettings(e,t);if(l!=null){var u=selectXAxisIdFromGraphicalItemId(e,t),h=selectYAxisIdFromGraphicalItemId(e,t);if(!(u==null||h==null)){var p=selectChartLayout(e),m=selectRootMaxBarSize(e),{maxBarSize:g}=l,b=isNullish(g)?m:g,E,_;return p==="horizontal"?(E=selectAxisWithScale(e,"xAxis",u,n),_=selectTicksOfGraphicalItem(e,"xAxis",u,n)):(E=selectAxisWithScale(e,"yAxis",h,n),_=selectTicksOfGraphicalItem(e,"yAxis",h,n)),(i=(o=getBandSizeOfAxis(E,_,!0))!==null&&o!==void 0?o:b)!==null&&i!==void 0?i:0}}},selectAxisBandSize=(e,t,n)=>{var i=selectChartLayout(e),o=selectXAxisIdFromGraphicalItemId(e,t),l=selectYAxisIdFromGraphicalItemId(e,t);if(!(o==null||l==null)){var u,h;return i==="horizontal"?(u=selectAxisWithScale(e,"xAxis",o,n),h=selectTicksOfGraphicalItem(e,"xAxis",o,n)):(u=selectAxisWithScale(e,"yAxis",l,n),h=selectTicksOfGraphicalItem(e,"yAxis",l,n)),getBandSizeOfAxis(u,h)}},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale=(e,t,n)=>{var i=selectXAxisIdFromGraphicalItemId(e,t);if(i!=null)return selectAxisWithScale(e,"xAxis",i,n)},selectYAxisWithScale=(e,t,n)=>{var i=selectYAxisIdFromGraphicalItemId(e,t);if(i!=null)return selectAxisWithScale(e,"yAxis",i,n)},selectXAxisTicks=(e,t,n)=>{var i=selectXAxisIdFromGraphicalItemId(e,t);if(i!=null)return selectTicksOfGraphicalItem(e,"xAxis",i,n)},selectYAxisTicks=(e,t,n)=>{var i=selectYAxisIdFromGraphicalItemId(e,t);if(i!=null)return selectTicksOfGraphicalItem(e,"yAxis",i,n)},selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(e,t)=>{if(!(e==null||t==null)){var n=e.find(i=>i.stackId===t.stackId&&t.dataKey!=null&&i.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectAxisViewBox,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanoramaPosition3,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(e,t,n,i,o,l,u,h,p,m,g,b,E)=>{var{chartData:_,dataStartIndex:A,dataEndIndex:w}=p;if(!(b==null||u==null||t==null||h!=="horizontal"&&h!=="vertical"||n==null||i==null||o==null||l==null||m==null)){var{data:T}=b,C;if(T!=null&&T.length>0?C=T:C=_==null?void 0:_.slice(A,w+1),C!=null)return computeBarRectangles({layout:h,barSettings:b,pos:u,parentViewBox:t,bandSize:m,xAxis:n,yAxis:i,xAxisTicks:o,yAxisTicks:l,stackedData:g,displayedData:C,offset:e,cells:E,dataStartIndex:A})}}),_excluded$7=["index"];function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$7.apply(null,arguments)}function _objectWithoutProperties$7(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$7(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var BarStackContext=reactExports.createContext(void 0),useStackId=e=>{var t=reactExports.useContext(BarStackContext);if(t!=null)return t.stackId;if(e!=null)return getNormalizedStackId(e)},getClipPathId=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),useBarStackClipPathUrl=e=>{var t=reactExports.useContext(BarStackContext);if(t!=null){var{stackId:n}=t;return"url(#".concat(getClipPathId(n,e),")")}},BarStackClipLayer=e=>{var{index:t}=e,n=_objectWithoutProperties$7(e,_excluded$7),i=useBarStackClipPathUrl(t);return reactExports.createElement(Layer,_extends$7({className:"recharts-bar-stack-layer",clipPath:i},n))},_excluded$6=["onMouseEnter","onMouseLeave","onClick"],_excluded2$3=["value","background","tooltipPosition"],_excluded3=["id"],_excluded4=["onMouseEnter","onClick","onMouseLeave"];function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$6.apply(null,arguments)}function ownKeys$2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$2(Object(n),!0).forEach(function(i){_defineProperty$2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$2(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$2(e,t,n){return(t=_toPropertyKey$2(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$2(e){var t=_toPrimitive$2(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$2(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _objectWithoutProperties$6(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$6(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$6(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var computeLegendPayloadFromBarData=e=>{var{dataKey:t,name:n,fill:i,legendType:o,hide:l}=e;return[{inactive:l,dataKey:t,type:o,color:i,value:getTooltipNameProp(n,t),payload:e}]},SetBarTooltipEntrySettings=reactExports.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:i,fill:o,name:l,hide:u,unit:h,tooltipType:p,id:m}=e,g={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:o,dataKey:t,nameKey:void 0,name:getTooltipNameProp(l,t),hide:u,type:p,color:o,unit:h,graphicalItemId:m}};return reactExports.createElement(SetTooltipEntrySettings,{tooltipEntrySettings:g})});function BarBackground(e){var t=useAppSelector(selectActiveTooltipIndex),{data:n,dataKey:i,background:o,allOtherBarProps:l}=e,{onMouseEnter:u,onMouseLeave:h,onClick:p}=l,m=_objectWithoutProperties$6(l,_excluded$6),g=useMouseEnterItemDispatch(u,i,l.id),b=useMouseLeaveItemDispatch(h),E=useMouseClickItemDispatch(p,i,l.id);if(!o||n==null)return null;var _=svgPropertiesNoEventsFromUnknown(o);return reactExports.createElement(ZIndexLayer,{zIndex:getZIndexFromUnknown(o,DefaultZIndexes.barBackground)},n.map((A,w)=>{var{value:T,background:C,tooltipPosition:B}=A,N=_objectWithoutProperties$6(A,_excluded2$3);if(!C)return null;var j=g(A,w),M=b(A,w),D=E(A,w),V=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({option:o,isActive:String(w)===t},N),{},{fill:"#eee"},C),_),adaptEventsOfChild(m,A,w)),{},{onMouseEnter:j,onMouseLeave:M,onClick:D,dataKey:i,index:w,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$6({key:"background-bar-".concat(w)},V))}))}function BarLabelListProvider(e){var{showLabels:t,children:n,rects:i}=e,o=i==null?void 0:i.map(l=>{var u={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return _objectSpread$2(_objectSpread$2({},u),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:u,fill:l.fill})});return reactExports.createElement(CartesianLabelListContextProvider,{value:t?o:void 0},n)}function BarRectangleWithActiveState(e){var{shape:t,activeBar:n,baseProps:i,entry:o,index:l,dataKey:u}=e,h=useAppSelector(selectActiveTooltipIndex),p=useAppSelector(selectActiveTooltipDataKey),m=n&&String(l)===h&&(p==null||u===p),g=m?n:t;return m?reactExports.createElement(ZIndexLayer,{zIndex:DefaultZIndexes.activeBar},reactExports.createElement(BarRectangle,_extends$6({},i,{name:String(i.name)},o,{isActive:m,option:g,index:l,dataKey:u}))):reactExports.createElement(BarRectangle,_extends$6({},i,{name:String(i.name)},o,{isActive:m,option:g,index:l,dataKey:u}))}function BarRectangleNeverActive(e){var{shape:t,baseProps:n,entry:i,index:o,dataKey:l}=e;return reactExports.createElement(BarRectangle,_extends$6({},n,{name:String(n.name)},i,{isActive:!1,option:t,index:o,dataKey:l}))}function BarRectangles(e){var t,{data:n,props:i}=e,o=(t=svgPropertiesNoEvents(i))!==null&&t!==void 0?t:{},{id:l}=o,u=_objectWithoutProperties$6(o,_excluded3),{shape:h,dataKey:p,activeBar:m}=i,{onMouseEnter:g,onClick:b,onMouseLeave:E}=i,_=_objectWithoutProperties$6(i,_excluded4),A=useMouseEnterItemDispatch(g,p,l),w=useMouseLeaveItemDispatch(E),T=useMouseClickItemDispatch(b,p,l);return n?reactExports.createElement(reactExports.Fragment,null,n.map((C,B)=>reactExports.createElement(BarStackClipLayer,_extends$6({index:B,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(B),className:"recharts-bar-rectangle"},adaptEventsOfChild(_,C,B),{onMouseEnter:A(C,B),onMouseLeave:w(C,B),onClick:T(C,B)}),m?reactExports.createElement(BarRectangleWithActiveState,{shape:h,activeBar:m,baseProps:u,entry:C,index:B,dataKey:p}):reactExports.createElement(BarRectangleNeverActive,{shape:h,baseProps:u,entry:C,index:B,dataKey:p})))):null}function RectanglesWithAnimation(e){var{props:t,previousRectanglesRef:n}=e,{data:i,layout:o,isAnimationActive:l,animationBegin:u,animationDuration:h,animationEasing:p,onAnimationEnd:m,onAnimationStart:g}=t,b=n.current,E=useAnimationId(t,"recharts-bar-"),[_,A]=reactExports.useState(!1),w=!_,T=reactExports.useCallback(()=>{typeof m=="function"&&m(),A(!1)},[m]),C=reactExports.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return reactExports.createElement(BarLabelListProvider,{showLabels:w,rects:i},reactExports.createElement(JavascriptAnimate,{animationId:E,begin:u,duration:h,isActive:l,easing:p,onAnimationEnd:T,onAnimationStart:C,key:E},B=>{var N=B===1?i:i==null?void 0:i.map((j,M)=>{var D=b&&b[M];if(D)return _objectSpread$2(_objectSpread$2({},j),{},{x:interpolate$1(D.x,j.x,B),y:interpolate$1(D.y,j.y,B),width:interpolate$1(D.width,j.width,B),height:interpolate$1(D.height,j.height,B)});if(o==="horizontal"){var V=interpolate$1(0,j.height,B),L=interpolate$1(j.stackedBarStart,j.y,B);return _objectSpread$2(_objectSpread$2({},j),{},{y:L,height:V})}var U=interpolate$1(0,j.width,B),J=interpolate$1(j.stackedBarStart,j.x,B);return _objectSpread$2(_objectSpread$2({},j),{},{width:U,x:J})});return B>0&&(n.current=N??null),N==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:t,data:N}))}),reactExports.createElement(LabelListFromLabelProp,{label:t.label}),t.children)}function RenderRectangles(e){var t=reactExports.useRef(null);return reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:t,props:e})}var defaultMinPointSize=0,errorBarDataPointFormatter=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:getValueByDataKey(e,t)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:t,data:n,dataKey:i,className:o,xAxisId:l,yAxisId:u,needClip:h,background:p,id:m}=this.props;if(t||n==null)return null;var g=clsx("recharts-bar",o),b=m;return reactExports.createElement(Layer,{className:g,id:m},h&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:b,xAxisId:l,yAxisId:u})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:h?"url(#clipPath-".concat(b,")"):void 0},reactExports.createElement(BarBackground,{data:n,dataKey:i,background:p,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)))}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0,zIndex:DefaultZIndexes.bar};function BarImpl(e){var{xAxisId:t,yAxisId:n,hide:i,legendType:o,minPointSize:l,activeBar:u,animationBegin:h,animationDuration:p,animationEasing:m,isAnimationActive:g}=e,{needClip:b}=useNeedsClip(t,n),E=useChartLayout(),_=useIsPanorama(),A=findAllByType(e.children,Cell),w=useAppSelector(B=>selectBarRectangles(B,e.id,_,A));if(E!=="vertical"&&E!=="horizontal")return null;var T,C=w==null?void 0:w[0];return C==null||C.height==null||C.width==null?T=0:T=E==="vertical"?C.height/2:C.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:t,yAxisId:n,data:w,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:T},reactExports.createElement(BarWithState,_extends$6({},e,{layout:E,needClip:b,data:w,xAxisId:t,yAxisId:n,hide:i,legendType:o,minPointSize:l,activeBar:u,animationBegin:h,animationDuration:p,animationEasing:m,isAnimationActive:g})))}function computeBarRectangles(e){var{layout:t,barSettings:{dataKey:n,minPointSize:i},pos:o,bandSize:l,xAxis:u,yAxis:h,xAxisTicks:p,yAxisTicks:m,stackedData:g,displayedData:b,offset:E,cells:_,parentViewBox:A,dataStartIndex:w}=e,T=t==="horizontal"?h:u,C=g?T.scale.domain():null,B=getBaseValueOfBar({numericAxis:T}),N=T.scale(B);return b.map((j,M)=>{var D,V,L,U,J,$;if(g){var K=g[M+w];if(K==null)return null;D=truncateByDomain(K,C)}else D=getValueByDataKey(j,n),Array.isArray(D)||(D=[B,D]);var te=minPointSizeCallback(i,defaultMinPointSize)(D[1],M);if(t==="horizontal"){var me,[he,ee]=[h.scale(D[0]),h.scale(D[1])];V=getCateCoordinateOfBar({axis:u,ticks:p,bandSize:l,offset:o.offset,entry:j,index:M}),L=(me=ee??he)!==null&&me!==void 0?me:void 0,U=o.size;var ie=he-ee;if(J=isNan(ie)?0:ie,$={x:V,y:E.top,width:U,height:E.height},Math.abs(te)>0&&Math.abs(J)<Math.abs(te)){var ce=mathSign(J||te)*(Math.abs(te)-Math.abs(J));L-=ce,J+=ce}}else{var[ne,Z]=[u.scale(D[0]),u.scale(D[1])];if(V=ne,L=getCateCoordinateOfBar({axis:h,ticks:m,bandSize:l,offset:o.offset,entry:j,index:M}),U=Z-ne,J=o.size,$={x:E.left,y:L,width:E.width,height:J},Math.abs(te)>0&&Math.abs(U)<Math.abs(te)){var G=mathSign(U||te)*(Math.abs(te)-Math.abs(U));U+=G}}if(V==null||L==null||U==null||J==null)return null;var H=_objectSpread$2(_objectSpread$2({},j),{},{stackedBarStart:N,x:V,y:L,width:U,height:J,value:g?D:D[1],payload:j,background:$,tooltipPosition:{x:V+U/2,y:L+J/2},parentViewBox:A},_&&_[M]&&_[M].props);return H}).filter(Boolean)}function BarFn(e){var t=resolveDefaultProps(e,defaultBarProps),n=useStackId(t.stackId),i=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:t.id,type:"bar"},o=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(t)}),reactExports.createElement(SetBarTooltipEntrySettings,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:o}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:o,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:i}),reactExports.createElement(ZIndexLayer,{zIndex:t.zIndex},reactExports.createElement(BarImpl,_extends$6({},t,{id:o})))))}var Bar=reactExports.memo(BarFn,propsAreEqual);Bar.displayName="Bar";var _excluded$5=["domain","range"],_excluded2$2=["domain","range"];function _objectWithoutProperties$5(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$5(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$5(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function shortArraysAreEqual(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function axisPropsAreEqual(e,t){if(e===t)return!0;var{domain:n,range:i}=e,o=_objectWithoutProperties$5(e,_excluded$5),{domain:l,range:u}=t,h=_objectWithoutProperties$5(t,_excluded2$2);return!shortArraysAreEqual(n,l)||!shortArraysAreEqual(i,u)?!1:propsAreEqual(o,h)}var _excluded$4=["dangerouslySetInnerHTML","ticks","scale"],_excluded2$1=["id","scale"];function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$5.apply(null,arguments)}function _objectWithoutProperties$4(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$4(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$4(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function SetXAxisSettings(e){var t=useAppDispatch(),n=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{n.current===null?t(addXAxis(e)):n.current!==e&&t(replaceXAxis({prev:n.current,next:e})),n.current=e},[e,t]),reactExports.useLayoutEffect(()=>()=>{n.current&&(t(removeXAxis(n.current)),n.current=null)},[t]),null}var XAxisImpl=e=>{var{xAxisId:t,className:n}=e,i=useAppSelector(selectAxisViewBox),o=useIsPanorama(),l="xAxis",u=useAppSelector(C=>selectTicksOfAxis(C,l,t,o)),h=useAppSelector(C=>selectXAxisSize(C,t)),p=useAppSelector(C=>selectXAxisPosition(C,t)),m=useAppSelector(C=>selectXAxisSettingsNoDefaults(C,t));if(h==null||p==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:b,scale:E}=e,_=_objectWithoutProperties$4(e,_excluded$4),{id:A,scale:w}=m,T=_objectWithoutProperties$4(m,_excluded2$1);return reactExports.createElement(CartesianAxis,_extends$5({},_,T,{x:p.x,y:p.y,width:h.width,height:h.height,className:clsx("recharts-".concat(l," ").concat(l),n),viewBox:i,ticks:u,axisType:l}))},xAxisDefaultProps={allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,angle:implicitXAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,height:implicitXAxis.height,hide:!1,includeHidden:implicitXAxis.includeHidden,interval:implicitXAxis.interval,minTickGap:implicitXAxis.minTickGap,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tick:implicitXAxis.tick,tickCount:implicitXAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitXAxis.type,xAxisId:0},XAxisSettingsDispatcher=e=>{var t=resolveDefaultProps(e,xAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetXAxisSettings,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),reactExports.createElement(XAxisImpl,t))},XAxis=reactExports.memo(XAxisSettingsDispatcher,axisPropsAreEqual);XAxis.displayName="XAxis";var _excluded$3=["dangerouslySetInnerHTML","ticks","scale"],_excluded2=["id","scale"];function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$4.apply(null,arguments)}function _objectWithoutProperties$3(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$3(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$3(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function SetYAxisSettings(e){var t=useAppDispatch(),n=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{n.current===null?t(addYAxis(e)):n.current!==e&&t(replaceYAxis({prev:n.current,next:e})),n.current=e},[e,t]),reactExports.useLayoutEffect(()=>()=>{n.current&&(t(removeYAxis(n.current)),n.current=null)},[t]),null}var YAxisImpl=e=>{var{yAxisId:t,className:n,width:i,label:o}=e,l=reactExports.useRef(null),u=reactExports.useRef(null),h=useAppSelector(selectAxisViewBox),p=useIsPanorama(),m=useAppDispatch(),g="yAxis",b=useAppSelector(D=>selectYAxisSize(D,t)),E=useAppSelector(D=>selectYAxisPosition(D,t)),_=useAppSelector(D=>selectTicksOfAxis(D,g,t,p)),A=useAppSelector(D=>selectYAxisSettingsNoDefaults(D,t));if(reactExports.useLayoutEffect(()=>{if(!(i!=="auto"||!b||isLabelContentAFunction(o)||reactExports.isValidElement(o)||A==null)){var D=l.current;if(D){var V=D.getCalculatedWidth();Math.round(b.width)!==Math.round(V)&&m(updateYAxisWidth({id:t,width:V}))}}},[_,b,m,o,t,i,A]),b==null||E==null||A==null)return null;var{dangerouslySetInnerHTML:w,ticks:T,scale:C}=e,B=_objectWithoutProperties$3(e,_excluded$3),{id:N,scale:j}=A,M=_objectWithoutProperties$3(A,_excluded2);return reactExports.createElement(CartesianAxis,_extends$4({},B,M,{ref:l,labelRef:u,x:E.x,y:E.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:b.width,height:b.height,className:clsx("recharts-".concat(g," ").concat(g),n),viewBox:h,ticks:_,axisType:g}))},yAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,angle:implicitYAxis.angle,axisLine:defaultCartesianAxisProps.axisLine,hide:!1,includeHidden:implicitYAxis.includeHidden,interval:implicitYAxis.interval,minTickGap:implicitYAxis.minTickGap,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tick:implicitYAxis.tick,tickCount:implicitYAxis.tickCount,tickLine:defaultCartesianAxisProps.tickLine,tickSize:defaultCartesianAxisProps.tickSize,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0},YAxisSettingsDispatcher=e=>{var t=resolveDefaultProps(e,yAxisDefaultProps);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),reactExports.createElement(YAxisImpl,t))},YAxis=reactExports.memo(YAxisSettingsDispatcher,axisPropsAreEqual);YAxis.displayName="YAxis";var pickChartPointer=(e,t)=>t,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,i=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/i)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(e,t)=>{var n=e.payload,i=selectActivePropsFromChartPointer(t.getState(),getChartPointer(n));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(setMouseClickAxisIndex({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware(),rafId=null;mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(e,t)=>{var n=e.payload;rafId!==null&&cancelAnimationFrame(rafId);var i=getChartPointer(n);rafId=requestAnimationFrame(()=>{var o=t.getState(),l=selectTooltipEventType$1(o,o.tooltip.settings.shared);if(l==="axis"){var u=selectActivePropsFromChartPointer(o,i);(u==null?void 0:u.activeIndex)!=null?t.dispatch(setMouseOverAxisIndex({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):t.dispatch(mouseLeaveChart())}rafId=null})}});function reduxDevtoolsJsonStringifyReplacer(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:initialState.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:o}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var u=combineActiveTooltipIndex(o,selectTooltipDisplayedData(n),selectTooltipAxisDataKey(n),selectTooltipAxisDomain(n)),h=u==null?-1:Number(u);if(!(!Number.isFinite(h)||h<0)){var p=selectTooltipAxisTicks(n);if(l==="Enter"){var m=selectCoordinateForDefaultIndex(n,"axis","hover",String(o.index));t.dispatch(setKeyboardInteraction({active:!o.active,activeIndex:o.index,activeCoordinate:m}));return}var g=selectChartDirection(n),b=g==="left-to-right"?1:-1,E=l==="ArrowRight"?1:-1,_=h+E*b;if(!(p==null||_>=p.length||_<0)){var A=selectCoordinateForDefaultIndex(n,"axis","hover",String(_));t.dispatch(setKeyboardInteraction({active:!0,activeIndex:_.toString(),activeCoordinate:A}))}}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(e,t)=>{var n=t.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:o}=n.tooltip;if(!o.active&&o.index==null){var l="0",u=selectCoordinateForDefaultIndex(n,"axis","hover",String(l));t.dispatch(setKeyboardInteraction({active:!0,activeIndex:l,activeCoordinate:u}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware(),rafIdMap=new Map;externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(e,t)=>{var{handler:n,reactEvent:i}=e.payload;if(n!=null){i.persist();var o=i.type,l=rafIdMap.get(o);l!==void 0&&cancelAnimationFrame(l);var u=requestAnimationFrame(()=>{try{var h=t.getState(),p={activeCoordinate:selectActiveTooltipCoordinate(h),activeDataKey:selectActiveTooltipDataKey(h),activeIndex:selectActiveTooltipIndex(h),activeLabel:selectActiveLabel$1(h),activeTooltipIndex:selectActiveTooltipIndex(h),isTooltipActive:selectIsTooltipActive$1(h)};n(p,i)}finally{rafIdMap.delete(o)}});rafIdMap.set(o,u)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],e=>e.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(e,t)=>t,(e,t,n)=>n],(e,t,n,i)=>{var o=e.find(h=>h.settings.graphicalItemId===i);if(o!=null){var{positions:l}=o;if(l!=null){var u=t(l,n);return u}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var i=t.getState(),o=selectTooltipEventType$1(i,i.tooltip.settings.shared);if(o==="axis"){var l=n.touches[0];if(l==null)return;var u=selectActivePropsFromChartPointer(i,getChartPointer({clientX:l.clientX,clientY:l.clientY,currentTarget:n.currentTarget}));(u==null?void 0:u.activeIndex)!=null&&t.dispatch(setMouseOverAxisIndex({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate}))}else if(o==="item"){var h,p=n.touches[0];if(document.elementFromPoint==null||p==null)return;var m=document.elementFromPoint(p.clientX,p.clientY);if(!m||!m.getAttribute)return;var g=m.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),b=(h=m.getAttribute(DATA_ITEM_GRAPHICAL_ITEM_ID_ATTRIBUTE_NAME))!==null&&h!==void 0?h:void 0,E=selectAllGraphicalItemsSettings(i).find(w=>w.id===b);if(g==null||E==null||b==null)return;var{dataKey:_}=E,A=selectTooltipCoordinate(i,g,b);t.dispatch(setActiveMouseOverItemIndex({activeDataKey:_,activeIndex:g,activeCoordinate:A,activeGraphicalItemId:b}))}}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer,zIndex:zIndexReducer}),createRechartsStore=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:t,middleware:i=>{var o;return i({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((o="es6")!==null&&o!==void 0?o:"")}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware])},enhancers:i=>{var o=i;return typeof i=="function"&&(o=i()),o.concat(autoBatchEnhancer({type:"raf"}))},devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(n)}})};function RechartsStoreProvider(e){var{preloadedState:t,children:n,reduxStoreName:i}=e,o=useIsPanorama(),l=reactExports.useRef(null);if(o)return n;l.current==null&&(l.current=createRechartsStore(t,i));var u=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:u,store:l.current},n)}function ReportMainChartPropsImpl(e){var{layout:t,margin:n}=e,i=useAppDispatch(),o=useIsPanorama();return reactExports.useEffect(()=>{o||(i(setLayout(t)),i(setMargin(n)))},[i,o,t,n]),null}var ReportMainChartProps=reactExports.memo(ReportMainChartPropsImpl,propsAreEqual);function ReportChartProps(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(updateOptions(e))},[t,e]),null}function ZIndexSvgPortal(e){var{zIndex:t,isPanorama:n}=e,i=reactExports.useRef(null),o=useAppDispatch();return reactExports.useLayoutEffect(()=>(i.current&&o(registerZIndexPortalElement({zIndex:t,element:i.current,isPanorama:n})),()=>{o(unregisterZIndexPortalElement({zIndex:t,isPanorama:n}))}),[o,t,n]),reactExports.createElement("g",{tabIndex:-1,ref:i})}function AllZIndexPortals(e){var{children:t,isPanorama:n}=e,i=useAppSelector(selectAllRegisteredZIndexes);if(!i||i.length===0)return t;var o=i.filter(u=>u<0),l=i.filter(u=>u>0);return reactExports.createElement(reactExports.Fragment,null,o.map(u=>reactExports.createElement(ZIndexSvgPortal,{key:u,zIndex:u,isPanorama:n})),t,l.map(u=>reactExports.createElement(ZIndexSvgPortal,{key:u,zIndex:u,isPanorama:n})))}var _excluded$2=["children"];function _objectWithoutProperties$2(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$2(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$2(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%",display:"block"},MainChartSurface=reactExports.forwardRef((e,t)=>{var n=useChartWidth(),i=useChartHeight(),o=useAccessibilityLayer();if(!isPositiveNumber(n)||!isPositiveNumber(i))return null;var{children:l,otherAttributes:u,title:h,desc:p}=e,m,g;return u!=null&&(typeof u.tabIndex=="number"?m=u.tabIndex:m=o?0:void 0,typeof u.role=="string"?g=u.role:g=o?"application":void 0),reactExports.createElement(Surface,_extends$3({},u,{title:h,desc:p,role:g,tabIndex:m,width:n,height:i,style:FULL_WIDTH_AND_HEIGHT,ref:t}),l)}),BrushPanoramaSurface=e=>{var{children:t}=e,n=useAppSelector(selectBrushDimensions);if(!n)return null;var{width:i,height:o,y:l,x:u}=n;return reactExports.createElement(Surface,{width:i,height:o,x:u,y:l},t)},RootSurface=reactExports.forwardRef((e,t)=>{var{children:n}=e,i=_objectWithoutProperties$2(e,_excluded$2),o=useIsPanorama();return o?reactExports.createElement(BrushPanoramaSurface,null,reactExports.createElement(AllZIndexPortals,{isPanorama:!0},n)):reactExports.createElement(MainChartSurface,_extends$3({ref:t},i),reactExports.createElement(AllZIndexPortals,{isPanorama:!1},n))});function useReportScale(){var e=useAppDispatch(),[t,n]=reactExports.useState(null),i=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),l=o.width/t.offsetWidth;isWellBehavedNumber(l)&&l!==i&&e(setScale(l))}},[t,e,i]),n}function ownKeys$1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread$1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys$1(Object(n),!0).forEach(function(i){_defineProperty$1(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys$1(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty$1(e,t,n){return(t=_toPropertyKey$1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey$1(e){var t=_toPrimitive$1(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive$1(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$2.apply(null,arguments)}var EventSynchronizer=()=>(useSynchronisedEventsFromOtherCharts(),null);function getNumberOrZero(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ResponsiveDiv=reactExports.forwardRef((e,t)=>{var n,i,o=reactExports.useRef(null),[l,u]=reactExports.useState({containerWidth:getNumberOrZero((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:getNumberOrZero((i=e.style)===null||i===void 0?void 0:i.height)}),h=reactExports.useCallback((m,g)=>{u(b=>{var E=Math.round(m),_=Math.round(g);return b.containerWidth===E&&b.containerHeight===_?b:{containerWidth:E,containerHeight:_}})},[]),p=reactExports.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null&&typeof ResizeObserver<"u"){var{width:g,height:b}=m.getBoundingClientRect();h(g,b);var E=A=>{var{width:w,height:T}=A[0].contentRect;h(w,T)},_=new ResizeObserver(E);_.observe(m),o.current=_}},[t,h]);return reactExports.useEffect(()=>()=>{var m=o.current;m!=null&&m.disconnect()},[h]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:l.containerWidth,height:l.containerHeight}),reactExports.createElement("div",_extends$2({ref:p},e)))}),ReadSizeOnceDiv=reactExports.forwardRef((e,t)=>{var{width:n,height:i}=e,[o,l]=reactExports.useState({containerWidth:getNumberOrZero(n),containerHeight:getNumberOrZero(i)}),u=reactExports.useCallback((p,m)=>{l(g=>{var b=Math.round(p),E=Math.round(m);return g.containerWidth===b&&g.containerHeight===E?g:{containerWidth:b,containerHeight:E}})},[]),h=reactExports.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null){var{width:m,height:g}=p.getBoundingClientRect();u(m,g)}},[t,u]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:o.containerWidth,height:o.containerHeight}),reactExports.createElement("div",_extends$2({ref:h},e)))}),StaticDiv=reactExports.forwardRef((e,t)=>{var{width:n,height:i}=e;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:n,height:i}),reactExports.createElement("div",_extends$2({ref:t},e)))}),NonResponsiveDiv=reactExports.forwardRef((e,t)=>{var{width:n,height:i}=e;return isPercent(n)||isPercent(i)?reactExports.createElement(ReadSizeOnceDiv,_extends$2({},e,{ref:t})):reactExports.createElement(StaticDiv,_extends$2({},e,{ref:t}))});function getWrapperDivComponent(e){return e===!0?ResponsiveDiv:NonResponsiveDiv}var RechartsWrapper=reactExports.forwardRef((e,t)=>{var{children:n,className:i,height:o,onClick:l,onContextMenu:u,onDoubleClick:h,onMouseDown:p,onMouseEnter:m,onMouseLeave:g,onMouseMove:b,onMouseUp:E,onTouchEnd:_,onTouchMove:A,onTouchStart:w,style:T,width:C,responsive:B,dispatchTouchEvents:N=!0}=e,j=reactExports.useRef(null),M=useAppDispatch(),[D,V]=reactExports.useState(null),[L,U]=reactExports.useState(null),J=useReportScale(),$=useResponsiveContainerContext(),K=($==null?void 0:$.width)>0?$.width:C,te=($==null?void 0:$.height)>0?$.height:o,me=reactExports.useCallback(se=>{J(se),typeof t=="function"&&t(se),V(se),U(se),se!=null&&(j.current=se)},[J,t,V,U]),he=reactExports.useCallback(se=>{M(mouseClickAction(se)),M(externalEventAction({handler:l,reactEvent:se}))},[M,l]),ee=reactExports.useCallback(se=>{M(mouseMoveAction(se)),M(externalEventAction({handler:m,reactEvent:se}))},[M,m]),ie=reactExports.useCallback(se=>{M(mouseLeaveChart()),M(externalEventAction({handler:g,reactEvent:se}))},[M,g]),ce=reactExports.useCallback(se=>{M(mouseMoveAction(se)),M(externalEventAction({handler:b,reactEvent:se}))},[M,b]),ne=reactExports.useCallback(()=>{M(focusAction())},[M]),Z=reactExports.useCallback(se=>{M(keyDownAction(se.key))},[M]),G=reactExports.useCallback(se=>{M(externalEventAction({handler:u,reactEvent:se}))},[M,u]),H=reactExports.useCallback(se=>{M(externalEventAction({handler:h,reactEvent:se}))},[M,h]),F=reactExports.useCallback(se=>{M(externalEventAction({handler:p,reactEvent:se}))},[M,p]),z=reactExports.useCallback(se=>{M(externalEventAction({handler:E,reactEvent:se}))},[M,E]),Y=reactExports.useCallback(se=>{M(externalEventAction({handler:w,reactEvent:se}))},[M,w]),ae=reactExports.useCallback(se=>{N&&M(touchEventAction(se)),M(externalEventAction({handler:A,reactEvent:se}))},[M,N,A]),Q=reactExports.useCallback(se=>{M(externalEventAction({handler:_,reactEvent:se}))},[M,_]),ue=getWrapperDivComponent(B);return reactExports.createElement(TooltipPortalContext.Provider,{value:D},reactExports.createElement(LegendPortalContext.Provider,{value:L},reactExports.createElement(ue,{width:K??(T==null?void 0:T.width),height:te??(T==null?void 0:T.height),className:clsx("recharts-wrapper",i),style:_objectSpread$1({position:"relative",cursor:"default",width:K,height:te},T),onClick:he,onContextMenu:G,onDoubleClick:H,onFocus:ne,onKeyDown:Z,onMouseDown:F,onMouseEnter:ee,onMouseLeave:ie,onMouseMove:ce,onMouseUp:z,onTouchEnd:Q,onTouchMove:ae,onTouchStart:Y,ref:me},reactExports.createElement(EventSynchronizer,null),n)))}),_excluded$1=["width","height","responsive","children","className","style","compact","title","desc"];function _objectWithoutProperties$1(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose$1(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose$1(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var CategoricalChart=reactExports.forwardRef((e,t)=>{var{width:n,height:i,responsive:o,children:l,className:u,style:h,compact:p,title:m,desc:g}=e,b=_objectWithoutProperties$1(e,_excluded$1),E=svgPropertiesNoEvents(b);return p?reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ReportChartSize,{width:n,height:i}),reactExports.createElement(RootSurface,{otherAttributes:E,title:m,desc:g},l)):reactExports.createElement(RechartsWrapper,{className:u,style:h,width:n,height:i,responsive:o??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:E,title:m,desc:g,ref:t},reactExports.createElement(ClipPathProvider,null,l)))});function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends$1.apply(null,arguments)}var defaultMargin$1={top:5,right:5,bottom:5,left:5},defaultCartesianChartProps={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:defaultMargin$1,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},CartesianChart=reactExports.forwardRef(function(t,n){var i,o=resolveDefaultProps(t.categoricalChartProps,defaultCartesianChartProps),{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:m}=t,g={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:g},reduxStoreName:(i=m.id)!==null&&i!==void 0?i:l},reactExports.createElement(ChartDataContextProvider,{chartData:m.data}),reactExports.createElement(ReportMainChartProps,{layout:o.layout,margin:o.margin}),reactExports.createElement(ReportChartProps,{baseValue:o.baseValue,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),reactExports.createElement(CategoricalChart,_extends$1({},o,{ref:n})))}),allowedTooltipTypes$2=["axis","item"],BarChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes$2,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t}));function ReportPolarOptions(e){var t=useAppDispatch();return reactExports.useEffect(()=>{t(updatePolarOptions(e))},[t,e]),null}var _excluded=["layout"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_extends.apply(null,arguments)}function _objectWithoutProperties(e,t){if(e==null)return{};var n,i,o=_objectWithoutPropertiesLoose(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _objectWithoutPropertiesLoose(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultPolarChartProps={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},PolarChart=reactExports.forwardRef(function(t,n){var i,o=resolveDefaultProps(t.categoricalChartProps,defaultPolarChartProps),{layout:l}=o,u=_objectWithoutProperties(o,_excluded),{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:g}=t,b={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:b},reduxStoreName:(i=o.id)!==null&&i!==void 0?i:h},reactExports.createElement(ChartDataContextProvider,{chartData:o.data}),reactExports.createElement(ReportMainChartProps,{layout:l,margin:o.margin}),reactExports.createElement(ReportChartProps,{baseValue:void 0,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),reactExports.createElement(ReportPolarOptions,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),reactExports.createElement(CategoricalChart,_extends({},u,{ref:n})))});function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(i){_defineProperty(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return typeof t=="symbol"?t:t+""}function _toPrimitive(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var allowedTooltipTypes$1=["item"],defaultPieChartProps=_objectSpread(_objectSpread({},defaultPolarChartProps),{},{layout:"centric",startAngle:0,endAngle:360}),PieChart=reactExports.forwardRef((e,t)=>{var n=resolveDefaultProps(e,defaultPieChartProps);return reactExports.createElement(PolarChart,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:allowedTooltipTypes$1,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:n,ref:t})}),allowedTooltipTypes=["axis"],AreaChart=reactExports.forwardRef((e,t)=>reactExports.createElement(CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:e,ref:t}));const CircularProgress=({value:e,size:t=60,strokeWidth:n=6})=>{const i=(t-n)/2,o=i*2*Math.PI,l=o-e/100*o;let u="#ef4444";return e>=80?u="#10b981":e>=60&&(u="#f59e0b"),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center",style:{width:t,height:t},children:[jsxRuntimeExports.jsxs("svg",{className:"transform -rotate-90 w-full h-full overflow-visible",children:[jsxRuntimeExports.jsx("circle",{cx:t/2,cy:t/2,r:i,stroke:"currentColor",strokeWidth:n,fill:"transparent",className:"text-gray-100 dark:text-gray-700/50"}),jsxRuntimeExports.jsx(motion.circle,{initial:{strokeDashoffset:o},animate:{strokeDashoffset:l},transition:{duration:1.8,ease:"easeOut"},cx:t/2,cy:t/2,r:i,stroke:u,strokeWidth:n,fill:"transparent",strokeDasharray:o,strokeLinecap:"round",className:"drop-shadow-sm transition-colors duration-1000"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:[Math.round(e),"%"]})})]})},Skeleton=({className:e,shimmerDelay:t=0,...n})=>jsxRuntimeExports.jsx("div",{className:twMerge(clsx("rounded-xl animate-skeleton-shimmer relative overflow-hidden bg-gray-100 dark:bg-dark-800",e)),style:{animationDelay:`${t}s`},...n,children:jsxRuntimeExports.jsx("style",{children:`
            @keyframes skeleton-shimmer-diagonal {
                0% { background-position: -200% 0; }
                100% { background-position: 200% 0; }
            }
            .animate-skeleton-shimmer {
                background: linear-gradient(
                    45deg, 
                    rgba(229, 231, 235, 1) 25%, 
                    rgba(255, 255, 255, 1) 50%, 
                    rgba(229, 231, 235, 1) 75%
                );
                background-size: 200% 200%;
                animation: skeleton-shimmer-diagonal 1.5s infinite linear;
            }
            .dark .animate-skeleton-shimmer {
                background: linear-gradient(
                    45deg, 
                    rgba(51, 65, 85, 1) 25%, 
                    rgba(71, 85, 105, 1) 50%, 
                    rgba(51, 65, 85, 1) 75%
                );
                background-size: 200% 200%;
            }
        `})}),easeOutExpo=e=>e===1?1:1-Math.pow(2,-10*e),CountUp=({end:e,duration:t=2,suffix:n="",className:i,onComplete:o})=>{const[l,u]=reactExports.useState(0);return reactExports.useEffect(()=>{let h=null,p,m=!1;const g=b=>{h||(h=b);const E=b-h,_=Math.min(E/(t*1e3),1),A=easeOutExpo(_),w=Math.floor(A*e);u(w),_<1?p=requestAnimationFrame(g):m||(m=!0,u(e),o&&o())};return p=requestAnimationFrame(g),()=>cancelAnimationFrame(p)},[e,t,o]),jsxRuntimeExports.jsxs("span",{className:i,children:[l,n]})},ICON_MAP={trophy:Trophy,flame:Flame,target:Target,zap:Zap,brain:Brain,star:Star,rocket:Rocket,crown:Crown,sun:Sun},BadgeCard=({badge:e,index:t})=>{const n=ICON_MAP[e.iconName]||Star,[i,o]=reactExports.useState(!1),[l,u]=reactExports.useState(!1),h=useMotionValue(0),p=useMotionValue(0),m=useSpring(h,{stiffness:150,damping:20}),g=useSpring(p,{stiffness:150,damping:20}),b=useTransform(g,[-.5,.5],["12deg","-12deg"]),E=useTransform(m,[-.5,.5],["-12deg","12deg"]),_=M=>{const D=M.currentTarget.getBoundingClientRect(),V=D.width,L=D.height,U=M.clientX-D.left,J=M.clientY-D.top,$=U/V-.5,K=J/L-.5;h.set($),p.set(K)},A=()=>{h.set(0),p.set(0),o(!1)},w=()=>{e.isLocked&&(u(!0),setTimeout(()=>u(!1),5e3))};reactExports.useEffect(()=>{l&&confetti({particleCount:80,spread:60,origin:{y:.6},colors:["#fbbf24","#f59e0b","#fb923c"]})},[l]);const T=Math.min(100,Math.max(0,e.currentProgress/e.maxProgress*100)),C=54,B=2*Math.PI*C,N=B-T/100*B;let j="#ef4444";return T>=50&&(j="#f59e0b"),T>=80&&(j="#10b981"),e.isLocked===!1&&!l&&(j="#6366f1"),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"relative group perspective-1000 z-10",onMouseEnter:()=>o(!0),onMouseLeave:A,onMouseMove:_,onClick:w,title:e.isLocked?"Double click to demo unlock":"",children:[jsxRuntimeExports.jsxs(motion.div,{layout:!0,style:{rotateX:l?0:b,rotateY:l?0:E,transformStyle:"preserve-3d"},animate:l?{scale:[1,1.5,1],rotate:[0,360,0],boxShadow:["0 0 0 0 rgba(251, 191, 36, 0)","0 0 0 20px rgba(251, 191, 36, 0)","0 0 0 0 rgba(251, 191, 36, 0)"]}:{scale:i?1.05:1},transition:{duration:l?.6:.2,scale:{type:"spring",stiffness:300,damping:20}},className:clsx("relative w-32 h-32 md:w-40 md:h-40 rounded-full flex flex-col items-center justify-center cursor-pointer transition-all duration-300",e.isLocked&&!l?"grayscale opacity-80":"bg-white dark:bg-dark-800 shadow-xl"),children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 -m-2 pointer-events-none transform -rotate-90",children:[jsxRuntimeExports.jsxs("svg",{className:"w-full h-full overflow-visible",children:[jsxRuntimeExports.jsx("circle",{cx:"50%",cy:"50%",r:C,fill:"none",stroke:"currentColor",strokeWidth:"4",className:"text-gray-100 dark:text-dark-700"}),jsxRuntimeExports.jsx(motion.circle,{cx:"50%",cy:"50%",r:C,fill:"none",stroke:j,strokeWidth:"4",strokeLinecap:"round",strokeDasharray:B,initial:{strokeDashoffset:B},animate:{strokeDashoffset:l?0:N},transition:{duration:1.5,ease:"easeOut"},className:clsx(l&&"drop-shadow-[0_0_10px_rgba(251,191,36,0.5)]")})]}),(e.isLocked||T<100)&&!l&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-end justify-center pb-2 transform rotate-90",children:jsxRuntimeExports.jsxs("span",{className:"text-[10px] font-bold text-gray-400 bg-white dark:bg-dark-800 px-1 rounded-full",children:[Math.round(T),"%"]})})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center text-center p-4",style:{transform:"translateZ(20px)"},children:[jsxRuntimeExports.jsx("div",{className:clsx("p-3 rounded-full mb-2 transition-colors duration-300",e.isLocked&&!l?"bg-gray-100 dark:bg-dark-700 text-gray-400":"bg-gradient-to-br from-primary-100 to-secondary-100 dark:from-primary-900/30 dark:to-secondary-900/30 text-primary-600 dark:text-primary-400"),children:e.isLocked&&!l?jsxRuntimeExports.jsx(Lock,{size:24}):jsxRuntimeExports.jsx(n,{size:24})}),jsxRuntimeExports.jsx("h4",{className:"font-bold text-xs md:text-sm text-gray-900 dark:text-white leading-tight px-2 line-clamp-2",children:e.name})]}),!e.isLocked&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full bg-primary-500/20 blur-xl -z-10 animate-pulse-slow pointer-events-none",style:{transform:"translateZ(-10px)"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-white/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none",style:{transform:"translateZ(30px)"}})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:i&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:5,scale:.9},transition:{duration:.2},className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-4 w-48 p-4 bg-white/90 dark:bg-dark-800/90 backdrop-blur-xl border border-gray-100 dark:border-dark-600 rounded-2xl shadow-xl z-50 text-center pointer-events-none",children:[jsxRuntimeExports.jsx("h5",{className:"font-bold text-gray-900 dark:text-white mb-1",children:e.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:e.description}),jsxRuntimeExports.jsx("div",{className:"w-full h-1.5 bg-gray-200 dark:bg-dark-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{initial:{width:0},animate:{width:`${T}%`},className:clsx("h-full rounded-full",e.isLocked?"bg-gray-400":"bg-gradient-to-r from-primary-500 to-secondary-500")})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 mt-1 font-mono",children:[jsxRuntimeExports.jsx("span",{children:e.currentProgress}),jsxRuntimeExports.jsx("span",{children:e.maxProgress})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-3 h-3 bg-white/90 dark:bg-dark-800/90 border-r border-b border-gray-100 dark:border-dark-600 rotate-45"})]})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:l&&jsxRuntimeExports.jsxs(motion.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:"fixed top-24 left-1/2 -translate-x-1/2 z-[100] bg-gradient-to-r from-amber-400 to-orange-500 text-white px-8 py-3 rounded-full shadow-2xl flex items-center gap-3",children:[jsxRuntimeExports.jsx(Trophy,{className:"w-6 h-6 animate-bounce"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-lg leading-none",children:"New Badge Unlocked!"}),jsxRuntimeExports.jsx("span",{className:"text-xs opacity-90",children:e.name})]})]})})]})},Achievements=()=>{const{badges:e}=useStore(),t=[...e].sort((o,l)=>o.isLocked===l.isLocked?l.currentProgress/l.maxProgress-o.currentProgress/o.maxProgress:o.isLocked?1:-1),n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},i={hidden:{opacity:0,y:50,scale:.8},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:10}}};return jsxRuntimeExports.jsxs("div",{className:"py-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900/20 rounded-xl",children:jsxRuntimeExports.jsx(Award,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Achievements"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track your milestones and badges"})]}),jsxRuntimeExports.jsxs("div",{className:"ml-auto bg-gray-100 dark:bg-dark-700 px-4 py-2 rounded-lg text-sm font-bold text-gray-600 dark:text-gray-300",children:[e.filter(o=>!o.isLocked).length," / ",e.length," Unlocked"]})]}),jsxRuntimeExports.jsx(motion.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8 justify-items-center",children:t.map((o,l)=>jsxRuntimeExports.jsx(motion.div,{variants:i,children:jsxRuntimeExports.jsx(BadgeCard,{badge:o,index:l})},o.id))})]})},THEME_STYLES={blue:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-100 dark:border-blue-800",icon:"text-blue-600 dark:text-blue-400",bar:"bg-blue-500",barBg:"bg-blue-200 dark:bg-blue-900",shimmer:"from-blue-400/0 via-white/30 to-blue-400/0",text:"text-blue-900 dark:text-blue-100"},purple:{bg:"bg-purple-50 dark:bg-purple-900/20",border:"border-purple-100 dark:border-purple-800",icon:"text-purple-600 dark:text-purple-400",bar:"bg-purple-500",barBg:"bg-purple-200 dark:bg-purple-900",shimmer:"from-purple-400/0 via-white/30 to-purple-400/0",text:"text-purple-900 dark:text-purple-100"},orange:{bg:"bg-orange-50 dark:bg-orange-900/20",border:"border-orange-100 dark:border-orange-800",icon:"text-orange-600 dark:text-orange-400",bar:"bg-orange-500",barBg:"bg-orange-200 dark:bg-orange-900",shimmer:"from-orange-400/0 via-white/30 to-orange-400/0",text:"text-orange-900 dark:text-orange-100"},green:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-100 dark:border-emerald-800",icon:"text-emerald-600 dark:text-emerald-400",bar:"bg-emerald-500",barBg:"bg-emerald-200 dark:bg-emerald-900",shimmer:"from-emerald-400/0 via-white/30 to-emerald-400/0",text:"text-emerald-900 dark:text-emerald-100"}},CATEGORY_ICONS={quiz:Target,streak:Flame,score:Trophy,time:Clock},GoalCard=({goal:e})=>{const{updateGoalProgress:t}=useStore(),[n,i]=reactExports.useState(!1),[o,l]=reactExports.useState(!1),u=reactExports.useRef(null),h=THEME_STYLES[e.colorTheme],p=CATEGORY_ICONS[e.category],m=Math.min(100,e.current/e.target*100),g=e.current>=e.target,b=reactExports.useRef(0);reactExports.useEffect(()=>{if(g&&m===100&&b.current<100){if(l(!0),u.current){const _=u.current.getBoundingClientRect();confetti({particleCount:120,spread:70,origin:{x:(_.left+_.width/2)/window.innerWidth,y:(_.top+_.height/2)/window.innerHeight},colors:["#6366f1","#ec4899","#10b981"]})}setTimeout(()=>l(!1),3e3)}b.current=m},[e.current,e.target,g,m]);const E=_=>{_.stopPropagation(),g||t(e.id,1)};return jsxRuntimeExports.jsxs(motion.div,{layout:!0,ref:u,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:o?[1,1.05,1]:1},transition:{layout:{duration:.4,ease:"easeInOut"},scale:{type:"spring",stiffness:300,damping:15}},onClick:()=>i(!n),className:clsx("relative rounded-2xl p-6 border cursor-pointer overflow-hidden transition-shadow duration-300",h.bg,h.border,n?"shadow-lg":"hover:shadow-md"),children:[jsxRuntimeExports.jsx(AnimatePresence,{children:o&&jsxRuntimeExports.jsxs(motion.div,{initial:{x:"100%",opacity:0,rotate:5},animate:{x:0,opacity:1,rotate:0},exit:{x:"100%",opacity:0,rotate:-5},transition:{type:"spring",stiffness:300,damping:20},className:"absolute top-4 right-0 bg-yellow-400 text-white text-xs font-bold px-3 py-1 rounded-l-full shadow-lg z-20 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Star,{size:12,fill:"currentColor"})," Goal Completed!"]})}),jsxRuntimeExports.jsxs(motion.div,{layout:"position",className:"flex items-start justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:clsx("p-2 rounded-xl bg-white dark:bg-black/10 shadow-sm",h.icon),children:jsxRuntimeExports.jsx(p,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:clsx("font-bold text-lg leading-tight",h.text),children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]})]}),!g&&jsxRuntimeExports.jsx("button",{onClick:E,className:"p-1.5 rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-gray-400 transition-colors",title:"Demo: Add Progress",children:jsxRuntimeExports.jsx(Plus,{size:16})})]}),jsxRuntimeExports.jsxs(motion.div,{layout:"position",className:"relative mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-500 dark:text-gray-400 mb-1.5",children:[jsxRuntimeExports.jsx("span",{children:"Progress"}),jsxRuntimeExports.jsxs("span",{className:h.text,children:[e.current," / ",e.target," ",e.unit]})]}),jsxRuntimeExports.jsxs("div",{className:clsx("h-4 w-full rounded-full relative",h.barBg),children:[jsxRuntimeExports.jsxs(motion.div,{className:clsx("absolute top-0 left-0 h-full rounded-full overflow-hidden",h.bar),initial:{width:0},animate:{width:`${m}%`},transition:{duration:1.2,ease:"easeOut"},children:[jsxRuntimeExports.jsx("div",{className:clsx("absolute inset-0 -translate-x-full animate-[shimmer_2s_infinite] bg-gradient-to-r",h.shimmer)}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 h-full w-1 bg-white/50 blur-[2px] shadow-[0_0_10px_rgba(255,255,255,0.8)]"})]}),[25,50,75,100].map(_=>{const A=m>=_;return jsxRuntimeExports.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 group/marker",style:{left:`${_}%`},children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5+_/100,type:"spring"},className:clsx("w-2 h-2 rounded-full border-2 transform -translate-x-1/2 transition-colors duration-300",A?"bg-white border-white scale-125":"bg-gray-300 dark:bg-gray-600 border-transparent")}),A&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 -translate-x-1/2 w-2 h-2 rounded-full animate-ping bg-white/50"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 opacity-0 group-hover/marker:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 text-white text-[10px] py-1 px-2 rounded-md shadow-lg transform translate-y-1 group-hover/marker:translate-y-0 transition-transform",children:["Milestone: ",Math.round(e.target*(_/100))," ",e.unit]})})]},_)})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:n&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.4,ease:"easeInOut"},className:"overflow-hidden",children:jsxRuntimeExports.jsxs(motion.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},className:"pt-4 mt-4 border-t border-black/5 dark:border-white/5 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Completion Rate"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[Math.round(e.current/e.target*100),"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Remaining"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[Math.max(0,e.target-e.current)," ",e.unit]})]}),e.deadline&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Deadline"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-orange-500",children:"In 5 Days"})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold uppercase text-gray-400 mb-2",children:"Milestones Reached"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:[25,50,75,100].map(_=>jsxRuntimeExports.jsx("div",{className:clsx("h-1.5 flex-1 rounded-full transition-colors",m>=_?h.bar:"bg-gray-200 dark:bg-gray-700")},_))})]})]})})}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-50 transition-opacity",children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:n?180:0},transition:{duration:.3},children:jsxRuntimeExports.jsx(ChevronDown,{size:16})})})]})},GoalsSection=()=>{const{goals:e}=useStore(),t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},n={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}};return jsxRuntimeExports.jsxs("div",{className:"py-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:jsxRuntimeExports.jsx(Target,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-xl",children:"Current Goals"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Stay on track with your learning targets"})]})]}),jsxRuntimeExports.jsx(Link,{to:"/goals",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",size:"sm",className:"hidden sm:flex",children:["View All ",jsxRuntimeExports.jsx(ArrowRight,{size:14,className:"ml-1"})]})})]}),jsxRuntimeExports.jsx(motion.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-50px"},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.slice(0,3).map(i=>jsxRuntimeExports.jsx(motion.div,{variants:n,children:jsxRuntimeExports.jsx(GoalCard,{goal:i})},i.id))})]})},LoadingSpinner=({size:e=24,className:t})=>jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:clsx("rounded-full border-2 border-current border-t-transparent",t),style:{width:e,height:e}}),DashboardWidget=({title:e,icon:t,children:n,className:i,onRefresh:o,isEmpty:l=!1,emptyTitle:u="No data yet",emptyDescription:h="Get started to see insights here.",emptyActionLabel:p="Get Started",emptyActionLink:m="/create",id:g,isFocused:b=!1,onToggleFocus:E})=>{const[_,A]=reactExports.useState(!1),[w,T]=reactExports.useState(!1),C=async N=>{N.stopPropagation(),!w&&(T(!0),o&&await Promise.resolve(o()),setTimeout(()=>{T(!1)},800))},B=N=>{N.stopPropagation(),E&&g&&E(g)};return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:1,zIndex:b?50:1},transition:{layout:{duration:.4,type:"spring",stiffness:300,damping:25}},className:clsx("bg-white/70 dark:bg-dark-800/70 backdrop-blur-xl rounded-3xl border border-white/20 dark:border-dark-700 shadow-lg overflow-hidden flex flex-col relative transition-shadow duration-300",b?"fixed inset-4 md:inset-10 z-50 h-auto m-auto shadow-2xl dark:shadow-black/50 border-primary-500/50":"h-full",i),style:{height:b||_?"auto":"100%",maxHeight:b?"90vh":"none"},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-6 shrink-0 relative z-20 cursor-default",onClick:N=>{b||A(!_)},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 bg-gray-100 dark:bg-gray-800 rounded-xl transition-colors group-hover:bg-primary-50 dark:group-hover:bg-primary-900/20",children:jsxRuntimeExports.jsx(t,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white select-none",children:e})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[E&&!_&&jsxRuntimeExports.jsx("button",{onClick:B,className:"p-2 text-gray-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-all",title:b?"Exit Focus Mode":"Focus Mode",children:b?jsxRuntimeExports.jsx(Minimize2,{size:18}):jsxRuntimeExports.jsx(Maximize2,{size:18})}),o&&!_&&!b&&jsxRuntimeExports.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 rounded-lg transition-all",title:"Refresh",children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:w?360:0},transition:{duration:1,repeat:w?1/0:0,ease:"linear"},children:jsxRuntimeExports.jsx(RefreshCw,{size:18})})}),!b&&jsxRuntimeExports.jsx("button",{onClick:N=>{N.stopPropagation(),A(!_)},className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-all",children:jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{rotate:_?180:0},transition:{duration:.3},children:jsxRuntimeExports.jsx(Minus,{size:18})})})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:!_&&jsxRuntimeExports.jsxs(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{height:{duration:.3,ease:"easeOut"},opacity:{duration:.2,delay:.1}}},exit:{height:0,opacity:0,transition:{height:{duration:.3,ease:"easeInOut"},opacity:{duration:.1}}},className:"flex-1 relative flex flex-col min-h-0",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:w&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-white/50 dark:bg-dark-900/50 backdrop-blur-[4px] z-10 flex items-center justify-center rounded-b-3xl",children:jsxRuntimeExports.jsx(LoadingSpinner,{size:40,className:"text-primary-500"})})}),jsxRuntimeExports.jsx("div",{className:"p-8 pt-0 flex-1 flex flex-col h-full overflow-y-auto custom-scrollbar",children:l?jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[300px] relative overflow-hidden rounded-2xl border-2 border-dashed border-gray-100 dark:border-dark-700 bg-gray-50/50 dark:bg-dark-800/50",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10 pointer-events-none",style:{backgroundImage:"radial-gradient(#6366f1 1px, transparent 1px)",backgroundSize:"20px 20px"}}),jsxRuntimeExports.jsx(motion.div,{animate:{y:[-10,10,-10]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},className:"mb-6 bg-white dark:bg-dark-700 p-4 rounded-2xl shadow-xl shadow-indigo-100 dark:shadow-none",children:jsxRuntimeExports.jsx(Box,{className:"w-12 h-12 text-indigo-400",strokeWidth:1.5})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 flex",children:u.split("").map((N,j)=>jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:j*.05},children:N},j))}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-8 max-w-xs text-center",children:h}),jsxRuntimeExports.jsx(motion.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,type:"spring",bounce:.5},children:jsxRuntimeExports.jsx(Link,{to:m,children:jsxRuntimeExports.jsxs(Button,{children:[p," ",jsxRuntimeExports.jsx(ArrowRight,{size:16,className:"ml-2"})]})})})]}):jsxRuntimeExports.jsx(motion.div,{animate:{opacity:w?.5:1,scale:w?.98:1,filter:w?"blur(2px)":"blur(0px)"},transition:{duration:.3},className:"h-full flex flex-col",children:n})})]})})]})},TimeBasedGreeting=({name:e})=>{const[t,n]=reactExports.useState(""),[i,o]=reactExports.useState(Sun);return reactExports.useEffect(()=>{const l=()=>{const h=new Date().getHours();h>=5&&h<12?(n("Good Morning"),o(Sun)):h>=12&&h<17?(n("Good Afternoon"),o(CloudSun)):h>=17&&h<21?(n("Good Evening"),o(Sunset)):(n("Good Night"),o(Moon))};l();const u=setInterval(l,6e4);return()=>clearInterval(u)},[]),jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mb-2",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-5xl font-display font-bold text-gray-900 dark:text-white relative",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.5},className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("span",{children:[t,", ",e]}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:jsxRuntimeExports.jsx(i,{className:"w-8 h-8 md:w-10 md:h-10 text-orange-500 dark:text-yellow-400"})})]},t)})})})})},QuizFlipCard=({quiz:e,index:t})=>{var n;return jsxRuntimeExports.jsx(motion.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"group h-56 w-full perspective-1000",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full transition-all duration-700 preserve-3d group-hover:rotate-y-180",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden bg-white dark:bg-dark-800 rounded-2xl p-6 border border-gray-100 dark:border-dark-700 shadow-sm flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-3 rounded-xl",children:jsxRuntimeExports.jsx(Brain,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-gray-100 dark:bg-dark-700 text-gray-500",children:[e.questions.length," Qs"]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-gray-900 dark:text-white line-clamp-2 leading-tight",children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.topic})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 mt-2",children:jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Layers,{size:12})," ",((n=e.flashcards)==null?void 0:n.length)||0," Cards"]})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden rotate-y-180 bg-gradient-to-br from-primary-600 to-primary-700 rounded-2xl p-6 text-white shadow-xl flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2 opacity-90",children:[jsxRuntimeExports.jsx(Calendar,{size:14}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:new Date(e.createdAt).toLocaleDateString()})]}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg line-clamp-2",children:e.title})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Link,{to:"/play",state:{quiz:e},className:"w-full block",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",magnetic:!0,className:"w-full py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg text-sm font-bold transition-colors flex items-center justify-center gap-2 text-white",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{y:[0,-3,0]},transition:{duration:.5,repeat:1/0},children:jsxRuntimeExports.jsx(Play,{className:"w-4 h-4 fill-white"})}),"Start Quiz"]})}),jsxRuntimeExports.jsx(Link,{to:"/play",state:{quiz:e,mode:"flashcards"},className:"w-full block",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"w-full py-2 bg-black/20 hover:bg-black/30 backdrop-blur-sm rounded-lg text-sm font-bold transition-colors flex items-center justify-center gap-2 text-white",children:[jsxRuntimeExports.jsx(Layers,{className:"w-4 h-4"}),"Flashcards"]})})]})]})]})})},QuizListItem=({quiz:e,index:t})=>{var n;return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.05},className:"bg-white dark:bg-dark-800 rounded-2xl p-4 border border-gray-100 dark:border-dark-700 shadow-sm flex items-center justify-between hover:shadow-md transition-shadow group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 p-3 rounded-xl group-hover:scale-110 transition-transform",children:jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-base",children:e.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mt-0.5",children:[jsxRuntimeExports.jsx("span",{children:e.topic}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[e.questions.length," Questions"]}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Layers,{size:10})," ",((n=e.flashcards)==null?void 0:n.length)||0," Cards"]}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/play",state:{quiz:e,mode:"flashcards"},children:jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",className:"text-gray-500 hover:text-primary-600",children:jsxRuntimeExports.jsx(Layers,{size:16})})}),jsxRuntimeExports.jsx(Link,{to:"/play",state:{quiz:e},children:jsxRuntimeExports.jsxs(Button,{size:"sm",variant:"ghost",children:["Start ",jsxRuntimeExports.jsx(ChevronRight,{size:16,className:"ml-1"})]})})]})]})},TrendIndicator=({trend:e,show:t})=>{const n=e>=0,i=`${Math.abs(e)}%`,[o,l]=reactExports.useState("");return reactExports.useEffect(()=>{if(t){let u=0;const h=setInterval(()=>{u<i.length?(l(i.slice(0,u+1)),u++):clearInterval(h)},100);return()=>clearInterval(h)}},[t,i]),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:t?{opacity:1,y:0}:{},transition:{duration:.4},className:clsx("flex items-center text-xs font-bold px-2.5 py-1 rounded-full border backdrop-blur-sm mt-2 w-fit",n?"text-emerald-500 bg-emerald-50/80 dark:bg-emerald-900/30 border-emerald-100 dark:border-emerald-800/50":"text-red-500 bg-red-50/80 dark:bg-red-900/30 border-red-100 dark:border-red-800/50"),children:[n?jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-3 h-3 mr-1"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"w-3 h-3 mr-1"}),o]})},StreakHeatmap=({history:e})=>{const t=Array.from({length:7},(n,i)=>{const o=new Date;return o.setDate(o.getDate()-(6-i)),o});return jsxRuntimeExports.jsx("div",{className:"flex gap-1.5 mt-4",children:t.map((n,i)=>{const o=n.toLocaleDateString(),l=e.some(h=>new Date(h.completedAt).toLocaleDateString()===o),u=i===6;return jsxRuntimeExports.jsx("div",{className:"relative group/day",children:jsxRuntimeExports.jsx(motion.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.8+i*.05,type:"spring"},className:clsx("w-6 h-6 rounded-md border transition-all duration-300",l?"bg-orange-500 border-orange-600 shadow-sm":"bg-gray-100 dark:bg-dark-700 border-gray-200 dark:border-dark-600",u&&!l&&"border-orange-400 border-dashed animate-pulse",u&&l&&"ring-2 ring-orange-200 dark:ring-orange-900 ring-offset-1 dark:ring-offset-dark-800"),children:l&&jsxRuntimeExports.jsx(motion.div,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"w-full h-full bg-white/20 rounded-md"})})},i)})})},StatCard=({icon:e,label:t,value:n,type:i="standard",colorClass:o,hoverGradient:l,borderClass:u,delayIndex:h,trend:p,duration:m,history:g})=>{const[b,E]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:clsx("relative overflow-hidden rounded-3xl p-6 h-full shadow-md transition-all duration-300 group bg-white dark:bg-dark-800 cursor-grab active:cursor-grabbing",`hover:bg-gradient-to-br ${l}`),children:[jsxRuntimeExports.jsx("div",{className:`absolute top-0 left-0 h-1 w-0 group-hover:w-full transition-all duration-300 ${u}`}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[jsxRuntimeExports.jsx("div",{className:clsx("p-3.5 rounded-2xl shadow-lg transition-transform duration-300",o),children:jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.1,1]},transition:{duration:1.5,repeat:1/0,delay:h*.3,ease:"easeInOut"},children:jsxRuntimeExports.jsx(e,{className:"w-6 h-6 text-white"})})}),i==="score"&&jsxRuntimeExports.jsx(CircularProgress,{value:n,size:48,strokeWidth:5})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[i==="score"?jsxRuntimeExports.jsx("div",{className:"h-2"}):i==="streak"?jsxRuntimeExports.jsx("div",{className:"text-4xl font-display font-bold text-gray-900 dark:text-white mb-1 tracking-tight",children:jsxRuntimeExports.jsx(FlipNumber,{value:n,delay:.2})}):jsxRuntimeExports.jsx("div",{className:"text-4xl font-display font-bold text-gray-900 dark:text-white mb-1 tracking-tight",children:jsxRuntimeExports.jsx(CountUp,{end:n,duration:m,onComplete:()=>E(!0)})}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),i==="streak"?jsxRuntimeExports.jsx(StreakHeatmap,{history:g}):jsxRuntimeExports.jsx(TrendIndicator,{trend:p,show:i==="score"?!0:b})]})]})},ScoreBadge=({score:e})=>{let t="bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400";return e>=80?t="bg-emerald-100 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":e>=60&&(t="bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400"),jsxRuntimeExports.jsxs("div",{className:clsx("w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-sm shadow-sm transition-all relative",t),children:[e,"%"]})},RecentActivityItem=({item:e,index:t,isFirst:n})=>{const{removeResult:i}=useStore(),[o,l]=reactExports.useState(!1),u=useMotionValue(0),h=(p,m)=>{m.offset.x<-150&&i(e.completedAt)};return jsxRuntimeExports.jsxs(motion.div,{layout:!0,className:"relative mb-4 group/item",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{delay:t*.1,duration:.5},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-red-500 rounded-2xl flex items-center justify-end px-6 text-white z-0",children:jsxRuntimeExports.jsx(Trash2,{})}),jsxRuntimeExports.jsxs(motion.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:h,style:{x:u},className:clsx("relative z-10 bg-white dark:bg-dark-800 rounded-2xl p-4 border border-transparent transition-all duration-300 overflow-hidden",o?"bg-indigo-50/30 dark:bg-indigo-900/10 shadow-md border-indigo-100 dark:border-indigo-900/30 pl-6":"hover:border-gray-100 dark:hover:border-dark-600"),children:[jsxRuntimeExports.jsx(motion.div,{initial:{height:0},animate:{height:o?"100%":0},className:"absolute left-0 top-0 w-1 bg-indigo-500"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5+t*.1},className:clsx("absolute -left-[34px] top-1/2 -translate-y-1/2 w-3 h-3 rounded-full border-2 border-white dark:border-dark-800 z-20",n?"bg-indigo-500 animate-pulse":"bg-gray-300 dark:bg-dark-600")}),jsxRuntimeExports.jsx(ScoreBadge,{score:e.score})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate transition-colors group-hover/item:text-primary-600",children:e.quizTitle}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-xs font-medium text-gray-500 dark:text-gray-400 gap-2 mt-1",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3"}),new Date(e.completedAt).toLocaleDateString()]})]}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4 text-gray-300 group-hover/item:text-primary-500 group-hover/item:translate-x-1 transition-all"})]})]})]})},Dashboard=()=>{var N;const{userStats:e,history:t,user:n,savedQuizzes:i,dashboardLayout:o,toggleDashboardLayout:l}=useStore(),[u,h]=reactExports.useState(!0),[p,m]=reactExports.useState(!1),g=["quizzes","score","streak","questions"],[b,E]=reactExports.useState(g);reactExports.useEffect(()=>{const j=setTimeout(()=>h(!1),2e3);return()=>clearTimeout(j)},[]);const _=()=>{m(!0),l(),setTimeout(()=>m(!1),600)},A=t.slice().reverse().map((j,M)=>({name:`Quiz ${M+1}`,score:j.score})),w=A.length>0?A:[{name:"Mon",score:65},{name:"Tue",score:75},{name:"Wed",score:72},{name:"Thu",score:85},{name:"Fri",score:82},{name:"Sat",score:90},{name:"Sun",score:95}],T={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}}},C={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15},transitionEnd:{transform:"none",filter:"none"}}},B=j=>{switch(j){case"quizzes":return jsxRuntimeExports.jsx(StatCard,{icon:BookOpen,label:"Total Quizzes",value:e.totalQuizzes,colorClass:"bg-indigo-500",hoverGradient:"from-white to-indigo-50 dark:from-dark-800 dark:to-indigo-900/20",borderClass:"bg-indigo-500",delayIndex:0,duration:1,trend:12});case"score":return jsxRuntimeExports.jsx(StatCard,{icon:ChartColumn,label:"Average Score",value:e.averageScore,type:"score",colorClass:"bg-emerald-500",hoverGradient:"from-white to-emerald-50 dark:from-dark-800 dark:to-emerald-900/20",borderClass:"bg-emerald-500",delayIndex:1,duration:1.2,trend:5});case"streak":return jsxRuntimeExports.jsx(StatCard,{icon:Flame,label:"Study Streak",value:e.studyStreak,type:"streak",colorClass:"bg-orange-500",hoverGradient:"from-white to-orange-50 dark:from-dark-800 dark:to-orange-900/20",borderClass:"bg-orange-500",delayIndex:2,duration:.8,history:t});case"questions":return jsxRuntimeExports.jsx(StatCard,{icon:CircleCheckBig,label:"Questions Done",value:e.totalQuestionsAnswered,colorClass:"bg-purple-500",hoverGradient:"from-white to-purple-50 dark:from-dark-800 dark:to-purple-900/20",borderClass:"bg-purple-500",delayIndex:3,duration:1.5,trend:24});default:return null}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs(motion.div,{initial:"hidden",animate:"visible",variants:T,className:clsx("max-w-7xl mx-auto space-y-8 pb-8 transition-all duration-500"),children:[jsxRuntimeExports.jsx("style",{children:`
          .preserve-3d { transform-style: preserve-3d; }
          .backface-hidden { backface-visibility: hidden; }
          .rotate-y-180 { transform: rotateY(180deg); }
        `}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 relative",children:[jsxRuntimeExports.jsxs(motion.div,{variants:C,className:"relative z-10",children:[jsxRuntimeExports.jsx(TimeBasedGreeting,{name:((N=n==null?void 0:n.name)==null?void 0:N.split(" ")[0])||"Student"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg max-w-xl",children:["Ready to expand your knowledge? You're on a ",jsxRuntimeExports.jsxs("span",{className:"font-bold text-orange-500",children:[e.studyStreak," day streak!"]})]})]}),jsxRuntimeExports.jsx(motion.div,{variants:C,className:"relative z-10",children:jsxRuntimeExports.jsx(Link,{to:"/create",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"h-14 px-8 shadow-xl shadow-primary-500/30 hover:shadow-primary-500/40 hover:-translate-y-1 transition-all",magnetic:!0,pulse:!0,children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{rotate:180},transition:{duration:.5,ease:"easeInOut"},children:jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 mr-2"})}),"Create New Quiz"]})})}),jsxRuntimeExports.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[200px] bg-primary-500/10 dark:bg-primary-500/5 blur-[100px] rounded-full -z-10 pointer-events-none"})]}),u?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-3xl",shimmerDelay:0}),jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-3xl",shimmerDelay:.1}),jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-3xl",shimmerDelay:.2}),jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-3xl",shimmerDelay:.3})]}):jsxRuntimeExports.jsx(ReorderGroup,{axis:"x",values:b,onReorder:E,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:b.map(j=>jsxRuntimeExports.jsx(ReorderItem,{value:j,whileDrag:{scale:1.05,rotate:3,zIndex:50,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},transition:{type:"spring",stiffness:300,damping:20},children:B(j)},j))}),jsxRuntimeExports.jsx(motion.div,{variants:C,children:u?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-40 rounded-2xl",shimmerDelay:.3}),jsxRuntimeExports.jsx(Skeleton,{className:"h-40 rounded-2xl",shimmerDelay:.4}),jsxRuntimeExports.jsx(Skeleton,{className:"h-40 rounded-2xl",shimmerDelay:.5})]}):jsxRuntimeExports.jsx(GoalsSection,{})}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[jsxRuntimeExports.jsx(motion.div,{variants:C,className:"lg:col-span-2 relative",children:u?jsxRuntimeExports.jsx(Skeleton,{className:"h-[450px] rounded-3xl",shimmerDelay:.5}):jsxRuntimeExports.jsx(DashboardWidget,{id:"analytics",title:"Performance Analytics",icon:Sparkles,onRefresh:()=>new Promise(j=>setTimeout(j,1500)),className:"min-h-[450px]",children:jsxRuntimeExports.jsx("div",{className:"h-[350px] w-full mt-4",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(AreaChart,{data:w,margin:{top:10,right:10,left:-20,bottom:0},children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"5%",stopColor:"rgb(var(--color-primary-500))",stopOpacity:.3}),jsxRuntimeExports.jsx("stop",{offset:"95%",stopColor:"rgb(var(--color-primary-500))",stopOpacity:0})]})}),jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",className:"dark:stroke-gray-700/50"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:500},dy:10}),jsxRuntimeExports.jsx(YAxis,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:500}}),jsxRuntimeExports.jsx(Tooltip,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(8px)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.5)",boxShadow:"0 10px 30px -5px rgba(0, 0, 0, 0.1)",padding:"16px"},itemStyle:{color:"rgb(var(--color-primary-600))",fontWeight:700,fontSize:"14px"},cursor:{stroke:"rgb(var(--color-primary-500))",strokeWidth:2,strokeDasharray:"4 4"},animationDuration:300}),jsxRuntimeExports.jsx(Area,{type:"monotone",dataKey:"score",stroke:"rgb(var(--color-primary-600))",strokeWidth:4,fillOpacity:1,fill:"url(#colorScore)",animationDuration:2e3,animationEasing:"ease-out"})]})})})})}),jsxRuntimeExports.jsx(motion.div,{variants:C,className:"lg:col-span-1 relative",children:u?jsxRuntimeExports.jsx(Skeleton,{className:"h-[450px] rounded-3xl",shimmerDelay:.4}):jsxRuntimeExports.jsxs(DashboardWidget,{id:"activity",title:"Recent Activity",icon:Clock,onRefresh:()=>new Promise(j=>setTimeout(j,1e3)),isEmpty:t.length===0,emptyTitle:"No activity",emptyDescription:"Your recent quizzes will appear here once you start learning.",emptyActionLabel:"Create Quiz",className:"min-h-[450px]",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative pl-4 mt-2",children:[jsxRuntimeExports.jsx(motion.div,{initial:{height:0},animate:{height:"100%"},transition:{duration:1.5,ease:"easeInOut"},className:"absolute left-0 top-0 w-[2px] bg-gray-200 dark:bg-dark-600 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:t.slice(0,5).map((j,M)=>jsxRuntimeExports.jsx(RecentActivityItem,{item:j,index:M,isFirst:M===0},j.completedAt))})})]}),t.length>0&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-4",children:jsxRuntimeExports.jsx(Link,{to:"/history",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",magnetic:!0,className:"w-full border border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700",children:["View All History",jsxRuntimeExports.jsx(motion.div,{whileHover:{y:[0,-4,0]},transition:{duration:.6,repeat:1/0},children:jsxRuntimeExports.jsx(List,{className:"w-4 h-4 ml-2"})})]})})})]})})]}),jsxRuntimeExports.jsx(motion.div,{variants:C,children:u?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-32 rounded-full",shimmerDelay:.6}),jsxRuntimeExports.jsx(Skeleton,{className:"h-32 rounded-full",shimmerDelay:.7}),jsxRuntimeExports.jsx(Skeleton,{className:"h-32 rounded-full",shimmerDelay:.8}),jsxRuntimeExports.jsx(Skeleton,{className:"h-32 rounded-full",shimmerDelay:.9})]}):jsxRuntimeExports.jsx(Achievements,{})}),jsxRuntimeExports.jsxs(motion.div,{variants:C,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"w-5 h-5 text-primary-500"}),"Your Library"]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:i.length>0?`${i.length} Saved`:"Empty"})]}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 dark:bg-dark-800 rounded-lg p-1 border border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsx("button",{onClick:_,className:clsx("p-1.5 rounded-md transition-all",o==="grid"?"bg-white dark:bg-dark-600 shadow-sm text-primary-600":"text-gray-400 hover:text-gray-600"),title:"Grid View",children:jsxRuntimeExports.jsx(LayoutGrid,{size:16})}),jsxRuntimeExports.jsx("button",{onClick:_,className:clsx("p-1.5 rounded-md transition-all",o==="list"?"bg-white dark:bg-dark-600 shadow-sm text-primary-600":"text-gray-400 hover:text-gray-600"),title:"List View",children:jsxRuntimeExports.jsx(LayoutList,{size:16})})]})]}),u?jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-2xl",shimmerDelay:.6}),jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-2xl",shimmerDelay:.7}),jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-2xl",shimmerDelay:.8}),jsxRuntimeExports.jsx(Skeleton,{className:"h-48 rounded-2xl",shimmerDelay:.9})]}):i.length>0?jsxRuntimeExports.jsx(motion.div,{layout:!0,animate:{opacity:p?.5:1,filter:p?"blur(2px)":"blur(0px)"},transition:{duration:.4},className:clsx(o==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6":"flex flex-col gap-4"),children:jsxRuntimeExports.jsx(AnimatePresence,{children:i.map((j,M)=>o==="grid"?jsxRuntimeExports.jsx(QuizFlipCard,{quiz:j,index:M},j.id):jsxRuntimeExports.jsx(QuizListItem,{quiz:j,index:M},j.id))})}):jsxRuntimeExports.jsxs("div",{className:"bg-white/50 dark:bg-dark-800/50 rounded-2xl p-8 border border-dashed border-gray-300 dark:border-dark-600 text-center flex flex-col items-center",children:[jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-24 h-24 bg-gray-100 dark:bg-dark-700 rounded-full flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(BookOpen,{className:"w-10 h-10 text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 text-lg",children:"No quizzes yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 max-w-sm mx-auto leading-relaxed",children:"Generate a quiz from your notes to save it to your library and practice anytime."}),jsxRuntimeExports.jsx(Link,{to:"/create",children:jsxRuntimeExports.jsx(Button,{children:"Create Your First Quiz"})})]})]}),jsxRuntimeExports.jsx(motion.div,{variants:C,className:"mt-8 pt-8 border-t border-gray-200 dark:border-dark-700 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-400",children:["LearnFlow AI Suite  Crafted with excellence by ",jsxRuntimeExports.jsx("span",{className:"text-primary-500 font-bold hover:underline cursor-pointer",children:"Divyansh"})]})}),jsxRuntimeExports.jsx(AnimatePresence,{children:!u&&jsxRuntimeExports.jsx(motion.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{delay:1,type:"spring",stiffness:200,damping:20},className:"fixed bottom-8 right-8 z-50 md:hidden",children:jsxRuntimeExports.jsx(Link,{to:"/create",children:jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1,boxShadow:"0 25px 50px -12px rgba(99, 102, 241, 0.5)"},whileTap:{scale:.9},animate:{rotate:[0,-2,2,-2,0]},transition:{rotate:{repeat:1/0,duration:4,repeatDelay:1,ease:"easeInOut"}},className:"w-14 h-14 bg-gradient-to-r from-primary-600 to-secondary-500 rounded-full shadow-2xl flex items-center justify-center text-white",children:jsxRuntimeExports.jsx(Plus,{size:24,strokeWidth:3})})})})})]})})};var define_globalThis_process_env_default={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let _defaultBaseGeminiUrl,_defaultBaseVertexUrl;function getDefaultBaseUrls(){return{geminiUrl:_defaultBaseGeminiUrl,vertexUrl:_defaultBaseVertexUrl}}function getBaseUrl(e,t,n,i){var o,l;if(!(e!=null&&e.baseUrl)){const u=getDefaultBaseUrls();return t?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(l=u.geminiUrl)!==null&&l!==void 0?l:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BaseModule{}function formatMap(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function setValueByPath(e,t,n){for(let l=0;l<t.length-1;l++){const u=t[l];if(u.endsWith("[]")){const h=u.slice(0,-2);if(!(h in e))if(Array.isArray(n))e[h]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(e[h])){const p=e[h];if(Array.isArray(n))for(let m=0;m<p.length;m++){const g=p[m];setValueByPath(g,t.slice(l+1),n[m])}else for(const m of p)setValueByPath(m,t.slice(l+1),n)}return}else if(u.endsWith("[0]")){const h=u.slice(0,-3);h in e||(e[h]=[{}]);const p=e[h];setValueByPath(p[0],t.slice(l+1),n);return}(!e[u]||typeof e[u]!="object")&&(e[u]={}),e=e[u]}const i=t[t.length-1],o=e[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function getValueByPath(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const o=t[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in e){const u=e[l];return Array.isArray(u)?u.map(h=>getValueByPath(h,t.slice(i+1),n)):n}else return n}else e=e[o]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function moveValueByPath(e,t){for(const[n,i]of Object.entries(t)){const o=n.split("."),l=i.split("."),u=new Set;let h=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){h=p;break}if(h!==-1&&l.length>h)for(let p=h;p<l.length;p++){const m=l[p];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&u.add(m)}_moveValueRecursive(e,o,l,0,u)}}function _moveValueRecursive(e,t,n,i,o){if(i>=t.length||typeof e!="object"||e===null)return;const l=t[i];if(l.endsWith("[]")){const u=l.slice(0,-2),h=e;if(u in h&&Array.isArray(h[u]))for(const p of h[u])_moveValueRecursive(p,t,n,i+1,o)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const u=e,h=Object.keys(u).filter(m=>!m.startsWith("_")&&!o.has(m)),p={};for(const m of h)p[m]=u[m];for(const[m,g]of Object.entries(p)){const b=[];for(const E of n.slice(i))E==="*"?b.push(m):b.push(E);setValueByPath(u,b,g)}for(const m of h)delete u[m]}}else{const u=e;l in u&&_moveValueRecursive(u[l],t,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tBytes$1(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fetchPredictOperationParametersToVertex(e){const t={},n=getValueByPath(e,["operationName"]);n!=null&&setValueByPath(t,["operationName"],n);const i=getValueByPath(e,["resourceName"]);return i!=null&&setValueByPath(t,["_url","resourceName"],i),t}function generateVideosOperationFromMldev$1(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response","generateVideoResponse"]);return u!=null&&setValueByPath(t,["response"],generateVideosResponseFromMldev$1(u)),t}function generateVideosOperationFromVertex$1(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response"]);return u!=null&&setValueByPath(t,["response"],generateVideosResponseFromVertex$1(u)),t}function generateVideosResponseFromMldev$1(e){const t={},n=getValueByPath(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>generatedVideoFromMldev$1(u))),setValueByPath(t,["generatedVideos"],l)}const i=getValueByPath(e,["raiMediaFilteredCount"]);i!=null&&setValueByPath(t,["raiMediaFilteredCount"],i);const o=getValueByPath(e,["raiMediaFilteredReasons"]);return o!=null&&setValueByPath(t,["raiMediaFilteredReasons"],o),t}function generateVideosResponseFromVertex$1(e){const t={},n=getValueByPath(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>generatedVideoFromVertex$1(u))),setValueByPath(t,["generatedVideos"],l)}const i=getValueByPath(e,["raiMediaFilteredCount"]);i!=null&&setValueByPath(t,["raiMediaFilteredCount"],i);const o=getValueByPath(e,["raiMediaFilteredReasons"]);return o!=null&&setValueByPath(t,["raiMediaFilteredReasons"],o),t}function generatedVideoFromMldev$1(e){const t={},n=getValueByPath(e,["video"]);return n!=null&&setValueByPath(t,["video"],videoFromMldev$1(n)),t}function generatedVideoFromVertex$1(e){const t={},n=getValueByPath(e,["_self"]);return n!=null&&setValueByPath(t,["video"],videoFromVertex$1(n)),t}function getOperationParametersToMldev(e){const t={},n=getValueByPath(e,["operationName"]);return n!=null&&setValueByPath(t,["_url","operationName"],n),t}function getOperationParametersToVertex(e){const t={},n=getValueByPath(e,["operationName"]);return n!=null&&setValueByPath(t,["_url","operationName"],n),t}function importFileOperationFromMldev$1(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response"]);return u!=null&&setValueByPath(t,["response"],importFileResponseFromMldev$1(u)),t}function importFileResponseFromMldev$1(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["parent"]);i!=null&&setValueByPath(t,["parent"],i);const o=getValueByPath(e,["documentName"]);return o!=null&&setValueByPath(t,["documentName"],o),t}function uploadToFileSearchStoreOperationFromMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response"]);return u!=null&&setValueByPath(t,["response"],uploadToFileSearchStoreResponseFromMldev(u)),t}function uploadToFileSearchStoreResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["parent"]);i!=null&&setValueByPath(t,["parent"],i);const o=getValueByPath(e,["documentName"]);return o!=null&&setValueByPath(t,["documentName"],o),t}function videoFromMldev$1(e){const t={},n=getValueByPath(e,["uri"]);n!=null&&setValueByPath(t,["uri"],n);const i=getValueByPath(e,["encodedVideo"]);i!=null&&setValueByPath(t,["videoBytes"],tBytes$1(i));const o=getValueByPath(e,["encoding"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}function videoFromVertex$1(e){const t={},n=getValueByPath(e,["gcsUri"]);n!=null&&setValueByPath(t,["uri"],n);const i=getValueByPath(e,["bytesBase64Encoded"]);i!=null&&setValueByPath(t,["videoBytes"],tBytes$1(i));const o=getValueByPath(e,["mimeType"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Outcome;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Outcome||(Outcome={}));var Language;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Language||(Language={}));var FunctionResponseScheduling;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(FunctionResponseScheduling||(FunctionResponseScheduling={}));var Type;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Type||(Type={}));var Mode;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Mode||(Mode={}));var ApiSpec;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ApiSpec||(ApiSpec={}));var AuthType;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(AuthType||(AuthType={}));var HttpElementLocation;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(HttpElementLocation||(HttpElementLocation={}));var PhishBlockThreshold;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(PhishBlockThreshold||(PhishBlockThreshold={}));var ThinkingLevel;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(ThinkingLevel||(ThinkingLevel={}));var HarmCategory;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(HarmCategory||(HarmCategory={}));var HarmBlockMethod;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(HarmBlockMethod||(HarmBlockMethod={}));var HarmBlockThreshold;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(HarmBlockThreshold||(HarmBlockThreshold={}));var FinishReason;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(FinishReason||(FinishReason={}));var HarmProbability;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(HarmProbability||(HarmProbability={}));var HarmSeverity;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(HarmSeverity||(HarmSeverity={}));var UrlRetrievalStatus;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UrlRetrievalStatus||(UrlRetrievalStatus={}));var BlockedReason;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(BlockedReason||(BlockedReason={}));var TrafficType;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(TrafficType||(TrafficType={}));var Modality;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Modality||(Modality={}));var MediaResolution;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(MediaResolution||(MediaResolution={}));var TuningMode;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(TuningMode||(TuningMode={}));var AdapterSize;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(AdapterSize||(AdapterSize={}));var JobState;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(JobState||(JobState={}));var TuningTask;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(TuningTask||(TuningTask={}));var PartMediaResolutionLevel;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(PartMediaResolutionLevel||(PartMediaResolutionLevel={}));var FeatureSelectionPreference;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(FeatureSelectionPreference||(FeatureSelectionPreference={}));var Behavior;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Behavior||(Behavior={}));var DynamicRetrievalConfigMode;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(DynamicRetrievalConfigMode||(DynamicRetrievalConfigMode={}));var Environment;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Environment||(Environment={}));var FunctionCallingConfigMode;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(FunctionCallingConfigMode||(FunctionCallingConfigMode={}));var SafetyFilterLevel;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(SafetyFilterLevel||(SafetyFilterLevel={}));var PersonGeneration;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(PersonGeneration||(PersonGeneration={}));var ImagePromptLanguage;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ImagePromptLanguage||(ImagePromptLanguage={}));var MaskReferenceMode;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(MaskReferenceMode||(MaskReferenceMode={}));var ControlReferenceType;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ControlReferenceType||(ControlReferenceType={}));var SubjectReferenceType;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(SubjectReferenceType||(SubjectReferenceType={}));var EditMode;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(EditMode||(EditMode={}));var SegmentMode;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(SegmentMode||(SegmentMode={}));var VideoGenerationReferenceType;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(VideoGenerationReferenceType||(VideoGenerationReferenceType={}));var VideoGenerationMaskMode;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(VideoGenerationMaskMode||(VideoGenerationMaskMode={}));var VideoCompressionQuality;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(VideoCompressionQuality||(VideoCompressionQuality={}));var TuningMethod;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(TuningMethod||(TuningMethod={}));var DocumentState;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(DocumentState||(DocumentState={}));var FileState;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(FileState||(FileState={}));var FileSource;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(FileSource||(FileSource={}));var TurnCompleteReason;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TurnCompleteReason||(TurnCompleteReason={}));var MediaModality;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(MediaModality||(MediaModality={}));var VadSignalType;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(VadSignalType||(VadSignalType={}));var StartSensitivity;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(StartSensitivity||(StartSensitivity={}));var EndSensitivity;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(EndSensitivity||(EndSensitivity={}));var ActivityHandling;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ActivityHandling||(ActivityHandling={}));var TurnCoverage;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(TurnCoverage||(TurnCoverage={}));var Scale;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Scale||(Scale={}));var MusicGenerationMode;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(MusicGenerationMode||(MusicGenerationMode={}));var LiveMusicPlaybackControl;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(LiveMusicPlaybackControl||(LiveMusicPlaybackControl={}));class HttpResponse{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class GenerateContentResponse{get text(){var t,n,i,o,l,u,h,p;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",g=!1;const b=[];for(const E of(p=(h=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[_,A]of Object.entries(E))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(A!==null||A!==void 0)&&b.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;g=!0,m+=E.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?m:void 0}get data(){var t,n,i,o,l,u,h,p;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const g=[];for(const b of(p=(h=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)!==null&&p!==void 0?p:[]){for(const[E,_]of Object.entries(b))E!=="inlineData"&&(_!==null||_!==void 0)&&g.push(E);b.inlineData&&typeof b.inlineData.data=="string"&&(m+=atob(b.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,n,i,o,l,u,h,p;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(p=(h=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,n,i,o,l,u,h,p,m;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(h=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(m=g==null?void 0:g[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,n,i,o,l,u,h,p,m;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(h=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||h===void 0?void 0:h.parts)===null||p===void 0?void 0:p.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((g==null?void 0:g.length)!==0)return(m=g==null?void 0:g[0])===null||m===void 0?void 0:m.output}}class EmbedContentResponse{}class GenerateImagesResponse{}class EditImageResponse{}class UpscaleImageResponse{}class RecontextImageResponse{}class SegmentImageResponse{}class ListModelsResponse{}class DeleteModelResponse{}class CountTokensResponse{}class ComputeTokensResponse{}class GenerateVideosOperation{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new GenerateVideosOperation;let o;const l=t;return n?o=generateVideosOperationFromVertex$1(l):o=generateVideosOperationFromMldev$1(l),Object.assign(i,o),i}}class ListTuningJobsResponse{}class CancelTuningJobResponse{}class DeleteCachedContentResponse{}class ListCachedContentsResponse{}class ListDocumentsResponse{}class ListFileSearchStoresResponse{}class UploadToFileSearchStoreResumableResponse{}class ImportFileOperation{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new ImportFileOperation,l=importFileOperationFromMldev$1(t);return Object.assign(i,l),i}}class ListFilesResponse{}class CreateFileResponse{}class DeleteFileResponse{}class ListBatchJobsResponse{}class LiveServerMessage{get text(){var t,n,i;let o="",l=!1;const u=[];for(const h of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,m]of Object.entries(h))p!=="text"&&p!=="thought"&&m!==null&&u.push(p);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,o+=h.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var t,n,i;let o="";const l=[];for(const u of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[h,p]of Object.entries(u))h!=="inlineData"&&p!==null&&l.push(h);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class LiveMusicServerMessage{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class UploadToFileSearchStoreOperation{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new UploadToFileSearchStoreOperation,l=uploadToFileSearchStoreOperationFromMldev(t);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tModel(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function tCachesModel(e,t){const n=tModel(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function tBlobs(e){return Array.isArray(e)?e.map(t=>tBlob(t)):[tBlob(e)]}function tBlob(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function tImageBlob(e){const t=tBlob(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tAudioBlob(e){const t=tBlob(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tPart(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function tParts(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>tPart(t)):[tPart(e)]}function _isContent(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function _isFunctionCallPart(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function _isFunctionResponsePart(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function tContent(e){if(e==null)throw new Error("ContentUnion is required");return _isContent(e)?e:{role:"user",parts:tParts(e)}}function tContentsForEmbed(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=tContent(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=tContent(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>tContent(n)):[tContent(t)]}function tContents(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(_isFunctionCallPart(e)||_isFunctionResponsePart(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[tContent(e)]}const t=[],n=[],i=_isContent(e[0]);for(const o of e){const l=_isContent(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(_isFunctionCallPart(o)||_isFunctionResponsePart(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||t.push({role:"user",parts:tParts(n)}),t}function flattenTypeArrayToAnyOf(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(Type).includes(n[0].toUpperCase())?n[0].toUpperCase():Type.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(Type).includes(i.toUpperCase())?i.toUpperCase():Type.TYPE_UNSPECIFIED})}}function processJsonSchema(e){const t={},n=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&flattenTypeArrayToAnyOf(e.type,t);for(const[u,h]of Object.entries(e))if(h!=null)if(u=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Type).includes(h.toUpperCase())?h.toUpperCase():Type.TYPE_UNSPECIFIED}else if(n.includes(u))t[u]=processJsonSchema(h);else if(i.includes(u)){const p=[];for(const m of h){if(m.type=="null"){t.nullable=!0;continue}p.push(processJsonSchema(m))}t[u]=p}else if(o.includes(u)){const p={};for(const[m,g]of Object.entries(h))p[m]=processJsonSchema(g);t[u]=p}else{if(u==="additionalProperties")continue;t[u]=h}return t}function tSchema(e){return processJsonSchema(e)}function tSpeechConfig(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function tLiveSpeechConfig(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function tTool(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=processJsonSchema(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=processJsonSchema(t.response));return e}function tTools(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function resourceName(e,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function tCachedContentName(e,t){if(typeof t!="string")throw new Error("name must be a string");return resourceName(e,t,"cachedContents")}function tTuningJobStatus(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function tBytes(e){return tBytes$1(e)}function _isFile(e){return e!=null&&typeof e=="object"&&"name"in e}function isGeneratedVideo(e){return e!=null&&typeof e=="object"&&"video"in e}function isVideo(e){return e!=null&&typeof e=="object"&&"uri"in e}function tFileName(e){var t;let n;if(_isFile(e)&&(n=e.name),!(isVideo(e)&&(n=e.uri,n===void 0))&&!(isGeneratedVideo(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function tModelsUrl(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function tExtractModels(e){for(const t of["models","tunedModels","publisherModels"])if(hasField(e,t))return e[t];return[]}function hasField(e,t){return e!==null&&typeof e=="object"&&t in e}function mcpToGeminiTool(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function mcpToolsToGeminiTool(e,t={}){const n=[],i=new Set;for(const o of e){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=mcpToGeminiTool(o,t);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function tBatchJobSource(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tBatchJobDestination(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function tRecvBatchJobDestination(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function tBatchJobName(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function tJobState(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function batchJobDestinationFromMldev(e){const t={},n=getValueByPath(e,["responsesFile"]);n!=null&&setValueByPath(t,["fileName"],n);const i=getValueByPath(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>inlinedResponseFromMldev(u))),setValueByPath(t,["inlinedResponses"],l)}const o=getValueByPath(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["inlinedEmbedContentResponses"],l)}return t}function batchJobDestinationFromVertex(e){const t={},n=getValueByPath(e,["predictionsFormat"]);n!=null&&setValueByPath(t,["format"],n);const i=getValueByPath(e,["gcsDestination","outputUriPrefix"]);i!=null&&setValueByPath(t,["gcsUri"],i);const o=getValueByPath(e,["bigqueryDestination","outputUri"]);return o!=null&&setValueByPath(t,["bigqueryUri"],o),t}function batchJobDestinationToVertex(e){const t={},n=getValueByPath(e,["format"]);n!=null&&setValueByPath(t,["predictionsFormat"],n);const i=getValueByPath(e,["gcsUri"]);i!=null&&setValueByPath(t,["gcsDestination","outputUriPrefix"],i);const o=getValueByPath(e,["bigqueryUri"]);if(o!=null&&setValueByPath(t,["bigqueryDestination","outputUri"],o),getValueByPath(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(getValueByPath(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(getValueByPath(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function batchJobFromMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata","displayName"]);i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["metadata","state"]);o!=null&&setValueByPath(t,["state"],tJobState(o));const l=getValueByPath(e,["metadata","createTime"]);l!=null&&setValueByPath(t,["createTime"],l);const u=getValueByPath(e,["metadata","endTime"]);u!=null&&setValueByPath(t,["endTime"],u);const h=getValueByPath(e,["metadata","updateTime"]);h!=null&&setValueByPath(t,["updateTime"],h);const p=getValueByPath(e,["metadata","model"]);p!=null&&setValueByPath(t,["model"],p);const m=getValueByPath(e,["metadata","output"]);return m!=null&&setValueByPath(t,["dest"],batchJobDestinationFromMldev(tRecvBatchJobDestination(m))),t}function batchJobFromVertex(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["displayName"]);i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["state"]);o!=null&&setValueByPath(t,["state"],tJobState(o));const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["createTime"]);u!=null&&setValueByPath(t,["createTime"],u);const h=getValueByPath(e,["startTime"]);h!=null&&setValueByPath(t,["startTime"],h);const p=getValueByPath(e,["endTime"]);p!=null&&setValueByPath(t,["endTime"],p);const m=getValueByPath(e,["updateTime"]);m!=null&&setValueByPath(t,["updateTime"],m);const g=getValueByPath(e,["model"]);g!=null&&setValueByPath(t,["model"],g);const b=getValueByPath(e,["inputConfig"]);b!=null&&setValueByPath(t,["src"],batchJobSourceFromVertex(b));const E=getValueByPath(e,["outputConfig"]);E!=null&&setValueByPath(t,["dest"],batchJobDestinationFromVertex(tRecvBatchJobDestination(E)));const _=getValueByPath(e,["completionStats"]);return _!=null&&setValueByPath(t,["completionStats"],_),t}function batchJobSourceFromVertex(e){const t={},n=getValueByPath(e,["instancesFormat"]);n!=null&&setValueByPath(t,["format"],n);const i=getValueByPath(e,["gcsSource","uris"]);i!=null&&setValueByPath(t,["gcsUri"],i);const o=getValueByPath(e,["bigquerySource","inputUri"]);return o!=null&&setValueByPath(t,["bigqueryUri"],o),t}function batchJobSourceToMldev(e,t){const n={};if(getValueByPath(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(getValueByPath(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(getValueByPath(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=getValueByPath(t,["fileName"]);i!=null&&setValueByPath(n,["fileName"],i);const o=getValueByPath(t,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>inlinedRequestToMldev(e,u))),setValueByPath(n,["requests","requests"],l)}return n}function batchJobSourceToVertex(e){const t={},n=getValueByPath(e,["format"]);n!=null&&setValueByPath(t,["instancesFormat"],n);const i=getValueByPath(e,["gcsUri"]);i!=null&&setValueByPath(t,["gcsSource","uris"],i);const o=getValueByPath(e,["bigqueryUri"]);if(o!=null&&setValueByPath(t,["bigquerySource","inputUri"],o),getValueByPath(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(getValueByPath(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function blobToMldev$4(e){const t={},n=getValueByPath(e,["data"]);if(n!=null&&setValueByPath(t,["data"],n),getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function cancelBatchJobParametersToMldev(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tBatchJobName(e,i)),n}function cancelBatchJobParametersToVertex(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tBatchJobName(e,i)),n}function candidateFromMldev$1(e){const t={},n=getValueByPath(e,["content"]);n!=null&&setValueByPath(t,["content"],n);const i=getValueByPath(e,["citationMetadata"]);i!=null&&setValueByPath(t,["citationMetadata"],citationMetadataFromMldev$1(i));const o=getValueByPath(e,["tokenCount"]);o!=null&&setValueByPath(t,["tokenCount"],o);const l=getValueByPath(e,["finishReason"]);l!=null&&setValueByPath(t,["finishReason"],l);const u=getValueByPath(e,["avgLogprobs"]);u!=null&&setValueByPath(t,["avgLogprobs"],u);const h=getValueByPath(e,["groundingMetadata"]);h!=null&&setValueByPath(t,["groundingMetadata"],h);const p=getValueByPath(e,["index"]);p!=null&&setValueByPath(t,["index"],p);const m=getValueByPath(e,["logprobsResult"]);m!=null&&setValueByPath(t,["logprobsResult"],m);const g=getValueByPath(e,["safetyRatings"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>_)),setValueByPath(t,["safetyRatings"],E)}const b=getValueByPath(e,["urlContextMetadata"]);return b!=null&&setValueByPath(t,["urlContextMetadata"],b),t}function citationMetadataFromMldev$1(e){const t={},n=getValueByPath(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),setValueByPath(t,["citations"],i)}return t}function contentToMldev$4(e){const t={},n=getValueByPath(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>partToMldev$4(l))),setValueByPath(t,["parts"],o)}const i=getValueByPath(e,["role"]);return i!=null&&setValueByPath(t,["role"],i),t}function createBatchJobConfigToMldev(e,t){const n={},i=getValueByPath(e,["displayName"]);if(t!==void 0&&i!=null&&setValueByPath(t,["batch","displayName"],i),getValueByPath(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function createBatchJobConfigToVertex(e,t){const n={},i=getValueByPath(e,["displayName"]);t!==void 0&&i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["dest"]);return t!==void 0&&o!=null&&setValueByPath(t,["outputConfig"],batchJobDestinationToVertex(tBatchJobDestination(o))),n}function createBatchJobParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["src"]);o!=null&&setValueByPath(n,["batch","inputConfig"],batchJobSourceToMldev(e,tBatchJobSource(e,o)));const l=getValueByPath(t,["config"]);return l!=null&&createBatchJobConfigToMldev(l,n),n}function createBatchJobParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["model"],tModel(e,i));const o=getValueByPath(t,["src"]);o!=null&&setValueByPath(n,["inputConfig"],batchJobSourceToVertex(tBatchJobSource(e,o)));const l=getValueByPath(t,["config"]);return l!=null&&createBatchJobConfigToVertex(l,n),n}function createEmbeddingsBatchJobConfigToMldev(e,t){const n={},i=getValueByPath(e,["displayName"]);return t!==void 0&&i!=null&&setValueByPath(t,["batch","displayName"],i),n}function createEmbeddingsBatchJobParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["src"]);o!=null&&setValueByPath(n,["batch","inputConfig"],embeddingsBatchJobSourceToMldev(e,o));const l=getValueByPath(t,["config"]);return l!=null&&createEmbeddingsBatchJobConfigToMldev(l,n),n}function deleteBatchJobParametersToMldev(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tBatchJobName(e,i)),n}function deleteBatchJobParametersToVertex(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tBatchJobName(e,i)),n}function deleteResourceJobFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["name"]);i!=null&&setValueByPath(t,["name"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);return l!=null&&setValueByPath(t,["error"],l),t}function deleteResourceJobFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["name"]);i!=null&&setValueByPath(t,["name"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);return l!=null&&setValueByPath(t,["error"],l),t}function embedContentBatchToMldev(e,t){const n={},i=getValueByPath(t,["contents"]);if(i!=null){let l=tContentsForEmbed(e,i);Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(n,["requests[]","request","content"],l)}const o=getValueByPath(t,["config"]);return o!=null&&(setValueByPath(n,["_self"],embedContentConfigToMldev$1(o,n)),moveValueByPath(n,{"requests[].*":"requests[].request.*"})),n}function embedContentConfigToMldev$1(e,t){const n={},i=getValueByPath(e,["taskType"]);t!==void 0&&i!=null&&setValueByPath(t,["requests[]","taskType"],i);const o=getValueByPath(e,["title"]);t!==void 0&&o!=null&&setValueByPath(t,["requests[]","title"],o);const l=getValueByPath(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&setValueByPath(t,["requests[]","outputDimensionality"],l),getValueByPath(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(getValueByPath(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function embeddingsBatchJobSourceToMldev(e,t){const n={},i=getValueByPath(t,["fileName"]);i!=null&&setValueByPath(n,["file_name"],i);const o=getValueByPath(t,["inlinedRequests"]);return o!=null&&setValueByPath(n,["requests"],embedContentBatchToMldev(e,o)),n}function fileDataToMldev$4(e){const t={};if(getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=getValueByPath(e,["fileUri"]);n!=null&&setValueByPath(t,["fileUri"],n);const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function functionCallToMldev$4(e){const t={},n=getValueByPath(e,["id"]);n!=null&&setValueByPath(t,["id"],n);const i=getValueByPath(e,["args"]);i!=null&&setValueByPath(t,["args"],i);const o=getValueByPath(e,["name"]);if(o!=null&&setValueByPath(t,["name"],o),getValueByPath(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function functionCallingConfigToMldev$2(e){const t={},n=getValueByPath(e,["mode"]);n!=null&&setValueByPath(t,["mode"],n);const i=getValueByPath(e,["allowedFunctionNames"]);if(i!=null&&setValueByPath(t,["allowedFunctionNames"],i),getValueByPath(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function generateContentConfigToMldev$1(e,t,n){const i={},o=getValueByPath(t,["systemInstruction"]);n!==void 0&&o!=null&&setValueByPath(n,["systemInstruction"],contentToMldev$4(tContent(o)));const l=getValueByPath(t,["temperature"]);l!=null&&setValueByPath(i,["temperature"],l);const u=getValueByPath(t,["topP"]);u!=null&&setValueByPath(i,["topP"],u);const h=getValueByPath(t,["topK"]);h!=null&&setValueByPath(i,["topK"],h);const p=getValueByPath(t,["candidateCount"]);p!=null&&setValueByPath(i,["candidateCount"],p);const m=getValueByPath(t,["maxOutputTokens"]);m!=null&&setValueByPath(i,["maxOutputTokens"],m);const g=getValueByPath(t,["stopSequences"]);g!=null&&setValueByPath(i,["stopSequences"],g);const b=getValueByPath(t,["responseLogprobs"]);b!=null&&setValueByPath(i,["responseLogprobs"],b);const E=getValueByPath(t,["logprobs"]);E!=null&&setValueByPath(i,["logprobs"],E);const _=getValueByPath(t,["presencePenalty"]);_!=null&&setValueByPath(i,["presencePenalty"],_);const A=getValueByPath(t,["frequencyPenalty"]);A!=null&&setValueByPath(i,["frequencyPenalty"],A);const w=getValueByPath(t,["seed"]);w!=null&&setValueByPath(i,["seed"],w);const T=getValueByPath(t,["responseMimeType"]);T!=null&&setValueByPath(i,["responseMimeType"],T);const C=getValueByPath(t,["responseSchema"]);C!=null&&setValueByPath(i,["responseSchema"],tSchema(C));const B=getValueByPath(t,["responseJsonSchema"]);if(B!=null&&setValueByPath(i,["responseJsonSchema"],B),getValueByPath(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(getValueByPath(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=getValueByPath(t,["safetySettings"]);if(n!==void 0&&N!=null){let te=N;Array.isArray(te)&&(te=te.map(me=>safetySettingToMldev$1(me))),setValueByPath(n,["safetySettings"],te)}const j=getValueByPath(t,["tools"]);if(n!==void 0&&j!=null){let te=tTools(j);Array.isArray(te)&&(te=te.map(me=>toolToMldev$4(tTool(me)))),setValueByPath(n,["tools"],te)}const M=getValueByPath(t,["toolConfig"]);if(n!==void 0&&M!=null&&setValueByPath(n,["toolConfig"],toolConfigToMldev$2(M)),getValueByPath(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=getValueByPath(t,["cachedContent"]);n!==void 0&&D!=null&&setValueByPath(n,["cachedContent"],tCachedContentName(e,D));const V=getValueByPath(t,["responseModalities"]);V!=null&&setValueByPath(i,["responseModalities"],V);const L=getValueByPath(t,["mediaResolution"]);L!=null&&setValueByPath(i,["mediaResolution"],L);const U=getValueByPath(t,["speechConfig"]);if(U!=null&&setValueByPath(i,["speechConfig"],tSpeechConfig(U)),getValueByPath(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=getValueByPath(t,["thinkingConfig"]);J!=null&&setValueByPath(i,["thinkingConfig"],J);const $=getValueByPath(t,["imageConfig"]);$!=null&&setValueByPath(i,["imageConfig"],imageConfigToMldev$1($));const K=getValueByPath(t,["enableEnhancedCivicAnswers"]);return K!=null&&setValueByPath(i,["enableEnhancedCivicAnswers"],K),i}function generateContentResponseFromMldev$1(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(m=>candidateFromMldev$1(m))),setValueByPath(t,["candidates"],p)}const o=getValueByPath(e,["modelVersion"]);o!=null&&setValueByPath(t,["modelVersion"],o);const l=getValueByPath(e,["promptFeedback"]);l!=null&&setValueByPath(t,["promptFeedback"],l);const u=getValueByPath(e,["responseId"]);u!=null&&setValueByPath(t,["responseId"],u);const h=getValueByPath(e,["usageMetadata"]);return h!=null&&setValueByPath(t,["usageMetadata"],h),t}function getBatchJobParametersToMldev(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tBatchJobName(e,i)),n}function getBatchJobParametersToVertex(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tBatchJobName(e,i)),n}function googleMapsToMldev$4(e){const t={};if(getValueByPath(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=getValueByPath(e,["enableWidget"]);return n!=null&&setValueByPath(t,["enableWidget"],n),t}function googleSearchToMldev$4(e){const t={};if(getValueByPath(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=getValueByPath(e,["timeRangeFilter"]);return n!=null&&setValueByPath(t,["timeRangeFilter"],n),t}function imageConfigToMldev$1(e){const t={},n=getValueByPath(e,["aspectRatio"]);n!=null&&setValueByPath(t,["aspectRatio"],n);const i=getValueByPath(e,["imageSize"]);if(i!=null&&setValueByPath(t,["imageSize"],i),getValueByPath(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(getValueByPath(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function inlinedRequestToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["request","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let h=tContents(o);Array.isArray(h)&&(h=h.map(p=>contentToMldev$4(p))),setValueByPath(n,["request","contents"],h)}const l=getValueByPath(t,["metadata"]);l!=null&&setValueByPath(n,["metadata"],l);const u=getValueByPath(t,["config"]);return u!=null&&setValueByPath(n,["request","generationConfig"],generateContentConfigToMldev$1(e,u,getValueByPath(n,["request"],{}))),n}function inlinedResponseFromMldev(e){const t={},n=getValueByPath(e,["response"]);n!=null&&setValueByPath(t,["response"],generateContentResponseFromMldev$1(n));const i=getValueByPath(e,["error"]);return i!=null&&setValueByPath(t,["error"],i),t}function listBatchJobsConfigToMldev(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);if(t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o),getValueByPath(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function listBatchJobsConfigToVertex(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o);const l=getValueByPath(e,["filter"]);return t!==void 0&&l!=null&&setValueByPath(t,["_query","filter"],l),n}function listBatchJobsParametersToMldev(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&listBatchJobsConfigToMldev(n,t),t}function listBatchJobsParametersToVertex(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&listBatchJobsConfigToVertex(n,t),t}function listBatchJobsResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>batchJobFromMldev(u))),setValueByPath(t,["batchJobs"],l)}return t}function listBatchJobsResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>batchJobFromVertex(u))),setValueByPath(t,["batchJobs"],l)}return t}function partToMldev$4(e){const t={},n=getValueByPath(e,["mediaResolution"]);n!=null&&setValueByPath(t,["mediaResolution"],n);const i=getValueByPath(e,["codeExecutionResult"]);i!=null&&setValueByPath(t,["codeExecutionResult"],i);const o=getValueByPath(e,["executableCode"]);o!=null&&setValueByPath(t,["executableCode"],o);const l=getValueByPath(e,["fileData"]);l!=null&&setValueByPath(t,["fileData"],fileDataToMldev$4(l));const u=getValueByPath(e,["functionCall"]);u!=null&&setValueByPath(t,["functionCall"],functionCallToMldev$4(u));const h=getValueByPath(e,["functionResponse"]);h!=null&&setValueByPath(t,["functionResponse"],h);const p=getValueByPath(e,["inlineData"]);p!=null&&setValueByPath(t,["inlineData"],blobToMldev$4(p));const m=getValueByPath(e,["text"]);m!=null&&setValueByPath(t,["text"],m);const g=getValueByPath(e,["thought"]);g!=null&&setValueByPath(t,["thought"],g);const b=getValueByPath(e,["thoughtSignature"]);b!=null&&setValueByPath(t,["thoughtSignature"],b);const E=getValueByPath(e,["videoMetadata"]);return E!=null&&setValueByPath(t,["videoMetadata"],E),t}function safetySettingToMldev$1(e){const t={},n=getValueByPath(e,["category"]);if(n!=null&&setValueByPath(t,["category"],n),getValueByPath(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=getValueByPath(e,["threshold"]);return i!=null&&setValueByPath(t,["threshold"],i),t}function toolConfigToMldev$2(e){const t={},n=getValueByPath(e,["functionCallingConfig"]);n!=null&&setValueByPath(t,["functionCallingConfig"],functionCallingConfigToMldev$2(n));const i=getValueByPath(e,["retrievalConfig"]);return i!=null&&setValueByPath(t,["retrievalConfig"],i),t}function toolToMldev$4(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),setValueByPath(t,["functionDeclarations"],g)}if(getValueByPath(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=getValueByPath(e,["googleSearchRetrieval"]);i!=null&&setValueByPath(t,["googleSearchRetrieval"],i);const o=getValueByPath(e,["computerUse"]);o!=null&&setValueByPath(t,["computerUse"],o);const l=getValueByPath(e,["fileSearch"]);l!=null&&setValueByPath(t,["fileSearch"],l);const u=getValueByPath(e,["codeExecution"]);if(u!=null&&setValueByPath(t,["codeExecution"],u),getValueByPath(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=getValueByPath(e,["googleMaps"]);h!=null&&setValueByPath(t,["googleMaps"],googleMapsToMldev$4(h));const p=getValueByPath(e,["googleSearch"]);p!=null&&setValueByPath(t,["googleSearch"],googleSearchToMldev$4(p));const m=getValueByPath(e,["urlContext"]);return m!=null&&setValueByPath(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var PagedItem;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(PagedItem||(PagedItem={}));class Pager{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Batches extends BaseModule{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pager(PagedItem.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=createBatchJobParametersToMldev(this.apiClient,t),i=n._url,o=formatMap("{model}:batchGenerateContent",i),h=n.batch.inputConfig.requests,p=h.requests,m=[];for(const g of p){const b=Object.assign({},g);if(b.systemInstruction){const E=b.systemInstruction;delete b.systemInstruction;const _=b.request;_.systemInstruction=E,b.request=_}m.push(b)}return h.requests=m,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(t),u=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=createBatchJobParametersToVertex(this.apiClient,t);return h=formatMap("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>batchJobFromVertex(g))}else{const m=createBatchJobParametersToMldev(this.apiClient,t);return h=formatMap("{model}:batchGenerateContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>batchJobFromMldev(g))}}async createEmbeddingsInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=createEmbeddingsBatchJobParametersToMldev(this.apiClient,t);return l=formatMap("{model}:asyncBatchEmbedContent",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>batchJobFromMldev(p))}}async get(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=getBatchJobParametersToVertex(this.apiClient,t);return h=formatMap("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>batchJobFromVertex(g))}else{const m=getBatchJobParametersToMldev(this.apiClient,t);return h=formatMap("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>batchJobFromMldev(g))}}async cancel(t){var n,i,o,l;let u="",h={};if(this.apiClient.isVertexAI()){const p=cancelBatchJobParametersToVertex(this.apiClient,t);u=formatMap("batchPredictionJobs/{name}:cancel",p._url),h=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=cancelBatchJobParametersToMldev(this.apiClient,t);u=formatMap("batches/{name}:cancel",p._url),h=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=listBatchJobsParametersToVertex(t);return h=formatMap("batchPredictionJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listBatchJobsResponseFromVertex(g),E=new ListBatchJobsResponse;return Object.assign(E,b),E})}else{const m=listBatchJobsParametersToMldev(t);return h=formatMap("batches",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listBatchJobsResponseFromMldev(g),E=new ListBatchJobsResponse;return Object.assign(E,b),E})}}async delete(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=deleteBatchJobParametersToVertex(this.apiClient,t);return h=formatMap("batchPredictionJobs/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>deleteResourceJobFromVertex(g))}else{const m=deleteBatchJobParametersToMldev(this.apiClient,t);return h=formatMap("batches/{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>deleteResourceJobFromMldev(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev$3(e){const t={},n=getValueByPath(e,["data"]);if(n!=null&&setValueByPath(t,["data"],n),getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function contentToMldev$3(e){const t={},n=getValueByPath(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>partToMldev$3(l))),setValueByPath(t,["parts"],o)}const i=getValueByPath(e,["role"]);return i!=null&&setValueByPath(t,["role"],i),t}function createCachedContentConfigToMldev(e,t){const n={},i=getValueByPath(e,["ttl"]);t!==void 0&&i!=null&&setValueByPath(t,["ttl"],i);const o=getValueByPath(e,["expireTime"]);t!==void 0&&o!=null&&setValueByPath(t,["expireTime"],o);const l=getValueByPath(e,["displayName"]);t!==void 0&&l!=null&&setValueByPath(t,["displayName"],l);const u=getValueByPath(e,["contents"]);if(t!==void 0&&u!=null){let g=tContents(u);Array.isArray(g)&&(g=g.map(b=>contentToMldev$3(b))),setValueByPath(t,["contents"],g)}const h=getValueByPath(e,["systemInstruction"]);t!==void 0&&h!=null&&setValueByPath(t,["systemInstruction"],contentToMldev$3(tContent(h)));const p=getValueByPath(e,["tools"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>toolToMldev$3(b))),setValueByPath(t,["tools"],g)}const m=getValueByPath(e,["toolConfig"]);if(t!==void 0&&m!=null&&setValueByPath(t,["toolConfig"],toolConfigToMldev$1(m)),getValueByPath(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function createCachedContentConfigToVertex(e,t){const n={},i=getValueByPath(e,["ttl"]);t!==void 0&&i!=null&&setValueByPath(t,["ttl"],i);const o=getValueByPath(e,["expireTime"]);t!==void 0&&o!=null&&setValueByPath(t,["expireTime"],o);const l=getValueByPath(e,["displayName"]);t!==void 0&&l!=null&&setValueByPath(t,["displayName"],l);const u=getValueByPath(e,["contents"]);if(t!==void 0&&u!=null){let b=tContents(u);Array.isArray(b)&&(b=b.map(E=>E)),setValueByPath(t,["contents"],b)}const h=getValueByPath(e,["systemInstruction"]);t!==void 0&&h!=null&&setValueByPath(t,["systemInstruction"],tContent(h));const p=getValueByPath(e,["tools"]);if(t!==void 0&&p!=null){let b=p;Array.isArray(b)&&(b=b.map(E=>toolToVertex$2(E))),setValueByPath(t,["tools"],b)}const m=getValueByPath(e,["toolConfig"]);t!==void 0&&m!=null&&setValueByPath(t,["toolConfig"],m);const g=getValueByPath(e,["kmsKeyName"]);return t!==void 0&&g!=null&&setValueByPath(t,["encryption_spec","kmsKeyName"],g),n}function createCachedContentParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["model"],tCachesModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&createCachedContentConfigToMldev(o,n),n}function createCachedContentParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["model"],tCachesModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&createCachedContentConfigToVertex(o,n),n}function deleteCachedContentParametersToMldev(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tCachedContentName(e,i)),n}function deleteCachedContentParametersToVertex(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tCachedContentName(e,i)),n}function deleteCachedContentResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}function deleteCachedContentResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}function fileDataToMldev$3(e){const t={};if(getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=getValueByPath(e,["fileUri"]);n!=null&&setValueByPath(t,["fileUri"],n);const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function functionCallToMldev$3(e){const t={},n=getValueByPath(e,["id"]);n!=null&&setValueByPath(t,["id"],n);const i=getValueByPath(e,["args"]);i!=null&&setValueByPath(t,["args"],i);const o=getValueByPath(e,["name"]);if(o!=null&&setValueByPath(t,["name"],o),getValueByPath(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function functionCallingConfigToMldev$1(e){const t={},n=getValueByPath(e,["mode"]);n!=null&&setValueByPath(t,["mode"],n);const i=getValueByPath(e,["allowedFunctionNames"]);if(i!=null&&setValueByPath(t,["allowedFunctionNames"],i),getValueByPath(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function functionDeclarationToVertex$2(e){const t={};if(getValueByPath(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=getValueByPath(e,["description"]);n!=null&&setValueByPath(t,["description"],n);const i=getValueByPath(e,["name"]);i!=null&&setValueByPath(t,["name"],i);const o=getValueByPath(e,["parameters"]);o!=null&&setValueByPath(t,["parameters"],o);const l=getValueByPath(e,["parametersJsonSchema"]);l!=null&&setValueByPath(t,["parametersJsonSchema"],l);const u=getValueByPath(e,["response"]);u!=null&&setValueByPath(t,["response"],u);const h=getValueByPath(e,["responseJsonSchema"]);return h!=null&&setValueByPath(t,["responseJsonSchema"],h),t}function getCachedContentParametersToMldev(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tCachedContentName(e,i)),n}function getCachedContentParametersToVertex(e,t){const n={},i=getValueByPath(t,["name"]);return i!=null&&setValueByPath(n,["_url","name"],tCachedContentName(e,i)),n}function googleMapsToMldev$3(e){const t={};if(getValueByPath(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=getValueByPath(e,["enableWidget"]);return n!=null&&setValueByPath(t,["enableWidget"],n),t}function googleSearchToMldev$3(e){const t={};if(getValueByPath(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=getValueByPath(e,["timeRangeFilter"]);return n!=null&&setValueByPath(t,["timeRangeFilter"],n),t}function listCachedContentsConfigToMldev(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);return t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o),n}function listCachedContentsConfigToVertex(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);return t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o),n}function listCachedContentsParametersToMldev(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&listCachedContentsConfigToMldev(n,t),t}function listCachedContentsParametersToVertex(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&listCachedContentsConfigToVertex(n,t),t}function listCachedContentsResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["cachedContents"],l)}return t}function listCachedContentsResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["cachedContents"],l)}return t}function partToMldev$3(e){const t={},n=getValueByPath(e,["mediaResolution"]);n!=null&&setValueByPath(t,["mediaResolution"],n);const i=getValueByPath(e,["codeExecutionResult"]);i!=null&&setValueByPath(t,["codeExecutionResult"],i);const o=getValueByPath(e,["executableCode"]);o!=null&&setValueByPath(t,["executableCode"],o);const l=getValueByPath(e,["fileData"]);l!=null&&setValueByPath(t,["fileData"],fileDataToMldev$3(l));const u=getValueByPath(e,["functionCall"]);u!=null&&setValueByPath(t,["functionCall"],functionCallToMldev$3(u));const h=getValueByPath(e,["functionResponse"]);h!=null&&setValueByPath(t,["functionResponse"],h);const p=getValueByPath(e,["inlineData"]);p!=null&&setValueByPath(t,["inlineData"],blobToMldev$3(p));const m=getValueByPath(e,["text"]);m!=null&&setValueByPath(t,["text"],m);const g=getValueByPath(e,["thought"]);g!=null&&setValueByPath(t,["thought"],g);const b=getValueByPath(e,["thoughtSignature"]);b!=null&&setValueByPath(t,["thoughtSignature"],b);const E=getValueByPath(e,["videoMetadata"]);return E!=null&&setValueByPath(t,["videoMetadata"],E),t}function toolConfigToMldev$1(e){const t={},n=getValueByPath(e,["functionCallingConfig"]);n!=null&&setValueByPath(t,["functionCallingConfig"],functionCallingConfigToMldev$1(n));const i=getValueByPath(e,["retrievalConfig"]);return i!=null&&setValueByPath(t,["retrievalConfig"],i),t}function toolToMldev$3(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),setValueByPath(t,["functionDeclarations"],g)}if(getValueByPath(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=getValueByPath(e,["googleSearchRetrieval"]);i!=null&&setValueByPath(t,["googleSearchRetrieval"],i);const o=getValueByPath(e,["computerUse"]);o!=null&&setValueByPath(t,["computerUse"],o);const l=getValueByPath(e,["fileSearch"]);l!=null&&setValueByPath(t,["fileSearch"],l);const u=getValueByPath(e,["codeExecution"]);if(u!=null&&setValueByPath(t,["codeExecution"],u),getValueByPath(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=getValueByPath(e,["googleMaps"]);h!=null&&setValueByPath(t,["googleMaps"],googleMapsToMldev$3(h));const p=getValueByPath(e,["googleSearch"]);p!=null&&setValueByPath(t,["googleSearch"],googleSearchToMldev$3(p));const m=getValueByPath(e,["urlContext"]);return m!=null&&setValueByPath(t,["urlContext"],m),t}function toolToVertex$2(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let b=n;Array.isArray(b)&&(b=b.map(E=>functionDeclarationToVertex$2(E))),setValueByPath(t,["functionDeclarations"],b)}const i=getValueByPath(e,["retrieval"]);i!=null&&setValueByPath(t,["retrieval"],i);const o=getValueByPath(e,["googleSearchRetrieval"]);o!=null&&setValueByPath(t,["googleSearchRetrieval"],o);const l=getValueByPath(e,["computerUse"]);if(l!=null&&setValueByPath(t,["computerUse"],l),getValueByPath(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=getValueByPath(e,["codeExecution"]);u!=null&&setValueByPath(t,["codeExecution"],u);const h=getValueByPath(e,["enterpriseWebSearch"]);h!=null&&setValueByPath(t,["enterpriseWebSearch"],h);const p=getValueByPath(e,["googleMaps"]);p!=null&&setValueByPath(t,["googleMaps"],p);const m=getValueByPath(e,["googleSearch"]);m!=null&&setValueByPath(t,["googleSearch"],m);const g=getValueByPath(e,["urlContext"]);return g!=null&&setValueByPath(t,["urlContext"],g),t}function updateCachedContentConfigToMldev(e,t){const n={},i=getValueByPath(e,["ttl"]);t!==void 0&&i!=null&&setValueByPath(t,["ttl"],i);const o=getValueByPath(e,["expireTime"]);return t!==void 0&&o!=null&&setValueByPath(t,["expireTime"],o),n}function updateCachedContentConfigToVertex(e,t){const n={},i=getValueByPath(e,["ttl"]);t!==void 0&&i!=null&&setValueByPath(t,["ttl"],i);const o=getValueByPath(e,["expireTime"]);return t!==void 0&&o!=null&&setValueByPath(t,["expireTime"],o),n}function updateCachedContentParametersToMldev(e,t){const n={},i=getValueByPath(t,["name"]);i!=null&&setValueByPath(n,["_url","name"],tCachedContentName(e,i));const o=getValueByPath(t,["config"]);return o!=null&&updateCachedContentConfigToMldev(o,n),n}function updateCachedContentParametersToVertex(e,t){const n={},i=getValueByPath(t,["name"]);i!=null&&setValueByPath(n,["_url","name"],tCachedContentName(e,i));const o=getValueByPath(t,["config"]);return o!=null&&updateCachedContentConfigToVertex(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Caches extends BaseModule{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pager(PagedItem.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=createCachedContentParametersToVertex(this.apiClient,t);return h=formatMap("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const m=createCachedContentParametersToMldev(this.apiClient,t);return h=formatMap("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=getCachedContentParametersToVertex(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const m=getCachedContentParametersToMldev(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=deleteCachedContentParametersToVertex(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=deleteCachedContentResponseFromVertex(g),E=new DeleteCachedContentResponse;return Object.assign(E,b),E})}else{const m=deleteCachedContentParametersToMldev(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=deleteCachedContentResponseFromMldev(g),E=new DeleteCachedContentResponse;return Object.assign(E,b),E})}}async update(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=updateCachedContentParametersToVertex(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const m=updateCachedContentParametersToMldev(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=listCachedContentsParametersToVertex(t);return h=formatMap("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listCachedContentsResponseFromVertex(g),E=new ListCachedContentsResponse;return Object.assign(E,b),E})}else{const m=listCachedContentsParametersToMldev(t);return h=formatMap("cachedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listCachedContentsResponseFromMldev(g),E=new ListCachedContentsResponse;return Object.assign(E,b),E})}}}function __rest(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function __values(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(_){return function(A){return Promise.resolve(A).then(_,b)}}function h(_,A){i[_]&&(o[_]=function(w){return new Promise(function(T,C){l.push([_,w,T,C])>1||p(_,w)})},A&&(o[_]=A(o[_])))}function p(_,A){try{m(i[_](A))}catch(w){E(l[0][3],w)}}function m(_){_.value instanceof __await?Promise.resolve(_.value.v).then(g,b):E(l[0][2],_)}function g(_){p("next",_)}function b(_){p("throw",_)}function E(_,A){_(A),l.shift(),l.length&&p(l[0][0],l[0][1])}}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=e[l]&&function(u){return new Promise(function(h,p){u=e[l](u),o(h,p,u.done,u.value)})}}function o(l,u,h,p){Promise.resolve(p).then(function(m){l({value:m,done:h})},u)}}typeof SuppressedError=="function"&&SuppressedError;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function isValidResponse(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:isValidContent(n)}function isValidContent(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function validateHistory(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function extractCuratedHistory(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const o=[];let l=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),l&&!isValidContent(e[i])&&(l=!1),i++;l?t.push(...o):t.pop()}return t}class Chats{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new Chat(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class Chat{constructor(t,n,i,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),validateHistory(l)}async sendMessage(t){var n;await this.sendPromise;const i=tContent(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,h;const p=await o,m=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let E=[];g!=null&&(E=(h=g.slice(b))!==null&&h!==void 0?h:[]);const _=m?[m]:[];this.recordHistory(i,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=tContent(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(t=!1){const n=t?extractCuratedHistory(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return __asyncGenerator(this,arguments,function*(){var o,l,u,h,p,m;const g=[];try{for(var b=!0,E=__asyncValues(t),_;_=yield __await(E.next()),o=_.done,!o;b=!0){h=_.value,b=!1;const A=h;if(isValidResponse(A)){const w=(m=(p=A.candidates)===null||p===void 0?void 0:p[0])===null||m===void 0?void 0:m.content;w!==void 0&&g.push(w)}yield yield __await(A)}}catch(A){l={error:A}}finally{try{!b&&!o&&(u=E.return)&&(yield __await(u.call(E)))}finally{if(l)throw l.error}}this.recordHistory(n,g)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...extractCuratedHistory(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ApiError extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ApiError.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function createFileParametersToMldev(e){const t={},n=getValueByPath(e,["file"]);return n!=null&&setValueByPath(t,["file"],n),t}function createFileResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}function deleteFileParametersToMldev(e){const t={},n=getValueByPath(e,["name"]);return n!=null&&setValueByPath(t,["_url","file"],tFileName(n)),t}function deleteFileResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}function getFileParametersToMldev(e){const t={},n=getValueByPath(e,["name"]);return n!=null&&setValueByPath(t,["_url","file"],tFileName(n)),t}function listFilesConfigToMldev(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);return t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o),n}function listFilesParametersToMldev(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&listFilesConfigToMldev(n,t),t}function listFilesResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["files"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Files extends BaseModule{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pager(PagedItem.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=listFilesParametersToMldev(t);return l=formatMap("files",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const m=listFilesResponseFromMldev(p),g=new ListFilesResponse;return Object.assign(g,m),g})}}async createInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=createFileParametersToMldev(t);return l=formatMap("upload/v1beta/files",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=createFileResponseFromMldev(p),g=new CreateFileResponse;return Object.assign(g,m),g})}}async get(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=getFileParametersToMldev(t);return l=formatMap("files/{file}",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=deleteFileParametersToMldev(t);return l=formatMap("files/{file}",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const m=deleteFileResponseFromMldev(p),g=new DeleteFileResponse;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev$2(e){const t={},n=getValueByPath(e,["data"]);if(n!=null&&setValueByPath(t,["data"],n),getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function contentToMldev$2(e){const t={},n=getValueByPath(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>partToMldev$2(l))),setValueByPath(t,["parts"],o)}const i=getValueByPath(e,["role"]);return i!=null&&setValueByPath(t,["role"],i),t}function fileDataToMldev$2(e){const t={};if(getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=getValueByPath(e,["fileUri"]);n!=null&&setValueByPath(t,["fileUri"],n);const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function functionCallToMldev$2(e){const t={},n=getValueByPath(e,["id"]);n!=null&&setValueByPath(t,["id"],n);const i=getValueByPath(e,["args"]);i!=null&&setValueByPath(t,["args"],i);const o=getValueByPath(e,["name"]);if(o!=null&&setValueByPath(t,["name"],o),getValueByPath(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function functionDeclarationToVertex$1(e){const t={};if(getValueByPath(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=getValueByPath(e,["description"]);n!=null&&setValueByPath(t,["description"],n);const i=getValueByPath(e,["name"]);i!=null&&setValueByPath(t,["name"],i);const o=getValueByPath(e,["parameters"]);o!=null&&setValueByPath(t,["parameters"],o);const l=getValueByPath(e,["parametersJsonSchema"]);l!=null&&setValueByPath(t,["parametersJsonSchema"],l);const u=getValueByPath(e,["response"]);u!=null&&setValueByPath(t,["response"],u);const h=getValueByPath(e,["responseJsonSchema"]);return h!=null&&setValueByPath(t,["responseJsonSchema"],h),t}function generationConfigToVertex$1(e){const t={},n=getValueByPath(e,["modelSelectionConfig"]);n!=null&&setValueByPath(t,["modelConfig"],n);const i=getValueByPath(e,["responseJsonSchema"]);i!=null&&setValueByPath(t,["responseJsonSchema"],i);const o=getValueByPath(e,["audioTimestamp"]);o!=null&&setValueByPath(t,["audioTimestamp"],o);const l=getValueByPath(e,["candidateCount"]);l!=null&&setValueByPath(t,["candidateCount"],l);const u=getValueByPath(e,["enableAffectiveDialog"]);u!=null&&setValueByPath(t,["enableAffectiveDialog"],u);const h=getValueByPath(e,["frequencyPenalty"]);h!=null&&setValueByPath(t,["frequencyPenalty"],h);const p=getValueByPath(e,["logprobs"]);p!=null&&setValueByPath(t,["logprobs"],p);const m=getValueByPath(e,["maxOutputTokens"]);m!=null&&setValueByPath(t,["maxOutputTokens"],m);const g=getValueByPath(e,["mediaResolution"]);g!=null&&setValueByPath(t,["mediaResolution"],g);const b=getValueByPath(e,["presencePenalty"]);b!=null&&setValueByPath(t,["presencePenalty"],b);const E=getValueByPath(e,["responseLogprobs"]);E!=null&&setValueByPath(t,["responseLogprobs"],E);const _=getValueByPath(e,["responseMimeType"]);_!=null&&setValueByPath(t,["responseMimeType"],_);const A=getValueByPath(e,["responseModalities"]);A!=null&&setValueByPath(t,["responseModalities"],A);const w=getValueByPath(e,["responseSchema"]);w!=null&&setValueByPath(t,["responseSchema"],w);const T=getValueByPath(e,["routingConfig"]);T!=null&&setValueByPath(t,["routingConfig"],T);const C=getValueByPath(e,["seed"]);C!=null&&setValueByPath(t,["seed"],C);const B=getValueByPath(e,["speechConfig"]);B!=null&&setValueByPath(t,["speechConfig"],B);const N=getValueByPath(e,["stopSequences"]);N!=null&&setValueByPath(t,["stopSequences"],N);const j=getValueByPath(e,["temperature"]);j!=null&&setValueByPath(t,["temperature"],j);const M=getValueByPath(e,["thinkingConfig"]);M!=null&&setValueByPath(t,["thinkingConfig"],M);const D=getValueByPath(e,["topK"]);D!=null&&setValueByPath(t,["topK"],D);const V=getValueByPath(e,["topP"]);if(V!=null&&setValueByPath(t,["topP"],V),getValueByPath(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function googleMapsToMldev$2(e){const t={};if(getValueByPath(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=getValueByPath(e,["enableWidget"]);return n!=null&&setValueByPath(t,["enableWidget"],n),t}function googleSearchToMldev$2(e){const t={};if(getValueByPath(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=getValueByPath(e,["timeRangeFilter"]);return n!=null&&setValueByPath(t,["timeRangeFilter"],n),t}function liveConnectConfigToMldev$1(e,t){const n={},i=getValueByPath(e,["generationConfig"]);t!==void 0&&i!=null&&setValueByPath(t,["setup","generationConfig"],i);const o=getValueByPath(e,["responseModalities"]);t!==void 0&&o!=null&&setValueByPath(t,["setup","generationConfig","responseModalities"],o);const l=getValueByPath(e,["temperature"]);t!==void 0&&l!=null&&setValueByPath(t,["setup","generationConfig","temperature"],l);const u=getValueByPath(e,["topP"]);t!==void 0&&u!=null&&setValueByPath(t,["setup","generationConfig","topP"],u);const h=getValueByPath(e,["topK"]);t!==void 0&&h!=null&&setValueByPath(t,["setup","generationConfig","topK"],h);const p=getValueByPath(e,["maxOutputTokens"]);t!==void 0&&p!=null&&setValueByPath(t,["setup","generationConfig","maxOutputTokens"],p);const m=getValueByPath(e,["mediaResolution"]);t!==void 0&&m!=null&&setValueByPath(t,["setup","generationConfig","mediaResolution"],m);const g=getValueByPath(e,["seed"]);t!==void 0&&g!=null&&setValueByPath(t,["setup","generationConfig","seed"],g);const b=getValueByPath(e,["speechConfig"]);t!==void 0&&b!=null&&setValueByPath(t,["setup","generationConfig","speechConfig"],tLiveSpeechConfig(b));const E=getValueByPath(e,["thinkingConfig"]);t!==void 0&&E!=null&&setValueByPath(t,["setup","generationConfig","thinkingConfig"],E);const _=getValueByPath(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&setValueByPath(t,["setup","generationConfig","enableAffectiveDialog"],_);const A=getValueByPath(e,["systemInstruction"]);t!==void 0&&A!=null&&setValueByPath(t,["setup","systemInstruction"],contentToMldev$2(tContent(A)));const w=getValueByPath(e,["tools"]);if(t!==void 0&&w!=null){let D=tTools(w);Array.isArray(D)&&(D=D.map(V=>toolToMldev$2(tTool(V)))),setValueByPath(t,["setup","tools"],D)}const T=getValueByPath(e,["sessionResumption"]);t!==void 0&&T!=null&&setValueByPath(t,["setup","sessionResumption"],sessionResumptionConfigToMldev$1(T));const C=getValueByPath(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&setValueByPath(t,["setup","inputAudioTranscription"],C);const B=getValueByPath(e,["outputAudioTranscription"]);t!==void 0&&B!=null&&setValueByPath(t,["setup","outputAudioTranscription"],B);const N=getValueByPath(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&setValueByPath(t,["setup","realtimeInputConfig"],N);const j=getValueByPath(e,["contextWindowCompression"]);t!==void 0&&j!=null&&setValueByPath(t,["setup","contextWindowCompression"],j);const M=getValueByPath(e,["proactivity"]);if(t!==void 0&&M!=null&&setValueByPath(t,["setup","proactivity"],M),getValueByPath(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function liveConnectConfigToVertex(e,t){const n={},i=getValueByPath(e,["generationConfig"]);t!==void 0&&i!=null&&setValueByPath(t,["setup","generationConfig"],generationConfigToVertex$1(i));const o=getValueByPath(e,["responseModalities"]);t!==void 0&&o!=null&&setValueByPath(t,["setup","generationConfig","responseModalities"],o);const l=getValueByPath(e,["temperature"]);t!==void 0&&l!=null&&setValueByPath(t,["setup","generationConfig","temperature"],l);const u=getValueByPath(e,["topP"]);t!==void 0&&u!=null&&setValueByPath(t,["setup","generationConfig","topP"],u);const h=getValueByPath(e,["topK"]);t!==void 0&&h!=null&&setValueByPath(t,["setup","generationConfig","topK"],h);const p=getValueByPath(e,["maxOutputTokens"]);t!==void 0&&p!=null&&setValueByPath(t,["setup","generationConfig","maxOutputTokens"],p);const m=getValueByPath(e,["mediaResolution"]);t!==void 0&&m!=null&&setValueByPath(t,["setup","generationConfig","mediaResolution"],m);const g=getValueByPath(e,["seed"]);t!==void 0&&g!=null&&setValueByPath(t,["setup","generationConfig","seed"],g);const b=getValueByPath(e,["speechConfig"]);t!==void 0&&b!=null&&setValueByPath(t,["setup","generationConfig","speechConfig"],tLiveSpeechConfig(b));const E=getValueByPath(e,["thinkingConfig"]);t!==void 0&&E!=null&&setValueByPath(t,["setup","generationConfig","thinkingConfig"],E);const _=getValueByPath(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&setValueByPath(t,["setup","generationConfig","enableAffectiveDialog"],_);const A=getValueByPath(e,["systemInstruction"]);t!==void 0&&A!=null&&setValueByPath(t,["setup","systemInstruction"],tContent(A));const w=getValueByPath(e,["tools"]);if(t!==void 0&&w!=null){let V=tTools(w);Array.isArray(V)&&(V=V.map(L=>toolToVertex$1(tTool(L)))),setValueByPath(t,["setup","tools"],V)}const T=getValueByPath(e,["sessionResumption"]);t!==void 0&&T!=null&&setValueByPath(t,["setup","sessionResumption"],T);const C=getValueByPath(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&setValueByPath(t,["setup","inputAudioTranscription"],C);const B=getValueByPath(e,["outputAudioTranscription"]);t!==void 0&&B!=null&&setValueByPath(t,["setup","outputAudioTranscription"],B);const N=getValueByPath(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&setValueByPath(t,["setup","realtimeInputConfig"],N);const j=getValueByPath(e,["contextWindowCompression"]);t!==void 0&&j!=null&&setValueByPath(t,["setup","contextWindowCompression"],j);const M=getValueByPath(e,["proactivity"]);t!==void 0&&M!=null&&setValueByPath(t,["setup","proactivity"],M);const D=getValueByPath(e,["explicitVadSignal"]);return t!==void 0&&D!=null&&setValueByPath(t,["setup","explicitVadSignal"],D),n}function liveConnectParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["setup","model"],tModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&setValueByPath(n,["config"],liveConnectConfigToMldev$1(o,n)),n}function liveConnectParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["setup","model"],tModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&setValueByPath(n,["config"],liveConnectConfigToVertex(o,n)),n}function liveMusicSetConfigParametersToMldev(e){const t={},n=getValueByPath(e,["musicGenerationConfig"]);return n!=null&&setValueByPath(t,["musicGenerationConfig"],n),t}function liveMusicSetWeightedPromptsParametersToMldev(e){const t={},n=getValueByPath(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),setValueByPath(t,["weightedPrompts"],i)}return t}function liveSendRealtimeInputParametersToMldev(e){const t={},n=getValueByPath(e,["media"]);if(n!=null){let m=tBlobs(n);Array.isArray(m)&&(m=m.map(g=>blobToMldev$2(g))),setValueByPath(t,["mediaChunks"],m)}const i=getValueByPath(e,["audio"]);i!=null&&setValueByPath(t,["audio"],blobToMldev$2(tAudioBlob(i)));const o=getValueByPath(e,["audioStreamEnd"]);o!=null&&setValueByPath(t,["audioStreamEnd"],o);const l=getValueByPath(e,["video"]);l!=null&&setValueByPath(t,["video"],blobToMldev$2(tImageBlob(l)));const u=getValueByPath(e,["text"]);u!=null&&setValueByPath(t,["text"],u);const h=getValueByPath(e,["activityStart"]);h!=null&&setValueByPath(t,["activityStart"],h);const p=getValueByPath(e,["activityEnd"]);return p!=null&&setValueByPath(t,["activityEnd"],p),t}function liveSendRealtimeInputParametersToVertex(e){const t={},n=getValueByPath(e,["media"]);if(n!=null){let m=tBlobs(n);Array.isArray(m)&&(m=m.map(g=>g)),setValueByPath(t,["mediaChunks"],m)}const i=getValueByPath(e,["audio"]);i!=null&&setValueByPath(t,["audio"],tAudioBlob(i));const o=getValueByPath(e,["audioStreamEnd"]);o!=null&&setValueByPath(t,["audioStreamEnd"],o);const l=getValueByPath(e,["video"]);l!=null&&setValueByPath(t,["video"],tImageBlob(l));const u=getValueByPath(e,["text"]);u!=null&&setValueByPath(t,["text"],u);const h=getValueByPath(e,["activityStart"]);h!=null&&setValueByPath(t,["activityStart"],h);const p=getValueByPath(e,["activityEnd"]);return p!=null&&setValueByPath(t,["activityEnd"],p),t}function liveServerMessageFromVertex(e){const t={},n=getValueByPath(e,["setupComplete"]);n!=null&&setValueByPath(t,["setupComplete"],n);const i=getValueByPath(e,["serverContent"]);i!=null&&setValueByPath(t,["serverContent"],i);const o=getValueByPath(e,["toolCall"]);o!=null&&setValueByPath(t,["toolCall"],o);const l=getValueByPath(e,["toolCallCancellation"]);l!=null&&setValueByPath(t,["toolCallCancellation"],l);const u=getValueByPath(e,["usageMetadata"]);u!=null&&setValueByPath(t,["usageMetadata"],usageMetadataFromVertex(u));const h=getValueByPath(e,["goAway"]);h!=null&&setValueByPath(t,["goAway"],h);const p=getValueByPath(e,["sessionResumptionUpdate"]);p!=null&&setValueByPath(t,["sessionResumptionUpdate"],p);const m=getValueByPath(e,["voiceActivityDetectionSignal"]);return m!=null&&setValueByPath(t,["voiceActivityDetectionSignal"],m),t}function partToMldev$2(e){const t={},n=getValueByPath(e,["mediaResolution"]);n!=null&&setValueByPath(t,["mediaResolution"],n);const i=getValueByPath(e,["codeExecutionResult"]);i!=null&&setValueByPath(t,["codeExecutionResult"],i);const o=getValueByPath(e,["executableCode"]);o!=null&&setValueByPath(t,["executableCode"],o);const l=getValueByPath(e,["fileData"]);l!=null&&setValueByPath(t,["fileData"],fileDataToMldev$2(l));const u=getValueByPath(e,["functionCall"]);u!=null&&setValueByPath(t,["functionCall"],functionCallToMldev$2(u));const h=getValueByPath(e,["functionResponse"]);h!=null&&setValueByPath(t,["functionResponse"],h);const p=getValueByPath(e,["inlineData"]);p!=null&&setValueByPath(t,["inlineData"],blobToMldev$2(p));const m=getValueByPath(e,["text"]);m!=null&&setValueByPath(t,["text"],m);const g=getValueByPath(e,["thought"]);g!=null&&setValueByPath(t,["thought"],g);const b=getValueByPath(e,["thoughtSignature"]);b!=null&&setValueByPath(t,["thoughtSignature"],b);const E=getValueByPath(e,["videoMetadata"]);return E!=null&&setValueByPath(t,["videoMetadata"],E),t}function sessionResumptionConfigToMldev$1(e){const t={},n=getValueByPath(e,["handle"]);if(n!=null&&setValueByPath(t,["handle"],n),getValueByPath(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function toolToMldev$2(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),setValueByPath(t,["functionDeclarations"],g)}if(getValueByPath(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=getValueByPath(e,["googleSearchRetrieval"]);i!=null&&setValueByPath(t,["googleSearchRetrieval"],i);const o=getValueByPath(e,["computerUse"]);o!=null&&setValueByPath(t,["computerUse"],o);const l=getValueByPath(e,["fileSearch"]);l!=null&&setValueByPath(t,["fileSearch"],l);const u=getValueByPath(e,["codeExecution"]);if(u!=null&&setValueByPath(t,["codeExecution"],u),getValueByPath(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=getValueByPath(e,["googleMaps"]);h!=null&&setValueByPath(t,["googleMaps"],googleMapsToMldev$2(h));const p=getValueByPath(e,["googleSearch"]);p!=null&&setValueByPath(t,["googleSearch"],googleSearchToMldev$2(p));const m=getValueByPath(e,["urlContext"]);return m!=null&&setValueByPath(t,["urlContext"],m),t}function toolToVertex$1(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let b=n;Array.isArray(b)&&(b=b.map(E=>functionDeclarationToVertex$1(E))),setValueByPath(t,["functionDeclarations"],b)}const i=getValueByPath(e,["retrieval"]);i!=null&&setValueByPath(t,["retrieval"],i);const o=getValueByPath(e,["googleSearchRetrieval"]);o!=null&&setValueByPath(t,["googleSearchRetrieval"],o);const l=getValueByPath(e,["computerUse"]);if(l!=null&&setValueByPath(t,["computerUse"],l),getValueByPath(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=getValueByPath(e,["codeExecution"]);u!=null&&setValueByPath(t,["codeExecution"],u);const h=getValueByPath(e,["enterpriseWebSearch"]);h!=null&&setValueByPath(t,["enterpriseWebSearch"],h);const p=getValueByPath(e,["googleMaps"]);p!=null&&setValueByPath(t,["googleMaps"],p);const m=getValueByPath(e,["googleSearch"]);m!=null&&setValueByPath(t,["googleSearch"],m);const g=getValueByPath(e,["urlContext"]);return g!=null&&setValueByPath(t,["urlContext"],g),t}function usageMetadataFromVertex(e){const t={},n=getValueByPath(e,["promptTokenCount"]);n!=null&&setValueByPath(t,["promptTokenCount"],n);const i=getValueByPath(e,["cachedContentTokenCount"]);i!=null&&setValueByPath(t,["cachedContentTokenCount"],i);const o=getValueByPath(e,["candidatesTokenCount"]);o!=null&&setValueByPath(t,["responseTokenCount"],o);const l=getValueByPath(e,["toolUsePromptTokenCount"]);l!=null&&setValueByPath(t,["toolUsePromptTokenCount"],l);const u=getValueByPath(e,["thoughtsTokenCount"]);u!=null&&setValueByPath(t,["thoughtsTokenCount"],u);const h=getValueByPath(e,["totalTokenCount"]);h!=null&&setValueByPath(t,["totalTokenCount"],h);const p=getValueByPath(e,["promptTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(A=>A)),setValueByPath(t,["promptTokensDetails"],_)}const m=getValueByPath(e,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(A=>A)),setValueByPath(t,["cacheTokensDetails"],_)}const g=getValueByPath(e,["candidatesTokensDetails"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(A=>A)),setValueByPath(t,["responseTokensDetails"],_)}const b=getValueByPath(e,["toolUsePromptTokensDetails"]);if(b!=null){let _=b;Array.isArray(_)&&(_=_.map(A=>A)),setValueByPath(t,["toolUsePromptTokensDetails"],_)}const E=getValueByPath(e,["trafficType"]);return E!=null&&setValueByPath(t,["trafficType"],E),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev$1(e){const t={},n=getValueByPath(e,["data"]);if(n!=null&&setValueByPath(t,["data"],n),getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function candidateFromMldev(e){const t={},n=getValueByPath(e,["content"]);n!=null&&setValueByPath(t,["content"],n);const i=getValueByPath(e,["citationMetadata"]);i!=null&&setValueByPath(t,["citationMetadata"],citationMetadataFromMldev(i));const o=getValueByPath(e,["tokenCount"]);o!=null&&setValueByPath(t,["tokenCount"],o);const l=getValueByPath(e,["finishReason"]);l!=null&&setValueByPath(t,["finishReason"],l);const u=getValueByPath(e,["avgLogprobs"]);u!=null&&setValueByPath(t,["avgLogprobs"],u);const h=getValueByPath(e,["groundingMetadata"]);h!=null&&setValueByPath(t,["groundingMetadata"],h);const p=getValueByPath(e,["index"]);p!=null&&setValueByPath(t,["index"],p);const m=getValueByPath(e,["logprobsResult"]);m!=null&&setValueByPath(t,["logprobsResult"],m);const g=getValueByPath(e,["safetyRatings"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>_)),setValueByPath(t,["safetyRatings"],E)}const b=getValueByPath(e,["urlContextMetadata"]);return b!=null&&setValueByPath(t,["urlContextMetadata"],b),t}function citationMetadataFromMldev(e){const t={},n=getValueByPath(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),setValueByPath(t,["citations"],i)}return t}function computeTokensParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let l=tContents(o);Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(n,["contents"],l)}return n}function computeTokensResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),setValueByPath(t,["tokensInfo"],o)}return t}function contentEmbeddingFromVertex(e){const t={},n=getValueByPath(e,["values"]);n!=null&&setValueByPath(t,["values"],n);const i=getValueByPath(e,["statistics"]);return i!=null&&setValueByPath(t,["statistics"],contentEmbeddingStatisticsFromVertex(i)),t}function contentEmbeddingStatisticsFromVertex(e){const t={},n=getValueByPath(e,["truncated"]);n!=null&&setValueByPath(t,["truncated"],n);const i=getValueByPath(e,["token_count"]);return i!=null&&setValueByPath(t,["tokenCount"],i),t}function contentToMldev$1(e){const t={},n=getValueByPath(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>partToMldev$1(l))),setValueByPath(t,["parts"],o)}const i=getValueByPath(e,["role"]);return i!=null&&setValueByPath(t,["role"],i),t}function controlReferenceConfigToVertex(e){const t={},n=getValueByPath(e,["controlType"]);n!=null&&setValueByPath(t,["controlType"],n);const i=getValueByPath(e,["enableControlImageComputation"]);return i!=null&&setValueByPath(t,["computeControl"],i),t}function countTokensConfigToMldev(e){const t={};if(getValueByPath(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(getValueByPath(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(getValueByPath(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function countTokensConfigToVertex(e,t){const n={},i=getValueByPath(e,["systemInstruction"]);t!==void 0&&i!=null&&setValueByPath(t,["systemInstruction"],tContent(i));const o=getValueByPath(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>toolToVertex(h))),setValueByPath(t,["tools"],u)}const l=getValueByPath(e,["generationConfig"]);return t!==void 0&&l!=null&&setValueByPath(t,["generationConfig"],generationConfigToVertex(l)),n}function countTokensParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let u=tContents(o);Array.isArray(u)&&(u=u.map(h=>contentToMldev$1(h))),setValueByPath(n,["contents"],u)}const l=getValueByPath(t,["config"]);return l!=null&&countTokensConfigToMldev(l),n}function countTokensParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let u=tContents(o);Array.isArray(u)&&(u=u.map(h=>h)),setValueByPath(n,["contents"],u)}const l=getValueByPath(t,["config"]);return l!=null&&countTokensConfigToVertex(l,n),n}function countTokensResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["totalTokens"]);i!=null&&setValueByPath(t,["totalTokens"],i);const o=getValueByPath(e,["cachedContentTokenCount"]);return o!=null&&setValueByPath(t,["cachedContentTokenCount"],o),t}function countTokensResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["totalTokens"]);return i!=null&&setValueByPath(t,["totalTokens"],i),t}function deleteModelParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);return i!=null&&setValueByPath(n,["_url","name"],tModel(e,i)),n}function deleteModelParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);return i!=null&&setValueByPath(n,["_url","name"],tModel(e,i)),n}function deleteModelResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}function deleteModelResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}function editImageConfigToVertex(e,t){const n={},i=getValueByPath(e,["outputGcsUri"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","storageUri"],i);const o=getValueByPath(e,["negativePrompt"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","negativePrompt"],o);const l=getValueByPath(e,["numberOfImages"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","sampleCount"],l);const u=getValueByPath(e,["aspectRatio"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","aspectRatio"],u);const h=getValueByPath(e,["guidanceScale"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","guidanceScale"],h);const p=getValueByPath(e,["seed"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","seed"],p);const m=getValueByPath(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&setValueByPath(t,["parameters","safetySetting"],m);const g=getValueByPath(e,["personGeneration"]);t!==void 0&&g!=null&&setValueByPath(t,["parameters","personGeneration"],g);const b=getValueByPath(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&setValueByPath(t,["parameters","includeSafetyAttributes"],b);const E=getValueByPath(e,["includeRaiReason"]);t!==void 0&&E!=null&&setValueByPath(t,["parameters","includeRaiReason"],E);const _=getValueByPath(e,["language"]);t!==void 0&&_!=null&&setValueByPath(t,["parameters","language"],_);const A=getValueByPath(e,["outputMimeType"]);t!==void 0&&A!=null&&setValueByPath(t,["parameters","outputOptions","mimeType"],A);const w=getValueByPath(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&setValueByPath(t,["parameters","outputOptions","compressionQuality"],w);const T=getValueByPath(e,["addWatermark"]);t!==void 0&&T!=null&&setValueByPath(t,["parameters","addWatermark"],T);const C=getValueByPath(e,["labels"]);t!==void 0&&C!=null&&setValueByPath(t,["labels"],C);const B=getValueByPath(e,["editMode"]);t!==void 0&&B!=null&&setValueByPath(t,["parameters","editMode"],B);const N=getValueByPath(e,["baseSteps"]);return t!==void 0&&N!=null&&setValueByPath(t,["parameters","editConfig","baseSteps"],N),n}function editImageParametersInternalToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["prompt"]);o!=null&&setValueByPath(n,["instances[0]","prompt"],o);const l=getValueByPath(t,["referenceImages"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>referenceImageAPIInternalToVertex(p))),setValueByPath(n,["instances[0]","referenceImages"],h)}const u=getValueByPath(t,["config"]);return u!=null&&editImageConfigToVertex(u,n),n}function editImageResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>generatedImageFromVertex(l))),setValueByPath(t,["generatedImages"],o)}return t}function embedContentConfigToMldev(e,t){const n={},i=getValueByPath(e,["taskType"]);t!==void 0&&i!=null&&setValueByPath(t,["requests[]","taskType"],i);const o=getValueByPath(e,["title"]);t!==void 0&&o!=null&&setValueByPath(t,["requests[]","title"],o);const l=getValueByPath(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&setValueByPath(t,["requests[]","outputDimensionality"],l),getValueByPath(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(getValueByPath(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function embedContentConfigToVertex(e,t){const n={},i=getValueByPath(e,["taskType"]);t!==void 0&&i!=null&&setValueByPath(t,["instances[]","task_type"],i);const o=getValueByPath(e,["title"]);t!==void 0&&o!=null&&setValueByPath(t,["instances[]","title"],o);const l=getValueByPath(e,["outputDimensionality"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","outputDimensionality"],l);const u=getValueByPath(e,["mimeType"]);t!==void 0&&u!=null&&setValueByPath(t,["instances[]","mimeType"],u);const h=getValueByPath(e,["autoTruncate"]);return t!==void 0&&h!=null&&setValueByPath(t,["parameters","autoTruncate"],h),n}function embedContentParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let h=tContentsForEmbed(e,o);Array.isArray(h)&&(h=h.map(p=>p)),setValueByPath(n,["requests[]","content"],h)}const l=getValueByPath(t,["config"]);l!=null&&embedContentConfigToMldev(l,n);const u=getValueByPath(t,["model"]);return u!==void 0&&setValueByPath(n,["requests[]","model"],tModel(e,u)),n}function embedContentParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let u=tContentsForEmbed(e,o);Array.isArray(u)&&(u=u.map(h=>h)),setValueByPath(n,["instances[]","content"],u)}const l=getValueByPath(t,["config"]);return l!=null&&embedContentConfigToVertex(l,n),n}function embedContentResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["embeddings"],l)}const o=getValueByPath(e,["metadata"]);return o!=null&&setValueByPath(t,["metadata"],o),t}function embedContentResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>contentEmbeddingFromVertex(u))),setValueByPath(t,["embeddings"],l)}const o=getValueByPath(e,["metadata"]);return o!=null&&setValueByPath(t,["metadata"],o),t}function endpointFromVertex(e){const t={},n=getValueByPath(e,["endpoint"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["deployedModelId"]);return i!=null&&setValueByPath(t,["deployedModelId"],i),t}function fileDataToMldev$1(e){const t={};if(getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=getValueByPath(e,["fileUri"]);n!=null&&setValueByPath(t,["fileUri"],n);const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function functionCallToMldev$1(e){const t={},n=getValueByPath(e,["id"]);n!=null&&setValueByPath(t,["id"],n);const i=getValueByPath(e,["args"]);i!=null&&setValueByPath(t,["args"],i);const o=getValueByPath(e,["name"]);if(o!=null&&setValueByPath(t,["name"],o),getValueByPath(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function functionCallingConfigToMldev(e){const t={},n=getValueByPath(e,["mode"]);n!=null&&setValueByPath(t,["mode"],n);const i=getValueByPath(e,["allowedFunctionNames"]);if(i!=null&&setValueByPath(t,["allowedFunctionNames"],i),getValueByPath(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function functionDeclarationToVertex(e){const t={};if(getValueByPath(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=getValueByPath(e,["description"]);n!=null&&setValueByPath(t,["description"],n);const i=getValueByPath(e,["name"]);i!=null&&setValueByPath(t,["name"],i);const o=getValueByPath(e,["parameters"]);o!=null&&setValueByPath(t,["parameters"],o);const l=getValueByPath(e,["parametersJsonSchema"]);l!=null&&setValueByPath(t,["parametersJsonSchema"],l);const u=getValueByPath(e,["response"]);u!=null&&setValueByPath(t,["response"],u);const h=getValueByPath(e,["responseJsonSchema"]);return h!=null&&setValueByPath(t,["responseJsonSchema"],h),t}function generateContentConfigToMldev(e,t,n){const i={},o=getValueByPath(t,["systemInstruction"]);n!==void 0&&o!=null&&setValueByPath(n,["systemInstruction"],contentToMldev$1(tContent(o)));const l=getValueByPath(t,["temperature"]);l!=null&&setValueByPath(i,["temperature"],l);const u=getValueByPath(t,["topP"]);u!=null&&setValueByPath(i,["topP"],u);const h=getValueByPath(t,["topK"]);h!=null&&setValueByPath(i,["topK"],h);const p=getValueByPath(t,["candidateCount"]);p!=null&&setValueByPath(i,["candidateCount"],p);const m=getValueByPath(t,["maxOutputTokens"]);m!=null&&setValueByPath(i,["maxOutputTokens"],m);const g=getValueByPath(t,["stopSequences"]);g!=null&&setValueByPath(i,["stopSequences"],g);const b=getValueByPath(t,["responseLogprobs"]);b!=null&&setValueByPath(i,["responseLogprobs"],b);const E=getValueByPath(t,["logprobs"]);E!=null&&setValueByPath(i,["logprobs"],E);const _=getValueByPath(t,["presencePenalty"]);_!=null&&setValueByPath(i,["presencePenalty"],_);const A=getValueByPath(t,["frequencyPenalty"]);A!=null&&setValueByPath(i,["frequencyPenalty"],A);const w=getValueByPath(t,["seed"]);w!=null&&setValueByPath(i,["seed"],w);const T=getValueByPath(t,["responseMimeType"]);T!=null&&setValueByPath(i,["responseMimeType"],T);const C=getValueByPath(t,["responseSchema"]);C!=null&&setValueByPath(i,["responseSchema"],tSchema(C));const B=getValueByPath(t,["responseJsonSchema"]);if(B!=null&&setValueByPath(i,["responseJsonSchema"],B),getValueByPath(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(getValueByPath(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=getValueByPath(t,["safetySettings"]);if(n!==void 0&&N!=null){let te=N;Array.isArray(te)&&(te=te.map(me=>safetySettingToMldev(me))),setValueByPath(n,["safetySettings"],te)}const j=getValueByPath(t,["tools"]);if(n!==void 0&&j!=null){let te=tTools(j);Array.isArray(te)&&(te=te.map(me=>toolToMldev$1(tTool(me)))),setValueByPath(n,["tools"],te)}const M=getValueByPath(t,["toolConfig"]);if(n!==void 0&&M!=null&&setValueByPath(n,["toolConfig"],toolConfigToMldev(M)),getValueByPath(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=getValueByPath(t,["cachedContent"]);n!==void 0&&D!=null&&setValueByPath(n,["cachedContent"],tCachedContentName(e,D));const V=getValueByPath(t,["responseModalities"]);V!=null&&setValueByPath(i,["responseModalities"],V);const L=getValueByPath(t,["mediaResolution"]);L!=null&&setValueByPath(i,["mediaResolution"],L);const U=getValueByPath(t,["speechConfig"]);if(U!=null&&setValueByPath(i,["speechConfig"],tSpeechConfig(U)),getValueByPath(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=getValueByPath(t,["thinkingConfig"]);J!=null&&setValueByPath(i,["thinkingConfig"],J);const $=getValueByPath(t,["imageConfig"]);$!=null&&setValueByPath(i,["imageConfig"],imageConfigToMldev($));const K=getValueByPath(t,["enableEnhancedCivicAnswers"]);return K!=null&&setValueByPath(i,["enableEnhancedCivicAnswers"],K),i}function generateContentConfigToVertex(e,t,n){const i={},o=getValueByPath(t,["systemInstruction"]);n!==void 0&&o!=null&&setValueByPath(n,["systemInstruction"],tContent(o));const l=getValueByPath(t,["temperature"]);l!=null&&setValueByPath(i,["temperature"],l);const u=getValueByPath(t,["topP"]);u!=null&&setValueByPath(i,["topP"],u);const h=getValueByPath(t,["topK"]);h!=null&&setValueByPath(i,["topK"],h);const p=getValueByPath(t,["candidateCount"]);p!=null&&setValueByPath(i,["candidateCount"],p);const m=getValueByPath(t,["maxOutputTokens"]);m!=null&&setValueByPath(i,["maxOutputTokens"],m);const g=getValueByPath(t,["stopSequences"]);g!=null&&setValueByPath(i,["stopSequences"],g);const b=getValueByPath(t,["responseLogprobs"]);b!=null&&setValueByPath(i,["responseLogprobs"],b);const E=getValueByPath(t,["logprobs"]);E!=null&&setValueByPath(i,["logprobs"],E);const _=getValueByPath(t,["presencePenalty"]);_!=null&&setValueByPath(i,["presencePenalty"],_);const A=getValueByPath(t,["frequencyPenalty"]);A!=null&&setValueByPath(i,["frequencyPenalty"],A);const w=getValueByPath(t,["seed"]);w!=null&&setValueByPath(i,["seed"],w);const T=getValueByPath(t,["responseMimeType"]);T!=null&&setValueByPath(i,["responseMimeType"],T);const C=getValueByPath(t,["responseSchema"]);C!=null&&setValueByPath(i,["responseSchema"],tSchema(C));const B=getValueByPath(t,["responseJsonSchema"]);B!=null&&setValueByPath(i,["responseJsonSchema"],B);const N=getValueByPath(t,["routingConfig"]);N!=null&&setValueByPath(i,["routingConfig"],N);const j=getValueByPath(t,["modelSelectionConfig"]);j!=null&&setValueByPath(i,["modelConfig"],j);const M=getValueByPath(t,["safetySettings"]);if(n!==void 0&&M!=null){let ee=M;Array.isArray(ee)&&(ee=ee.map(ie=>ie)),setValueByPath(n,["safetySettings"],ee)}const D=getValueByPath(t,["tools"]);if(n!==void 0&&D!=null){let ee=tTools(D);Array.isArray(ee)&&(ee=ee.map(ie=>toolToVertex(tTool(ie)))),setValueByPath(n,["tools"],ee)}const V=getValueByPath(t,["toolConfig"]);n!==void 0&&V!=null&&setValueByPath(n,["toolConfig"],V);const L=getValueByPath(t,["labels"]);n!==void 0&&L!=null&&setValueByPath(n,["labels"],L);const U=getValueByPath(t,["cachedContent"]);n!==void 0&&U!=null&&setValueByPath(n,["cachedContent"],tCachedContentName(e,U));const J=getValueByPath(t,["responseModalities"]);J!=null&&setValueByPath(i,["responseModalities"],J);const $=getValueByPath(t,["mediaResolution"]);$!=null&&setValueByPath(i,["mediaResolution"],$);const K=getValueByPath(t,["speechConfig"]);K!=null&&setValueByPath(i,["speechConfig"],tSpeechConfig(K));const te=getValueByPath(t,["audioTimestamp"]);te!=null&&setValueByPath(i,["audioTimestamp"],te);const me=getValueByPath(t,["thinkingConfig"]);me!=null&&setValueByPath(i,["thinkingConfig"],me);const he=getValueByPath(t,["imageConfig"]);if(he!=null&&setValueByPath(i,["imageConfig"],imageConfigToVertex(he)),getValueByPath(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function generateContentParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let u=tContents(o);Array.isArray(u)&&(u=u.map(h=>contentToMldev$1(h))),setValueByPath(n,["contents"],u)}const l=getValueByPath(t,["config"]);return l!=null&&setValueByPath(n,["generationConfig"],generateContentConfigToMldev(e,l,n)),n}function generateContentParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["contents"]);if(o!=null){let u=tContents(o);Array.isArray(u)&&(u=u.map(h=>h)),setValueByPath(n,["contents"],u)}const l=getValueByPath(t,["config"]);return l!=null&&setValueByPath(n,["generationConfig"],generateContentConfigToVertex(e,l,n)),n}function generateContentResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(m=>candidateFromMldev(m))),setValueByPath(t,["candidates"],p)}const o=getValueByPath(e,["modelVersion"]);o!=null&&setValueByPath(t,["modelVersion"],o);const l=getValueByPath(e,["promptFeedback"]);l!=null&&setValueByPath(t,["promptFeedback"],l);const u=getValueByPath(e,["responseId"]);u!=null&&setValueByPath(t,["responseId"],u);const h=getValueByPath(e,["usageMetadata"]);return h!=null&&setValueByPath(t,["usageMetadata"],h),t}function generateContentResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(g=>g)),setValueByPath(t,["candidates"],m)}const o=getValueByPath(e,["createTime"]);o!=null&&setValueByPath(t,["createTime"],o);const l=getValueByPath(e,["modelVersion"]);l!=null&&setValueByPath(t,["modelVersion"],l);const u=getValueByPath(e,["promptFeedback"]);u!=null&&setValueByPath(t,["promptFeedback"],u);const h=getValueByPath(e,["responseId"]);h!=null&&setValueByPath(t,["responseId"],h);const p=getValueByPath(e,["usageMetadata"]);return p!=null&&setValueByPath(t,["usageMetadata"],p),t}function generateImagesConfigToMldev(e,t){const n={};if(getValueByPath(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(getValueByPath(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=getValueByPath(e,["numberOfImages"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","sampleCount"],i);const o=getValueByPath(e,["aspectRatio"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","aspectRatio"],o);const l=getValueByPath(e,["guidanceScale"]);if(t!==void 0&&l!=null&&setValueByPath(t,["parameters","guidanceScale"],l),getValueByPath(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=getValueByPath(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","safetySetting"],u);const h=getValueByPath(e,["personGeneration"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","personGeneration"],h);const p=getValueByPath(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","includeSafetyAttributes"],p);const m=getValueByPath(e,["includeRaiReason"]);t!==void 0&&m!=null&&setValueByPath(t,["parameters","includeRaiReason"],m);const g=getValueByPath(e,["language"]);t!==void 0&&g!=null&&setValueByPath(t,["parameters","language"],g);const b=getValueByPath(e,["outputMimeType"]);t!==void 0&&b!=null&&setValueByPath(t,["parameters","outputOptions","mimeType"],b);const E=getValueByPath(e,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&setValueByPath(t,["parameters","outputOptions","compressionQuality"],E),getValueByPath(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(getValueByPath(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=getValueByPath(e,["imageSize"]);if(t!==void 0&&_!=null&&setValueByPath(t,["parameters","sampleImageSize"],_),getValueByPath(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function generateImagesConfigToVertex(e,t){const n={},i=getValueByPath(e,["outputGcsUri"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","storageUri"],i);const o=getValueByPath(e,["negativePrompt"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","negativePrompt"],o);const l=getValueByPath(e,["numberOfImages"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","sampleCount"],l);const u=getValueByPath(e,["aspectRatio"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","aspectRatio"],u);const h=getValueByPath(e,["guidanceScale"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","guidanceScale"],h);const p=getValueByPath(e,["seed"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","seed"],p);const m=getValueByPath(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&setValueByPath(t,["parameters","safetySetting"],m);const g=getValueByPath(e,["personGeneration"]);t!==void 0&&g!=null&&setValueByPath(t,["parameters","personGeneration"],g);const b=getValueByPath(e,["includeSafetyAttributes"]);t!==void 0&&b!=null&&setValueByPath(t,["parameters","includeSafetyAttributes"],b);const E=getValueByPath(e,["includeRaiReason"]);t!==void 0&&E!=null&&setValueByPath(t,["parameters","includeRaiReason"],E);const _=getValueByPath(e,["language"]);t!==void 0&&_!=null&&setValueByPath(t,["parameters","language"],_);const A=getValueByPath(e,["outputMimeType"]);t!==void 0&&A!=null&&setValueByPath(t,["parameters","outputOptions","mimeType"],A);const w=getValueByPath(e,["outputCompressionQuality"]);t!==void 0&&w!=null&&setValueByPath(t,["parameters","outputOptions","compressionQuality"],w);const T=getValueByPath(e,["addWatermark"]);t!==void 0&&T!=null&&setValueByPath(t,["parameters","addWatermark"],T);const C=getValueByPath(e,["labels"]);t!==void 0&&C!=null&&setValueByPath(t,["labels"],C);const B=getValueByPath(e,["imageSize"]);t!==void 0&&B!=null&&setValueByPath(t,["parameters","sampleImageSize"],B);const N=getValueByPath(e,["enhancePrompt"]);return t!==void 0&&N!=null&&setValueByPath(t,["parameters","enhancePrompt"],N),n}function generateImagesParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["prompt"]);o!=null&&setValueByPath(n,["instances[0]","prompt"],o);const l=getValueByPath(t,["config"]);return l!=null&&generateImagesConfigToMldev(l,n),n}function generateImagesParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["prompt"]);o!=null&&setValueByPath(n,["instances[0]","prompt"],o);const l=getValueByPath(t,["config"]);return l!=null&&generateImagesConfigToVertex(l,n),n}function generateImagesResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>generatedImageFromMldev(u))),setValueByPath(t,["generatedImages"],l)}const o=getValueByPath(e,["positivePromptSafetyAttributes"]);return o!=null&&setValueByPath(t,["positivePromptSafetyAttributes"],safetyAttributesFromMldev(o)),t}function generateImagesResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>generatedImageFromVertex(u))),setValueByPath(t,["generatedImages"],l)}const o=getValueByPath(e,["positivePromptSafetyAttributes"]);return o!=null&&setValueByPath(t,["positivePromptSafetyAttributes"],safetyAttributesFromVertex(o)),t}function generateVideosConfigToMldev(e,t){const n={},i=getValueByPath(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&setValueByPath(t,["parameters","sampleCount"],i),getValueByPath(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(getValueByPath(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=getValueByPath(e,["durationSeconds"]);if(t!==void 0&&o!=null&&setValueByPath(t,["parameters","durationSeconds"],o),getValueByPath(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=getValueByPath(e,["aspectRatio"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","aspectRatio"],l);const u=getValueByPath(e,["resolution"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","resolution"],u);const h=getValueByPath(e,["personGeneration"]);if(t!==void 0&&h!=null&&setValueByPath(t,["parameters","personGeneration"],h),getValueByPath(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=getValueByPath(e,["negativePrompt"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","negativePrompt"],p);const m=getValueByPath(e,["enhancePrompt"]);if(t!==void 0&&m!=null&&setValueByPath(t,["parameters","enhancePrompt"],m),getValueByPath(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=getValueByPath(e,["lastFrame"]);t!==void 0&&g!=null&&setValueByPath(t,["instances[0]","lastFrame"],imageToMldev(g));const b=getValueByPath(e,["referenceImages"]);if(t!==void 0&&b!=null){let E=b;Array.isArray(E)&&(E=E.map(_=>videoGenerationReferenceImageToMldev(_))),setValueByPath(t,["instances[0]","referenceImages"],E)}if(getValueByPath(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(getValueByPath(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function generateVideosConfigToVertex(e,t){const n={},i=getValueByPath(e,["numberOfVideos"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","sampleCount"],i);const o=getValueByPath(e,["outputGcsUri"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","storageUri"],o);const l=getValueByPath(e,["fps"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","fps"],l);const u=getValueByPath(e,["durationSeconds"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","durationSeconds"],u);const h=getValueByPath(e,["seed"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","seed"],h);const p=getValueByPath(e,["aspectRatio"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","aspectRatio"],p);const m=getValueByPath(e,["resolution"]);t!==void 0&&m!=null&&setValueByPath(t,["parameters","resolution"],m);const g=getValueByPath(e,["personGeneration"]);t!==void 0&&g!=null&&setValueByPath(t,["parameters","personGeneration"],g);const b=getValueByPath(e,["pubsubTopic"]);t!==void 0&&b!=null&&setValueByPath(t,["parameters","pubsubTopic"],b);const E=getValueByPath(e,["negativePrompt"]);t!==void 0&&E!=null&&setValueByPath(t,["parameters","negativePrompt"],E);const _=getValueByPath(e,["enhancePrompt"]);t!==void 0&&_!=null&&setValueByPath(t,["parameters","enhancePrompt"],_);const A=getValueByPath(e,["generateAudio"]);t!==void 0&&A!=null&&setValueByPath(t,["parameters","generateAudio"],A);const w=getValueByPath(e,["lastFrame"]);t!==void 0&&w!=null&&setValueByPath(t,["instances[0]","lastFrame"],imageToVertex(w));const T=getValueByPath(e,["referenceImages"]);if(t!==void 0&&T!=null){let N=T;Array.isArray(N)&&(N=N.map(j=>videoGenerationReferenceImageToVertex(j))),setValueByPath(t,["instances[0]","referenceImages"],N)}const C=getValueByPath(e,["mask"]);t!==void 0&&C!=null&&setValueByPath(t,["instances[0]","mask"],videoGenerationMaskToVertex(C));const B=getValueByPath(e,["compressionQuality"]);return t!==void 0&&B!=null&&setValueByPath(t,["parameters","compressionQuality"],B),n}function generateVideosOperationFromMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response","generateVideoResponse"]);return u!=null&&setValueByPath(t,["response"],generateVideosResponseFromMldev(u)),t}function generateVideosOperationFromVertex(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response"]);return u!=null&&setValueByPath(t,["response"],generateVideosResponseFromVertex(u)),t}function generateVideosParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["prompt"]);o!=null&&setValueByPath(n,["instances[0]","prompt"],o);const l=getValueByPath(t,["image"]);l!=null&&setValueByPath(n,["instances[0]","image"],imageToMldev(l));const u=getValueByPath(t,["video"]);u!=null&&setValueByPath(n,["instances[0]","video"],videoToMldev(u));const h=getValueByPath(t,["source"]);h!=null&&generateVideosSourceToMldev(h,n);const p=getValueByPath(t,["config"]);return p!=null&&generateVideosConfigToMldev(p,n),n}function generateVideosParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["prompt"]);o!=null&&setValueByPath(n,["instances[0]","prompt"],o);const l=getValueByPath(t,["image"]);l!=null&&setValueByPath(n,["instances[0]","image"],imageToVertex(l));const u=getValueByPath(t,["video"]);u!=null&&setValueByPath(n,["instances[0]","video"],videoToVertex(u));const h=getValueByPath(t,["source"]);h!=null&&generateVideosSourceToVertex(h,n);const p=getValueByPath(t,["config"]);return p!=null&&generateVideosConfigToVertex(p,n),n}function generateVideosResponseFromMldev(e){const t={},n=getValueByPath(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>generatedVideoFromMldev(u))),setValueByPath(t,["generatedVideos"],l)}const i=getValueByPath(e,["raiMediaFilteredCount"]);i!=null&&setValueByPath(t,["raiMediaFilteredCount"],i);const o=getValueByPath(e,["raiMediaFilteredReasons"]);return o!=null&&setValueByPath(t,["raiMediaFilteredReasons"],o),t}function generateVideosResponseFromVertex(e){const t={},n=getValueByPath(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>generatedVideoFromVertex(u))),setValueByPath(t,["generatedVideos"],l)}const i=getValueByPath(e,["raiMediaFilteredCount"]);i!=null&&setValueByPath(t,["raiMediaFilteredCount"],i);const o=getValueByPath(e,["raiMediaFilteredReasons"]);return o!=null&&setValueByPath(t,["raiMediaFilteredReasons"],o),t}function generateVideosSourceToMldev(e,t){const n={},i=getValueByPath(e,["prompt"]);t!==void 0&&i!=null&&setValueByPath(t,["instances[0]","prompt"],i);const o=getValueByPath(e,["image"]);t!==void 0&&o!=null&&setValueByPath(t,["instances[0]","image"],imageToMldev(o));const l=getValueByPath(e,["video"]);return t!==void 0&&l!=null&&setValueByPath(t,["instances[0]","video"],videoToMldev(l)),n}function generateVideosSourceToVertex(e,t){const n={},i=getValueByPath(e,["prompt"]);t!==void 0&&i!=null&&setValueByPath(t,["instances[0]","prompt"],i);const o=getValueByPath(e,["image"]);t!==void 0&&o!=null&&setValueByPath(t,["instances[0]","image"],imageToVertex(o));const l=getValueByPath(e,["video"]);return t!==void 0&&l!=null&&setValueByPath(t,["instances[0]","video"],videoToVertex(l)),n}function generatedImageFromMldev(e){const t={},n=getValueByPath(e,["_self"]);n!=null&&setValueByPath(t,["image"],imageFromMldev(n));const i=getValueByPath(e,["raiFilteredReason"]);i!=null&&setValueByPath(t,["raiFilteredReason"],i);const o=getValueByPath(e,["_self"]);return o!=null&&setValueByPath(t,["safetyAttributes"],safetyAttributesFromMldev(o)),t}function generatedImageFromVertex(e){const t={},n=getValueByPath(e,["_self"]);n!=null&&setValueByPath(t,["image"],imageFromVertex(n));const i=getValueByPath(e,["raiFilteredReason"]);i!=null&&setValueByPath(t,["raiFilteredReason"],i);const o=getValueByPath(e,["_self"]);o!=null&&setValueByPath(t,["safetyAttributes"],safetyAttributesFromVertex(o));const l=getValueByPath(e,["prompt"]);return l!=null&&setValueByPath(t,["enhancedPrompt"],l),t}function generatedImageMaskFromVertex(e){const t={},n=getValueByPath(e,["_self"]);n!=null&&setValueByPath(t,["mask"],imageFromVertex(n));const i=getValueByPath(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),setValueByPath(t,["labels"],o)}return t}function generatedVideoFromMldev(e){const t={},n=getValueByPath(e,["video"]);return n!=null&&setValueByPath(t,["video"],videoFromMldev(n)),t}function generatedVideoFromVertex(e){const t={},n=getValueByPath(e,["_self"]);return n!=null&&setValueByPath(t,["video"],videoFromVertex(n)),t}function generationConfigToVertex(e){const t={},n=getValueByPath(e,["modelSelectionConfig"]);n!=null&&setValueByPath(t,["modelConfig"],n);const i=getValueByPath(e,["responseJsonSchema"]);i!=null&&setValueByPath(t,["responseJsonSchema"],i);const o=getValueByPath(e,["audioTimestamp"]);o!=null&&setValueByPath(t,["audioTimestamp"],o);const l=getValueByPath(e,["candidateCount"]);l!=null&&setValueByPath(t,["candidateCount"],l);const u=getValueByPath(e,["enableAffectiveDialog"]);u!=null&&setValueByPath(t,["enableAffectiveDialog"],u);const h=getValueByPath(e,["frequencyPenalty"]);h!=null&&setValueByPath(t,["frequencyPenalty"],h);const p=getValueByPath(e,["logprobs"]);p!=null&&setValueByPath(t,["logprobs"],p);const m=getValueByPath(e,["maxOutputTokens"]);m!=null&&setValueByPath(t,["maxOutputTokens"],m);const g=getValueByPath(e,["mediaResolution"]);g!=null&&setValueByPath(t,["mediaResolution"],g);const b=getValueByPath(e,["presencePenalty"]);b!=null&&setValueByPath(t,["presencePenalty"],b);const E=getValueByPath(e,["responseLogprobs"]);E!=null&&setValueByPath(t,["responseLogprobs"],E);const _=getValueByPath(e,["responseMimeType"]);_!=null&&setValueByPath(t,["responseMimeType"],_);const A=getValueByPath(e,["responseModalities"]);A!=null&&setValueByPath(t,["responseModalities"],A);const w=getValueByPath(e,["responseSchema"]);w!=null&&setValueByPath(t,["responseSchema"],w);const T=getValueByPath(e,["routingConfig"]);T!=null&&setValueByPath(t,["routingConfig"],T);const C=getValueByPath(e,["seed"]);C!=null&&setValueByPath(t,["seed"],C);const B=getValueByPath(e,["speechConfig"]);B!=null&&setValueByPath(t,["speechConfig"],B);const N=getValueByPath(e,["stopSequences"]);N!=null&&setValueByPath(t,["stopSequences"],N);const j=getValueByPath(e,["temperature"]);j!=null&&setValueByPath(t,["temperature"],j);const M=getValueByPath(e,["thinkingConfig"]);M!=null&&setValueByPath(t,["thinkingConfig"],M);const D=getValueByPath(e,["topK"]);D!=null&&setValueByPath(t,["topK"],D);const V=getValueByPath(e,["topP"]);if(V!=null&&setValueByPath(t,["topP"],V),getValueByPath(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function getModelParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);return i!=null&&setValueByPath(n,["_url","name"],tModel(e,i)),n}function getModelParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);return i!=null&&setValueByPath(n,["_url","name"],tModel(e,i)),n}function googleMapsToMldev$1(e){const t={};if(getValueByPath(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=getValueByPath(e,["enableWidget"]);return n!=null&&setValueByPath(t,["enableWidget"],n),t}function googleSearchToMldev$1(e){const t={};if(getValueByPath(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=getValueByPath(e,["timeRangeFilter"]);return n!=null&&setValueByPath(t,["timeRangeFilter"],n),t}function imageConfigToMldev(e){const t={},n=getValueByPath(e,["aspectRatio"]);n!=null&&setValueByPath(t,["aspectRatio"],n);const i=getValueByPath(e,["imageSize"]);if(i!=null&&setValueByPath(t,["imageSize"],i),getValueByPath(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(getValueByPath(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function imageConfigToVertex(e){const t={},n=getValueByPath(e,["aspectRatio"]);n!=null&&setValueByPath(t,["aspectRatio"],n);const i=getValueByPath(e,["imageSize"]);i!=null&&setValueByPath(t,["imageSize"],i);const o=getValueByPath(e,["outputMimeType"]);o!=null&&setValueByPath(t,["imageOutputOptions","mimeType"],o);const l=getValueByPath(e,["outputCompressionQuality"]);return l!=null&&setValueByPath(t,["imageOutputOptions","compressionQuality"],l),t}function imageFromMldev(e){const t={},n=getValueByPath(e,["bytesBase64Encoded"]);n!=null&&setValueByPath(t,["imageBytes"],tBytes(n));const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function imageFromVertex(e){const t={},n=getValueByPath(e,["gcsUri"]);n!=null&&setValueByPath(t,["gcsUri"],n);const i=getValueByPath(e,["bytesBase64Encoded"]);i!=null&&setValueByPath(t,["imageBytes"],tBytes(i));const o=getValueByPath(e,["mimeType"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}function imageToMldev(e){const t={};if(getValueByPath(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=getValueByPath(e,["imageBytes"]);n!=null&&setValueByPath(t,["bytesBase64Encoded"],tBytes(n));const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function imageToVertex(e){const t={},n=getValueByPath(e,["gcsUri"]);n!=null&&setValueByPath(t,["gcsUri"],n);const i=getValueByPath(e,["imageBytes"]);i!=null&&setValueByPath(t,["bytesBase64Encoded"],tBytes(i));const o=getValueByPath(e,["mimeType"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}function listModelsConfigToMldev(e,t,n){const i={},o=getValueByPath(t,["pageSize"]);n!==void 0&&o!=null&&setValueByPath(n,["_query","pageSize"],o);const l=getValueByPath(t,["pageToken"]);n!==void 0&&l!=null&&setValueByPath(n,["_query","pageToken"],l);const u=getValueByPath(t,["filter"]);n!==void 0&&u!=null&&setValueByPath(n,["_query","filter"],u);const h=getValueByPath(t,["queryBase"]);return n!==void 0&&h!=null&&setValueByPath(n,["_url","models_url"],tModelsUrl(e,h)),i}function listModelsConfigToVertex(e,t,n){const i={},o=getValueByPath(t,["pageSize"]);n!==void 0&&o!=null&&setValueByPath(n,["_query","pageSize"],o);const l=getValueByPath(t,["pageToken"]);n!==void 0&&l!=null&&setValueByPath(n,["_query","pageToken"],l);const u=getValueByPath(t,["filter"]);n!==void 0&&u!=null&&setValueByPath(n,["_query","filter"],u);const h=getValueByPath(t,["queryBase"]);return n!==void 0&&h!=null&&setValueByPath(n,["_url","models_url"],tModelsUrl(e,h)),i}function listModelsParametersToMldev(e,t){const n={},i=getValueByPath(t,["config"]);return i!=null&&listModelsConfigToMldev(e,i,n),n}function listModelsParametersToVertex(e,t){const n={},i=getValueByPath(t,["config"]);return i!=null&&listModelsConfigToVertex(e,i,n),n}function listModelsResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["_self"]);if(o!=null){let l=tExtractModels(o);Array.isArray(l)&&(l=l.map(u=>modelFromMldev(u))),setValueByPath(t,["models"],l)}return t}function listModelsResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["_self"]);if(o!=null){let l=tExtractModels(o);Array.isArray(l)&&(l=l.map(u=>modelFromVertex(u))),setValueByPath(t,["models"],l)}return t}function maskReferenceConfigToVertex(e){const t={},n=getValueByPath(e,["maskMode"]);n!=null&&setValueByPath(t,["maskMode"],n);const i=getValueByPath(e,["segmentationClasses"]);i!=null&&setValueByPath(t,["maskClasses"],i);const o=getValueByPath(e,["maskDilation"]);return o!=null&&setValueByPath(t,["dilation"],o),t}function modelFromMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["displayName"]);i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["description"]);o!=null&&setValueByPath(t,["description"],o);const l=getValueByPath(e,["version"]);l!=null&&setValueByPath(t,["version"],l);const u=getValueByPath(e,["_self"]);u!=null&&setValueByPath(t,["tunedModelInfo"],tunedModelInfoFromMldev(u));const h=getValueByPath(e,["inputTokenLimit"]);h!=null&&setValueByPath(t,["inputTokenLimit"],h);const p=getValueByPath(e,["outputTokenLimit"]);p!=null&&setValueByPath(t,["outputTokenLimit"],p);const m=getValueByPath(e,["supportedGenerationMethods"]);m!=null&&setValueByPath(t,["supportedActions"],m);const g=getValueByPath(e,["temperature"]);g!=null&&setValueByPath(t,["temperature"],g);const b=getValueByPath(e,["maxTemperature"]);b!=null&&setValueByPath(t,["maxTemperature"],b);const E=getValueByPath(e,["topP"]);E!=null&&setValueByPath(t,["topP"],E);const _=getValueByPath(e,["topK"]);_!=null&&setValueByPath(t,["topK"],_);const A=getValueByPath(e,["thinking"]);return A!=null&&setValueByPath(t,["thinking"],A),t}function modelFromVertex(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["displayName"]);i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["description"]);o!=null&&setValueByPath(t,["description"],o);const l=getValueByPath(e,["versionId"]);l!=null&&setValueByPath(t,["version"],l);const u=getValueByPath(e,["deployedModels"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(E=>endpointFromVertex(E))),setValueByPath(t,["endpoints"],b)}const h=getValueByPath(e,["labels"]);h!=null&&setValueByPath(t,["labels"],h);const p=getValueByPath(e,["_self"]);p!=null&&setValueByPath(t,["tunedModelInfo"],tunedModelInfoFromVertex(p));const m=getValueByPath(e,["defaultCheckpointId"]);m!=null&&setValueByPath(t,["defaultCheckpointId"],m);const g=getValueByPath(e,["checkpoints"]);if(g!=null){let b=g;Array.isArray(b)&&(b=b.map(E=>E)),setValueByPath(t,["checkpoints"],b)}return t}function partToMldev$1(e){const t={},n=getValueByPath(e,["mediaResolution"]);n!=null&&setValueByPath(t,["mediaResolution"],n);const i=getValueByPath(e,["codeExecutionResult"]);i!=null&&setValueByPath(t,["codeExecutionResult"],i);const o=getValueByPath(e,["executableCode"]);o!=null&&setValueByPath(t,["executableCode"],o);const l=getValueByPath(e,["fileData"]);l!=null&&setValueByPath(t,["fileData"],fileDataToMldev$1(l));const u=getValueByPath(e,["functionCall"]);u!=null&&setValueByPath(t,["functionCall"],functionCallToMldev$1(u));const h=getValueByPath(e,["functionResponse"]);h!=null&&setValueByPath(t,["functionResponse"],h);const p=getValueByPath(e,["inlineData"]);p!=null&&setValueByPath(t,["inlineData"],blobToMldev$1(p));const m=getValueByPath(e,["text"]);m!=null&&setValueByPath(t,["text"],m);const g=getValueByPath(e,["thought"]);g!=null&&setValueByPath(t,["thought"],g);const b=getValueByPath(e,["thoughtSignature"]);b!=null&&setValueByPath(t,["thoughtSignature"],b);const E=getValueByPath(e,["videoMetadata"]);return E!=null&&setValueByPath(t,["videoMetadata"],E),t}function productImageToVertex(e){const t={},n=getValueByPath(e,["productImage"]);return n!=null&&setValueByPath(t,["image"],imageToVertex(n)),t}function recontextImageConfigToVertex(e,t){const n={},i=getValueByPath(e,["numberOfImages"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","sampleCount"],i);const o=getValueByPath(e,["baseSteps"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","baseSteps"],o);const l=getValueByPath(e,["outputGcsUri"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","storageUri"],l);const u=getValueByPath(e,["seed"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","seed"],u);const h=getValueByPath(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","safetySetting"],h);const p=getValueByPath(e,["personGeneration"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","personGeneration"],p);const m=getValueByPath(e,["addWatermark"]);t!==void 0&&m!=null&&setValueByPath(t,["parameters","addWatermark"],m);const g=getValueByPath(e,["outputMimeType"]);t!==void 0&&g!=null&&setValueByPath(t,["parameters","outputOptions","mimeType"],g);const b=getValueByPath(e,["outputCompressionQuality"]);t!==void 0&&b!=null&&setValueByPath(t,["parameters","outputOptions","compressionQuality"],b);const E=getValueByPath(e,["enhancePrompt"]);t!==void 0&&E!=null&&setValueByPath(t,["parameters","enhancePrompt"],E);const _=getValueByPath(e,["labels"]);return t!==void 0&&_!=null&&setValueByPath(t,["labels"],_),n}function recontextImageParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["source"]);o!=null&&recontextImageSourceToVertex(o,n);const l=getValueByPath(t,["config"]);return l!=null&&recontextImageConfigToVertex(l,n),n}function recontextImageResponseFromVertex(e){const t={},n=getValueByPath(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>generatedImageFromVertex(o))),setValueByPath(t,["generatedImages"],i)}return t}function recontextImageSourceToVertex(e,t){const n={},i=getValueByPath(e,["prompt"]);t!==void 0&&i!=null&&setValueByPath(t,["instances[0]","prompt"],i);const o=getValueByPath(e,["personImage"]);t!==void 0&&o!=null&&setValueByPath(t,["instances[0]","personImage","image"],imageToVertex(o));const l=getValueByPath(e,["productImages"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>productImageToVertex(h))),setValueByPath(t,["instances[0]","productImages"],u)}return n}function referenceImageAPIInternalToVertex(e){const t={},n=getValueByPath(e,["referenceImage"]);n!=null&&setValueByPath(t,["referenceImage"],imageToVertex(n));const i=getValueByPath(e,["referenceId"]);i!=null&&setValueByPath(t,["referenceId"],i);const o=getValueByPath(e,["referenceType"]);o!=null&&setValueByPath(t,["referenceType"],o);const l=getValueByPath(e,["maskImageConfig"]);l!=null&&setValueByPath(t,["maskImageConfig"],maskReferenceConfigToVertex(l));const u=getValueByPath(e,["controlImageConfig"]);u!=null&&setValueByPath(t,["controlImageConfig"],controlReferenceConfigToVertex(u));const h=getValueByPath(e,["styleImageConfig"]);h!=null&&setValueByPath(t,["styleImageConfig"],h);const p=getValueByPath(e,["subjectImageConfig"]);return p!=null&&setValueByPath(t,["subjectImageConfig"],p),t}function safetyAttributesFromMldev(e){const t={},n=getValueByPath(e,["safetyAttributes","categories"]);n!=null&&setValueByPath(t,["categories"],n);const i=getValueByPath(e,["safetyAttributes","scores"]);i!=null&&setValueByPath(t,["scores"],i);const o=getValueByPath(e,["contentType"]);return o!=null&&setValueByPath(t,["contentType"],o),t}function safetyAttributesFromVertex(e){const t={},n=getValueByPath(e,["safetyAttributes","categories"]);n!=null&&setValueByPath(t,["categories"],n);const i=getValueByPath(e,["safetyAttributes","scores"]);i!=null&&setValueByPath(t,["scores"],i);const o=getValueByPath(e,["contentType"]);return o!=null&&setValueByPath(t,["contentType"],o),t}function safetySettingToMldev(e){const t={},n=getValueByPath(e,["category"]);if(n!=null&&setValueByPath(t,["category"],n),getValueByPath(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=getValueByPath(e,["threshold"]);return i!=null&&setValueByPath(t,["threshold"],i),t}function scribbleImageToVertex(e){const t={},n=getValueByPath(e,["image"]);return n!=null&&setValueByPath(t,["image"],imageToVertex(n)),t}function segmentImageConfigToVertex(e,t){const n={},i=getValueByPath(e,["mode"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","mode"],i);const o=getValueByPath(e,["maxPredictions"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","maxPredictions"],o);const l=getValueByPath(e,["confidenceThreshold"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","confidenceThreshold"],l);const u=getValueByPath(e,["maskDilation"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","maskDilation"],u);const h=getValueByPath(e,["binaryColorThreshold"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","binaryColorThreshold"],h);const p=getValueByPath(e,["labels"]);return t!==void 0&&p!=null&&setValueByPath(t,["labels"],p),n}function segmentImageParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["source"]);o!=null&&segmentImageSourceToVertex(o,n);const l=getValueByPath(t,["config"]);return l!=null&&segmentImageConfigToVertex(l,n),n}function segmentImageResponseFromVertex(e){const t={},n=getValueByPath(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>generatedImageMaskFromVertex(o))),setValueByPath(t,["generatedMasks"],i)}return t}function segmentImageSourceToVertex(e,t){const n={},i=getValueByPath(e,["prompt"]);t!==void 0&&i!=null&&setValueByPath(t,["instances[0]","prompt"],i);const o=getValueByPath(e,["image"]);t!==void 0&&o!=null&&setValueByPath(t,["instances[0]","image"],imageToVertex(o));const l=getValueByPath(e,["scribbleImage"]);return t!==void 0&&l!=null&&setValueByPath(t,["instances[0]","scribble"],scribbleImageToVertex(l)),n}function toolConfigToMldev(e){const t={},n=getValueByPath(e,["functionCallingConfig"]);n!=null&&setValueByPath(t,["functionCallingConfig"],functionCallingConfigToMldev(n));const i=getValueByPath(e,["retrievalConfig"]);return i!=null&&setValueByPath(t,["retrievalConfig"],i),t}function toolToMldev$1(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),setValueByPath(t,["functionDeclarations"],g)}if(getValueByPath(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=getValueByPath(e,["googleSearchRetrieval"]);i!=null&&setValueByPath(t,["googleSearchRetrieval"],i);const o=getValueByPath(e,["computerUse"]);o!=null&&setValueByPath(t,["computerUse"],o);const l=getValueByPath(e,["fileSearch"]);l!=null&&setValueByPath(t,["fileSearch"],l);const u=getValueByPath(e,["codeExecution"]);if(u!=null&&setValueByPath(t,["codeExecution"],u),getValueByPath(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=getValueByPath(e,["googleMaps"]);h!=null&&setValueByPath(t,["googleMaps"],googleMapsToMldev$1(h));const p=getValueByPath(e,["googleSearch"]);p!=null&&setValueByPath(t,["googleSearch"],googleSearchToMldev$1(p));const m=getValueByPath(e,["urlContext"]);return m!=null&&setValueByPath(t,["urlContext"],m),t}function toolToVertex(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let b=n;Array.isArray(b)&&(b=b.map(E=>functionDeclarationToVertex(E))),setValueByPath(t,["functionDeclarations"],b)}const i=getValueByPath(e,["retrieval"]);i!=null&&setValueByPath(t,["retrieval"],i);const o=getValueByPath(e,["googleSearchRetrieval"]);o!=null&&setValueByPath(t,["googleSearchRetrieval"],o);const l=getValueByPath(e,["computerUse"]);if(l!=null&&setValueByPath(t,["computerUse"],l),getValueByPath(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=getValueByPath(e,["codeExecution"]);u!=null&&setValueByPath(t,["codeExecution"],u);const h=getValueByPath(e,["enterpriseWebSearch"]);h!=null&&setValueByPath(t,["enterpriseWebSearch"],h);const p=getValueByPath(e,["googleMaps"]);p!=null&&setValueByPath(t,["googleMaps"],p);const m=getValueByPath(e,["googleSearch"]);m!=null&&setValueByPath(t,["googleSearch"],m);const g=getValueByPath(e,["urlContext"]);return g!=null&&setValueByPath(t,["urlContext"],g),t}function tunedModelInfoFromMldev(e){const t={},n=getValueByPath(e,["baseModel"]);n!=null&&setValueByPath(t,["baseModel"],n);const i=getValueByPath(e,["createTime"]);i!=null&&setValueByPath(t,["createTime"],i);const o=getValueByPath(e,["updateTime"]);return o!=null&&setValueByPath(t,["updateTime"],o),t}function tunedModelInfoFromVertex(e){const t={},n=getValueByPath(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&setValueByPath(t,["baseModel"],n);const i=getValueByPath(e,["createTime"]);i!=null&&setValueByPath(t,["createTime"],i);const o=getValueByPath(e,["updateTime"]);return o!=null&&setValueByPath(t,["updateTime"],o),t}function updateModelConfigToMldev(e,t){const n={},i=getValueByPath(e,["displayName"]);t!==void 0&&i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["description"]);t!==void 0&&o!=null&&setValueByPath(t,["description"],o);const l=getValueByPath(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&setValueByPath(t,["defaultCheckpointId"],l),n}function updateModelConfigToVertex(e,t){const n={},i=getValueByPath(e,["displayName"]);t!==void 0&&i!=null&&setValueByPath(t,["displayName"],i);const o=getValueByPath(e,["description"]);t!==void 0&&o!=null&&setValueByPath(t,["description"],o);const l=getValueByPath(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&setValueByPath(t,["defaultCheckpointId"],l),n}function updateModelParametersToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","name"],tModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&updateModelConfigToMldev(o,n),n}function updateModelParametersToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&updateModelConfigToVertex(o,n),n}function upscaleImageAPIConfigInternalToVertex(e,t){const n={},i=getValueByPath(e,["outputGcsUri"]);t!==void 0&&i!=null&&setValueByPath(t,["parameters","storageUri"],i);const o=getValueByPath(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&setValueByPath(t,["parameters","safetySetting"],o);const l=getValueByPath(e,["personGeneration"]);t!==void 0&&l!=null&&setValueByPath(t,["parameters","personGeneration"],l);const u=getValueByPath(e,["includeRaiReason"]);t!==void 0&&u!=null&&setValueByPath(t,["parameters","includeRaiReason"],u);const h=getValueByPath(e,["outputMimeType"]);t!==void 0&&h!=null&&setValueByPath(t,["parameters","outputOptions","mimeType"],h);const p=getValueByPath(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&setValueByPath(t,["parameters","outputOptions","compressionQuality"],p);const m=getValueByPath(e,["enhanceInputImage"]);t!==void 0&&m!=null&&setValueByPath(t,["parameters","upscaleConfig","enhanceInputImage"],m);const g=getValueByPath(e,["imagePreservationFactor"]);t!==void 0&&g!=null&&setValueByPath(t,["parameters","upscaleConfig","imagePreservationFactor"],g);const b=getValueByPath(e,["labels"]);t!==void 0&&b!=null&&setValueByPath(t,["labels"],b);const E=getValueByPath(e,["numberOfImages"]);t!==void 0&&E!=null&&setValueByPath(t,["parameters","sampleCount"],E);const _=getValueByPath(e,["mode"]);return t!==void 0&&_!=null&&setValueByPath(t,["parameters","mode"],_),n}function upscaleImageAPIParametersInternalToVertex(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["_url","model"],tModel(e,i));const o=getValueByPath(t,["image"]);o!=null&&setValueByPath(n,["instances[0]","image"],imageToVertex(o));const l=getValueByPath(t,["upscaleFactor"]);l!=null&&setValueByPath(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=getValueByPath(t,["config"]);return u!=null&&upscaleImageAPIConfigInternalToVertex(u,n),n}function upscaleImageResponseFromVertex(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>generatedImageFromVertex(l))),setValueByPath(t,["generatedImages"],o)}return t}function videoFromMldev(e){const t={},n=getValueByPath(e,["uri"]);n!=null&&setValueByPath(t,["uri"],n);const i=getValueByPath(e,["encodedVideo"]);i!=null&&setValueByPath(t,["videoBytes"],tBytes(i));const o=getValueByPath(e,["encoding"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}function videoFromVertex(e){const t={},n=getValueByPath(e,["gcsUri"]);n!=null&&setValueByPath(t,["uri"],n);const i=getValueByPath(e,["bytesBase64Encoded"]);i!=null&&setValueByPath(t,["videoBytes"],tBytes(i));const o=getValueByPath(e,["mimeType"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}function videoGenerationMaskToVertex(e){const t={},n=getValueByPath(e,["image"]);n!=null&&setValueByPath(t,["_self"],imageToVertex(n));const i=getValueByPath(e,["maskMode"]);return i!=null&&setValueByPath(t,["maskMode"],i),t}function videoGenerationReferenceImageToMldev(e){const t={},n=getValueByPath(e,["image"]);n!=null&&setValueByPath(t,["image"],imageToMldev(n));const i=getValueByPath(e,["referenceType"]);return i!=null&&setValueByPath(t,["referenceType"],i),t}function videoGenerationReferenceImageToVertex(e){const t={},n=getValueByPath(e,["image"]);n!=null&&setValueByPath(t,["image"],imageToVertex(n));const i=getValueByPath(e,["referenceType"]);return i!=null&&setValueByPath(t,["referenceType"],i),t}function videoToMldev(e){const t={},n=getValueByPath(e,["uri"]);n!=null&&setValueByPath(t,["uri"],n);const i=getValueByPath(e,["videoBytes"]);i!=null&&setValueByPath(t,["encodedVideo"],tBytes(i));const o=getValueByPath(e,["mimeType"]);return o!=null&&setValueByPath(t,["encoding"],o),t}function videoToVertex(e){const t={},n=getValueByPath(e,["uri"]);n!=null&&setValueByPath(t,["gcsUri"],n);const i=getValueByPath(e,["videoBytes"]);i!=null&&setValueByPath(t,["bytesBase64Encoded"],tBytes(i));const o=getValueByPath(e,["mimeType"]);return o!=null&&setValueByPath(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function createFileSearchStoreConfigToMldev(e,t){const n={},i=getValueByPath(e,["displayName"]);return t!==void 0&&i!=null&&setValueByPath(t,["displayName"],i),n}function createFileSearchStoreParametersToMldev(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&createFileSearchStoreConfigToMldev(n,t),t}function deleteFileSearchStoreConfigToMldev(e,t){const n={},i=getValueByPath(e,["force"]);return t!==void 0&&i!=null&&setValueByPath(t,["_query","force"],i),n}function deleteFileSearchStoreParametersToMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["_url","name"],n);const i=getValueByPath(e,["config"]);return i!=null&&deleteFileSearchStoreConfigToMldev(i,t),t}function getFileSearchStoreParametersToMldev(e){const t={},n=getValueByPath(e,["name"]);return n!=null&&setValueByPath(t,["_url","name"],n),t}function importFileConfigToMldev(e,t){const n={},i=getValueByPath(e,["customMetadata"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["customMetadata"],l)}const o=getValueByPath(e,["chunkingConfig"]);return t!==void 0&&o!=null&&setValueByPath(t,["chunkingConfig"],o),n}function importFileOperationFromMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["name"],n);const i=getValueByPath(e,["metadata"]);i!=null&&setValueByPath(t,["metadata"],i);const o=getValueByPath(e,["done"]);o!=null&&setValueByPath(t,["done"],o);const l=getValueByPath(e,["error"]);l!=null&&setValueByPath(t,["error"],l);const u=getValueByPath(e,["response"]);return u!=null&&setValueByPath(t,["response"],importFileResponseFromMldev(u)),t}function importFileParametersToMldev(e){const t={},n=getValueByPath(e,["fileSearchStoreName"]);n!=null&&setValueByPath(t,["_url","file_search_store_name"],n);const i=getValueByPath(e,["fileName"]);i!=null&&setValueByPath(t,["fileName"],i);const o=getValueByPath(e,["config"]);return o!=null&&importFileConfigToMldev(o,t),t}function importFileResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["parent"]);i!=null&&setValueByPath(t,["parent"],i);const o=getValueByPath(e,["documentName"]);return o!=null&&setValueByPath(t,["documentName"],o),t}function listFileSearchStoresConfigToMldev(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);return t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o),n}function listFileSearchStoresParametersToMldev(e){const t={},n=getValueByPath(e,["config"]);return n!=null&&listFileSearchStoresConfigToMldev(n,t),t}function listFileSearchStoresResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["fileSearchStores"],l)}return t}function uploadToFileSearchStoreConfigToMldev(e,t){const n={},i=getValueByPath(e,["mimeType"]);t!==void 0&&i!=null&&setValueByPath(t,["mimeType"],i);const o=getValueByPath(e,["displayName"]);t!==void 0&&o!=null&&setValueByPath(t,["displayName"],o);const l=getValueByPath(e,["customMetadata"]);if(t!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>p)),setValueByPath(t,["customMetadata"],h)}const u=getValueByPath(e,["chunkingConfig"]);return t!==void 0&&u!=null&&setValueByPath(t,["chunkingConfig"],u),n}function uploadToFileSearchStoreParametersToMldev(e){const t={},n=getValueByPath(e,["fileSearchStoreName"]);n!=null&&setValueByPath(t,["_url","file_search_store_name"],n);const i=getValueByPath(e,["config"]);return i!=null&&uploadToFileSearchStoreConfigToMldev(i,t),t}function uploadToFileSearchStoreResumableResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);return n!=null&&setValueByPath(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CONTENT_TYPE_HEADER="Content-Type",SERVER_TIMEOUT_HEADER="X-Server-Timeout",USER_AGENT_HEADER="User-Agent",GOOGLE_API_CLIENT_HEADER="x-goog-api-client",SDK_VERSION="1.34.0",LIBRARY_LABEL=`google-genai-sdk/${SDK_VERSION}`,VERTEX_AI_API_DEFAULT_VERSION="v1beta1",GOOGLE_AI_API_DEFAULT_VERSION="v1beta";class ApiClient{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:VERTEX_AI_API_DEFAULT_VERSION,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:GOOGLE_AI_API_DEFAULT_VERSION,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[u,h]of Object.entries(t.queryParams))o.searchParams.append(u,String(h));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,o){if(n&&n.timeout||o){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const h=setTimeout(()=>l.abort(),n.timeout);h&&typeof h.unref=="function"&&h.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),t.signal=u}return n&&n.extraBody!==null&&includeExtraBodyToRequestInit(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await throwErrorIfNotOK(o),new HttpResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await throwErrorIfNotOK(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return __asyncGenerator(this,arguments,function*(){var i;const o=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const h="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:g}=yield __await(o.read());if(m){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const b=l.decode(g,{stream:!0});try{const A=JSON.parse(b);if("error"in A){const w=JSON.parse(JSON.stringify(A.error)),T=w.status,C=w.code,B=`got status: ${T}. ${JSON.stringify(A)}`;if(C>=400&&C<600)throw new ApiError({message:B,status:C})}}catch(A){if(A.name==="ApiError")throw A}u+=b;let E=-1,_=0;for(;;){E=-1,_=0;for(const T of p){const C=u.indexOf(T);C!==-1&&(E===-1||C<E)&&(E=C,_=T.length)}if(E===-1)break;const A=u.substring(0,E);u=u.substring(E+_);const w=A.trim();if(w.startsWith(h)){const T=w.substring(h.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield __await(new HttpResponse(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=LIBRARY_LABEL+" "+this.clientOptions.userAgentExtra;return t[USER_AGENT_HEADER]=n,t[GOOGLE_API_CLIENT_HEADER]=n,t[CONTENT_TYPE_HEADER]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[o,l]of Object.entries(t.headers))i.append(o,l);t.timeout&&t.timeout>0&&i.append(SERVER_TIMEOUT_HEADER,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(t);o.sizeBytes=String(u.size);const h=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const p={file:o},m=this.getFileName(t),g=formatMap("upload/v1beta/files",p._url),b=await this.fetchUploadUrl(g,o.sizeBytes,o.mimeType,m,p,n==null?void 0:n.httpOptions);return l.upload(t,b,this)}async uploadFileToFileSearchStore(t,n,i){var o;const l=this.clientOptions.uploader,u=await l.stat(n),h=String(u.size),p=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,g=this.getFileName(n),b={};i!=null&&uploadToFileSearchStoreConfigToMldev(i,b);const E=await this.fetchUploadUrl(m,h,p,g,b,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,o,l,u){var h;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const m=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function throwErrorIfNotOK(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new ApiError({message:o,status:n}):new Error(o)}}function includeExtraBodyToRequestInit(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const h=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const m=u[p],g=h[p];m&&typeof m=="object"&&!Array.isArray(m)&&g&&typeof g=="object"&&!Array.isArray(g)?h[p]=i(g,m):(g&&m&&typeof g!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof m}. Overwriting.`),h[p]=m)}return h}const o=i(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MCP_LABEL="mcp_used/unknown";let hasMcpToolUsageFromMcpToTool=!1;function hasMcpToolUsage(e){for(const t of e)if(isMcpCallableTool(t)||typeof t=="object"&&"inputSchema"in t)return!0;return hasMcpToolUsageFromMcpToTool}function setMcpUsageHeader(e){var t;const n=(t=e[GOOGLE_API_CLIENT_HEADER])!==null&&t!==void 0?t:"";e[GOOGLE_API_CLIENT_HEADER]=(n+` ${MCP_LABEL}`).trimStart()}function isMcpCallableTool(e){return e!==null&&typeof e=="object"&&e instanceof McpCallableTool}function listAllTools(e){return __asyncGenerator(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const u=yield __await(n.listTools({cursor:o}));for(const h of u.tools)yield yield __await(h),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class McpCallableTool{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new McpCallableTool(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const g of this.mcpClients)try{for(var h=!0,p=(n=void 0,__asyncValues(listAllTools(g))),m;m=await p.next(),t=m.done,!t;h=!0){o=m.value,h=!1;const b=o;u.push(b);const E=b.name;if(l[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);l[E]=g}}catch(b){n={error:b}}finally{try{!h&&!t&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),mcpToolsToGeminiTool(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function handleWebSocketMessage$1(e,t,n){const i=new LiveMusicServerMessage;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),t(i)}class LiveMusic{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=mapToHeaders$1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const g=new Promise(N=>{m=N}),b=t.callbacks,E=function(){m({})},_=this.apiClient,A={onopen:E,onmessage:N=>{handleWebSocketMessage$1(_,b.onmessage,N)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(N){},onclose:(i=b==null?void 0:b.onclose)!==null&&i!==void 0?i:function(N){}},w=this.webSocketFactory.create(p,headersToMap$1(u),A);w.connect(),await g;const B={setup:{model:tModel(this.apiClient,t.model)}};return w.send(JSON.stringify(B)),new LiveMusicSession(w,this.apiClient)}}class LiveMusicSession{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=liveMusicSetWeightedPromptsParametersToMldev(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=liveMusicSetConfigParametersToMldev(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(LiveMusicPlaybackControl.PLAY)}pause(){this.sendPlaybackControl(LiveMusicPlaybackControl.PAUSE)}stop(){this.sendPlaybackControl(LiveMusicPlaybackControl.STOP)}resetContext(){this.sendPlaybackControl(LiveMusicPlaybackControl.RESET_CONTEXT)}close(){this.conn.close()}}function headersToMap$1(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function mapToHeaders$1(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FUNCTION_RESPONSE_REQUIRES_ID="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function handleWebSocketMessage(e,t,n){const i=new LiveServerMessage;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(e.isVertexAI()){const u=liveServerMessageFromVertex(l);Object.assign(i,u)}else Object.assign(i,l);t(i)}class Live{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new LiveMusic(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,l,u,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let g;const b=this.apiClient.getHeaders();t.config&&t.config.tools&&hasMcpToolUsage(t.config.tools)&&setMcpUsageHeader(b);const E=mapToHeaders(b);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,g);else{const U=this.apiClient.getApiKey();let J="BidiGenerateContent",$="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),J="BidiGenerateContentConstrained",$="access_token"),g=`${p}/ws/google.ai.generativelanguage.${m}.GenerativeService.${J}?${$}=${U}`}let _=()=>{};const A=new Promise(U=>{_=U}),w=t.callbacks,T=function(){var U;(U=w==null?void 0:w.onopen)===null||U===void 0||U.call(w),_({})},C=this.apiClient,B={onopen:T,onmessage:U=>{handleWebSocketMessage(C,w.onmessage,U)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(U){},onclose:(i=w==null?void 0:w.onclose)!==null&&i!==void 0?i:function(U){}},N=this.webSocketFactory.create(g,headersToMap(E),B);N.connect(),await A;let j=tModel(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const U=this.apiClient.getProject(),J=this.apiClient.getLocation();j=`projects/${U}/locations/${J}/`+j}let M={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Modality.AUDIO]}:t.config.responseModalities=[Modality.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(h=(u=t.config)===null||u===void 0?void 0:u.tools)!==null&&h!==void 0?h:[],V=[];for(const U of D)if(this.isCallableTool(U)){const J=U;V.push(await J.tool())}else V.push(U);V.length>0&&(t.config.tools=V);const L={model:j,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?M=liveConnectParametersToVertex(this.apiClient,L):M=liveConnectParametersToMldev(this.apiClient,L),delete M.config,N.send(JSON.stringify(M)),new Session(N,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const defaultLiveSendClientContentParamerters={turnComplete:!0};class Session{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=tContents(n.turns),t.isVertexAI()||(i=i.map(o=>contentToMldev$1(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(FUNCTION_RESPONSE_REQUIRES_ID)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},defaultLiveSendClientContentParamerters),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:liveSendRealtimeInputParametersToVertex(t)}:n={realtimeInput:liveSendRealtimeInputParametersToMldev(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function headersToMap(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function mapToHeaders(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DEFAULT_MAX_REMOTE_CALLS=10;function shouldDisableAfc(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const u of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(isCallableTool(u)){o=!0;break}if(!o)return!0;const l=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}function hasCallableTools(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>isCallableTool(o)))!==null&&i!==void 0?i:!1}function findAfcIncompatibleToolIndexes(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,o)=>{if(isCallableTool(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function shouldAppendAfcHistory(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Models extends BaseModule{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,l,u,h;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!hasCallableTools(n)||shouldDisableAfc(n.config))return await this.generateContentInternal(p);const m=findAfcIncompatibleToolIndexes(n);if(m.length>0){const w=m.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let g,b;const E=tContents(p.contents),_=(l=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:DEFAULT_MAX_REMOTE_CALLS;let A=0;for(;A<_&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const w=g.candidates[0].content,T=[];for(const C of(h=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&h!==void 0?h:[])if(isCallableTool(C)){const N=await C.callTool(g.functionCalls);T.push(...N)}A++,b={role:"user",parts:T},p.contents=tContents(p.contents),p.contents.push(w),p.contents.push(b),shouldAppendAfcHistory(p.config)&&(E.push(w),E.push(b))}return shouldAppendAfcHistory(p.config)&&(g.automaticFunctionCallingHistory=E),g},this.generateContentStream=async n=>{var i,o,l,u,h;if(this.maybeMoveToResponseJsonSchem(n),shouldDisableAfc(n.config)){const b=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(b)}const p=findAfcIncompatibleToolIndexes(n);if(p.length>0){const b=p.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${b}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,g=(h=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let h;return l?h={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:h={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},h}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Pager(PagedItem.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,u,h,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(h=n.source)===null||h===void 0?void 0:h.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,o;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const u=await Promise.all(l.map(async p=>isCallableTool(p)?await p.tool():p)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:u})};if(h.config.tools=u,t.config&&t.config.tools&&hasMcpToolUsage(t.config.tools)){const p=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let m=Object.assign({},p);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),setMcpUsageHeader(m),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(t){var n,i,o;const l=new Map;for(const u of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(isCallableTool(u)){const h=u,p=await h.tool();for(const m of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!m.name)throw new Error("Function declaration name is required.");if(l.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);l.set(m.name,h)}}return l}async processAfcStream(t){var n,i,o;const l=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:DEFAULT_MAX_REMOTE_CALLS;let u=!1,h=0;const p=await this.initAfcToolsMap(t);return(function(m,g,b){return __asyncGenerator(this,arguments,function*(){for(var E,_,A,w,T,C;h<l;){u&&(h++,u=!1);const M=yield __await(m.processParamsMaybeAddMcpUsage(b)),D=yield __await(m.generateContentStreamInternal(M)),V=[],L=[];try{for(var B=!0,N=(_=void 0,__asyncValues(D)),j;j=yield __await(N.next()),E=j.done,!E;B=!0){w=j.value,B=!1;const U=w;if(yield yield __await(U),U.candidates&&(!((T=U.candidates[0])===null||T===void 0)&&T.content)){L.push(U.candidates[0].content);for(const J of(C=U.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(h<l&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(J.functionCall.name)){const $=yield __await(g.get(J.functionCall.name).callTool([J.functionCall]));V.push(...$)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(U){_={error:U}}finally{try{!B&&!E&&(A=N.return)&&(yield __await(A.call(N)))}finally{if(_)throw _.error}}if(V.length>0){u=!0;const U=new GenerateContentResponse;U.candidates=[{content:{role:"user",parts:V}}],yield yield __await(U);const J=[];J.push(...L),J.push({role:"user",parts:V});const $=tContents(b.contents).concat(J);b.contents=$}else break}})})(this,p,t)}async generateContentInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=generateContentParametersToVertex(this.apiClient,t);return h=formatMap("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=generateContentResponseFromVertex(g),E=new GenerateContentResponse;return Object.assign(E,b),E})}else{const m=generateContentParametersToMldev(this.apiClient,t);return h=formatMap("{model}:generateContent",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=generateContentResponseFromMldev(g),E=new GenerateContentResponse;return Object.assign(E,b),E})}}async generateContentStreamInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=generateContentParametersToVertex(this.apiClient,t);return h=formatMap("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(b){return __asyncGenerator(this,arguments,function*(){var E,_,A,w;try{for(var T=!0,C=__asyncValues(b),B;B=yield __await(C.next()),E=B.done,!E;T=!0){w=B.value,T=!1;const N=w,j=generateContentResponseFromVertex(yield __await(N.json()));j.sdkHttpResponse={headers:N.headers};const M=new GenerateContentResponse;Object.assign(M,j),yield yield __await(M)}}catch(N){_={error:N}}finally{try{!T&&!E&&(A=C.return)&&(yield __await(A.call(C)))}finally{if(_)throw _.error}}})})}else{const m=generateContentParametersToMldev(this.apiClient,t);return h=formatMap("{model}:streamGenerateContent?alt=sse",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.requestStream({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(b){return __asyncGenerator(this,arguments,function*(){var E,_,A,w;try{for(var T=!0,C=__asyncValues(b),B;B=yield __await(C.next()),E=B.done,!E;T=!0){w=B.value,T=!1;const N=w,j=generateContentResponseFromMldev(yield __await(N.json()));j.sdkHttpResponse={headers:N.headers};const M=new GenerateContentResponse;Object.assign(M,j),yield yield __await(M)}}catch(N){_={error:N}}finally{try{!T&&!E&&(A=C.return)&&(yield __await(A.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=embedContentParametersToVertex(this.apiClient,t);return h=formatMap("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=embedContentResponseFromVertex(g),E=new EmbedContentResponse;return Object.assign(E,b),E})}else{const m=embedContentParametersToMldev(this.apiClient,t);return h=formatMap("{model}:batchEmbedContents",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=embedContentResponseFromMldev(g),E=new EmbedContentResponse;return Object.assign(E,b),E})}}async generateImagesInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=generateImagesParametersToVertex(this.apiClient,t);return h=formatMap("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=generateImagesResponseFromVertex(g),E=new GenerateImagesResponse;return Object.assign(E,b),E})}else{const m=generateImagesParametersToMldev(this.apiClient,t);return h=formatMap("{model}:predict",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=generateImagesResponseFromMldev(g),E=new GenerateImagesResponse;return Object.assign(E,b),E})}}async editImageInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=editImageParametersInternalToVertex(this.apiClient,t);return l=formatMap("{model}:predict",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const m=editImageResponseFromVertex(p),g=new EditImageResponse;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=upscaleImageAPIParametersInternalToVertex(this.apiClient,t);return l=formatMap("{model}:predict",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const m=upscaleImageResponseFromVertex(p),g=new UpscaleImageResponse;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=recontextImageParametersToVertex(this.apiClient,t);return l=formatMap("{model}:predict",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=recontextImageResponseFromVertex(p),g=new RecontextImageResponse;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=segmentImageParametersToVertex(this.apiClient,t);return l=formatMap("{model}:predict",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=segmentImageResponseFromVertex(p),g=new SegmentImageResponse;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=getModelParametersToVertex(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>modelFromVertex(g))}else{const m=getModelParametersToMldev(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>modelFromMldev(g))}}async listInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=listModelsParametersToVertex(this.apiClient,t);return h=formatMap("{models_url}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listModelsResponseFromVertex(g),E=new ListModelsResponse;return Object.assign(E,b),E})}else{const m=listModelsParametersToMldev(this.apiClient,t);return h=formatMap("{models_url}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listModelsResponseFromMldev(g),E=new ListModelsResponse;return Object.assign(E,b),E})}}async update(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=updateModelParametersToVertex(this.apiClient,t);return h=formatMap("{model}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>modelFromVertex(g))}else{const m=updateModelParametersToMldev(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>modelFromMldev(g))}}async delete(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=deleteModelParametersToVertex(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=deleteModelResponseFromVertex(g),E=new DeleteModelResponse;return Object.assign(E,b),E})}else{const m=deleteModelParametersToMldev(this.apiClient,t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=deleteModelResponseFromMldev(g),E=new DeleteModelResponse;return Object.assign(E,b),E})}}async countTokens(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=countTokensParametersToVertex(this.apiClient,t);return h=formatMap("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=countTokensResponseFromVertex(g),E=new CountTokensResponse;return Object.assign(E,b),E})}else{const m=countTokensParametersToMldev(this.apiClient,t);return h=formatMap("{model}:countTokens",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=countTokensResponseFromMldev(g),E=new CountTokensResponse;return Object.assign(E,b),E})}}async computeTokens(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=computeTokensParametersToVertex(this.apiClient,t);return l=formatMap("{model}:computeTokens",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const m=computeTokensResponseFromVertex(p),g=new ComputeTokensResponse;return Object.assign(g,m),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=generateVideosParametersToVertex(this.apiClient,t);return h=formatMap("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const b=generateVideosOperationFromVertex(g),E=new GenerateVideosOperation;return Object.assign(E,b),E})}else{const m=generateVideosParametersToMldev(this.apiClient,t);return h=formatMap("{model}:predictLongRunning",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const b=generateVideosOperationFromMldev(g),E=new GenerateVideosOperation;return Object.assign(E,b),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Operations extends BaseModule{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=getOperationParametersToVertex(t);return h=formatMap("{operationName}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u}else{const m=getOperationParametersToMldev(t);return h=formatMap("{operationName}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=fetchPredictOperationParametersToVertex(t);return l=formatMap("{resourceName}:fetchPredictOperation",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function blobToMldev(e){const t={},n=getValueByPath(e,["data"]);if(n!=null&&setValueByPath(t,["data"],n),getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function contentToMldev(e){const t={},n=getValueByPath(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>partToMldev(l))),setValueByPath(t,["parts"],o)}const i=getValueByPath(e,["role"]);return i!=null&&setValueByPath(t,["role"],i),t}function createAuthTokenConfigToMldev(e,t,n){const i={},o=getValueByPath(t,["expireTime"]);n!==void 0&&o!=null&&setValueByPath(n,["expireTime"],o);const l=getValueByPath(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&setValueByPath(n,["newSessionExpireTime"],l);const u=getValueByPath(t,["uses"]);n!==void 0&&u!=null&&setValueByPath(n,["uses"],u);const h=getValueByPath(t,["liveConnectConstraints"]);n!==void 0&&h!=null&&setValueByPath(n,["bidiGenerateContentSetup"],liveConnectConstraintsToMldev(e,h));const p=getValueByPath(t,["lockAdditionalFields"]);return n!==void 0&&p!=null&&setValueByPath(n,["fieldMask"],p),i}function createAuthTokenParametersToMldev(e,t){const n={},i=getValueByPath(t,["config"]);return i!=null&&setValueByPath(n,["config"],createAuthTokenConfigToMldev(e,i,n)),n}function fileDataToMldev(e){const t={};if(getValueByPath(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=getValueByPath(e,["fileUri"]);n!=null&&setValueByPath(t,["fileUri"],n);const i=getValueByPath(e,["mimeType"]);return i!=null&&setValueByPath(t,["mimeType"],i),t}function functionCallToMldev(e){const t={},n=getValueByPath(e,["id"]);n!=null&&setValueByPath(t,["id"],n);const i=getValueByPath(e,["args"]);i!=null&&setValueByPath(t,["args"],i);const o=getValueByPath(e,["name"]);if(o!=null&&setValueByPath(t,["name"],o),getValueByPath(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(getValueByPath(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function googleMapsToMldev(e){const t={};if(getValueByPath(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=getValueByPath(e,["enableWidget"]);return n!=null&&setValueByPath(t,["enableWidget"],n),t}function googleSearchToMldev(e){const t={};if(getValueByPath(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(getValueByPath(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=getValueByPath(e,["timeRangeFilter"]);return n!=null&&setValueByPath(t,["timeRangeFilter"],n),t}function liveConnectConfigToMldev(e,t){const n={},i=getValueByPath(e,["generationConfig"]);t!==void 0&&i!=null&&setValueByPath(t,["setup","generationConfig"],i);const o=getValueByPath(e,["responseModalities"]);t!==void 0&&o!=null&&setValueByPath(t,["setup","generationConfig","responseModalities"],o);const l=getValueByPath(e,["temperature"]);t!==void 0&&l!=null&&setValueByPath(t,["setup","generationConfig","temperature"],l);const u=getValueByPath(e,["topP"]);t!==void 0&&u!=null&&setValueByPath(t,["setup","generationConfig","topP"],u);const h=getValueByPath(e,["topK"]);t!==void 0&&h!=null&&setValueByPath(t,["setup","generationConfig","topK"],h);const p=getValueByPath(e,["maxOutputTokens"]);t!==void 0&&p!=null&&setValueByPath(t,["setup","generationConfig","maxOutputTokens"],p);const m=getValueByPath(e,["mediaResolution"]);t!==void 0&&m!=null&&setValueByPath(t,["setup","generationConfig","mediaResolution"],m);const g=getValueByPath(e,["seed"]);t!==void 0&&g!=null&&setValueByPath(t,["setup","generationConfig","seed"],g);const b=getValueByPath(e,["speechConfig"]);t!==void 0&&b!=null&&setValueByPath(t,["setup","generationConfig","speechConfig"],tLiveSpeechConfig(b));const E=getValueByPath(e,["thinkingConfig"]);t!==void 0&&E!=null&&setValueByPath(t,["setup","generationConfig","thinkingConfig"],E);const _=getValueByPath(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&setValueByPath(t,["setup","generationConfig","enableAffectiveDialog"],_);const A=getValueByPath(e,["systemInstruction"]);t!==void 0&&A!=null&&setValueByPath(t,["setup","systemInstruction"],contentToMldev(tContent(A)));const w=getValueByPath(e,["tools"]);if(t!==void 0&&w!=null){let D=tTools(w);Array.isArray(D)&&(D=D.map(V=>toolToMldev(tTool(V)))),setValueByPath(t,["setup","tools"],D)}const T=getValueByPath(e,["sessionResumption"]);t!==void 0&&T!=null&&setValueByPath(t,["setup","sessionResumption"],sessionResumptionConfigToMldev(T));const C=getValueByPath(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&setValueByPath(t,["setup","inputAudioTranscription"],C);const B=getValueByPath(e,["outputAudioTranscription"]);t!==void 0&&B!=null&&setValueByPath(t,["setup","outputAudioTranscription"],B);const N=getValueByPath(e,["realtimeInputConfig"]);t!==void 0&&N!=null&&setValueByPath(t,["setup","realtimeInputConfig"],N);const j=getValueByPath(e,["contextWindowCompression"]);t!==void 0&&j!=null&&setValueByPath(t,["setup","contextWindowCompression"],j);const M=getValueByPath(e,["proactivity"]);if(t!==void 0&&M!=null&&setValueByPath(t,["setup","proactivity"],M),getValueByPath(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function liveConnectConstraintsToMldev(e,t){const n={},i=getValueByPath(t,["model"]);i!=null&&setValueByPath(n,["setup","model"],tModel(e,i));const o=getValueByPath(t,["config"]);return o!=null&&setValueByPath(n,["config"],liveConnectConfigToMldev(o,n)),n}function partToMldev(e){const t={},n=getValueByPath(e,["mediaResolution"]);n!=null&&setValueByPath(t,["mediaResolution"],n);const i=getValueByPath(e,["codeExecutionResult"]);i!=null&&setValueByPath(t,["codeExecutionResult"],i);const o=getValueByPath(e,["executableCode"]);o!=null&&setValueByPath(t,["executableCode"],o);const l=getValueByPath(e,["fileData"]);l!=null&&setValueByPath(t,["fileData"],fileDataToMldev(l));const u=getValueByPath(e,["functionCall"]);u!=null&&setValueByPath(t,["functionCall"],functionCallToMldev(u));const h=getValueByPath(e,["functionResponse"]);h!=null&&setValueByPath(t,["functionResponse"],h);const p=getValueByPath(e,["inlineData"]);p!=null&&setValueByPath(t,["inlineData"],blobToMldev(p));const m=getValueByPath(e,["text"]);m!=null&&setValueByPath(t,["text"],m);const g=getValueByPath(e,["thought"]);g!=null&&setValueByPath(t,["thought"],g);const b=getValueByPath(e,["thoughtSignature"]);b!=null&&setValueByPath(t,["thoughtSignature"],b);const E=getValueByPath(e,["videoMetadata"]);return E!=null&&setValueByPath(t,["videoMetadata"],E),t}function sessionResumptionConfigToMldev(e){const t={},n=getValueByPath(e,["handle"]);if(n!=null&&setValueByPath(t,["handle"],n),getValueByPath(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function toolToMldev(e){const t={},n=getValueByPath(e,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(b=>b)),setValueByPath(t,["functionDeclarations"],g)}if(getValueByPath(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=getValueByPath(e,["googleSearchRetrieval"]);i!=null&&setValueByPath(t,["googleSearchRetrieval"],i);const o=getValueByPath(e,["computerUse"]);o!=null&&setValueByPath(t,["computerUse"],o);const l=getValueByPath(e,["fileSearch"]);l!=null&&setValueByPath(t,["fileSearch"],l);const u=getValueByPath(e,["codeExecution"]);if(u!=null&&setValueByPath(t,["codeExecution"],u),getValueByPath(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=getValueByPath(e,["googleMaps"]);h!=null&&setValueByPath(t,["googleMaps"],googleMapsToMldev(h));const p=getValueByPath(e,["googleSearch"]);p!=null&&setValueByPath(t,["googleSearch"],googleSearchToMldev(p));const m=getValueByPath(e,["urlContext"]);return m!=null&&setValueByPath(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getFieldMasks(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);t.push(...o)}else t.push(n)}return t.join(",")}function convertBidiSetupToTokenSetup(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const l=getFieldMasks(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(m=>u.includes(m)?`generationConfig.${m}`:m));const p=[];l&&p.push(l),h.length>0&&p.push(...h),p.length>0?e.fieldMask=p.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class Tokens extends BaseModule{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=createAuthTokenParametersToMldev(this.apiClient,t);l=formatMap("auth_tokens",h._url),u=h._query,delete h.config,delete h._url,delete h._query;const p=convertBidiSetupToTokenSetup(h,t.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),o.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function deleteDocumentConfigToMldev(e,t){const n={},i=getValueByPath(e,["force"]);return t!==void 0&&i!=null&&setValueByPath(t,["_query","force"],i),n}function deleteDocumentParametersToMldev(e){const t={},n=getValueByPath(e,["name"]);n!=null&&setValueByPath(t,["_url","name"],n);const i=getValueByPath(e,["config"]);return i!=null&&deleteDocumentConfigToMldev(i,t),t}function getDocumentParametersToMldev(e){const t={},n=getValueByPath(e,["name"]);return n!=null&&setValueByPath(t,["_url","name"],n),t}function listDocumentsConfigToMldev(e,t){const n={},i=getValueByPath(e,["pageSize"]);t!==void 0&&i!=null&&setValueByPath(t,["_query","pageSize"],i);const o=getValueByPath(e,["pageToken"]);return t!==void 0&&o!=null&&setValueByPath(t,["_query","pageToken"],o),n}function listDocumentsParametersToMldev(e){const t={},n=getValueByPath(e,["parent"]);n!=null&&setValueByPath(t,["_url","parent"],n);const i=getValueByPath(e,["config"]);return i!=null&&listDocumentsConfigToMldev(i,t),t}function listDocumentsResponseFromMldev(e){const t={},n=getValueByPath(e,["sdkHttpResponse"]);n!=null&&setValueByPath(t,["sdkHttpResponse"],n);const i=getValueByPath(e,["nextPageToken"]);i!=null&&setValueByPath(t,["nextPageToken"],i);const o=getValueByPath(e,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),setValueByPath(t,["documents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Documents extends BaseModule{constructor(t){super(),this.apiClient=t,this.list=async n=>new Pager(PagedItem.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=getDocumentParametersToMldev(t);return l=formatMap("{name}",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=deleteDocumentParametersToMldev(t);o=formatMap("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=listDocumentsParametersToMldev(t);return l=formatMap("{parent}/documents",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=listDocumentsResponseFromMldev(p),g=new ListDocumentsResponse;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FileSearchStores extends BaseModule{constructor(t,n=new Documents(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Pager(PagedItem.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=createFileSearchStoreParametersToMldev(t);return l=formatMap("fileSearchStores",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=getFileSearchStoreParametersToMldev(t);return l=formatMap("{name}",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=deleteFileSearchStoreParametersToMldev(t);o=formatMap("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=listFileSearchStoresParametersToMldev(t);return l=formatMap("fileSearchStores",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=listFileSearchStoresResponseFromMldev(p),g=new ListFileSearchStoresResponse;return Object.assign(g,m),g})}}async uploadToFileSearchStoreInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=uploadToFileSearchStoreParametersToMldev(t);return l=formatMap("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=uploadToFileSearchStoreResumableResponseFromMldev(p),g=new UploadToFileSearchStoreResumableResponse;return Object.assign(g,m),g})}}async importFile(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=importFileParametersToMldev(t);return l=formatMap("{file_search_store_name}:importFile",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=importFileOperationFromMldev(p),g=new ImportFileOperation;return Object.assign(g,m),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uuid4Internal=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return uuid4Internal=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const uuid4=()=>uuid4Internal();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function isAbortError(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const castToError=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GeminiNextGenAPIClientError extends Error{}class APIError extends GeminiNextGenAPIClientError{constructor(t,n,i,o){super(`${APIError.makeMessage(t,n,i)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,i,o){if(!t||!o)return new APIConnectionError({message:i,cause:castToError(n)});const l=n;return t===400?new BadRequestError(t,l,i,o):t===401?new AuthenticationError(t,l,i,o):t===403?new PermissionDeniedError(t,l,i,o):t===404?new NotFoundError(t,l,i,o):t===409?new ConflictError(t,l,i,o):t===422?new UnprocessableEntityError(t,l,i,o):t===429?new RateLimitError(t,l,i,o):t>=500?new InternalServerError(t,l,i,o):new APIError(t,l,i,o)}}class APIUserAbortError extends APIError{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class APIConnectionError extends APIError{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class APIConnectionTimeoutError extends APIConnectionError{constructor({message:t}={}){super({message:t??"Request timed out."})}}class BadRequestError extends APIError{}class AuthenticationError extends APIError{}class PermissionDeniedError extends APIError{}class NotFoundError extends APIError{}class ConflictError extends APIError{}class UnprocessableEntityError extends APIError{}class RateLimitError extends APIError{}class InternalServerError extends APIError{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const startsWithSchemeRegexp=/^[a-z][a-z0-9+.-]*:/i,isAbsoluteURL=e=>startsWithSchemeRegexp.test(e);let isArrayInternal=e=>(isArrayInternal=Array.isArray,isArrayInternal(e));const isArray=isArrayInternal;let isReadonlyArrayInternal=isArray;const isReadonlyArray=isReadonlyArrayInternal;function isEmptyObj(e){if(!e)return!0;for(const t in e)return!1;return!0}function hasOwn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const validatePositiveInteger=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new GeminiNextGenAPIClientError(`${e} must be an integer`);if(t<0)throw new GeminiNextGenAPIClientError(`${e} must be a positive integer`);return t},safeJSON=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sleep$1=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VERSION="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getDetectedPlatform(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const getPlatformProperties=()=>{var e,t,n,i,o;const l=getDetectedPlatform();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform(Deno.build.os),"X-Stainless-Arch":normalizeArch(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":normalizePlatform((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":normalizeArch((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=getBrowserInfo();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function getBrowserInfo(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:t,version:`${o}.${l}.${u}`}}}return null}const normalizeArch=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",normalizePlatform=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let _platformHeaders;const getPlatformHeaders=()=>_platformHeaders??(_platformHeaders=getPlatformProperties());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function getDefaultFetch(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function makeReadableStream(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function ReadableStreamFrom(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return makeReadableStream({start(){},async pull(n){const{done:i,value:o}=await t.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function ReadableStreamToAsyncIterable(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function CancelReadableStream(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FallbackEncoder=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const checkFileSupport=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function makeFile(e,t,n){return checkFileSupport(),new File(e,t??"unknown_file",n)}function getName(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const isAsyncIterable=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const isBlobLike=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",isFileLike=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&isBlobLike(e),isResponseLike=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function toFile(e,t,n){if(checkFileSupport(),e=await e,isFileLike(e))return e instanceof File?e:makeFile([await e.arrayBuffer()],e.name);if(isResponseLike(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),makeFile(await getBytes(o),t,n)}const i=await getBytes(e);if(t||(t=getName(e)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return makeFile(i,t,n)}async function getBytes(e){var t,n,i,o,l;let u=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)u.push(e);else if(isBlobLike(e))u.push(e instanceof Blob?e:await e.arrayBuffer());else if(isAsyncIterable(e))try{for(var h=!0,p=__asyncValues(e),m;m=await p.next(),t=m.done,!t;h=!0){o=m.value,h=!1;const g=o;u.push(...await getBytes(g))}}catch(g){n={error:g}}finally{try{!h&&!t&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const g=(l=e==null?void 0:e.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${g?`; constructor: ${g}`:""}${propsForError(e)}`)}return u}function propsForError(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class APIResource{constructor(t){this._client=t}}APIResource._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function encodeURIPath(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const EMPTY=Object.freeze(Object.create(null)),createPathTagFunction=(e=encodeURIPath)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],u=n.reduce((g,b,E)=>{var _,A,w;/[?#]/.test(b)&&(o=!0);const T=i[E];let C=(o?encodeURIComponent:e)(""+T);return E!==i.length&&(T==null||typeof T=="object"&&T.toString===((w=Object.getPrototypeOf((A=Object.getPrototypeOf((_=T.hasOwnProperty)!==null&&_!==void 0?_:EMPTY))!==null&&A!==void 0?A:EMPTY))===null||w===void 0?void 0:w.toString))&&(C=T+"",l.push({start:g.length+b.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),g+b+(E===i.length?"":C)},""),h=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=p.exec(h))!==null;)l.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(l.sort((g,b)=>g.start-b.start),l.length>0){let g=0;const b=l.reduce((E,_)=>{const A=" ".repeat(_.start-g),w="^".repeat(_.length);return g=_.start+_.length,E+A+w},"");throw new GeminiNextGenAPIClientError(`Path parameters result in path with invalid segments:
${l.map(E=>E.error).join(`
`)}
${u}
${b}`)}return u}),path=createPathTagFunction(encodeURIPath);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BaseInteractions extends APIResource{create(t,n){var i;const{api_version:o=this._client.apiVersion}=t,l=__rest(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new GeminiNextGenAPIClientError("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new GeminiNextGenAPIClientError("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(path`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(path`/${o}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(path`/${o}/interactions/${t}/cancel`,i)}get(t,n={},i){var o;const l=n??{},{api_version:u=this._client.apiVersion}=l,h=__rest(l,["api_version"]);return this._client.get(path`/${u}/interactions/${t}`,Object.assign(Object.assign({query:h},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}BaseInteractions._key=Object.freeze(["interactions"]);class Interactions extends BaseInteractions{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function concatBytes(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let i=0;for(const o of e)n.set(o,i),i+=o.length;return n}let encodeUTF8_;function encodeUTF8(e){let t;return(encodeUTF8_??(t=new globalThis.TextEncoder,encodeUTF8_=t.encode.bind(t)))(e)}let decodeUTF8_;function decodeUTF8(e){let t;return(decodeUTF8_??(t=new globalThis.TextDecoder,decodeUTF8_=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LineDecoder{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?encodeUTF8(t):t;this.buffer=concatBytes([this.buffer,n]);const i=[];let o;for(;(o=findNewlineIndex(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(decodeUTF8(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=decodeUTF8(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}LineDecoder.NEWLINE_CHARS=new Set([`
`,"\r"]);LineDecoder.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function findNewlineIndex(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function findDoubleNewlineIndex(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const levelNumbers={off:0,error:200,warn:300,info:400,debug:500},parseLogLevel=(e,t,n)=>{if(e){if(hasOwn(levelNumbers,e))return e;loggerFor(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(levelNumbers))}`)}};function noop(){}function makeLogFn(e,t,n){return!t||levelNumbers[e]>levelNumbers[n]?noop:t[e].bind(t)}const noopLogger={error:noop,warn:noop,info:noop,debug:noop};let cachedLoggers=new WeakMap;function loggerFor(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return noopLogger;const o=cachedLoggers.get(n);if(o&&o[0]===i)return o[1];const l={error:makeLogFn("error",n,i),warn:makeLogFn("warn",n,i),info:makeLogFn("info",n,i),debug:makeLogFn("debug",n,i)};return cachedLoggers.set(n,[i,l]),l}const formatRequestDetails=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Stream{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let o=!1;const l=i?loggerFor(i):console;function u(){return __asyncGenerator(this,arguments,function*(){var p,m,g,b;if(o)throw new GeminiNextGenAPIClientError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let E=!1;try{try{for(var _=!0,A=__asyncValues(_iterSSEMessages(t,n)),w;w=yield __await(A.next()),p=w.done,!p;_=!0){b=w.value,_=!1;const T=b;if(!E)if(T.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield __await(JSON.parse(T.data))}catch(C){throw l.error("Could not parse message into JSON:",T.data),l.error("From chunk:",T.raw),C}}}catch(T){m={error:T}}finally{try{!_&&!p&&(g=A.return)&&(yield __await(g.call(A)))}finally{if(m)throw m.error}}E=!0}catch(T){if(isAbortError(T))return yield __await(void 0);throw T}finally{E||n.abort()}})}return new Stream(u,n,i)}static fromReadableStream(t,n,i){let o=!1;function l(){return __asyncGenerator(this,arguments,function*(){var p,m,g,b;const E=new LineDecoder,_=ReadableStreamToAsyncIterable(t);try{for(var A=!0,w=__asyncValues(_),T;T=yield __await(w.next()),p=T.done,!p;A=!0){b=T.value,A=!1;const C=b;for(const B of E.decode(C))yield yield __await(B)}}catch(C){m={error:C}}finally{try{!A&&!p&&(g=w.return)&&(yield __await(g.call(w)))}finally{if(m)throw m.error}}for(const C of E.flush())yield yield __await(C)})}function u(){return __asyncGenerator(this,arguments,function*(){var p,m,g,b;if(o)throw new GeminiNextGenAPIClientError("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let E=!1;try{try{for(var _=!0,A=__asyncValues(l()),w;w=yield __await(A.next()),p=w.done,!p;_=!0){b=w.value,_=!1;const T=b;E||T&&(yield yield __await(JSON.parse(T)))}}catch(T){m={error:T}}finally{try{!_&&!p&&(g=A.return)&&(yield __await(g.call(A)))}finally{if(m)throw m.error}}E=!0}catch(T){if(isAbortError(T))return yield __await(void 0);throw T}finally{E||n.abort()}})}return new Stream(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const u=i.next();t.push(u),n.push(u)}return l.shift()}});return[new Stream(()=>o(t),this.controller,this.client),new Stream(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return makeReadableStream({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const u=encodeUTF8(JSON.stringify(o)+`
`);i.enqueue(u)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function _iterSSEMessages(e,t){return __asyncGenerator(this,arguments,function*(){var i,o,l,u;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new GeminiNextGenAPIClientError("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new GeminiNextGenAPIClientError("Attempted to iterate over a response with no body");const h=new SSEDecoder,p=new LineDecoder,m=ReadableStreamToAsyncIterable(e.body);try{for(var g=!0,b=__asyncValues(iterSSEChunks(m)),E;E=yield __await(b.next()),i=E.done,!i;g=!0){u=E.value,g=!1;const _=u;for(const A of p.decode(_)){const w=h.decode(A);w&&(yield yield __await(w))}}}catch(_){o={error:_}}finally{try{!g&&!i&&(l=b.return)&&(yield __await(l.call(b)))}finally{if(o)throw o.error}}for(const _ of p.flush()){const A=h.decode(_);A&&(yield yield __await(A))}})}function iterSSEChunks(e){return __asyncGenerator(this,arguments,function*(){var n,i,o,l;let u=new Uint8Array;try{for(var h=!0,p=__asyncValues(e),m;m=yield __await(p.next()),n=m.done,!n;h=!0){l=m.value,h=!1;const g=l;if(g==null)continue;const b=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?encodeUTF8(g):g;let E=new Uint8Array(u.length+b.length);E.set(u),E.set(b,u.length),u=E;let _;for(;(_=findDoubleNewlineIndex(u))!==-1;)yield yield __await(u.slice(0,_)),u=u.slice(_)}}catch(g){i={error:g}}finally{try{!h&&!n&&(o=p.return)&&(yield __await(o.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield __await(u))})}class SSEDecoder{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,o]=partition(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function partition(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function defaultParseResponse(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=t,u=await(async()=>{var h;if(t.options.stream)return loggerFor(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Stream.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const p=n.headers.get("content-type"),m=(h=p==null?void 0:p.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await n.json():await n.text()})();return loggerFor(e).debug(`[${i}] response parsed`,formatRequestDetails({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class APIPromise extends Promise{constructor(t,n,i=defaultParseResponse){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new APIPromise(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const brand_privateNullableHeaders=Symbol("brand.privateNullableHeaders");function*iterateHeaders(e){if(!e)return;if(brand_privateNullableHeaders in e){const{values:i,nulls:o}=e;yield*i.entries();for(const l of o)yield[l,null];return}let t=!1,n;e instanceof Headers?n=e.entries():isReadonlyArray(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=isReadonlyArray(i[1])?i[1]:[i[1]];let u=!1;for(const h of l)h!==void 0&&(t&&!u&&(u=!0,yield[o,null]),yield[o,h])}}const buildHeaders=e=>{const t=new Headers,n=new Set;for(const i of e){const o=new Set;for(const[l,u]of iterateHeaders(i)){const h=l.toLowerCase();o.has(h)||(t.delete(l),o.add(h)),u===null?(t.delete(l),n.add(h)):(t.append(l,u),n.delete(h))}}return{[brand_privateNullableHeaders]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const readEnv=e=>{var t,n,i,o,l,u;if(typeof globalThis.process<"u")return(i=(n=(t=define_globalThis_process_env_default)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,e))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _a;class BaseGeminiNextGenAPIClient{constructor(t){var n,i,o,l,u,h,p,{baseURL:m=readEnv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=readEnv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:b="v1beta"}=t,E=__rest(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:g,apiVersion:b},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(i=_.timeout)!==null&&i!==void 0?i:BaseGeminiNextGenAPIClient.DEFAULT_TIMEOUT,this.logger=(o=_.logger)!==null&&o!==void 0?o:console;const A="warn";this.logLevel=A,this.logLevel=(u=(l=parseLogLevel(_.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:parseLogLevel(readEnv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:A,this.fetchOptions=_.fetchOptions,this.maxRetries=(h=_.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(p=_.fetch)!==null&&p!==void 0?p:getDefaultFetch(),this.encoder=FallbackEncoder,this._options=_,this.apiKey=g,this.apiVersion=b,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=buildHeaders([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return buildHeaders([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return buildHeaders([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new GeminiNextGenAPIClientError(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${VERSION}`}defaultIdempotencyKey(){return`stainless-node-retry-${uuid4()}`}makeStatusError(t,n,i,o){return APIError.generate(t,n,i,o)}buildURL(t,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=isAbsoluteURL(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),u=this.defaultQuery();return isEmptyObj(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new APIPromise(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var o,l,u;const h=await t,p=(o=h.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(h);const{req:m,url:g,timeout:b}=await this.buildRequest(h,{retryCount:p-n});await this.prepareRequest(m,{url:g,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=i===void 0?"":`, retryOf: ${i}`,A=Date.now();if(loggerFor(this).debug(`[${E}] sending request`,formatRequestDetails({retryOfRequestLogID:i,method:h.method,url:g,options:h,headers:m.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new APIUserAbortError;const w=new AbortController,T=await this.fetchWithTimeout(g,m,b,w).catch(castToError),C=Date.now();if(T instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((u=h.signal)===null||u===void 0)&&u.aborted)throw new APIUserAbortError;const j=isAbortError(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return loggerFor(this).info(`[${E}] connection ${j?"timed out":"failed"} - ${N}`),loggerFor(this).debug(`[${E}] connection ${j?"timed out":"failed"} (${N})`,formatRequestDetails({retryOfRequestLogID:i,url:g,durationMs:C-A,message:T.message})),this.retryRequest(h,n,i??E);throw loggerFor(this).info(`[${E}] connection ${j?"timed out":"failed"} - error; no more retries left`),loggerFor(this).debug(`[${E}] connection ${j?"timed out":"failed"} (error; no more retries left)`,formatRequestDetails({retryOfRequestLogID:i,url:g,durationMs:C-A,message:T.message})),j?new APIConnectionTimeoutError:new APIConnectionError({cause:T})}const B=`[${E}${_}] ${m.method} ${g} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-A}ms`;if(!T.ok){const N=await this.shouldRetry(T);if(n&&N){const U=`retrying, ${n} attempts remaining`;return await CancelReadableStream(T.body),loggerFor(this).info(`${B} - ${U}`),loggerFor(this).debug(`[${E}] response error (${U})`,formatRequestDetails({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:C-A})),this.retryRequest(h,n,i??E,T.headers)}const j=N?"error; no more retries left":"error; not retryable";loggerFor(this).info(`${B} - ${j}`);const M=await T.text().catch(U=>castToError(U).message),D=safeJSON(M),V=D?void 0:M;throw loggerFor(this).debug(`[${E}] response error (${j})`,formatRequestDetails({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,message:V,durationMs:Date.now()-A})),this.makeStatusError(T.status,D,V,T.headers)}return loggerFor(this).info(B),loggerFor(this).debug(`[${E}] response start`,formatRequestDetails({retryOfRequestLogID:i,url:T.url,status:T.status,headers:T.headers,durationMs:C-A})),{response:T,options:h,controller:w,requestLogID:E,retryOfRequestLogID:i,startTime:A}}async fetchWithTimeout(t,n,i,o){const l=n||{},{signal:u,method:h}=l,p=__rest(l,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const m=setTimeout(()=>o.abort(),i),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,b=Object.assign(Object.assign(Object.assign({signal:o.signal},g?{duplex:"half"}:{}),{method:"GET"}),p);h&&(b.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,b)}finally{clearTimeout(m)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,o){var l;let u;const h=o==null?void 0:o.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(u=m)}const p=o==null?void 0:o.get("retry-after");if(p&&!u){const m=parseFloat(p);Number.isNaN(m)?u=Date.parse(p)-Date.now():u=m*1e3}if(!(u&&0<=u&&u<60*1e3)){const m=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,m)}return await sleep$1(u),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const l=n-t,u=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return u*h*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,o,l;const u=Object.assign({},t),{method:h,path:p,query:m,defaultBaseURL:g}=u,b=this.buildURL(p,m,g);"timeout"in u&&validatePositiveInteger("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:E,body:_}=this.buildBody({options:u}),A=await this.buildHeaders({options:t,method:h,bodyHeaders:E,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:A},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:b,timeout:u.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const u=await this.authHeaders(t);let h=buildHeaders([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),getPlatformHeaders()),this._options.defaultHeaders,i,t.headers,u]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=buildHeaders([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:ReadableStreamFrom(t)}:this.encoder({body:t,headers:i})}}BaseGeminiNextGenAPIClient.DEFAULT_TIMEOUT=6e4;class GeminiNextGenAPIClient extends BaseGeminiNextGenAPIClient{constructor(){super(...arguments),this.interactions=new Interactions(this)}}_a=GeminiNextGenAPIClient;GeminiNextGenAPIClient.GeminiNextGenAPIClient=_a;GeminiNextGenAPIClient.GeminiNextGenAPIClientError=GeminiNextGenAPIClientError;GeminiNextGenAPIClient.APIError=APIError;GeminiNextGenAPIClient.APIConnectionError=APIConnectionError;GeminiNextGenAPIClient.APIConnectionTimeoutError=APIConnectionTimeoutError;GeminiNextGenAPIClient.APIUserAbortError=APIUserAbortError;GeminiNextGenAPIClient.NotFoundError=NotFoundError;GeminiNextGenAPIClient.ConflictError=ConflictError;GeminiNextGenAPIClient.RateLimitError=RateLimitError;GeminiNextGenAPIClient.BadRequestError=BadRequestError;GeminiNextGenAPIClient.AuthenticationError=AuthenticationError;GeminiNextGenAPIClient.InternalServerError=InternalServerError;GeminiNextGenAPIClient.PermissionDeniedError=PermissionDeniedError;GeminiNextGenAPIClient.UnprocessableEntityError=UnprocessableEntityError;GeminiNextGenAPIClient.toFile=toFile;GeminiNextGenAPIClient.Interactions=Interactions;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cancelTuningJobParametersToMldev(e,t){const n={},i=getValueByPath(e,["name"]);return i!=null&&setValueByPath(n,["_url","name"],i),n}function cancelTuningJobParametersToVertex(e,t){const n={},i=getValueByPath(e,["name"]);return i!=null&&setValueByPath(n,["_url","name"],i),n}function cancelTuningJobResponseFromMldev(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);return i!=null&&setValueByPath(n,["sdkHttpResponse"],i),n}function cancelTuningJobResponseFromVertex(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);return i!=null&&setValueByPath(n,["sdkHttpResponse"],i),n}function createTuningJobConfigToMldev(e,t,n){const i={};if(getValueByPath(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=getValueByPath(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&setValueByPath(t,["displayName"],o),getValueByPath(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=getValueByPath(e,["epochCount"]);t!==void 0&&l!=null&&setValueByPath(t,["tuningTask","hyperparameters","epochCount"],l);const u=getValueByPath(e,["learningRateMultiplier"]);if(u!=null&&setValueByPath(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),getValueByPath(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(getValueByPath(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(getValueByPath(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=getValueByPath(e,["batchSize"]);t!==void 0&&h!=null&&setValueByPath(t,["tuningTask","hyperparameters","batchSize"],h);const p=getValueByPath(e,["learningRate"]);if(t!==void 0&&p!=null&&setValueByPath(t,["tuningTask","hyperparameters","learningRate"],p),getValueByPath(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(getValueByPath(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function createTuningJobConfigToVertex(e,t,n){const i={};let o=getValueByPath(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const _=getValueByPath(e,["validationDataset"]);t!==void 0&&_!=null&&setValueByPath(t,["supervisedTuningSpec"],tuningValidationDatasetToVertex(_))}else if(o==="PREFERENCE_TUNING"){const _=getValueByPath(e,["validationDataset"]);t!==void 0&&_!=null&&setValueByPath(t,["preferenceOptimizationSpec"],tuningValidationDatasetToVertex(_))}const l=getValueByPath(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&setValueByPath(t,["tunedModelDisplayName"],l);const u=getValueByPath(e,["description"]);t!==void 0&&u!=null&&setValueByPath(t,["description"],u);let h=getValueByPath(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const _=getValueByPath(e,["epochCount"]);t!==void 0&&_!=null&&setValueByPath(t,["supervisedTuningSpec","hyperParameters","epochCount"],_)}else if(h==="PREFERENCE_TUNING"){const _=getValueByPath(e,["epochCount"]);t!==void 0&&_!=null&&setValueByPath(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],_)}let p=getValueByPath(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const _=getValueByPath(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&setValueByPath(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],_)}else if(p==="PREFERENCE_TUNING"){const _=getValueByPath(e,["learningRateMultiplier"]);t!==void 0&&_!=null&&setValueByPath(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],_)}let m=getValueByPath(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const _=getValueByPath(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&setValueByPath(t,["supervisedTuningSpec","exportLastCheckpointOnly"],_)}else if(m==="PREFERENCE_TUNING"){const _=getValueByPath(e,["exportLastCheckpointOnly"]);t!==void 0&&_!=null&&setValueByPath(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],_)}let g=getValueByPath(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const _=getValueByPath(e,["adapterSize"]);t!==void 0&&_!=null&&setValueByPath(t,["supervisedTuningSpec","hyperParameters","adapterSize"],_)}else if(g==="PREFERENCE_TUNING"){const _=getValueByPath(e,["adapterSize"]);t!==void 0&&_!=null&&setValueByPath(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],_)}if(getValueByPath(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(getValueByPath(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const b=getValueByPath(e,["labels"]);t!==void 0&&b!=null&&setValueByPath(t,["labels"],b);const E=getValueByPath(e,["beta"]);return t!==void 0&&E!=null&&setValueByPath(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),i}function createTuningJobParametersPrivateToMldev(e,t){const n={},i=getValueByPath(e,["baseModel"]);i!=null&&setValueByPath(n,["baseModel"],i);const o=getValueByPath(e,["preTunedModel"]);o!=null&&setValueByPath(n,["preTunedModel"],o);const l=getValueByPath(e,["trainingDataset"]);l!=null&&tuningDatasetToMldev(l);const u=getValueByPath(e,["config"]);return u!=null&&createTuningJobConfigToMldev(u,n),n}function createTuningJobParametersPrivateToVertex(e,t){const n={},i=getValueByPath(e,["baseModel"]);i!=null&&setValueByPath(n,["baseModel"],i);const o=getValueByPath(e,["preTunedModel"]);o!=null&&setValueByPath(n,["preTunedModel"],o);const l=getValueByPath(e,["trainingDataset"]);l!=null&&tuningDatasetToVertex(l,n,t);const u=getValueByPath(e,["config"]);return u!=null&&createTuningJobConfigToVertex(u,n,t),n}function getTuningJobParametersToMldev(e,t){const n={},i=getValueByPath(e,["name"]);return i!=null&&setValueByPath(n,["_url","name"],i),n}function getTuningJobParametersToVertex(e,t){const n={},i=getValueByPath(e,["name"]);return i!=null&&setValueByPath(n,["_url","name"],i),n}function listTuningJobsConfigToMldev(e,t,n){const i={},o=getValueByPath(e,["pageSize"]);t!==void 0&&o!=null&&setValueByPath(t,["_query","pageSize"],o);const l=getValueByPath(e,["pageToken"]);t!==void 0&&l!=null&&setValueByPath(t,["_query","pageToken"],l);const u=getValueByPath(e,["filter"]);return t!==void 0&&u!=null&&setValueByPath(t,["_query","filter"],u),i}function listTuningJobsConfigToVertex(e,t,n){const i={},o=getValueByPath(e,["pageSize"]);t!==void 0&&o!=null&&setValueByPath(t,["_query","pageSize"],o);const l=getValueByPath(e,["pageToken"]);t!==void 0&&l!=null&&setValueByPath(t,["_query","pageToken"],l);const u=getValueByPath(e,["filter"]);return t!==void 0&&u!=null&&setValueByPath(t,["_query","filter"],u),i}function listTuningJobsParametersToMldev(e,t){const n={},i=getValueByPath(e,["config"]);return i!=null&&listTuningJobsConfigToMldev(i,n),n}function listTuningJobsParametersToVertex(e,t){const n={},i=getValueByPath(e,["config"]);return i!=null&&listTuningJobsConfigToVertex(i,n),n}function listTuningJobsResponseFromMldev(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);i!=null&&setValueByPath(n,["sdkHttpResponse"],i);const o=getValueByPath(e,["nextPageToken"]);o!=null&&setValueByPath(n,["nextPageToken"],o);const l=getValueByPath(e,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>tuningJobFromMldev(h))),setValueByPath(n,["tuningJobs"],u)}return n}function listTuningJobsResponseFromVertex(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);i!=null&&setValueByPath(n,["sdkHttpResponse"],i);const o=getValueByPath(e,["nextPageToken"]);o!=null&&setValueByPath(n,["nextPageToken"],o);const l=getValueByPath(e,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(h=>tuningJobFromVertex(h))),setValueByPath(n,["tuningJobs"],u)}return n}function tunedModelFromMldev(e,t){const n={},i=getValueByPath(e,["name"]);i!=null&&setValueByPath(n,["model"],i);const o=getValueByPath(e,["name"]);return o!=null&&setValueByPath(n,["endpoint"],o),n}function tuningDatasetToMldev(e,t){const n={};if(getValueByPath(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(getValueByPath(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=getValueByPath(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),setValueByPath(n,["examples","examples"],o)}return n}function tuningDatasetToVertex(e,t,n){const i={};let o=getValueByPath(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=getValueByPath(e,["gcsUri"]);t!==void 0&&u!=null&&setValueByPath(t,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=getValueByPath(e,["gcsUri"]);t!==void 0&&u!=null&&setValueByPath(t,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=getValueByPath(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=getValueByPath(e,["vertexDatasetResource"]);t!==void 0&&u!=null&&setValueByPath(t,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=getValueByPath(e,["vertexDatasetResource"]);t!==void 0&&u!=null&&setValueByPath(t,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(getValueByPath(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function tuningJobFromMldev(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);i!=null&&setValueByPath(n,["sdkHttpResponse"],i);const o=getValueByPath(e,["name"]);o!=null&&setValueByPath(n,["name"],o);const l=getValueByPath(e,["state"]);l!=null&&setValueByPath(n,["state"],tTuningJobStatus(l));const u=getValueByPath(e,["createTime"]);u!=null&&setValueByPath(n,["createTime"],u);const h=getValueByPath(e,["tuningTask","startTime"]);h!=null&&setValueByPath(n,["startTime"],h);const p=getValueByPath(e,["tuningTask","completeTime"]);p!=null&&setValueByPath(n,["endTime"],p);const m=getValueByPath(e,["updateTime"]);m!=null&&setValueByPath(n,["updateTime"],m);const g=getValueByPath(e,["description"]);g!=null&&setValueByPath(n,["description"],g);const b=getValueByPath(e,["baseModel"]);b!=null&&setValueByPath(n,["baseModel"],b);const E=getValueByPath(e,["_self"]);return E!=null&&setValueByPath(n,["tunedModel"],tunedModelFromMldev(E)),n}function tuningJobFromVertex(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);i!=null&&setValueByPath(n,["sdkHttpResponse"],i);const o=getValueByPath(e,["name"]);o!=null&&setValueByPath(n,["name"],o);const l=getValueByPath(e,["state"]);l!=null&&setValueByPath(n,["state"],tTuningJobStatus(l));const u=getValueByPath(e,["createTime"]);u!=null&&setValueByPath(n,["createTime"],u);const h=getValueByPath(e,["startTime"]);h!=null&&setValueByPath(n,["startTime"],h);const p=getValueByPath(e,["endTime"]);p!=null&&setValueByPath(n,["endTime"],p);const m=getValueByPath(e,["updateTime"]);m!=null&&setValueByPath(n,["updateTime"],m);const g=getValueByPath(e,["error"]);g!=null&&setValueByPath(n,["error"],g);const b=getValueByPath(e,["description"]);b!=null&&setValueByPath(n,["description"],b);const E=getValueByPath(e,["baseModel"]);E!=null&&setValueByPath(n,["baseModel"],E);const _=getValueByPath(e,["tunedModel"]);_!=null&&setValueByPath(n,["tunedModel"],_);const A=getValueByPath(e,["preTunedModel"]);A!=null&&setValueByPath(n,["preTunedModel"],A);const w=getValueByPath(e,["supervisedTuningSpec"]);w!=null&&setValueByPath(n,["supervisedTuningSpec"],w);const T=getValueByPath(e,["preferenceOptimizationSpec"]);T!=null&&setValueByPath(n,["preferenceOptimizationSpec"],T);const C=getValueByPath(e,["tuningDataStats"]);C!=null&&setValueByPath(n,["tuningDataStats"],C);const B=getValueByPath(e,["encryptionSpec"]);B!=null&&setValueByPath(n,["encryptionSpec"],B);const N=getValueByPath(e,["partnerModelTuningSpec"]);N!=null&&setValueByPath(n,["partnerModelTuningSpec"],N);const j=getValueByPath(e,["customBaseModel"]);j!=null&&setValueByPath(n,["customBaseModel"],j);const M=getValueByPath(e,["experiment"]);M!=null&&setValueByPath(n,["experiment"],M);const D=getValueByPath(e,["labels"]);D!=null&&setValueByPath(n,["labels"],D);const V=getValueByPath(e,["outputUri"]);V!=null&&setValueByPath(n,["outputUri"],V);const L=getValueByPath(e,["pipelineJob"]);L!=null&&setValueByPath(n,["pipelineJob"],L);const U=getValueByPath(e,["serviceAccount"]);U!=null&&setValueByPath(n,["serviceAccount"],U);const J=getValueByPath(e,["tunedModelDisplayName"]);J!=null&&setValueByPath(n,["tunedModelDisplayName"],J);const $=getValueByPath(e,["veoTuningSpec"]);return $!=null&&setValueByPath(n,["veoTuningSpec"],$),n}function tuningOperationFromMldev(e,t){const n={},i=getValueByPath(e,["sdkHttpResponse"]);i!=null&&setValueByPath(n,["sdkHttpResponse"],i);const o=getValueByPath(e,["name"]);o!=null&&setValueByPath(n,["name"],o);const l=getValueByPath(e,["metadata"]);l!=null&&setValueByPath(n,["metadata"],l);const u=getValueByPath(e,["done"]);u!=null&&setValueByPath(n,["done"],u);const h=getValueByPath(e,["error"]);return h!=null&&setValueByPath(n,["error"],h),n}function tuningValidationDatasetToVertex(e,t){const n={},i=getValueByPath(e,["gcsUri"]);i!=null&&setValueByPath(n,["validationDatasetUri"],i);const o=getValueByPath(e,["vertexDatasetResource"]);return o!=null&&setValueByPath(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tunings extends BaseModule{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Pager(PagedItem.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:JobState.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=getTuningJobParametersToVertex(t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>tuningJobFromVertex(g))}else{const m=getTuningJobParametersToMldev(t);return h=formatMap("{name}",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>tuningJobFromMldev(g))}}async listInternal(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=listTuningJobsParametersToVertex(t);return h=formatMap("tuningJobs",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listTuningJobsResponseFromVertex(g),E=new ListTuningJobsResponse;return Object.assign(E,b),E})}else{const m=listTuningJobsParametersToMldev(t);return h=formatMap("tunedModels",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=listTuningJobsResponseFromMldev(g),E=new ListTuningJobsResponse;return Object.assign(E,b),E})}}async cancel(t){var n,i,o,l;let u,h="",p={};if(this.apiClient.isVertexAI()){const m=cancelTuningJobParametersToVertex(t);return h=formatMap("{name}:cancel",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=cancelTuningJobResponseFromVertex(g),E=new CancelTuningJobResponse;return Object.assign(E,b),E})}else{const m=cancelTuningJobParametersToMldev(t);return h=formatMap("{name}:cancel",m._url),p=m._query,delete m._url,delete m._query,u=this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(b=>{const E=b;return E.sdkHttpResponse={headers:g.headers},E})),u.then(g=>{const b=cancelTuningJobResponseFromMldev(g),E=new CancelTuningJobResponse;return Object.assign(E,b),E})}}async tuneInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const h=createTuningJobParametersPrivateToVertex(t,t);return l=formatMap("tuningJobs",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>tuningJobFromVertex(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=createTuningJobParametersPrivateToMldev(t);return l=formatMap("tunedModels",h._url),u=h._query,delete h._url,delete h._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const g=m;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>tuningOperationFromMldev(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BrowserDownloader{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MAX_CHUNK_SIZE=1024*1024*8,MAX_RETRY_COUNT=3,INITIAL_RETRY_DELAY_MS=1e3,DELAY_MULTIPLIER=2,X_GOOG_UPLOAD_STATUS_HEADER_FIELD="x-goog-upload-status";async function uploadBlob(e,t,n){var i;const o=await uploadBlobInternal(e,t,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function uploadBlobToFileSearchStore(e,t,n){var i;const o=await uploadBlobInternal(e,t,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=uploadToFileSearchStoreOperationFromMldev(l),h=new UploadToFileSearchStoreOperation;return Object.assign(h,u),h}async function uploadBlobInternal(e,t,n){var i,o;let l=0,u=0,h=new HttpResponse(new Response),p="upload";for(l=e.size;u<l;){const m=Math.min(MAX_CHUNK_SIZE,l-u),g=e.slice(u,u+m);u+m>=l&&(p+=", finalize");let b=0,E=INITIAL_RETRY_DELAY_MS;for(;b<MAX_RETRY_COUNT&&(h=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=h==null?void 0:h.headers)===null||i===void 0)&&i[X_GOOG_UPLOAD_STATUS_HEADER_FIELD]));)b++,await sleep(E),E=E*DELAY_MULTIPLIER;if(u+=m,((o=h==null?void 0:h.headers)===null||o===void 0?void 0:o[X_GOOG_UPLOAD_STATUS_HEADER_FIELD])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function getBlobStat(e){return{size:e.size,type:e.type}}function sleep(e){return new Promise(t=>setTimeout(t,e))}class BrowserUploader{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uploadBlob(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uploadBlobToFileSearchStore(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await getBlobStat(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BrowserWebSocketFactory{create(t,n,i){return new BrowserWebSocket(t,n,i)}}class BrowserWebSocket{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GOOGLE_API_KEY_HEADER="x-goog-api-key";class WebAuth{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(GOOGLE_API_KEY_HEADER)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(GOOGLE_API_KEY_HEADER,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LANGUAGE_LABEL_PREFIX="gl-node/";class GoogleGenAI{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new GeminiNextGenAPIClient({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=getBaseUrl(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const o=new WebAuth(this.apiKey);this.apiClient=new ApiClient({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:LANGUAGE_LABEL_PREFIX+"web",uploader:new BrowserUploader,downloader:new BrowserDownloader}),this.models=new Models(this.apiClient),this.live=new Live(this.apiClient,o,new BrowserWebSocketFactory),this.batches=new Batches(this.apiClient),this.chats=new Chats(this.models,this.apiClient),this.caches=new Caches(this.apiClient),this.files=new Files(this.apiClient),this.operations=new Operations(this.apiClient),this.authTokens=new Tokens(this.apiClient),this.tunings=new Tunings(this.apiClient),this.fileSearchStores=new FileSearchStores(this.apiClient)}}const apiKey="AIzaSyD2qyClh5P1xVmXSgE3IGh1ZCu9dcVulIo";console.log("Gemini API Status:",{exists:!0,length:apiKey.length,isPlaceholder:apiKey==="AIzaSy...Your_Actual_Key_Here"});const ai=new GoogleGenAI({apiKey});async function generateQuizFromText(e,t,n,i,o){var h;if(apiKey.includes("Your_Actual_Key_Here"))throw new Error("You are using the placeholder API Key. Please paste your real key from Google AI Studio.");const l="gemini-3-flash-preview",u=`
    Generate a ${n} difficulty quiz about "${t}".
    The quiz should have exactly ${i} questions.
    
    ALSO generate exactly ${o} high-quality flashcards for key concepts defined in the text.
    
    Base everything on the following text content:
    "${e.slice(0,15e3)}" 
    
    If the text is empty or too short, use your general knowledge about the topic.
    Ensure strict JSON output.
  `;try{const p=await ai.models.generateContent({model:l,contents:u,config:{responseMimeType:"application/json",responseSchema:{type:Type.OBJECT,properties:{quizTitle:{type:Type.STRING},questions:{type:Type.ARRAY,items:{type:Type.OBJECT,properties:{id:{type:Type.STRING},text:{type:Type.STRING},options:{type:Type.ARRAY,items:{type:Type.STRING}},correctAnswerIndex:{type:Type.INTEGER},explanation:{type:Type.STRING}},required:["id","text","options","correctAnswerIndex","explanation"]}},flashcards:{type:Type.ARRAY,items:{type:Type.OBJECT,properties:{id:{type:Type.STRING},front:{type:Type.STRING,description:"The term or question on the front of the card"},back:{type:Type.STRING,description:"The definition or answer on the back of the card"}},required:["front","back"]}}},required:["quizTitle","questions","flashcards"]}}});if(!p.text)throw new Error("No response from AI");const m=JSON.parse(p.text);return{id:crypto.randomUUID(),title:m.quizTitle,topic:t,questions:m.questions.map((b,E)=>({...b,id:b.id||`q-${E}`,correctAnswerIndex:Number(b.correctAnswerIndex)})),flashcards:(m.flashcards||[]).map((b,E)=>({...b,id:b.id||`f-${E}`})),createdAt:Date.now()}}catch(p){throw console.error("Quiz generation failed:",p),(h=p.message)!=null&&h.includes("400")||p.status===400?new Error("Invalid API Key. Please check that you copied it correctly."):p}}var Difficulty=(e=>(e.Easy="Easy",e.Medium="Medium",e.Hard="Hard",e))(Difficulty||{});function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,(function(module,exports$1){(function(t,n){module.exports=t.pdfjsLib=n()})(globalThis,()=>(()=>{var __webpack_modules__=[,((e,t)=>{var At;Object.defineProperty(t,"__esModule",{value:!0}),t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.RenderingIntentFlag=t.PromiseCapability=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.MAX_IMAGE_SIZE_TO_CACHE=t.LINE_FACTOR=t.LINE_DESCENT_FACTOR=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FeatureTest=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.BASELINE_FACTOR=t.AnnotationType=t.AnnotationReplyType=t.AnnotationPrefix=t.AnnotationMode=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationEditorType=t.AnnotationEditorPrefix=t.AnnotationEditorParamsType=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0,t.assert=ne,t.bytesToString=Ee,t.createValidAbsoluteUrl=G,t.getModificationDate=Qe,t.getUuid=ft,t.getVerbosityLevel=he,t.info=ee,t.isArrayBuffer=we,t.isArrayEqual=tt,t.isNodeJS=void 0,t.normalizeUnicode=st,t.objectFromMap=Oe,t.objectSize=Ce,t.setVerbosityLevel=me,t.shadow=H,t.string32=De,t.stringToBytes=ye,t.stringToPDFString=Fe,t.stringToUTF8String=Ke,t.unreachable=ce,t.utf8StringToString=qe,t.warn=ie;const n=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n;const i=[1,0,0,1,0,0];t.IDENTITY_MATRIX=i;const o=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=o;const l=1e7;t.MAX_IMAGE_SIZE_TO_CACHE=l;const u=1.35;t.LINE_FACTOR=u;const h=.35;t.LINE_DESCENT_FACTOR=h;const p=h/u;t.BASELINE_FACTOR=p;const m={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=m;const g={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=g;const b="pdfjs_internal_editor_";t.AnnotationEditorPrefix=b;const E={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};t.AnnotationEditorType=E;const _={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};t.AnnotationEditorParamsType=_;const A={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=A;const w={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=w;const T={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=T;const C={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=C;const B={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=B;const N={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=N;const j={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=j;const M={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=M;const D={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=D;const V={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=V;const L={O:"PageOpen",C:"PageClose"};t.PageActionEventType=L;const U={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=U;const J={NONE:0,BINARY:1};t.CMapCompressionType=J;const $={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=$;const K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=K;let te=U.WARNINGS;function me(Ge){Number.isInteger(Ge)&&(te=Ge)}function he(){return te}function ee(Ge){te>=U.INFOS&&console.log(`Info: ${Ge}`)}function ie(Ge){te>=U.WARNINGS&&console.log(`Warning: ${Ge}`)}function ce(Ge){throw new Error(Ge)}function ne(Ge,Re){Ge||ce(Re)}function Z(Ge){switch(Ge==null?void 0:Ge.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function G(Ge,Re=null,Be=null){if(!Ge)return null;try{if(Be&&typeof Ge=="string"){if(Be.addDefaultProtocol&&Ge.startsWith("www.")){const wt=Ge.match(/\./g);(wt==null?void 0:wt.length)>=2&&(Ge=`http://${Ge}`)}if(Be.tryConvertEncoding)try{Ge=Ke(Ge)}catch{}}const ot=Re?new URL(Ge,Re):new URL(Ge);if(Z(ot))return ot}catch{}return null}function H(Ge,Re,Be,ot=!1){return Object.defineProperty(Ge,Re,{value:Be,enumerable:!ot,configurable:!0,writable:!1}),Be}const F=(function(){function Re(Be,ot){this.constructor===Re&&ce("Cannot initialize BaseException."),this.message=Be,this.name=ot}return Re.prototype=new Error,Re.constructor=Re,Re})();t.BaseException=F;class z extends F{constructor(Re,Be){super(Re,"PasswordException"),this.code=Be}}t.PasswordException=z;class Y extends F{constructor(Re,Be){super(Re,"UnknownErrorException"),this.details=Be}}t.UnknownErrorException=Y;class ae extends F{constructor(Re){super(Re,"InvalidPDFException")}}t.InvalidPDFException=ae;class Q extends F{constructor(Re){super(Re,"MissingPDFException")}}t.MissingPDFException=Q;class ue extends F{constructor(Re,Be){super(Re,"UnexpectedResponseException"),this.status=Be}}t.UnexpectedResponseException=ue;class se extends F{constructor(Re){super(Re,"FormatError")}}t.FormatError=se;class ve extends F{constructor(Re){super(Re,"AbortException")}}t.AbortException=ve;function Ee(Ge){(typeof Ge!="object"||(Ge==null?void 0:Ge.length)===void 0)&&ce("Invalid argument for bytesToString");const Re=Ge.length,Be=8192;if(Re<Be)return String.fromCharCode.apply(null,Ge);const ot=[];for(let wt=0;wt<Re;wt+=Be){const St=Math.min(wt+Be,Re),ge=Ge.subarray(wt,St);ot.push(String.fromCharCode.apply(null,ge))}return ot.join("")}function ye(Ge){typeof Ge!="string"&&ce("Invalid argument for stringToBytes");const Re=Ge.length,Be=new Uint8Array(Re);for(let ot=0;ot<Re;++ot)Be[ot]=Ge.charCodeAt(ot)&255;return Be}function De(Ge){return String.fromCharCode(Ge>>24&255,Ge>>16&255,Ge>>8&255,Ge&255)}function Ce(Ge){return Object.keys(Ge).length}function Oe(Ge){const Re=Object.create(null);for(const[Be,ot]of Ge)Re[Be]=ot;return Re}function _e(){const Ge=new Uint8Array(4);return Ge[0]=1,new Uint32Array(Ge.buffer,0,1)[0]===1}function Pe(){try{return new Function(""),!0}catch{return!1}}class oe{static get isLittleEndian(){return H(this,"isLittleEndian",_e())}static get isEvalSupported(){return H(this,"isEvalSupported",Pe())}static get isOffscreenCanvasSupported(){return H(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?H(this,"platform",{isWin:!1,isMac:!1}):H(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Re,Be;return H(this,"isCSSRoundSupported",(Be=(Re=globalThis.CSS)==null?void 0:Re.supports)==null?void 0:Be.call(Re,"width: round(1.5px, 1px)"))}}t.FeatureTest=oe;const pe=[...Array(256).keys()].map(Ge=>Ge.toString(16).padStart(2,"0"));class Se{static makeHexColor(Re,Be,ot){return`#${pe[Re]}${pe[Be]}${pe[ot]}`}static scaleMinMax(Re,Be){let ot;Re[0]?(Re[0]<0&&(ot=Be[0],Be[0]=Be[1],Be[1]=ot),Be[0]*=Re[0],Be[1]*=Re[0],Re[3]<0&&(ot=Be[2],Be[2]=Be[3],Be[3]=ot),Be[2]*=Re[3],Be[3]*=Re[3]):(ot=Be[0],Be[0]=Be[2],Be[2]=ot,ot=Be[1],Be[1]=Be[3],Be[3]=ot,Re[1]<0&&(ot=Be[2],Be[2]=Be[3],Be[3]=ot),Be[2]*=Re[1],Be[3]*=Re[1],Re[2]<0&&(ot=Be[0],Be[0]=Be[1],Be[1]=ot),Be[0]*=Re[2],Be[1]*=Re[2]),Be[0]+=Re[4],Be[1]+=Re[4],Be[2]+=Re[5],Be[3]+=Re[5]}static transform(Re,Be){return[Re[0]*Be[0]+Re[2]*Be[1],Re[1]*Be[0]+Re[3]*Be[1],Re[0]*Be[2]+Re[2]*Be[3],Re[1]*Be[2]+Re[3]*Be[3],Re[0]*Be[4]+Re[2]*Be[5]+Re[4],Re[1]*Be[4]+Re[3]*Be[5]+Re[5]]}static applyTransform(Re,Be){const ot=Re[0]*Be[0]+Re[1]*Be[2]+Be[4],wt=Re[0]*Be[1]+Re[1]*Be[3]+Be[5];return[ot,wt]}static applyInverseTransform(Re,Be){const ot=Be[0]*Be[3]-Be[1]*Be[2],wt=(Re[0]*Be[3]-Re[1]*Be[2]+Be[2]*Be[5]-Be[4]*Be[3])/ot,St=(-Re[0]*Be[1]+Re[1]*Be[0]+Be[4]*Be[1]-Be[5]*Be[0])/ot;return[wt,St]}static getAxialAlignedBoundingBox(Re,Be){const ot=this.applyTransform(Re,Be),wt=this.applyTransform(Re.slice(2,4),Be),St=this.applyTransform([Re[0],Re[3]],Be),ge=this.applyTransform([Re[2],Re[1]],Be);return[Math.min(ot[0],wt[0],St[0],ge[0]),Math.min(ot[1],wt[1],St[1],ge[1]),Math.max(ot[0],wt[0],St[0],ge[0]),Math.max(ot[1],wt[1],St[1],ge[1])]}static inverseTransform(Re){const Be=Re[0]*Re[3]-Re[1]*Re[2];return[Re[3]/Be,-Re[1]/Be,-Re[2]/Be,Re[0]/Be,(Re[2]*Re[5]-Re[4]*Re[3])/Be,(Re[4]*Re[1]-Re[5]*Re[0])/Be]}static singularValueDecompose2dScale(Re){const Be=[Re[0],Re[2],Re[1],Re[3]],ot=Re[0]*Be[0]+Re[1]*Be[2],wt=Re[0]*Be[1]+Re[1]*Be[3],St=Re[2]*Be[0]+Re[3]*Be[2],ge=Re[2]*Be[1]+Re[3]*Be[3],Ue=(ot+ge)/2,et=Math.sqrt((ot+ge)**2-4*(ot*ge-St*wt))/2,ut=Ue+et||1,dt=Ue-et||1;return[Math.sqrt(ut),Math.sqrt(dt)]}static normalizeRect(Re){const Be=Re.slice(0);return Re[0]>Re[2]&&(Be[0]=Re[2],Be[2]=Re[0]),Re[1]>Re[3]&&(Be[1]=Re[3],Be[3]=Re[1]),Be}static intersect(Re,Be){const ot=Math.max(Math.min(Re[0],Re[2]),Math.min(Be[0],Be[2])),wt=Math.min(Math.max(Re[0],Re[2]),Math.max(Be[0],Be[2]));if(ot>wt)return null;const St=Math.max(Math.min(Re[1],Re[3]),Math.min(Be[1],Be[3])),ge=Math.min(Math.max(Re[1],Re[3]),Math.max(Be[1],Be[3]));return St>ge?null:[ot,St,wt,ge]}static bezierBoundingBox(Re,Be,ot,wt,St,ge,Ue,et){const ut=[],dt=[[],[]];let it,fe,de,xe,Ve,je,We,Xe;for(let vt=0;vt<2;++vt){if(vt===0?(fe=6*Re-12*ot+6*St,it=-3*Re+9*ot-9*St+3*Ue,de=3*ot-3*Re):(fe=6*Be-12*wt+6*ge,it=-3*Be+9*wt-9*ge+3*et,de=3*wt-3*Be),Math.abs(it)<1e-12){if(Math.abs(fe)<1e-12)continue;xe=-de/fe,0<xe&&xe<1&&ut.push(xe);continue}We=fe*fe-4*de*it,Xe=Math.sqrt(We),!(We<0)&&(Ve=(-fe+Xe)/(2*it),0<Ve&&Ve<1&&ut.push(Ve),je=(-fe-Xe)/(2*it),0<je&&je<1&&ut.push(je))}let ct=ut.length,lt;const rt=ct;for(;ct--;)xe=ut[ct],lt=1-xe,dt[0][ct]=lt*lt*lt*Re+3*lt*lt*xe*ot+3*lt*xe*xe*St+xe*xe*xe*Ue,dt[1][ct]=lt*lt*lt*Be+3*lt*lt*xe*wt+3*lt*xe*xe*ge+xe*xe*xe*et;return dt[0][rt]=Re,dt[1][rt]=Be,dt[0][rt+1]=Ue,dt[1][rt+1]=et,dt[0].length=dt[1].length=rt+2,[Math.min(...dt[0]),Math.min(...dt[1]),Math.max(...dt[0]),Math.max(...dt[1])]}}t.Util=Se;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(Ge){if(Ge[0]>=""){let Be;if(Ge[0]===""&&Ge[1]===""?Be="utf-16be":Ge[0]===""&&Ge[1]===""?Be="utf-16le":Ge[0]===""&&Ge[1]===""&&Ge[2]===""&&(Be="utf-8"),Be)try{const ot=new TextDecoder(Be,{fatal:!0}),wt=ye(Ge);return ot.decode(wt)}catch(ot){ie(`stringToPDFString: "${ot}".`)}}const Re=[];for(let Be=0,ot=Ge.length;Be<ot;Be++){const wt=ke[Ge.charCodeAt(Be)];Re.push(wt?String.fromCharCode(wt):Ge.charAt(Be))}return Re.join("")}function Ke(Ge){return decodeURIComponent(escape(Ge))}function qe(Ge){return unescape(encodeURIComponent(Ge))}function we(Ge){return typeof Ge=="object"&&(Ge==null?void 0:Ge.byteLength)!==void 0}function tt(Ge,Re){if(Ge.length!==Re.length)return!1;for(let Be=0,ot=Ge.length;Be<ot;Be++)if(Ge[Be]!==Re[Be])return!1;return!0}function Qe(Ge=new Date){return[Ge.getUTCFullYear().toString(),(Ge.getUTCMonth()+1).toString().padStart(2,"0"),Ge.getUTCDate().toString().padStart(2,"0"),Ge.getUTCHours().toString().padStart(2,"0"),Ge.getUTCMinutes().toString().padStart(2,"0"),Ge.getUTCSeconds().toString().padStart(2,"0")].join("")}class gt{constructor(){Ie(this,At,!1);this.promise=new Promise((Re,Be)=>{this.resolve=ot=>{Me(this,At,!0),Re(ot)},this.reject=ot=>{Me(this,At,!0),Be(ot)}})}get settled(){return q(this,At)}}At=new WeakMap,t.PromiseCapability=gt;let pt=null,_t=null;function st(Ge){return pt||(pt=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_t=new Map([["","t"]])),Ge.replaceAll(pt,(Re,Be,ot)=>Be?Be.normalize("NFKC"):_t.get(ot))}function ft(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Ge=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Ge);else for(let Re=0;Re<32;Re++)Ge[Re]=Math.floor(Math.random()*255);return Ee(Ge)}const Et="pdfjs_internal_id_";t.AnnotationPrefix=Et}),((__unused_webpack_module,exports$1,__w_pdfjs_require__)=>{var e,n,i,o,Fi,ao,h,p,m,g,b,E,_,A,w,so,C,B,Cu,j,M;Object.defineProperty(exports$1,"__esModule",{value:!0}),exports$1.RenderTask=exports$1.PDFWorkerUtil=exports$1.PDFWorker=exports$1.PDFPageProxy=exports$1.PDFDocumentProxy=exports$1.PDFDocumentLoadingTask=exports$1.PDFDataRangeTransport=exports$1.LoopbackPort=exports$1.DefaultStandardFontDataFactory=exports$1.DefaultFilterFactory=exports$1.DefaultCanvasFactory=exports$1.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports$1,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports$1.build=void 0,exports$1.getDocument=getDocument,exports$1.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports$1.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports$1.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports$1.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports$1.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(V){if(typeof V=="string"||V instanceof URL?V={url:V}:(0,_util.isArrayBuffer)(V)&&(V={data:V}),typeof V!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!V.url&&!V.data&&!V.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const L=new PDFDocumentLoadingTask,{docId:U}=L,J=V.url?getUrlProp(V.url):null,$=V.data?getDataProp(V.data):null,K=V.httpHeaders||null,te=V.withCredentials===!0,me=V.password??null,he=V.range instanceof PDFDataRangeTransport?V.range:null,ee=Number.isInteger(V.rangeChunkSize)&&V.rangeChunkSize>0?V.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let ie=V.worker instanceof PDFWorker?V.worker:null;const ce=V.verbosity,ne=typeof V.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(V.docBaseUrl)?V.docBaseUrl:null,Z=typeof V.cMapUrl=="string"?V.cMapUrl:null,G=V.cMapPacked!==!1,H=V.CMapReaderFactory||DefaultCMapReaderFactory,F=typeof V.standardFontDataUrl=="string"?V.standardFontDataUrl:null,z=V.StandardFontDataFactory||DefaultStandardFontDataFactory,Y=V.stopAtErrors!==!0,ae=Number.isInteger(V.maxImageSize)&&V.maxImageSize>-1?V.maxImageSize:-1,Q=V.isEvalSupported!==!1,ue=typeof V.isOffscreenCanvasSupported=="boolean"?V.isOffscreenCanvasSupported:!_util.isNodeJS,se=Number.isInteger(V.canvasMaxAreaInBytes)?V.canvasMaxAreaInBytes:-1,ve=typeof V.disableFontFace=="boolean"?V.disableFontFace:_util.isNodeJS,Ee=V.fontExtraProperties===!0,ye=V.enableXfa===!0,De=V.ownerDocument||globalThis.document,Ce=V.disableRange===!0,Oe=V.disableStream===!0,_e=V.disableAutoFetch===!0,Pe=V.pdfBug===!0,oe=he?he.length:V.length??NaN,pe=typeof V.useSystemFonts=="boolean"?V.useSystemFonts:!_util.isNodeJS&&!ve,Se=typeof V.useWorkerFetch=="boolean"?V.useWorkerFetch:H===_display_utils.DOMCMapReaderFactory&&z===_display_utils.DOMStandardFontDataFactory&&Z&&F&&(0,_display_utils.isValidFetchUrl)(Z,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(F,document.baseURI),ke=V.canvasFactory||new DefaultCanvasFactory({ownerDocument:De}),Fe=V.filterFactory||new DefaultFilterFactory({docId:U,ownerDocument:De}),Ke=null;(0,_util.setVerbosityLevel)(ce);const qe={canvasFactory:ke,filterFactory:Fe};if(Se||(qe.cMapReaderFactory=new H({baseUrl:Z,isCompressed:G}),qe.standardFontDataFactory=new z({baseUrl:F})),!ie){const Qe={verbosity:ce,port:_worker_options.GlobalWorkerOptions.workerPort};ie=Qe.port?PDFWorker.fromPort(Qe):new PDFWorker(Qe),L._worker=ie}const we={docId:U,apiVersion:"3.11.174",data:$,password:me,disableAutoFetch:_e,rangeChunkSize:ee,length:oe,docBaseUrl:ne,enableXfa:ye,evaluatorOptions:{maxImageSize:ae,disableFontFace:ve,ignoreErrors:Y,isEvalSupported:Q,isOffscreenCanvasSupported:ue,canvasMaxAreaInBytes:se,fontExtraProperties:Ee,useSystemFonts:pe,cMapUrl:Se?Z:null,standardFontDataUrl:Se?F:null}},tt={ignoreErrors:Y,isEvalSupported:Q,disableFontFace:ve,fontExtraProperties:Ee,enableXfa:ye,ownerDocument:De,disableAutoFetch:_e,pdfBug:Pe,styleElement:Ke};return ie.promise.then(function(){if(L.destroyed)throw new Error("Loading aborted");const Qe=_fetchDocument(ie,we),gt=new Promise(function(pt){let _t;he?_t=new _transport_stream.PDFDataTransportStream({length:oe,initialData:he.initialData,progressiveDone:he.progressiveDone,contentDispositionFilename:he.contentDispositionFilename,disableRange:Ce,disableStream:Oe},he):$||(_t=(ft=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ft):(0,_display_utils.isValidFetchUrl)(ft.url)?new _displayFetch_stream.PDFFetchStream(ft):new _displayNetwork.PDFNetworkStream(ft))({url:J,length:oe,httpHeaders:K,withCredentials:te,rangeChunkSize:ee,disableRange:Ce,disableStream:Oe})),pt(_t)});return Promise.all([Qe,gt]).then(function([pt,_t]){if(L.destroyed)throw new Error("Loading aborted");const st=new _message_handler.MessageHandler(U,pt,ie.port),ft=new WorkerTransport(st,L,_t,tt,qe);L._transport=ft,st.send("Ready",null)})}).catch(L._capability.reject),L}async function _fetchDocument(V,L){if(V.destroyed)throw new Error("Worker was destroyed");const U=await V.messageHandler.sendWithPromise("GetDocRequest",L,L.data?[L.data.buffer]:null);if(V.destroyed)throw new Error("Worker was destroyed");return U}function getUrlProp(V){if(V instanceof URL)return V.href;try{return new URL(V,window.location).href}catch{if(_util.isNodeJS&&typeof V=="string")return V}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(V){if(_util.isNodeJS&&typeof Buffer<"u"&&V instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(V instanceof Uint8Array&&V.byteLength===V.buffer.byteLength)return V;if(typeof V=="string")return(0,_util.stringToBytes)(V);if(typeof V=="object"&&!isNaN(V==null?void 0:V.length)||(0,_util.isArrayBuffer)(V))return new Uint8Array(V);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const t=class t{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Va(t,e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var L,U,J;this.destroyed=!0;try{(L=this._worker)!=null&&L.port&&(this._worker._pendingDestroy=!0),await((U=this._transport)==null?void 0:U.destroy())}catch($){throw(J=this._worker)!=null&&J.port&&delete this._worker._pendingDestroy,$}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};e=new WeakMap,Ie(t,e,0);let PDFDocumentLoadingTask=t;exports$1.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(L,U,J=!1,$=null){this.length=L,this.initialData=U,this.progressiveDone=J,this.contentDispositionFilename=$,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(L){this._rangeListeners.push(L)}addProgressListener(L){this._progressListeners.push(L)}addProgressiveReadListener(L){this._progressiveReadListeners.push(L)}addProgressiveDoneListener(L){this._progressiveDoneListeners.push(L)}onDataRange(L,U){for(const J of this._rangeListeners)J(L,U)}onDataProgress(L,U){this._readyCapability.promise.then(()=>{for(const J of this._progressListeners)J(L,U)})}onDataProgressiveRead(L){this._readyCapability.promise.then(()=>{for(const U of this._progressiveReadListeners)U(L)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const L of this._progressiveDoneListeners)L()})}transportReady(){this._readyCapability.resolve()}requestDataRange(L,U){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports$1.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(L,U){this._pdfInfo=L,this._transport=U,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(J=>{if(!J)return J;const $=[];for(const K in J)$.push(...J[K]);return $}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(L){return this._transport.getPage(L)}getPageIndex(L){return this._transport.getPageIndex(L)}getDestinations(){return this._transport.getDestinations()}getDestination(L){return this._transport.getDestination(L)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(L=!1){return this._transport.startCleanup(L||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports$1.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(L,U,J,$=!1){Ie(this,o);Ie(this,n,null);Ie(this,i,!1);this._pageIndex=L,this._pageInfo=U,this._transport=J,this._stats=$?new _display_utils.StatTimer:null,this._pdfBug=$,this.commonObjs=J.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:L,rotation:U=this.rotate,offsetX:J=0,offsetY:$=0,dontFlip:K=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:L,rotation:U,offsetX:J,offsetY:$,dontFlip:K})}getAnnotations({intent:L="display"}={}){const U=this._transport.getRenderingIntent(L);return this._transport.getAnnotations(this._pageIndex,U.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var L;return((L=this._transport._htmlForXfa)==null?void 0:L.children[this._pageIndex])||null}render({canvasContext:L,viewport:U,intent:J="display",annotationMode:$=_util.AnnotationMode.ENABLE,transform:K=null,background:te=null,optionalContentConfigPromise:me=null,annotationCanvasMap:he=null,pageColors:ee=null,printAnnotationStorage:ie=null}){var z,Y;(z=this._stats)==null||z.time("Overall");const ce=this._transport.getRenderingIntent(J,$,ie);Me(this,i,!1),Ae(this,o,ao).call(this),me||(me=this._transport.getOptionalContentConfig());let ne=this._intentStates.get(ce.cacheKey);ne||(ne=Object.create(null),this._intentStates.set(ce.cacheKey,ne)),ne.streamReaderCancelTimeout&&(clearTimeout(ne.streamReaderCancelTimeout),ne.streamReaderCancelTimeout=null);const Z=!!(ce.renderingIntent&_util.RenderingIntentFlag.PRINT);ne.displayReadyCapability||(ne.displayReadyCapability=new _util.PromiseCapability,ne.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Y=this._stats)==null||Y.time("Page Request"),this._pumpOperatorList(ce));const G=ae=>{var Q,ue;ne.renderTasks.delete(H),(this._maybeCleanupAfterRender||Z)&&Me(this,i,!0),Ae(this,o,Fi).call(this,!Z),ae?(H.capability.reject(ae),this._abortOperatorList({intentState:ne,reason:ae instanceof Error?ae:new Error(ae)})):H.capability.resolve(),(Q=this._stats)==null||Q.timeEnd("Rendering"),(ue=this._stats)==null||ue.timeEnd("Overall")},H=new InternalRenderTask({callback:G,params:{canvasContext:L,viewport:U,transform:K,background:te},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:he,operatorList:ne.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Z,pdfBug:this._pdfBug,pageColors:ee});(ne.renderTasks||(ne.renderTasks=new Set)).add(H);const F=H.task;return Promise.all([ne.displayReadyCapability.promise,me]).then(([ae,Q])=>{var ue;if(this.destroyed){G();return}(ue=this._stats)==null||ue.time("Rendering"),H.initializeGraphics({transparency:ae,optionalContentConfig:Q}),H.operatorListChanged()}).catch(G),F}getOperatorList({intent:L="display",annotationMode:U=_util.AnnotationMode.ENABLE,printAnnotationStorage:J=null}={}){var he;function $(){te.operatorList.lastChunk&&(te.opListReadCapability.resolve(te.operatorList),te.renderTasks.delete(me))}const K=this._transport.getRenderingIntent(L,U,J,!0);let te=this._intentStates.get(K.cacheKey);te||(te=Object.create(null),this._intentStates.set(K.cacheKey,te));let me;return te.opListReadCapability||(me=Object.create(null),me.operatorListChanged=$,te.opListReadCapability=new _util.PromiseCapability,(te.renderTasks||(te.renderTasks=new Set)).add(me),te.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(he=this._stats)==null||he.time("Page Request"),this._pumpOperatorList(K)),te.opListReadCapability.promise}streamTextContent({includeMarkedContent:L=!1,disableNormalization:U=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:L===!0,disableNormalization:U===!0},{highWaterMark:100,size($){return $.items.length}})}getTextContent(L={}){if(this._transport._htmlForXfa)return this.getXfa().then(J=>_xfa_text.XfaText.textContent(J));const U=this.streamTextContent(L);return new Promise(function(J,$){function K(){te.read().then(function({value:he,done:ee}){if(ee){J(me);return}Object.assign(me.styles,he.styles),me.items.push(...he.items),K()},$)}const te=U.getReader(),me={items:[],styles:Object.create(null)};K()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const L=[];for(const U of this._intentStates.values())if(this._abortOperatorList({intentState:U,reason:new Error("Page was destroyed."),force:!0}),!U.opListReadCapability)for(const J of U.renderTasks)L.push(J.completed),J.cancel();return this.objs.clear(),Me(this,i,!1),Ae(this,o,ao).call(this),Promise.all(L)}cleanup(L=!1){Me(this,i,!0);const U=Ae(this,o,Fi).call(this,!1);return L&&U&&this._stats&&(this._stats=new _display_utils.StatTimer),U}_startRenderPage(L,U){var $,K;const J=this._intentStates.get(U);J&&(($=this._stats)==null||$.timeEnd("Page Request"),(K=J.displayReadyCapability)==null||K.resolve(L))}_renderPageChunk(L,U){for(let J=0,$=L.length;J<$;J++)U.operatorList.fnArray.push(L.fnArray[J]),U.operatorList.argsArray.push(L.argsArray[J]);U.operatorList.lastChunk=L.lastChunk,U.operatorList.separateAnnots=L.separateAnnots;for(const J of U.renderTasks)J.operatorListChanged();L.lastChunk&&Ae(this,o,Fi).call(this,!0)}_pumpOperatorList({renderingIntent:L,cacheKey:U,annotationStorageSerializable:J}){const{map:$,transfers:K}=J,me=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:L,cacheKey:U,annotationStorage:$},K).getReader(),he=this._intentStates.get(U);he.streamReader=me;const ee=()=>{me.read().then(({value:ie,done:ce})=>{if(ce){he.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(ie,he),ee())},ie=>{if(he.streamReader=null,!this._transport.destroyed){if(he.operatorList){he.operatorList.lastChunk=!0;for(const ce of he.renderTasks)ce.operatorListChanged();Ae(this,o,Fi).call(this,!0)}if(he.displayReadyCapability)he.displayReadyCapability.reject(ie);else if(he.opListReadCapability)he.opListReadCapability.reject(ie);else throw ie}})};ee()}_abortOperatorList({intentState:L,reason:U,force:J=!1}){if(L.streamReader){if(L.streamReaderCancelTimeout&&(clearTimeout(L.streamReaderCancelTimeout),L.streamReaderCancelTimeout=null),!J){if(L.renderTasks.size>0)return;if(U instanceof _display_utils.RenderingCancelledException){let $=RENDERING_CANCELLED_TIMEOUT;U.extraDelay>0&&U.extraDelay<1e3&&($+=U.extraDelay),L.streamReaderCancelTimeout=setTimeout(()=>{L.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:L,reason:U,force:!0})},$);return}}if(L.streamReader.cancel(new _util.AbortException(U.message)).catch(()=>{}),L.streamReader=null,!this._transport.destroyed){for(const[$,K]of this._intentStates)if(K===L){this._intentStates.delete($);break}this.cleanup()}}}get stats(){return this._stats}}n=new WeakMap,i=new WeakMap,o=new WeakSet,Fi=function(L=!1){if(Ae(this,o,ao).call(this),!q(this,i)||this.destroyed)return!1;if(L)return Me(this,n,setTimeout(()=>{Me(this,n,null),Ae(this,o,Fi).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:U,operatorList:J}of this._intentStates.values())if(U.size>0||!J.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Me(this,i,!1),!0},ao=function(){q(this,n)&&(clearTimeout(q(this,n)),Me(this,n,null))},exports$1.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Ie(this,h,new Set);Ie(this,p,Promise.resolve())}postMessage(L,U){const J={data:structuredClone(L,U?{transfer:U}:null)};q(this,p).then(()=>{for(const $ of q(this,h))$.call(this,J)})}addEventListener(L,U){q(this,h).add(U)}removeEventListener(L,U){q(this,h).delete(U)}terminate(){q(this,h).clear()}}h=new WeakMap,p=new WeakMap,exports$1.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports$1.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const V=(m=document==null?void 0:document.currentScript)==null?void 0:m.src;V&&(PDFWorkerUtil.fallbackWorkerSrc=V.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(V,L){let U;try{if(U=new URL(V),!U.origin||U.origin==="null")return!1}catch{return!1}const J=new URL(L,U);return U.origin===J.origin},PDFWorkerUtil.createCDNWrapper=function(V){const L=`importScripts("${V}");`;return URL.createObjectURL(new Blob([L]))}}const _PDFWorker=class _PDFWorker{constructor({name:V=null,port:L=null,verbosity:U=(0,_util.getVerbosityLevel)()}={}){var J;if(this.name=V,this.destroyed=!1,this.verbosity=U,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,L){if((J=q(_PDFWorker,g))!=null&&J.has(L))throw new Error("Cannot use more than one PDFWorker per port.");(q(_PDFWorker,g)||Me(_PDFWorker,g,new WeakMap)).set(L,this),this._initializeFromPort(L);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(V){this._port=V,this._messageHandler=new _message_handler.MessageHandler("main","worker",V),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:V}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,V)||(V=PDFWorkerUtil.createCDNWrapper(new URL(V,window.location).href));const L=new Worker(V),U=new _message_handler.MessageHandler("main","worker",L),J=()=>{L.removeEventListener("error",$),U.destroy(),L.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},$=()=>{this._webWorker||J()};L.addEventListener("error",$),U.on("test",te=>{if(L.removeEventListener("error",$),this.destroyed){J();return}te?(this._messageHandler=U,this._port=L,this._webWorker=L,this._readyCapability.resolve(),U.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),U.destroy(),L.terminate())}),U.on("ready",te=>{if(L.removeEventListener("error",$),this.destroyed){J();return}try{K()}catch{this._setupFakeWorker()}});const K=()=>{const te=new Uint8Array;U.send("test",te,[te.buffer])};K();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(V=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const L=new LoopbackPort;this._port=L;const U=`fake${PDFWorkerUtil.fakeWorkerId++}`,J=new _message_handler.MessageHandler(U+"_worker",U,L);V.setup(J,L);const $=new _message_handler.MessageHandler(U,U+"_worker",L);this._messageHandler=$,this._readyCapability.resolve(),$.send("configure",{verbosity:this.verbosity})}).catch(V=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${V.message}".`))})}destroy(){var V;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(V=q(_PDFWorker,g))==null||V.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(V){var U;if(!(V!=null&&V.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const L=(U=q(this,g))==null?void 0:U.get(V.port);if(L){if(L._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return L}return new _PDFWorker(V)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var V;try{return((V=globalThis.pdfjsWorker)==null?void 0:V.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};g=new WeakMap,Ie(_PDFWorker,g);let PDFWorker=_PDFWorker;exports$1.PDFWorker=PDFWorker;class WorkerTransport{constructor(L,U,J,$,K){Ie(this,w);Ie(this,b,new Map);Ie(this,E,new Map);Ie(this,_,new Map);Ie(this,A,null);this.messageHandler=L,this.loadingTask=U,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:$.ownerDocument,styleElement:$.styleElement}),this._params=$,this.canvasFactory=K.canvasFactory,this.filterFactory=K.filterFactory,this.cMapReaderFactory=K.cMapReaderFactory,this.standardFontDataFactory=K.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=J,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(L,U=_util.AnnotationMode.ENABLE,J=null,$=!1){let K=_util.RenderingIntentFlag.DISPLAY,te=_annotation_storage.SerializableEmpty;switch(L){case"any":K=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":K=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${L}`)}switch(U){case _util.AnnotationMode.DISABLE:K+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:K+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:K+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,te=(K&_util.RenderingIntentFlag.PRINT&&J instanceof _annotation_storage.PrintAnnotationStorage?J:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${U}`)}return $&&(K+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:K,cacheKey:`${K}_${te.hash}`,annotationStorageSerializable:te}}destroy(){var J;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(J=q(this,A))==null||J.reject(new Error("Worker was destroyed during onPassword callback"));const L=[];for(const $ of q(this,E).values())L.push($._destroy());q(this,E).clear(),q(this,_).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const U=this.messageHandler.sendWithPromise("Terminate",null);return L.push(U),Promise.all(L).then(()=>{var $;this.commonObjs.clear(),this.fontLoader.clear(),q(this,b).clear(),this.filterFactory.destroy(),($=this._networkStream)==null||$.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:L,loadingTask:U}=this;L.on("GetReader",(J,$)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=K=>{this._lastProgress={loaded:K.loaded,total:K.total}},$.onPull=()=>{this._fullReader.read().then(function({value:K,done:te}){if(te){$.close();return}(0,_util.assert)(K instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),$.enqueue(new Uint8Array(K),1,[K])}).catch(K=>{$.error(K)})},$.onCancel=K=>{this._fullReader.cancel(K),$.ready.catch(te=>{if(!this.destroyed)throw te})}}),L.on("ReaderHeadersReady",J=>{const $=new _util.PromiseCapability,K=this._fullReader;return K.headersReady.then(()=>{var te;(!K.isStreamingSupported||!K.isRangeSupported)&&(this._lastProgress&&((te=U.onProgress)==null||te.call(U,this._lastProgress)),K.onProgress=me=>{var he;(he=U.onProgress)==null||he.call(U,{loaded:me.loaded,total:me.total})}),$.resolve({isStreamingSupported:K.isStreamingSupported,isRangeSupported:K.isRangeSupported,contentLength:K.contentLength})},$.reject),$.promise}),L.on("GetRangeReader",(J,$)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const K=this._networkStream.getRangeReader(J.begin,J.end);if(!K){$.close();return}$.onPull=()=>{K.read().then(function({value:te,done:me}){if(me){$.close();return}(0,_util.assert)(te instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),$.enqueue(new Uint8Array(te),1,[te])}).catch(te=>{$.error(te)})},$.onCancel=te=>{K.cancel(te),$.ready.catch(me=>{if(!this.destroyed)throw me})}}),L.on("GetDoc",({pdfInfo:J})=>{this._numPages=J.numPages,this._htmlForXfa=J.htmlForXfa,delete J.htmlForXfa,U._capability.resolve(new PDFDocumentProxy(J,this))}),L.on("DocException",function(J){let $;switch(J.name){case"PasswordException":$=new _util.PasswordException(J.message,J.code);break;case"InvalidPDFException":$=new _util.InvalidPDFException(J.message);break;case"MissingPDFException":$=new _util.MissingPDFException(J.message);break;case"UnexpectedResponseException":$=new _util.UnexpectedResponseException(J.message,J.status);break;case"UnknownErrorException":$=new _util.UnknownErrorException(J.message,J.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}U._capability.reject($)}),L.on("PasswordRequest",J=>{if(Me(this,A,new _util.PromiseCapability),U.onPassword){const $=K=>{K instanceof Error?q(this,A).reject(K):q(this,A).resolve({password:K})};try{U.onPassword($,J.code)}catch(K){q(this,A).reject(K)}}else q(this,A).reject(new _util.PasswordException(J.message,J.code));return q(this,A).promise}),L.on("DataLoaded",J=>{var $;($=U.onProgress)==null||$.call(U,{loaded:J.length,total:J.length}),this.downloadInfoCapability.resolve(J)}),L.on("StartRenderPage",J=>{if(this.destroyed)return;q(this,E).get(J.pageIndex)._startRenderPage(J.transparency,J.cacheKey)}),L.on("commonobj",([J,$,K])=>{var te;if(!this.destroyed&&!this.commonObjs.has(J))switch($){case"Font":const me=this._params;if("error"in K){const ie=K.error;(0,_util.warn)(`Error during font loading: ${ie}`),this.commonObjs.resolve(J,ie);break}const he=me.pdfBug&&((te=globalThis.FontInspector)!=null&&te.enabled)?(ie,ce)=>globalThis.FontInspector.fontAdded(ie,ce):null,ee=new _font_loader.FontFaceObject(K,{isEvalSupported:me.isEvalSupported,disableFontFace:me.disableFontFace,ignoreErrors:me.ignoreErrors,inspectFont:he});this.fontLoader.bind(ee).catch(ie=>L.sendWithPromise("FontFallback",{id:J})).finally(()=>{!me.fontExtraProperties&&ee.data&&(ee.data=null),this.commonObjs.resolve(J,ee)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(J,K);break;default:throw new Error(`Got unknown common object type ${$}`)}}),L.on("obj",([J,$,K,te])=>{var he;if(this.destroyed)return;const me=q(this,E).get($);if(!me.objs.has(J))switch(K){case"Image":if(me.objs.resolve(J,te),te){let ee;if(te.bitmap){const{width:ie,height:ce}=te;ee=ie*ce*4}else ee=((he=te.data)==null?void 0:he.length)||0;ee>_util.MAX_IMAGE_SIZE_TO_CACHE&&(me._maybeCleanupAfterRender=!0)}break;case"Pattern":me.objs.resolve(J,te);break;default:throw new Error(`Got unknown object type ${K}`)}}),L.on("DocProgress",J=>{var $;this.destroyed||($=U.onProgress)==null||$.call(U,{loaded:J.loaded,total:J.total})}),L.on("FetchBuiltInCMap",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(J):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),L.on("FetchStandardFontData",J=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(J):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var J;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:L,transfers:U}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:L,filename:((J=this._fullReader)==null?void 0:J.filename)??null},U).finally(()=>{this.annotationStorage.resetModified()})}getPage(L){if(!Number.isInteger(L)||L<=0||L>this._numPages)return Promise.reject(new Error("Invalid page request."));const U=L-1,J=q(this,_).get(U);if(J)return J;const $=this.messageHandler.sendWithPromise("GetPage",{pageIndex:U}).then(K=>{if(this.destroyed)throw new Error("Transport destroyed");const te=new PDFPageProxy(U,K,this,this._params.pdfBug);return q(this,E).set(U,te),te});return q(this,_).set(U,$),$}getPageIndex(L){return typeof L!="object"||L===null||!Number.isInteger(L.num)||L.num<0||!Number.isInteger(L.gen)||L.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:L.num,gen:L.gen})}getAnnotations(L,U){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:L,intent:U})}getFieldObjects(){return Ae(this,w,so).call(this,"GetFieldObjects")}hasJSActions(){return Ae(this,w,so).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(L){return typeof L!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:L})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ae(this,w,so).call(this,"GetDocJSActions")}getPageJSActions(L){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:L})}getStructTree(L){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:L})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(L=>new _optional_content_config.OptionalContentConfig(L))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const L="GetMetadata",U=q(this,b).get(L);if(U)return U;const J=this.messageHandler.sendWithPromise(L,null).then($=>{var K,te;return{info:$[0],metadata:$[1]?new _metadata.Metadata($[1]):null,contentDispositionFilename:((K=this._fullReader)==null?void 0:K.filename)??null,contentLength:((te=this._fullReader)==null?void 0:te.contentLength)??null}});return q(this,b).set(L,J),J}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(L=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const U of q(this,E).values())if(!U.cleanup())throw new Error(`startCleanup: Page ${U.pageNumber} is currently rendering.`);this.commonObjs.clear(),L||this.fontLoader.clear(),q(this,b).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:L,enableXfa:U}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:L,enableXfa:U})}}b=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,w=new WeakSet,so=function(L,U=null){const J=q(this,b).get(L);if(J)return J;const $=this.messageHandler.sendWithPromise(L,U);return q(this,b).set(L,$),$};class PDFObjects{constructor(){Ie(this,B);Ie(this,C,Object.create(null))}get(L,U=null){if(U){const $=Ae(this,B,Cu).call(this,L);return $.capability.promise.then(()=>U($.data)),null}const J=q(this,C)[L];if(!(J!=null&&J.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${L}.`);return J.data}has(L){const U=q(this,C)[L];return(U==null?void 0:U.capability.settled)||!1}resolve(L,U=null){const J=Ae(this,B,Cu).call(this,L);J.data=U,J.capability.resolve()}clear(){var L;for(const U in q(this,C)){const{data:J}=q(this,C)[U];(L=J==null?void 0:J.bitmap)==null||L.close()}Me(this,C,Object.create(null))}}C=new WeakMap,B=new WeakSet,Cu=function(L){var U;return(U=q(this,C))[L]||(U[L]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(L){Ie(this,j,null);Me(this,j,L),this.onContinue=null}get promise(){return q(this,j).capability.promise}cancel(L=0){q(this,j).cancel(null,L)}get separateAnnots(){const{separateAnnots:L}=q(this,j).operatorList;if(!L)return!1;const{annotationCanvasMap:U}=q(this,j);return L.form||L.canvas&&(U==null?void 0:U.size)>0}}j=new WeakMap,exports$1.RenderTask=RenderTask;const D=class D{constructor({callback:L,params:U,objs:J,commonObjs:$,annotationCanvasMap:K,operatorList:te,pageIndex:me,canvasFactory:he,filterFactory:ee,useRequestAnimationFrame:ie=!1,pdfBug:ce=!1,pageColors:ne=null}){this.callback=L,this.params=U,this.objs=J,this.commonObjs=$,this.annotationCanvasMap=K,this.operatorListIdx=null,this.operatorList=te,this._pageIndex=me,this.canvasFactory=he,this.filterFactory=ee,this._pdfBug=ce,this.pageColors=ne,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=ie===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=U.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:L=!1,optionalContentConfig:U}){var me,he;if(this.cancelled)return;if(this._canvas){if(q(D,M).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");q(D,M).add(this._canvas)}this._pdfBug&&((me=globalThis.StepperManager)!=null&&me.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:J,viewport:$,transform:K,background:te}=this.params;this.gfx=new _canvas.CanvasGraphics(J,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:U},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:K,viewport:$,transparency:L,background:te}),this.operatorListIdx=0,this.graphicsReady=!0,(he=this.graphicsReadyCallback)==null||he.call(this)}cancel(L=null,U=0){var J;this.running=!1,this.cancelled=!0,(J=this.gfx)==null||J.endDrawing(),q(D,M).delete(this._canvas),this.callback(L||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,U))}operatorListChanged(){var L;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(L=this.stepper)==null||L.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),q(D,M).delete(this._canvas),this.callback())))}};M=new WeakMap,Ie(D,M,new WeakSet);let InternalRenderTask=D;const version="3.11.174";exports$1.version=version;const build="ce8716743";exports$1.build=build}),((e,t,n)=>{var m,g,b,rp,_;Object.defineProperty(t,"__esModule",{value:!0}),t.SerializableEmpty=t.PrintAnnotationStorage=t.AnnotationStorage=void 0;var i=n(1),o=n(4),l=n(8);const u=Object.freeze({map:null,hash:"",transfers:void 0});t.SerializableEmpty=u;class h{constructor(){Ie(this,b);Ie(this,m,!1);Ie(this,g,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(w,T){const C=q(this,g).get(w);return C===void 0?T:Object.assign(T,C)}getRawValue(w){return q(this,g).get(w)}remove(w){if(q(this,g).delete(w),q(this,g).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const T of q(this,g).values())if(T instanceof o.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(w,T){const C=q(this,g).get(w);let B=!1;if(C!==void 0)for(const[N,j]of Object.entries(T))C[N]!==j&&(B=!0,C[N]=j);else B=!0,q(this,g).set(w,T);B&&Ae(this,b,rp).call(this),T instanceof o.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(T.constructor._type)}has(w){return q(this,g).has(w)}getAll(){return q(this,g).size>0?(0,i.objectFromMap)(q(this,g)):null}setAll(w){for(const[T,C]of Object.entries(w))this.setValue(T,C)}get size(){return q(this,g).size}resetModified(){q(this,m)&&(Me(this,m,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new p(this)}get serializable(){if(q(this,g).size===0)return u;const w=new Map,T=new l.MurmurHash3_64,C=[],B=Object.create(null);let N=!1;for(const[j,M]of q(this,g)){const D=M instanceof o.AnnotationEditor?M.serialize(!1,B):M;D&&(w.set(j,D),T.update(`${j}:${JSON.stringify(D)}`),N||(N=!!D.bitmap))}if(N)for(const j of w.values())j.bitmap&&C.push(j.bitmap);return w.size>0?{map:w,hash:T.hexdigest(),transfers:C}:u}}m=new WeakMap,g=new WeakMap,b=new WeakSet,rp=function(){q(this,m)||(Me(this,m,!0),typeof this.onSetModified=="function"&&this.onSetModified())},t.AnnotationStorage=h;class p extends h{constructor(T){super();Ie(this,_);const{map:C,hash:B,transfers:N}=T.serializable,j=structuredClone(C,N?{transfer:N}:null);Me(this,_,{map:j,hash:B,transfers:N})}get print(){(0,i.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return q(this,_)}}_=new WeakMap,t.PrintAnnotationStorage=p}),((e,t,n)=>{var p,m,g,b,E,_,A,w,T,C,B,N,j,M,D,Ru,ku,U,Iu,Mu,np,ip,ap,Bu,sp;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditor=void 0;var i=n(5),o=n(1),l=n(6);const ie=class ie{constructor(ne){Ie(this,D);Ie(this,p,"");Ie(this,m,!1);Ie(this,g,null);Ie(this,b,null);Ie(this,E,null);Ie(this,_,!1);Ie(this,A,null);Ie(this,w,this.focusin.bind(this));Ie(this,T,this.focusout.bind(this));Ie(this,C,!1);Ie(this,B,!1);Ie(this,N,!1);Lt(this,"_initialOptions",Object.create(null));Lt(this,"_uiManager",null);Lt(this,"_focusEventsAllowed",!0);Lt(this,"_l10nPromise",null);Ie(this,j,!1);Ie(this,M,ie._zIndex++);this.constructor===ie&&(0,o.unreachable)("Cannot initialize AnnotationEditor."),this.parent=ne.parent,this.id=ne.id,this.width=this.height=null,this.pageIndex=ne.parent.pageIndex,this.name=ne.name,this.div=null,this._uiManager=ne.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=ne.isCentered,this._structTreeParentId=null;const{rotation:Z,rawDims:{pageWidth:G,pageHeight:H,pageX:F,pageY:z}}=this.parent.viewport;this.rotation=Z,this.pageRotation=(360+Z-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[G,H],this.pageTranslation=[F,z];const[Y,ae]=this.parentDimensions;this.x=ne.x/Y,this.y=ne.y/ae,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,o.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(ne){const Z=new h({id:ne.parent.getNextId(),parent:ne.parent,uiManager:ne._uiManager});Z.annotationElementId=ne.annotationElementId,Z.deleted=!0,Z._uiManager.addToAnnotationStorage(Z)}static initialize(ne,Z=null){if(ie._l10nPromise||(ie._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(H=>[H,ne.get(H)]))),Z!=null&&Z.strings)for(const H of Z.strings)ie._l10nPromise.set(H,ne.get(H));if(ie._borderLineWidth!==-1)return;const G=getComputedStyle(document.documentElement);ie._borderLineWidth=parseFloat(G.getPropertyValue("--outline-width"))||0}static updateDefaultParams(ne,Z){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(ne){return!1}static paste(ne,Z){(0,o.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return q(this,j)}set _isDraggable(ne){var Z;Me(this,j,ne),(Z=this.div)==null||Z.classList.toggle("draggable",ne)}center(){const[ne,Z]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Z/(ne*2),this.y+=this.width*ne/(Z*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Z/(ne*2),this.y-=this.width*ne/(Z*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(ne){this._uiManager.addCommands(ne)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=q(this,M)}setParent(ne){ne!==null&&(this.pageIndex=ne.pageIndex,this.pageDimensions=ne.pageDimensions),this.parent=ne}focusin(ne){this._focusEventsAllowed&&(q(this,C)?Me(this,C,!1):this.parent.setSelected(this))}focusout(ne){var G;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Z=ne.relatedTarget;Z!=null&&Z.closest(`#${this.id}`)||(ne.preventDefault(),(G=this.parent)!=null&&G.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(ne,Z,G,H){const[F,z]=this.parentDimensions;[G,H]=this.screenToPageTranslation(G,H),this.x=(ne+G)/F,this.y=(Z+H)/z,this.fixAndSetPosition()}translate(ne,Z){Ae(this,D,Ru).call(this,this.parentDimensions,ne,Z)}translateInPage(ne,Z){Ae(this,D,Ru).call(this,this.pageDimensions,ne,Z),this.div.scrollIntoView({block:"nearest"})}drag(ne,Z){const[G,H]=this.parentDimensions;if(this.x+=ne/G,this.y+=Z/H,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Q,y:ue}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Q,ue)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:F,y:z}=this;const[Y,ae]=Ae(this,D,ku).call(this);F+=Y,z+=ae,this.div.style.left=`${(100*F).toFixed(2)}%`,this.div.style.top=`${(100*z).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[ne,Z]=this.pageDimensions;let{x:G,y:H,width:F,height:z}=this;switch(F*=ne,z*=Z,G*=ne,H*=Z,this.rotation){case 0:G=Math.max(0,Math.min(ne-F,G)),H=Math.max(0,Math.min(Z-z,H));break;case 90:G=Math.max(0,Math.min(ne-z,G)),H=Math.min(Z,Math.max(F,H));break;case 180:G=Math.min(ne,Math.max(F,G)),H=Math.min(Z,Math.max(z,H));break;case 270:G=Math.min(ne,Math.max(z,G)),H=Math.max(0,Math.min(Z-F,H));break}this.x=G/=ne,this.y=H/=Z;const[Y,ae]=Ae(this,D,ku).call(this);G+=Y,H+=ae;const{style:Q}=this.div;Q.left=`${(100*G).toFixed(2)}%`,Q.top=`${(100*H).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(ne,Z){var G;return Ae(G=ie,U,Iu).call(G,ne,Z,this.parentRotation)}pageTranslationToScreen(ne,Z){var G;return Ae(G=ie,U,Iu).call(G,ne,Z,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:ne,pageDimensions:[Z,G]}=this,H=Z*ne,F=G*ne;return o.FeatureTest.isCSSRoundSupported?[Math.round(H),Math.round(F)]:[H,F]}setDims(ne,Z){var F;const[G,H]=this.parentDimensions;this.div.style.width=`${(100*ne/G).toFixed(2)}%`,q(this,_)||(this.div.style.height=`${(100*Z/H).toFixed(2)}%`),(F=q(this,g))==null||F.classList.toggle("small",ne<ie.SMALL_EDITOR_SIZE||Z<ie.SMALL_EDITOR_SIZE)}fixDims(){const{style:ne}=this.div,{height:Z,width:G}=ne,H=G.endsWith("%"),F=!q(this,_)&&Z.endsWith("%");if(H&&F)return;const[z,Y]=this.parentDimensions;H||(ne.width=`${(100*parseFloat(G)/z).toFixed(2)}%`),!q(this,_)&&!F&&(ne.height=`${(100*parseFloat(Z)/Y).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(q(this,g))return;const ne=Me(this,g,document.createElement("button"));ne.className="altText";const Z=await ie._l10nPromise.get("editor_alt_text_button_label");ne.textContent=Z,ne.setAttribute("aria-label",Z),ne.tabIndex="0",ne.addEventListener("contextmenu",l.noContextMenu),ne.addEventListener("pointerdown",G=>G.stopPropagation()),ne.addEventListener("click",G=>{G.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),ne.addEventListener("keydown",G=>{G.target===ne&&G.key==="Enter"&&(G.preventDefault(),this._uiManager.editAltText(this))}),Ae(this,D,Bu).call(this),this.div.append(ne),ie.SMALL_EDITOR_SIZE||(ie.SMALL_EDITOR_SIZE=Math.min(128,Math.round(ne.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:q(this,p),decorative:q(this,m)}}set altTextData({altText:ne,decorative:Z}){q(this,p)===ne&&q(this,m)===Z||(Me(this,p,ne),Me(this,m,Z),Ae(this,D,Bu).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",q(this,w)),this.div.addEventListener("focusout",q(this,T));const[ne,Z]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Z/ne).toFixed(2)}%`,this.div.style.maxHeight=`${(100*ne/Z).toFixed(2)}%`);const[G,H]=this.getInitialTranslation();return this.translate(G,H),(0,i.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(ne){const{isMac:Z}=o.FeatureTest.platform;if(ne.button!==0||ne.ctrlKey&&Z){ne.preventDefault();return}Me(this,C,!0),Ae(this,D,sp).call(this,ne)}moveInDOM(){var ne;(ne=this.parent)==null||ne.moveEditorInDOM(this)}_setParentAndPosition(ne,Z,G){ne.changeParent(this),this.x=Z,this.y=G,this.fixAndSetPosition()}getRect(ne,Z){const G=this.parentScale,[H,F]=this.pageDimensions,[z,Y]=this.pageTranslation,ae=ne/G,Q=Z/G,ue=this.x*H,se=this.y*F,ve=this.width*H,Ee=this.height*F;switch(this.rotation){case 0:return[ue+ae+z,F-se-Q-Ee+Y,ue+ae+ve+z,F-se-Q+Y];case 90:return[ue+Q+z,F-se+ae+Y,ue+Q+Ee+z,F-se+ae+ve+Y];case 180:return[ue-ae-ve+z,F-se+Q+Y,ue-ae+z,F-se+Q+Ee+Y];case 270:return[ue-Q-Ee+z,F-se-ae-ve+Y,ue-Q+z,F-se-ae+Y];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(ne,Z){const[G,H,F,z]=ne,Y=F-G,ae=z-H;switch(this.rotation){case 0:return[G,Z-z,Y,ae];case 90:return[G,Z-H,ae,Y];case 180:return[F,Z-H,Y,ae];case 270:return[F,Z-z,ae,Y];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Me(this,N,!0)}disableEditMode(){Me(this,N,!1)}isInEditMode(){return q(this,N)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var ne,Z;(ne=this.div)==null||ne.addEventListener("focusin",q(this,w)),(Z=this.div)==null||Z.addEventListener("focusout",q(this,T))}serialize(ne=!1,Z=null){(0,o.unreachable)("An editor must be serializable")}static deserialize(ne,Z,G){const H=new this.prototype.constructor({parent:Z,id:Z.getNextId(),uiManager:G});H.rotation=ne.rotation;const[F,z]=H.pageDimensions,[Y,ae,Q,ue]=H.getRectInCurrentCoords(ne.rect,z);return H.x=Y/F,H.y=ae/z,H.width=Q/F,H.height=ue/z,H}remove(){var ne;this.div.removeEventListener("focusin",q(this,w)),this.div.removeEventListener("focusout",q(this,T)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(ne=q(this,g))==null||ne.remove(),Me(this,g,null),Me(this,b,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ae(this,D,np).call(this),q(this,A).classList.remove("hidden"))}select(){var ne;this.makeResizable(),(ne=this.div)==null||ne.classList.add("selectedEditor")}unselect(){var ne,Z,G;(ne=q(this,A))==null||ne.classList.add("hidden"),(Z=this.div)==null||Z.classList.remove("selectedEditor"),(G=this.div)!=null&&G.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(ne,Z){}disableEditing(){q(this,g)&&(q(this,g).hidden=!0)}enableEditing(){q(this,g)&&(q(this,g).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return q(this,B)}set isEditing(ne){Me(this,B,ne),this.parent&&(ne?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(ne,Z){Me(this,_,!0);const G=ne/Z,{style:H}=this.div;H.aspectRatio=G,H.height="auto"}static get MIN_SIZE(){return 16}};p=new WeakMap,m=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,B=new WeakMap,N=new WeakMap,j=new WeakMap,M=new WeakMap,D=new WeakSet,Ru=function([ne,Z],G,H){[G,H]=this.screenToPageTranslation(G,H),this.x+=G/ne,this.y+=H/Z,this.fixAndSetPosition()},ku=function(){const[ne,Z]=this.parentDimensions,{_borderLineWidth:G}=ie,H=G/ne,F=G/Z;switch(this.rotation){case 90:return[-H,F];case 180:return[H,F];case 270:return[H,-F];default:return[-H,-F]}},U=new WeakSet,Iu=function(ne,Z,G){switch(G){case 90:return[Z,-ne];case 180:return[-ne,-Z];case 270:return[-Z,ne];default:return[ne,Z]}},Mu=function(ne){switch(ne){case 90:{const[Z,G]=this.pageDimensions;return[0,-Z/G,G/Z,0]}case 180:return[-1,0,0,-1];case 270:{const[Z,G]=this.pageDimensions;return[0,Z/G,-G/Z,0]}default:return[1,0,0,1]}},np=function(){if(q(this,A))return;Me(this,A,document.createElement("div")),q(this,A).classList.add("resizers");const ne=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||ne.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Z of ne){const G=document.createElement("div");q(this,A).append(G),G.classList.add("resizer",Z),G.addEventListener("pointerdown",Ae(this,D,ip).bind(this,Z)),G.addEventListener("contextmenu",l.noContextMenu)}this.div.prepend(q(this,A))},ip=function(ne,Z){Z.preventDefault();const{isMac:G}=o.FeatureTest.platform;if(Z.button!==0||Z.ctrlKey&&G)return;const H=Ae(this,D,ap).bind(this,ne),F=this._isDraggable;this._isDraggable=!1;const z={passive:!0,capture:!0};window.addEventListener("pointermove",H,z);const Y=this.x,ae=this.y,Q=this.width,ue=this.height,se=this.parent.div.style.cursor,ve=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Z.target).cursor;const Ee=()=>{this._isDraggable=F,window.removeEventListener("pointerup",Ee),window.removeEventListener("blur",Ee),window.removeEventListener("pointermove",H,z),this.parent.div.style.cursor=se,this.div.style.cursor=ve;const ye=this.x,De=this.y,Ce=this.width,Oe=this.height;ye===Y&&De===ae&&Ce===Q&&Oe===ue||this.addCommands({cmd:()=>{this.width=Ce,this.height=Oe,this.x=ye,this.y=De;const[_e,Pe]=this.parentDimensions;this.setDims(_e*Ce,Pe*Oe),this.fixAndSetPosition()},undo:()=>{this.width=Q,this.height=ue,this.x=Y,this.y=ae;const[_e,Pe]=this.parentDimensions;this.setDims(_e*Q,Pe*ue),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Ee),window.addEventListener("blur",Ee)},ap=function(ne,Z){const[G,H]=this.parentDimensions,F=this.x,z=this.y,Y=this.width,ae=this.height,Q=ie.MIN_SIZE/G,ue=ie.MIN_SIZE/H,se=st=>Math.round(st*1e4)/1e4,ve=Ae(this,D,Mu).call(this,this.rotation),Ee=(st,ft)=>[ve[0]*st+ve[2]*ft,ve[1]*st+ve[3]*ft],ye=Ae(this,D,Mu).call(this,360-this.rotation),De=(st,ft)=>[ye[0]*st+ye[2]*ft,ye[1]*st+ye[3]*ft];let Ce,Oe,_e=!1,Pe=!1;switch(ne){case"topLeft":_e=!0,Ce=(st,ft)=>[0,0],Oe=(st,ft)=>[st,ft];break;case"topMiddle":Ce=(st,ft)=>[st/2,0],Oe=(st,ft)=>[st/2,ft];break;case"topRight":_e=!0,Ce=(st,ft)=>[st,0],Oe=(st,ft)=>[0,ft];break;case"middleRight":Pe=!0,Ce=(st,ft)=>[st,ft/2],Oe=(st,ft)=>[0,ft/2];break;case"bottomRight":_e=!0,Ce=(st,ft)=>[st,ft],Oe=(st,ft)=>[0,0];break;case"bottomMiddle":Ce=(st,ft)=>[st/2,ft],Oe=(st,ft)=>[st/2,0];break;case"bottomLeft":_e=!0,Ce=(st,ft)=>[0,ft],Oe=(st,ft)=>[st,0];break;case"middleLeft":Pe=!0,Ce=(st,ft)=>[0,ft/2],Oe=(st,ft)=>[st,ft/2];break}const oe=Ce(Y,ae),pe=Oe(Y,ae);let Se=Ee(...pe);const ke=se(F+Se[0]),Fe=se(z+Se[1]);let Ke=1,qe=1,[we,tt]=this.screenToPageTranslation(Z.movementX,Z.movementY);if([we,tt]=De(we/G,tt/H),_e){const st=Math.hypot(Y,ae);Ke=qe=Math.max(Math.min(Math.hypot(pe[0]-oe[0]-we,pe[1]-oe[1]-tt)/st,1/Y,1/ae),Q/Y,ue/ae)}else Pe?Ke=Math.max(Q,Math.min(1,Math.abs(pe[0]-oe[0]-we)))/Y:qe=Math.max(ue,Math.min(1,Math.abs(pe[1]-oe[1]-tt)))/ae;const Qe=se(Y*Ke),gt=se(ae*qe);Se=Ee(...Oe(Qe,gt));const pt=ke-Se[0],_t=Fe-Se[1];this.width=Qe,this.height=gt,this.x=pt,this.y=_t,this.setDims(G*Qe,H*gt),this.fixAndSetPosition()},Bu=async function(){var G;const ne=q(this,g);if(!ne)return;if(!q(this,p)&&!q(this,m)){ne.classList.remove("done"),(G=q(this,b))==null||G.remove();return}ie._l10nPromise.get("editor_alt_text_edit_button_label").then(H=>{ne.setAttribute("aria-label",H)});let Z=q(this,b);if(!Z){Me(this,b,Z=document.createElement("span")),Z.className="tooltip",Z.setAttribute("role","tooltip");const H=Z.id=`alt-text-tooltip-${this.id}`;ne.setAttribute("aria-describedby",H);const F=100;ne.addEventListener("mouseenter",()=>{Me(this,E,setTimeout(()=>{Me(this,E,null),q(this,b).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},F))}),ne.addEventListener("mouseleave",()=>{var z;clearTimeout(q(this,E)),Me(this,E,null),(z=q(this,b))==null||z.classList.remove("show")})}ne.classList.add("done"),Z.innerText=q(this,m)?await ie._l10nPromise.get("editor_alt_text_decorative_tooltip"):q(this,p),Z.parentNode||ne.append(Z)},sp=function(ne){if(!this._isDraggable)return;const Z=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let G,H;Z&&(G={passive:!0,capture:!0},H=z=>{const[Y,ae]=this.screenToPageTranslation(z.movementX,z.movementY);this._uiManager.dragSelectedEditors(Y,ae)},window.addEventListener("pointermove",H,G));const F=()=>{if(window.removeEventListener("pointerup",F),window.removeEventListener("blur",F),Z&&window.removeEventListener("pointermove",H,G),Me(this,C,!1),!this._uiManager.endDragSession()){const{isMac:z}=o.FeatureTest.platform;ne.ctrlKey&&!z||ne.shiftKey||ne.metaKey&&z?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",F),window.addEventListener("blur",F)},Ie(ie,U),Lt(ie,"_borderLineWidth",-1),Lt(ie,"_colorManager",new i.ColorManager),Lt(ie,"_zIndex",1),Lt(ie,"SMALL_EDITOR_SIZE",0);let u=ie;t.AnnotationEditor=u;class h extends u{constructor(ne){super(ne),this.annotationElementId=ne.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}}),((e,t,n)=>{var _,A,w,T,C,Nu,j,M,D,V,L,op,$,K,te,me,he,ee,ie,ce,ne,Z,G,H,F,z,Y,ae,Q,ue,se,ve,Ee,ye,De,Ce,Oe,_e,Pe,oe,pe,Se,ke,Fe,Ke,qe,we,lp,Du,Vu,oo,Ou,ju,$r,ja,up,cp,Lu,La,$u;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardManager=t.CommandManager=t.ColorManager=t.AnnotationEditorUIManager=void 0,t.bindEvents=l,t.opacityToHex=u;var i=n(1),o=n(6);function l(St,ge,Ue){for(const et of Ue)ge.addEventListener(et,St[et].bind(St))}function u(St){return Math.round(Math.min(255,Math.max(1,255*St))).toString(16).padStart(2,"0")}class h{constructor(){Ie(this,_,0)}getId(){return`${i.AnnotationEditorPrefix}${Va(this,_)._++}`}}_=new WeakMap;const N=class N{constructor(){Ie(this,C);Ie(this,A,(0,i.getUuid)());Ie(this,w,0);Ie(this,T,null)}static get _isSVGFittingCanvas(){const ge='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',et=new OffscreenCanvas(1,3).getContext("2d"),ut=new Image;ut.src=ge;const dt=ut.decode().then(()=>(et.drawImage(ut,0,0,1,1,0,0,1,3),new Uint32Array(et.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,i.shadow)(this,"_isSVGFittingCanvas",dt)}async getFromFile(ge){const{lastModified:Ue,name:et,size:ut,type:dt}=ge;return Ae(this,C,Nu).call(this,`${Ue}_${et}_${ut}_${dt}`,ge)}async getFromUrl(ge){return Ae(this,C,Nu).call(this,ge,ge)}async getFromId(ge){q(this,T)||Me(this,T,new Map);const Ue=q(this,T).get(ge);return Ue?Ue.bitmap?(Ue.refCounter+=1,Ue):Ue.file?this.getFromFile(Ue.file):this.getFromUrl(Ue.url):null}getSvgUrl(ge){const Ue=q(this,T).get(ge);return Ue!=null&&Ue.isSvg?Ue.svgUrl:null}deleteId(ge){q(this,T)||Me(this,T,new Map);const Ue=q(this,T).get(ge);Ue&&(Ue.refCounter-=1,Ue.refCounter===0&&(Ue.bitmap=null))}isValidId(ge){return ge.startsWith(`image_${q(this,A)}_`)}};A=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakSet,Nu=async function(ge,Ue){q(this,T)||Me(this,T,new Map);let et=q(this,T).get(ge);if(et===null)return null;if(et!=null&&et.bitmap)return et.refCounter+=1,et;try{et||(et={bitmap:null,id:`image_${q(this,A)}_${Va(this,w)._++}`,refCounter:0,isSvg:!1});let ut;if(typeof Ue=="string"){et.url=Ue;const dt=await fetch(Ue);if(!dt.ok)throw new Error(dt.statusText);ut=await dt.blob()}else ut=et.file=Ue;if(ut.type==="image/svg+xml"){const dt=N._isSVGFittingCanvas,it=new FileReader,fe=new Image,de=new Promise((xe,Ve)=>{fe.onload=()=>{et.bitmap=fe,et.isSvg=!0,xe()},it.onload=async()=>{const je=et.svgUrl=it.result;fe.src=await dt?`${je}#svgView(preserveAspectRatio(none))`:je},fe.onerror=it.onerror=Ve});it.readAsDataURL(ut),await de}else et.bitmap=await createImageBitmap(ut);et.refCounter=1}catch(ut){console.error(ut),et=null}return q(this,T).set(ge,et),et&&q(this,T).set(et.id,et),et};let p=N;class m{constructor(ge=128){Ie(this,j,[]);Ie(this,M,!1);Ie(this,D);Ie(this,V,-1);Me(this,D,ge)}add({cmd:ge,undo:Ue,mustExec:et,type:ut=NaN,overwriteIfSameType:dt=!1,keepUndo:it=!1}){if(et&&ge(),q(this,M))return;const fe={cmd:ge,undo:Ue,type:ut};if(q(this,V)===-1){q(this,j).length>0&&(q(this,j).length=0),Me(this,V,0),q(this,j).push(fe);return}if(dt&&q(this,j)[q(this,V)].type===ut){it&&(fe.undo=q(this,j)[q(this,V)].undo),q(this,j)[q(this,V)]=fe;return}const de=q(this,V)+1;de===q(this,D)?q(this,j).splice(0,1):(Me(this,V,de),de<q(this,j).length&&q(this,j).splice(de)),q(this,j).push(fe)}undo(){q(this,V)!==-1&&(Me(this,M,!0),q(this,j)[q(this,V)].undo(),Me(this,M,!1),Me(this,V,q(this,V)-1))}redo(){q(this,V)<q(this,j).length-1&&(Me(this,V,q(this,V)+1),Me(this,M,!0),q(this,j)[q(this,V)].cmd(),Me(this,M,!1))}hasSomethingToUndo(){return q(this,V)!==-1}hasSomethingToRedo(){return q(this,V)<q(this,j).length-1}destroy(){Me(this,j,null)}}j=new WeakMap,M=new WeakMap,D=new WeakMap,V=new WeakMap,t.CommandManager=m;class g{constructor(ge){Ie(this,L);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ue}=i.FeatureTest.platform;for(const[et,ut,dt={}]of ge)for(const it of et){const fe=it.startsWith("mac+");Ue&&fe?(this.callbacks.set(it.slice(4),{callback:ut,options:dt}),this.allKeys.add(it.split("+").at(-1))):!Ue&&!fe&&(this.callbacks.set(it,{callback:ut,options:dt}),this.allKeys.add(it.split("+").at(-1)))}}exec(ge,Ue){if(!this.allKeys.has(Ue.key))return;const et=this.callbacks.get(Ae(this,L,op).call(this,Ue));if(!et)return;const{callback:ut,options:{bubbles:dt=!1,args:it=[],checker:fe=null}}=et;fe&&!fe(ge,Ue)||(ut.bind(ge,...it)(),dt||(Ue.stopPropagation(),Ue.preventDefault()))}}L=new WeakSet,op=function(ge){ge.altKey&&this.buffer.push("alt"),ge.ctrlKey&&this.buffer.push("ctrl"),ge.metaKey&&this.buffer.push("meta"),ge.shiftKey&&this.buffer.push("shift"),this.buffer.push(ge.key);const Ue=this.buffer.join("+");return this.buffer.length=0,Ue},t.KeyboardManager=g;const J=class J{get _colors(){const ge=new Map([["CanvasText",null],["Canvas",null]]);return(0,o.getColorValues)(ge),(0,i.shadow)(this,"_colors",ge)}convert(ge){const Ue=(0,o.getRGB)(ge);if(!window.matchMedia("(forced-colors: active)").matches)return Ue;for(const[et,ut]of this._colors)if(ut.every((dt,it)=>dt===Ue[it]))return J._colorsMapping.get(et);return Ue}getHexCode(ge){const Ue=this._colors.get(ge);return Ue?i.Util.makeHexColor(...Ue):ge}};Lt(J,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let b=J;t.ColorManager=b;const wt=class wt{constructor(ge,Ue,et,ut,dt,it){Ie(this,we);Ie(this,$,null);Ie(this,K,new Map);Ie(this,te,new Map);Ie(this,me,null);Ie(this,he,null);Ie(this,ee,new m);Ie(this,ie,0);Ie(this,ce,new Set);Ie(this,ne,null);Ie(this,Z,null);Ie(this,G,new Set);Ie(this,H,null);Ie(this,F,new h);Ie(this,z,!1);Ie(this,Y,!1);Ie(this,ae,null);Ie(this,Q,i.AnnotationEditorType.NONE);Ie(this,ue,new Set);Ie(this,se,null);Ie(this,ve,this.blur.bind(this));Ie(this,Ee,this.focus.bind(this));Ie(this,ye,this.copy.bind(this));Ie(this,De,this.cut.bind(this));Ie(this,Ce,this.paste.bind(this));Ie(this,Oe,this.keydown.bind(this));Ie(this,_e,this.onEditingAction.bind(this));Ie(this,Pe,this.onPageChanging.bind(this));Ie(this,oe,this.onScaleChanging.bind(this));Ie(this,pe,this.onRotationChanging.bind(this));Ie(this,Se,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Ie(this,ke,[0,0]);Ie(this,Fe,null);Ie(this,Ke,null);Ie(this,qe,null);Me(this,Ke,ge),Me(this,qe,Ue),Me(this,me,et),this._eventBus=ut,this._eventBus._on("editingaction",q(this,_e)),this._eventBus._on("pagechanging",q(this,Pe)),this._eventBus._on("scalechanging",q(this,oe)),this._eventBus._on("rotationchanging",q(this,pe)),Me(this,he,dt.annotationStorage),Me(this,H,dt.filterFactory),Me(this,se,it),this.viewParameters={realScale:o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const ge=wt.prototype,Ue=dt=>{const{activeElement:it}=document;return it&&q(dt,Ke).contains(it)&&dt.hasSomethingToControl()},et=this.TRANSLATE_SMALL,ut=this.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new g([[["ctrl+a","mac+meta+a"],ge.selectAll],[["ctrl+z","mac+meta+z"],ge.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],ge.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],ge.delete],[["Escape","mac+Escape"],ge.unselectAll],[["ArrowLeft","mac+ArrowLeft"],ge.translateSelectedEditors,{args:[-et,0],checker:Ue}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ge.translateSelectedEditors,{args:[-ut,0],checker:Ue}],[["ArrowRight","mac+ArrowRight"],ge.translateSelectedEditors,{args:[et,0],checker:Ue}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ge.translateSelectedEditors,{args:[ut,0],checker:Ue}],[["ArrowUp","mac+ArrowUp"],ge.translateSelectedEditors,{args:[0,-et],checker:Ue}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ge.translateSelectedEditors,{args:[0,-ut],checker:Ue}],[["ArrowDown","mac+ArrowDown"],ge.translateSelectedEditors,{args:[0,et],checker:Ue}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ge.translateSelectedEditors,{args:[0,ut],checker:Ue}]]))}destroy(){Ae(this,we,oo).call(this),Ae(this,we,Du).call(this),this._eventBus._off("editingaction",q(this,_e)),this._eventBus._off("pagechanging",q(this,Pe)),this._eventBus._off("scalechanging",q(this,oe)),this._eventBus._off("rotationchanging",q(this,pe));for(const ge of q(this,te).values())ge.destroy();q(this,te).clear(),q(this,K).clear(),q(this,G).clear(),Me(this,$,null),q(this,ue).clear(),q(this,ee).destroy(),q(this,me).destroy()}get hcmFilter(){return(0,i.shadow)(this,"hcmFilter",q(this,se)?q(this,H).addHCMFilter(q(this,se).foreground,q(this,se).background):"none")}get direction(){return(0,i.shadow)(this,"direction",getComputedStyle(q(this,Ke)).direction)}editAltText(ge){var Ue;(Ue=q(this,me))==null||Ue.editAltText(this,ge)}onPageChanging({pageNumber:ge}){Me(this,ie,ge-1)}focusMainContainer(){q(this,Ke).focus()}findParent(ge,Ue){for(const et of q(this,te).values()){const{x:ut,y:dt,width:it,height:fe}=et.div.getBoundingClientRect();if(ge>=ut&&ge<=ut+it&&Ue>=dt&&Ue<=dt+fe)return et}return null}disableUserSelect(ge=!1){q(this,qe).classList.toggle("noUserSelect",ge)}addShouldRescale(ge){q(this,G).add(ge)}removeShouldRescale(ge){q(this,G).delete(ge)}onScaleChanging({scale:ge}){this.commitOrRemove(),this.viewParameters.realScale=ge*o.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ue of q(this,G))Ue.onScaleChanging()}onRotationChanging({pagesRotation:ge}){this.commitOrRemove(),this.viewParameters.rotation=ge}addToAnnotationStorage(ge){!ge.isEmpty()&&q(this,he)&&!q(this,he).has(ge.id)&&q(this,he).setValue(ge.id,ge)}blur(){if(!this.hasSelection)return;const{activeElement:ge}=document;for(const Ue of q(this,ue))if(Ue.div.contains(ge)){Me(this,ae,[Ue,ge]),Ue._focusEventsAllowed=!1;break}}focus(){if(!q(this,ae))return;const[ge,Ue]=q(this,ae);Me(this,ae,null),Ue.addEventListener("focusin",()=>{ge._focusEventsAllowed=!0},{once:!0}),Ue.focus()}addEditListeners(){Ae(this,we,Vu).call(this),Ae(this,we,Ou).call(this)}removeEditListeners(){Ae(this,we,oo).call(this),Ae(this,we,ju).call(this)}copy(ge){var et;if(ge.preventDefault(),(et=q(this,$))==null||et.commitOrRemove(),!this.hasSelection)return;const Ue=[];for(const ut of q(this,ue)){const dt=ut.serialize(!0);dt&&Ue.push(dt)}Ue.length!==0&&ge.clipboardData.setData("application/pdfjs",JSON.stringify(Ue))}cut(ge){this.copy(ge),this.delete()}paste(ge){ge.preventDefault();const{clipboardData:Ue}=ge;for(const dt of Ue.items)for(const it of q(this,Z))if(it.isHandlingMimeForPasting(dt.type)){it.paste(dt,this.currentLayer);return}let et=Ue.getData("application/pdfjs");if(!et)return;try{et=JSON.parse(et)}catch(dt){(0,i.warn)(`paste: "${dt.message}".`);return}if(!Array.isArray(et))return;this.unselectAll();const ut=this.currentLayer;try{const dt=[];for(const de of et){const xe=ut.deserialize(de);if(!xe)return;dt.push(xe)}const it=()=>{for(const de of dt)Ae(this,we,Lu).call(this,de);Ae(this,we,$u).call(this,dt)},fe=()=>{for(const de of dt)de.remove()};this.addCommands({cmd:it,undo:fe,mustExec:!0})}catch(dt){(0,i.warn)(`paste: "${dt.message}".`)}}keydown(ge){var Ue;(Ue=this.getActive())!=null&&Ue.shouldGetKeyboardEvents()||wt._keyboardManager.exec(this,ge)}onEditingAction(ge){["undo","redo","delete","selectAll"].includes(ge.name)&&this[ge.name]()}setEditingState(ge){ge?(Ae(this,we,lp).call(this),Ae(this,we,Vu).call(this),Ae(this,we,Ou).call(this),Ae(this,we,$r).call(this,{isEditing:q(this,Q)!==i.AnnotationEditorType.NONE,isEmpty:Ae(this,we,La).call(this),hasSomethingToUndo:q(this,ee).hasSomethingToUndo(),hasSomethingToRedo:q(this,ee).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ae(this,we,Du).call(this),Ae(this,we,oo).call(this),Ae(this,we,ju).call(this),Ae(this,we,$r).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(ge){if(!q(this,Z)){Me(this,Z,ge);for(const Ue of q(this,Z))Ae(this,we,ja).call(this,Ue.defaultPropertiesToUpdate)}}getId(){return q(this,F).getId()}get currentLayer(){return q(this,te).get(q(this,ie))}getLayer(ge){return q(this,te).get(ge)}get currentPageIndex(){return q(this,ie)}addLayer(ge){q(this,te).set(ge.pageIndex,ge),q(this,z)?ge.enable():ge.disable()}removeLayer(ge){q(this,te).delete(ge.pageIndex)}updateMode(ge,Ue=null){if(q(this,Q)!==ge){if(Me(this,Q,ge),ge===i.AnnotationEditorType.NONE){this.setEditingState(!1),Ae(this,we,cp).call(this);return}this.setEditingState(!0),Ae(this,we,up).call(this),this.unselectAll();for(const et of q(this,te).values())et.updateMode(ge);if(Ue){for(const et of q(this,K).values())if(et.annotationElementId===Ue){this.setSelected(et),et.enterInEditMode();break}}}}updateToolbar(ge){ge!==q(this,Q)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:ge})}updateParams(ge,Ue){if(q(this,Z)){if(ge===i.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(ge);return}for(const et of q(this,ue))et.updateParams(ge,Ue);for(const et of q(this,Z))et.updateDefaultParams(ge,Ue)}}enableWaiting(ge=!1){if(q(this,Y)!==ge){Me(this,Y,ge);for(const Ue of q(this,te).values())ge?Ue.disableClick():Ue.enableClick(),Ue.div.classList.toggle("waiting",ge)}}getEditors(ge){const Ue=[];for(const et of q(this,K).values())et.pageIndex===ge&&Ue.push(et);return Ue}getEditor(ge){return q(this,K).get(ge)}addEditor(ge){q(this,K).set(ge.id,ge)}removeEditor(ge){var Ue;q(this,K).delete(ge.id),this.unselect(ge),(!ge.annotationElementId||!q(this,ce).has(ge.annotationElementId))&&((Ue=q(this,he))==null||Ue.remove(ge.id))}addDeletedAnnotationElement(ge){q(this,ce).add(ge.annotationElementId),ge.deleted=!0}isDeletedAnnotationElement(ge){return q(this,ce).has(ge)}removeDeletedAnnotationElement(ge){q(this,ce).delete(ge.annotationElementId),ge.deleted=!1}setActiveEditor(ge){q(this,$)!==ge&&(Me(this,$,ge),ge&&Ae(this,we,ja).call(this,ge.propertiesToUpdate))}toggleSelected(ge){if(q(this,ue).has(ge)){q(this,ue).delete(ge),ge.unselect(),Ae(this,we,$r).call(this,{hasSelectedEditor:this.hasSelection});return}q(this,ue).add(ge),ge.select(),Ae(this,we,ja).call(this,ge.propertiesToUpdate),Ae(this,we,$r).call(this,{hasSelectedEditor:!0})}setSelected(ge){for(const Ue of q(this,ue))Ue!==ge&&Ue.unselect();q(this,ue).clear(),q(this,ue).add(ge),ge.select(),Ae(this,we,ja).call(this,ge.propertiesToUpdate),Ae(this,we,$r).call(this,{hasSelectedEditor:!0})}isSelected(ge){return q(this,ue).has(ge)}unselect(ge){ge.unselect(),q(this,ue).delete(ge),Ae(this,we,$r).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return q(this,ue).size!==0}undo(){q(this,ee).undo(),Ae(this,we,$r).call(this,{hasSomethingToUndo:q(this,ee).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ae(this,we,La).call(this)})}redo(){q(this,ee).redo(),Ae(this,we,$r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:q(this,ee).hasSomethingToRedo(),isEmpty:Ae(this,we,La).call(this)})}addCommands(ge){q(this,ee).add(ge),Ae(this,we,$r).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ae(this,we,La).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const ge=[...q(this,ue)],Ue=()=>{for(const ut of ge)ut.remove()},et=()=>{for(const ut of ge)Ae(this,we,Lu).call(this,ut)};this.addCommands({cmd:Ue,undo:et,mustExec:!0})}commitOrRemove(){var ge;(ge=q(this,$))==null||ge.commitOrRemove()}hasSomethingToControl(){return q(this,$)||this.hasSelection}selectAll(){for(const ge of q(this,ue))ge.commit();Ae(this,we,$u).call(this,q(this,K).values())}unselectAll(){if(q(this,$)){q(this,$).commitOrRemove();return}if(this.hasSelection){for(const ge of q(this,ue))ge.unselect();q(this,ue).clear(),Ae(this,we,$r).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(ge,Ue,et=!1){if(et||this.commitOrRemove(),!this.hasSelection)return;q(this,ke)[0]+=ge,q(this,ke)[1]+=Ue;const[ut,dt]=q(this,ke),it=[...q(this,ue)],fe=1e3;q(this,Fe)&&clearTimeout(q(this,Fe)),Me(this,Fe,setTimeout(()=>{Me(this,Fe,null),q(this,ke)[0]=q(this,ke)[1]=0,this.addCommands({cmd:()=>{for(const de of it)q(this,K).has(de.id)&&de.translateInPage(ut,dt)},undo:()=>{for(const de of it)q(this,K).has(de.id)&&de.translateInPage(-ut,-dt)},mustExec:!1})},fe));for(const de of it)de.translateInPage(ge,Ue)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Me(this,ne,new Map);for(const ge of q(this,ue))q(this,ne).set(ge,{savedX:ge.x,savedY:ge.y,savedPageIndex:ge.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!q(this,ne))return!1;this.disableUserSelect(!1);const ge=q(this,ne);Me(this,ne,null);let Ue=!1;for(const[{x:ut,y:dt,pageIndex:it},fe]of ge)fe.newX=ut,fe.newY=dt,fe.newPageIndex=it,Ue||(Ue=ut!==fe.savedX||dt!==fe.savedY||it!==fe.savedPageIndex);if(!Ue)return!1;const et=(ut,dt,it,fe)=>{if(q(this,K).has(ut.id)){const de=q(this,te).get(fe);de?ut._setParentAndPosition(de,dt,it):(ut.pageIndex=fe,ut.x=dt,ut.y=it)}};return this.addCommands({cmd:()=>{for(const[ut,{newX:dt,newY:it,newPageIndex:fe}]of ge)et(ut,dt,it,fe)},undo:()=>{for(const[ut,{savedX:dt,savedY:it,savedPageIndex:fe}]of ge)et(ut,dt,it,fe)},mustExec:!0}),!0}dragSelectedEditors(ge,Ue){if(q(this,ne))for(const et of q(this,ne).keys())et.drag(ge,Ue)}rebuild(ge){if(ge.parent===null){const Ue=this.getLayer(ge.pageIndex);Ue?(Ue.changeParent(ge),Ue.addOrRebuild(ge)):(this.addEditor(ge),this.addToAnnotationStorage(ge),ge.rebuild())}else ge.parent.addOrRebuild(ge)}isActive(ge){return q(this,$)===ge}getActive(){return q(this,$)}getMode(){return q(this,Q)}get imageManager(){return(0,i.shadow)(this,"imageManager",new p)}};$=new WeakMap,K=new WeakMap,te=new WeakMap,me=new WeakMap,he=new WeakMap,ee=new WeakMap,ie=new WeakMap,ce=new WeakMap,ne=new WeakMap,Z=new WeakMap,G=new WeakMap,H=new WeakMap,F=new WeakMap,z=new WeakMap,Y=new WeakMap,ae=new WeakMap,Q=new WeakMap,ue=new WeakMap,se=new WeakMap,ve=new WeakMap,Ee=new WeakMap,ye=new WeakMap,De=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,_e=new WeakMap,Pe=new WeakMap,oe=new WeakMap,pe=new WeakMap,Se=new WeakMap,ke=new WeakMap,Fe=new WeakMap,Ke=new WeakMap,qe=new WeakMap,we=new WeakSet,lp=function(){window.addEventListener("focus",q(this,Ee)),window.addEventListener("blur",q(this,ve))},Du=function(){window.removeEventListener("focus",q(this,Ee)),window.removeEventListener("blur",q(this,ve))},Vu=function(){window.addEventListener("keydown",q(this,Oe),{capture:!0})},oo=function(){window.removeEventListener("keydown",q(this,Oe),{capture:!0})},Ou=function(){document.addEventListener("copy",q(this,ye)),document.addEventListener("cut",q(this,De)),document.addEventListener("paste",q(this,Ce))},ju=function(){document.removeEventListener("copy",q(this,ye)),document.removeEventListener("cut",q(this,De)),document.removeEventListener("paste",q(this,Ce))},$r=function(ge){Object.entries(ge).some(([et,ut])=>q(this,Se)[et]!==ut)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(q(this,Se),ge)})},ja=function(ge){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:ge})},up=function(){if(!q(this,z)){Me(this,z,!0);for(const ge of q(this,te).values())ge.enable()}},cp=function(){if(this.unselectAll(),q(this,z)){Me(this,z,!1);for(const ge of q(this,te).values())ge.disable()}},Lu=function(ge){const Ue=q(this,te).get(ge.pageIndex);Ue?Ue.addOrRebuild(ge):this.addEditor(ge)},La=function(){if(q(this,K).size===0)return!0;if(q(this,K).size===1)for(const ge of q(this,K).values())return ge.isEmpty();return!1},$u=function(ge){q(this,ue).clear();for(const Ue of ge)Ue.isEmpty()||(q(this,ue).add(Ue),Ue.select());Ae(this,we,$r).call(this,{hasSelectedEditor:!0})},Lt(wt,"TRANSLATE_SMALL",1),Lt(wt,"TRANSLATE_BIG",10);let E=wt;t.AnnotationEditorUIManager=E}),((e,t,n)=>{var ie,ce,ne,Z,G,H,F,z,Y,ae,Q,ue,Ui,zi,Fu,lo,uo,$a,Fa;Object.defineProperty(t,"__esModule",{value:!0}),t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMFilterFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0,t.deprecated=V,t.getColorValues=K,t.getCurrentTransform=te,t.getCurrentTransformInverse=me,t.getFilenameFromUrl=C,t.getPdfFilenameFromUrl=B,t.getRGB=$,t.getXfaPageViewport=J,t.isDataScheme=w,t.isPdfFile=T,t.isValidFetchUrl=j,t.loadScript=D,t.noContextMenu=M,t.setLayerDimensions=he;var i=n(7),o=n(1);const l="http://www.w3.org/2000/svg",ee=class ee{};Lt(ee,"CSS",96),Lt(ee,"PDF",72),Lt(ee,"PDF_TO_CSS_UNITS",ee.CSS/ee.PDF);let u=ee;t.PixelsPerInch=u;class h extends i.BaseFilterFactory{constructor({docId:oe,ownerDocument:pe=globalThis.document}={}){super();Ie(this,ue);Ie(this,ie);Ie(this,ce);Ie(this,ne);Ie(this,Z);Ie(this,G);Ie(this,H);Ie(this,F);Ie(this,z);Ie(this,Y);Ie(this,ae);Ie(this,Q,0);Me(this,ne,oe),Me(this,Z,pe)}addFilter(oe){if(!oe)return"none";let pe=q(this,ue,Ui).get(oe);if(pe)return pe;let Se,ke,Fe,Ke;if(oe.length===1){const Qe=oe[0],gt=new Array(256);for(let pt=0;pt<256;pt++)gt[pt]=Qe[pt]/255;Ke=Se=ke=Fe=gt.join(",")}else{const[Qe,gt,pt]=oe,_t=new Array(256),st=new Array(256),ft=new Array(256);for(let Et=0;Et<256;Et++)_t[Et]=Qe[Et]/255,st[Et]=gt[Et]/255,ft[Et]=pt[Et]/255;Se=_t.join(","),ke=st.join(","),Fe=ft.join(","),Ke=`${Se}${ke}${Fe}`}if(pe=q(this,ue,Ui).get(Ke),pe)return q(this,ue,Ui).set(oe,pe),pe;const qe=`g_${q(this,ne)}_transfer_map_${Va(this,Q)._++}`,we=`url(#${qe})`;q(this,ue,Ui).set(oe,we),q(this,ue,Ui).set(Ke,we);const tt=Ae(this,ue,lo).call(this,qe);return Ae(this,ue,$a).call(this,Se,ke,Fe,tt),we}addHCMFilter(oe,pe){var gt;const Se=`${oe}-${pe}`;if(q(this,H)===Se)return q(this,F);if(Me(this,H,Se),Me(this,F,"none"),(gt=q(this,G))==null||gt.remove(),!oe||!pe)return q(this,F);const ke=Ae(this,ue,Fa).call(this,oe);oe=o.Util.makeHexColor(...ke);const Fe=Ae(this,ue,Fa).call(this,pe);if(pe=o.Util.makeHexColor(...Fe),q(this,ue,zi).style.color="",oe==="#000000"&&pe==="#ffffff"||oe===pe)return q(this,F);const Ke=new Array(256);for(let pt=0;pt<=255;pt++){const _t=pt/255;Ke[pt]=_t<=.03928?_t/12.92:((_t+.055)/1.055)**2.4}const qe=Ke.join(","),we=`g_${q(this,ne)}_hcm_filter`,tt=Me(this,z,Ae(this,ue,lo).call(this,we));Ae(this,ue,$a).call(this,qe,qe,qe,tt),Ae(this,ue,Fu).call(this,tt);const Qe=(pt,_t)=>{const st=ke[pt]/255,ft=Fe[pt]/255,Et=new Array(_t+1);for(let At=0;At<=_t;At++)Et[At]=st+At/_t*(ft-st);return Et.join(",")};return Ae(this,ue,$a).call(this,Qe(0,5),Qe(1,5),Qe(2,5),tt),Me(this,F,`url(#${we})`),q(this,F)}addHighlightHCMFilter(oe,pe,Se,ke){var ft;const Fe=`${oe}-${pe}-${Se}-${ke}`;if(q(this,Y)===Fe)return q(this,ae);if(Me(this,Y,Fe),Me(this,ae,"none"),(ft=q(this,z))==null||ft.remove(),!oe||!pe)return q(this,ae);const[Ke,qe]=[oe,pe].map(Ae(this,ue,Fa).bind(this));let we=Math.round(.2126*Ke[0]+.7152*Ke[1]+.0722*Ke[2]),tt=Math.round(.2126*qe[0]+.7152*qe[1]+.0722*qe[2]),[Qe,gt]=[Se,ke].map(Ae(this,ue,Fa).bind(this));tt<we&&([we,tt,Qe,gt]=[tt,we,gt,Qe]),q(this,ue,zi).style.color="";const pt=(Et,At,Ge)=>{const Re=new Array(256),Be=(tt-we)/Ge,ot=Et/255,wt=(At-Et)/(255*Ge);let St=0;for(let ge=0;ge<=Ge;ge++){const Ue=Math.round(we+ge*Be),et=ot+ge*wt;for(let ut=St;ut<=Ue;ut++)Re[ut]=et;St=Ue+1}for(let ge=St;ge<256;ge++)Re[ge]=Re[St-1];return Re.join(",")},_t=`g_${q(this,ne)}_hcm_highlight_filter`,st=Me(this,z,Ae(this,ue,lo).call(this,_t));return Ae(this,ue,Fu).call(this,st),Ae(this,ue,$a).call(this,pt(Qe[0],gt[0],5),pt(Qe[1],gt[1],5),pt(Qe[2],gt[2],5),st),Me(this,ae,`url(#${_t})`),q(this,ae)}destroy(oe=!1){oe&&(q(this,F)||q(this,ae))||(q(this,ce)&&(q(this,ce).parentNode.parentNode.remove(),Me(this,ce,null)),q(this,ie)&&(q(this,ie).clear(),Me(this,ie,null)),Me(this,Q,0))}}ie=new WeakMap,ce=new WeakMap,ne=new WeakMap,Z=new WeakMap,G=new WeakMap,H=new WeakMap,F=new WeakMap,z=new WeakMap,Y=new WeakMap,ae=new WeakMap,Q=new WeakMap,ue=new WeakSet,Ui=function(){return q(this,ie)||Me(this,ie,new Map)},zi=function(){if(!q(this,ce)){const oe=q(this,Z).createElement("div"),{style:pe}=oe;pe.visibility="hidden",pe.contain="strict",pe.width=pe.height=0,pe.position="absolute",pe.top=pe.left=0,pe.zIndex=-1;const Se=q(this,Z).createElementNS(l,"svg");Se.setAttribute("width",0),Se.setAttribute("height",0),Me(this,ce,q(this,Z).createElementNS(l,"defs")),oe.append(Se),Se.append(q(this,ce)),q(this,Z).body.append(oe)}return q(this,ce)},Fu=function(oe){const pe=q(this,Z).createElementNS(l,"feColorMatrix");pe.setAttribute("type","matrix"),pe.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),oe.append(pe)},lo=function(oe){const pe=q(this,Z).createElementNS(l,"filter");return pe.setAttribute("color-interpolation-filters","sRGB"),pe.setAttribute("id",oe),q(this,ue,zi).append(pe),pe},uo=function(oe,pe,Se){const ke=q(this,Z).createElementNS(l,pe);ke.setAttribute("type","discrete"),ke.setAttribute("tableValues",Se),oe.append(ke)},$a=function(oe,pe,Se,ke){const Fe=q(this,Z).createElementNS(l,"feComponentTransfer");ke.append(Fe),Ae(this,ue,uo).call(this,Fe,"feFuncR",oe),Ae(this,ue,uo).call(this,Fe,"feFuncG",pe),Ae(this,ue,uo).call(this,Fe,"feFuncB",Se)},Fa=function(oe){return q(this,ue,zi).style.color=oe,$(getComputedStyle(q(this,ue,zi)).getPropertyValue("color"))},t.DOMFilterFactory=h;class p extends i.BaseCanvasFactory{constructor({ownerDocument:Pe=globalThis.document}={}){super(),this._document=Pe}_createCanvas(Pe,oe){const pe=this._document.createElement("canvas");return pe.width=Pe,pe.height=oe,pe}}t.DOMCanvasFactory=p;async function m(_e,Pe=!1){if(j(_e,document.baseURI)){const oe=await fetch(_e);if(!oe.ok)throw new Error(oe.statusText);return Pe?new Uint8Array(await oe.arrayBuffer()):(0,o.stringToBytes)(await oe.text())}return new Promise((oe,pe)=>{const Se=new XMLHttpRequest;Se.open("GET",_e,!0),Pe&&(Se.responseType="arraybuffer"),Se.onreadystatechange=()=>{if(Se.readyState===XMLHttpRequest.DONE){if(Se.status===200||Se.status===0){let ke;if(Pe&&Se.response?ke=new Uint8Array(Se.response):!Pe&&Se.responseText&&(ke=(0,o.stringToBytes)(Se.responseText)),ke){oe(ke);return}}pe(new Error(Se.statusText))}},Se.send(null)})}class g extends i.BaseCMapReaderFactory{_fetchData(Pe,oe){return m(Pe,this.isCompressed).then(pe=>({cMapData:pe,compressionType:oe}))}}t.DOMCMapReaderFactory=g;class b extends i.BaseStandardFontDataFactory{_fetchData(Pe){return m(Pe,!0)}}t.DOMStandardFontDataFactory=b;class E extends i.BaseSVGFactory{_createSVG(Pe){return document.createElementNS(l,Pe)}}t.DOMSVGFactory=E;class _{constructor({viewBox:Pe,scale:oe,rotation:pe,offsetX:Se=0,offsetY:ke=0,dontFlip:Fe=!1}){this.viewBox=Pe,this.scale=oe,this.rotation=pe,this.offsetX=Se,this.offsetY=ke;const Ke=(Pe[2]+Pe[0])/2,qe=(Pe[3]+Pe[1])/2;let we,tt,Qe,gt;switch(pe%=360,pe<0&&(pe+=360),pe){case 180:we=-1,tt=0,Qe=0,gt=1;break;case 90:we=0,tt=1,Qe=1,gt=0;break;case 270:we=0,tt=-1,Qe=-1,gt=0;break;case 0:we=1,tt=0,Qe=0,gt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Fe&&(Qe=-Qe,gt=-gt);let pt,_t,st,ft;we===0?(pt=Math.abs(qe-Pe[1])*oe+Se,_t=Math.abs(Ke-Pe[0])*oe+ke,st=(Pe[3]-Pe[1])*oe,ft=(Pe[2]-Pe[0])*oe):(pt=Math.abs(Ke-Pe[0])*oe+Se,_t=Math.abs(qe-Pe[1])*oe+ke,st=(Pe[2]-Pe[0])*oe,ft=(Pe[3]-Pe[1])*oe),this.transform=[we*oe,tt*oe,Qe*oe,gt*oe,pt-we*oe*Ke-Qe*oe*qe,_t-tt*oe*Ke-gt*oe*qe],this.width=st,this.height=ft}get rawDims(){const{viewBox:Pe}=this;return(0,o.shadow)(this,"rawDims",{pageWidth:Pe[2]-Pe[0],pageHeight:Pe[3]-Pe[1],pageX:Pe[0],pageY:Pe[1]})}clone({scale:Pe=this.scale,rotation:oe=this.rotation,offsetX:pe=this.offsetX,offsetY:Se=this.offsetY,dontFlip:ke=!1}={}){return new _({viewBox:this.viewBox.slice(),scale:Pe,rotation:oe,offsetX:pe,offsetY:Se,dontFlip:ke})}convertToViewportPoint(Pe,oe){return o.Util.applyTransform([Pe,oe],this.transform)}convertToViewportRectangle(Pe){const oe=o.Util.applyTransform([Pe[0],Pe[1]],this.transform),pe=o.Util.applyTransform([Pe[2],Pe[3]],this.transform);return[oe[0],oe[1],pe[0],pe[1]]}convertToPdfPoint(Pe,oe){return o.Util.applyInverseTransform([Pe,oe],this.transform)}}t.PageViewport=_;class A extends o.BaseException{constructor(Pe,oe=0){super(Pe,"RenderingCancelledException"),this.extraDelay=oe}}t.RenderingCancelledException=A;function w(_e){const Pe=_e.length;let oe=0;for(;oe<Pe&&_e[oe].trim()==="";)oe++;return _e.substring(oe,oe+5).toLowerCase()==="data:"}function T(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function C(_e,Pe=!1){return Pe||([_e]=_e.split(/[#?]/,1)),_e.substring(_e.lastIndexOf("/")+1)}function B(_e,Pe="document.pdf"){if(typeof _e!="string")return Pe;if(w(_e))return(0,o.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Pe;const oe=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,pe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Se=oe.exec(_e);let ke=pe.exec(Se[1])||pe.exec(Se[2])||pe.exec(Se[3]);if(ke&&(ke=ke[0],ke.includes("%")))try{ke=pe.exec(decodeURIComponent(ke))[0]}catch{}return ke||Pe}class N{constructor(){Lt(this,"started",Object.create(null));Lt(this,"times",[])}time(Pe){Pe in this.started&&(0,o.warn)(`Timer is already running for ${Pe}`),this.started[Pe]=Date.now()}timeEnd(Pe){Pe in this.started||(0,o.warn)(`Timer has not been started for ${Pe}`),this.times.push({name:Pe,start:this.started[Pe],end:Date.now()}),delete this.started[Pe]}toString(){const Pe=[];let oe=0;for(const{name:pe}of this.times)oe=Math.max(pe.length,oe);for(const{name:pe,start:Se,end:ke}of this.times)Pe.push(`${pe.padEnd(oe)} ${ke-Se}ms
`);return Pe.join("")}}t.StatTimer=N;function j(_e,Pe){try{const{protocol:oe}=Pe?new URL(_e,Pe):new URL(_e);return oe==="http:"||oe==="https:"}catch{return!1}}function M(_e){_e.preventDefault()}function D(_e,Pe=!1){return new Promise((oe,pe)=>{const Se=document.createElement("script");Se.src=_e,Se.onload=function(ke){Pe&&Se.remove(),oe(ke)},Se.onerror=function(){pe(new Error(`Cannot load script at: ${Se.src}`))},(document.head||document.documentElement).append(Se)})}function V(_e){console.log("Deprecated API usage: "+_e)}let L;class U{static toDateObject(Pe){if(!Pe||typeof Pe!="string")return null;L||(L=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const oe=L.exec(Pe);if(!oe)return null;const pe=parseInt(oe[1],10);let Se=parseInt(oe[2],10);Se=Se>=1&&Se<=12?Se-1:0;let ke=parseInt(oe[3],10);ke=ke>=1&&ke<=31?ke:1;let Fe=parseInt(oe[4],10);Fe=Fe>=0&&Fe<=23?Fe:0;let Ke=parseInt(oe[5],10);Ke=Ke>=0&&Ke<=59?Ke:0;let qe=parseInt(oe[6],10);qe=qe>=0&&qe<=59?qe:0;const we=oe[7]||"Z";let tt=parseInt(oe[8],10);tt=tt>=0&&tt<=23?tt:0;let Qe=parseInt(oe[9],10)||0;return Qe=Qe>=0&&Qe<=59?Qe:0,we==="-"?(Fe+=tt,Ke+=Qe):we==="+"&&(Fe-=tt,Ke-=Qe),new Date(Date.UTC(pe,Se,ke,Fe,Ke,qe))}}t.PDFDateString=U;function J(_e,{scale:Pe=1,rotation:oe=0}){const{width:pe,height:Se}=_e.attributes.style,ke=[0,0,parseInt(pe),parseInt(Se)];return new _({viewBox:ke,scale:Pe,rotation:oe})}function $(_e){if(_e.startsWith("#")){const Pe=parseInt(_e.slice(1),16);return[(Pe&16711680)>>16,(Pe&65280)>>8,Pe&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map(Pe=>parseInt(Pe)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map(Pe=>parseInt(Pe)).slice(0,3):((0,o.warn)(`Not a valid color format: "${_e}"`),[0,0,0])}function K(_e){const Pe=document.createElement("span");Pe.style.visibility="hidden",document.body.append(Pe);for(const oe of _e.keys()){Pe.style.color=oe;const pe=window.getComputedStyle(Pe).color;_e.set(oe,$(pe))}Pe.remove()}function te(_e){const{a:Pe,b:oe,c:pe,d:Se,e:ke,f:Fe}=_e.getTransform();return[Pe,oe,pe,Se,ke,Fe]}function me(_e){const{a:Pe,b:oe,c:pe,d:Se,e:ke,f:Fe}=_e.getTransform().invertSelf();return[Pe,oe,pe,Se,ke,Fe]}function he(_e,Pe,oe=!1,pe=!0){if(Pe instanceof _){const{pageWidth:Se,pageHeight:ke}=Pe.rawDims,{style:Fe}=_e,Ke=o.FeatureTest.isCSSRoundSupported,qe=`var(--scale-factor) * ${Se}px`,we=`var(--scale-factor) * ${ke}px`,tt=Ke?`round(${qe}, 1px)`:`calc(${qe})`,Qe=Ke?`round(${we}, 1px)`:`calc(${we})`;!oe||Pe.rotation%180===0?(Fe.width=tt,Fe.height=Qe):(Fe.width=Qe,Fe.height=tt)}pe&&_e.setAttribute("data-main-rotation",Pe.rotation)}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseFilterFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var i=n(1);class o{constructor(){this.constructor===o&&(0,i.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(g){return"none"}addHCMFilter(g,b){return"none"}addHighlightHCMFilter(g,b,E,_){return"none"}destroy(g=!1){}}t.BaseFilterFactory=o;class l{constructor(){this.constructor===l&&(0,i.unreachable)("Cannot initialize BaseCanvasFactory.")}create(g,b){if(g<=0||b<=0)throw new Error("Invalid canvas size");const E=this._createCanvas(g,b);return{canvas:E,context:E.getContext("2d")}}reset(g,b,E){if(!g.canvas)throw new Error("Canvas is not specified");if(b<=0||E<=0)throw new Error("Invalid canvas size");g.canvas.width=b,g.canvas.height=E}destroy(g){if(!g.canvas)throw new Error("Canvas is not specified");g.canvas.width=0,g.canvas.height=0,g.canvas=null,g.context=null}_createCanvas(g,b){(0,i.unreachable)("Abstract method `_createCanvas` called.")}}t.BaseCanvasFactory=l;class u{constructor({baseUrl:g=null,isCompressed:b=!0}){this.constructor===u&&(0,i.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=g,this.isCompressed=b}async fetch({name:g}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!g)throw new Error("CMap name must be specified.");const b=this.baseUrl+g+(this.isCompressed?".bcmap":""),E=this.isCompressed?i.CMapCompressionType.BINARY:i.CMapCompressionType.NONE;return this._fetchData(b,E).catch(_=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${b}`)})}_fetchData(g,b){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseCMapReaderFactory=u;class h{constructor({baseUrl:g=null}){this.constructor===h&&(0,i.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=g}async fetch({filename:g}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!g)throw new Error("Font filename must be specified.");const b=`${this.baseUrl}${g}`;return this._fetchData(b).catch(E=>{throw new Error(`Unable to load font data at: ${b}`)})}_fetchData(g){(0,i.unreachable)("Abstract method `_fetchData` called.")}}t.BaseStandardFontDataFactory=h;class p{constructor(){this.constructor===p&&(0,i.unreachable)("Cannot initialize BaseSVGFactory.")}create(g,b,E=!1){if(g<=0||b<=0)throw new Error("Invalid SVG dimensions");const _=this._createSVG("svg:svg");return _.setAttribute("version","1.1"),E||(_.setAttribute("width",`${g}px`),_.setAttribute("height",`${b}px`)),_.setAttribute("preserveAspectRatio","none"),_.setAttribute("viewBox",`0 0 ${g} ${b}`),_}createElement(g){if(typeof g!="string")throw new Error("Invalid SVG element type");return this._createSVG(g)}_createSVG(g){(0,i.unreachable)("Abstract method `_createSVG` called.")}}t.BaseSVGFactory=p}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MurmurHash3_64=void 0;var i=n(1);const o=3285377520,l=4294901760,u=65535;class h{constructor(m){this.h1=m?m&4294967295:o,this.h2=m?m&4294967295:o}update(m){let g,b;if(typeof m=="string"){g=new Uint8Array(m.length*2),b=0;for(let V=0,L=m.length;V<L;V++){const U=m.charCodeAt(V);U<=255?g[b++]=U:(g[b++]=U>>>8,g[b++]=U&255)}}else if((0,i.isArrayBuffer)(m))g=m.slice(),b=g.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const E=b>>2,_=b-E*4,A=new Uint32Array(g.buffer,0,E);let w=0,T=0,C=this.h1,B=this.h2;const N=3432918353,j=461845907,M=N&u,D=j&u;for(let V=0;V<E;V++)V&1?(w=A[V],w=w*N&l|w*M&u,w=w<<15|w>>>17,w=w*j&l|w*D&u,C^=w,C=C<<13|C>>>19,C=C*5+3864292196):(T=A[V],T=T*N&l|T*M&u,T=T<<15|T>>>17,T=T*j&l|T*D&u,B^=T,B=B<<13|B>>>19,B=B*5+3864292196);switch(w=0,_){case 3:w^=g[E*4+2]<<16;case 2:w^=g[E*4+1]<<8;case 1:w^=g[E*4],w=w*N&l|w*M&u,w=w<<15|w>>>17,w=w*j&l|w*D&u,E&1?C^=w:B^=w}this.h1=C,this.h2=B}hexdigest(){let m=this.h1,g=this.h2;return m^=g>>>1,m=m*3981806797&l|m*36045&u,g=g*4283543511&l|((g<<16|m>>>16)*2950163797&l)>>>16,m^=g>>>1,m=m*444984403&l|m*60499&u,g=g*3301882366&l|((g<<16|m>>>16)*3120437893&l)>>>16,m^=g>>>1,(m>>>0).toString(16).padStart(8,"0")+(g>>>0).toString(16).padStart(8,"0")}}t.MurmurHash3_64=h}),((e,t,n)=>{var u;Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var i=n(1);class o{constructor({ownerDocument:p=globalThis.document,styleElement:m=null}){Ie(this,u,new Set);this._document=p,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(p){this.nativeFontFaces.add(p),this._document.fonts.add(p)}removeNativeFontFace(p){this.nativeFontFaces.delete(p),this._document.fonts.delete(p)}insertRule(p){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const m=this.styleElement.sheet;m.insertRule(p,m.cssRules.length)}clear(){for(const p of this.nativeFontFaces)this._document.fonts.delete(p);this.nativeFontFaces.clear(),q(this,u).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(p){if(!(!p||q(this,u).has(p.loadedName))){if((0,i.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:m,src:g,style:b}=p,E=new FontFace(m,g,b);this.addNativeFontFace(E);try{await E.load(),q(this,u).add(m)}catch{(0,i.warn)(`Cannot load system font: ${p.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(E)}return}(0,i.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(p){if(p.attached||p.missingFile&&!p.systemFontInfo)return;if(p.attached=!0,p.systemFontInfo){await this.loadSystemFont(p.systemFontInfo);return}if(this.isFontLoadingAPISupported){const g=p.createNativeFontFace();if(g){this.addNativeFontFace(g);try{await g.loaded}catch(b){throw(0,i.warn)(`Failed to load font '${g.family}': '${b}'.`),p.disableFontFace=!0,b}}return}const m=p.createFontFaceRule();if(m){if(this.insertRule(m),this.isSyncFontLoadingSupported)return;await new Promise(g=>{const b=this._queueLoadingCallback(g);this._prepareFontLoadEvent(p,b)})}}get isFontLoadingAPISupported(){var m;const p=!!((m=this._document)!=null&&m.fonts);return(0,i.shadow)(this,"isFontLoadingAPISupported",p)}get isSyncFontLoadingSupported(){let p=!1;return(i.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(p=!0),(0,i.shadow)(this,"isSyncFontLoadingSupported",p)}_queueLoadingCallback(p){function m(){for((0,i.assert)(!b.done,"completeRequest() cannot be called twice."),b.done=!0;g.length>0&&g[0].done;){const E=g.shift();setTimeout(E.callback,0)}}const{loadingRequests:g}=this,b={done:!1,complete:m,callback:p};return g.push(b),b}get _loadTestFont(){const p=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,i.shadow)(this,"_loadTestFont",p)}_prepareFontLoadEvent(p,m){function g($,K){return $.charCodeAt(K)<<24|$.charCodeAt(K+1)<<16|$.charCodeAt(K+2)<<8|$.charCodeAt(K+3)&255}function b($,K,te,me){const he=$.substring(0,K),ee=$.substring(K+te);return he+me+ee}let E,_;const A=this._document.createElement("canvas");A.width=1,A.height=1;const w=A.getContext("2d");let T=0;function C($,K){if(++T>30){(0,i.warn)("Load test font never loaded."),K();return}if(w.font="30px "+$,w.fillText(".",0,20),w.getImageData(0,0,1,1).data[3]>0){K();return}setTimeout(C.bind(null,$,K))}const B=`lt${Date.now()}${this.loadTestFontId++}`;let N=this._loadTestFont;N=b(N,976,B.length,B);const M=16,D=1482184792;let V=g(N,M);for(E=0,_=B.length-3;E<_;E+=4)V=V-D+g(B,E)|0;E<B.length&&(V=V-D+g(B+"XXX",E)|0),N=b(N,M,4,(0,i.string32)(V));const L=`url(data:font/opentype;base64,${btoa(N)});`,U=`@font-face {font-family:"${B}";src:${L}}`;this.insertRule(U);const J=this._document.createElement("div");J.style.visibility="hidden",J.style.width=J.style.height="10px",J.style.position="absolute",J.style.top=J.style.left="0px";for(const $ of[p.loadedName,B]){const K=this._document.createElement("span");K.textContent="Hi",K.style.fontFamily=$,J.append(K)}this._document.body.append(J),C(B,()=>{J.remove(),m.complete()})}}u=new WeakMap,t.FontLoader=o;class l{constructor(p,{isEvalSupported:m=!0,disableFontFace:g=!1,ignoreErrors:b=!1,inspectFont:E=null}){this.compiledGlyphs=Object.create(null);for(const _ in p)this[_]=p[_];this.isEvalSupported=m!==!1,this.disableFontFace=g===!0,this.ignoreErrors=b===!0,this._inspectFont=E}createNativeFontFace(){var m;if(!this.data||this.disableFontFace)return null;let p;if(!this.cssFontInfo)p=new FontFace(this.loadedName,this.data,{});else{const g={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(g.style=`oblique ${this.cssFontInfo.italicAngle}deg`),p=new FontFace(this.cssFontInfo.fontFamily,this.data,g)}return(m=this._inspectFont)==null||m.call(this,this),p}createFontFaceRule(){var b;if(!this.data||this.disableFontFace)return null;const p=(0,i.bytesToString)(this.data),m=`url(data:${this.mimetype};base64,${btoa(p)});`;let g;if(!this.cssFontInfo)g=`@font-face {font-family:"${this.loadedName}";src:${m}}`;else{let E=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(E+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),g=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${E}src:${m}}`}return(b=this._inspectFont)==null||b.call(this,this,m),g}getPathGenerator(p,m){if(this.compiledGlyphs[m]!==void 0)return this.compiledGlyphs[m];let g;try{g=p.get(this.loadedName+"_path_"+m)}catch(b){if(!this.ignoreErrors)throw b;return(0,i.warn)(`getPathGenerator - ignoring character: "${b}".`),this.compiledGlyphs[m]=function(E,_){}}if(this.isEvalSupported&&i.FeatureTest.isEvalSupported){const b=[];for(const E of g){const _=E.args!==void 0?E.args.join(","):"";b.push("c.",E.cmd,"(",_,`);
`)}return this.compiledGlyphs[m]=new Function("c","size",b.join(""))}return this.compiledGlyphs[m]=function(b,E){for(const _ of g)_.cmd==="scale"&&(_.args=[E,-E]),b[_.cmd].apply(b,_.args)}}}t.FontFaceObject=l}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NodeStandardFontDataFactory=t.NodeFilterFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var i=n(7);n(1);const o=function(m){return new Promise((g,b)=>{require$$5.readFile(m,(_,A)=>{if(_||!A){b(new Error(_));return}g(new Uint8Array(A))})})};class l extends i.BaseFilterFactory{}t.NodeFilterFactory=l;class u extends i.BaseCanvasFactory{_createCanvas(g,b){return require$$5.createCanvas(g,b)}}t.NodeCanvasFactory=u;class h extends i.BaseCMapReaderFactory{_fetchData(g,b){return o(g).then(E=>({cMapData:E,compressionType:b}))}}t.NodeCMapReaderFactory=h;class p extends i.BaseStandardFontDataFactory{_fetchData(g){return o(g)}}t.NodeStandardFontDataFactory=p}),((e,t,n)=>{var ce,Uu,zu;Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var i=n(1),o=n(6),l=n(12),u=n(13);const h=16,p=100,m=4096,g=15,b=10,E=1e3,_=16;function A(H,F){if(H._removeMirroring)throw new Error("Context is already forwarding operations.");H.__originalSave=H.save,H.__originalRestore=H.restore,H.__originalRotate=H.rotate,H.__originalScale=H.scale,H.__originalTranslate=H.translate,H.__originalTransform=H.transform,H.__originalSetTransform=H.setTransform,H.__originalResetTransform=H.resetTransform,H.__originalClip=H.clip,H.__originalMoveTo=H.moveTo,H.__originalLineTo=H.lineTo,H.__originalBezierCurveTo=H.bezierCurveTo,H.__originalRect=H.rect,H.__originalClosePath=H.closePath,H.__originalBeginPath=H.beginPath,H._removeMirroring=()=>{H.save=H.__originalSave,H.restore=H.__originalRestore,H.rotate=H.__originalRotate,H.scale=H.__originalScale,H.translate=H.__originalTranslate,H.transform=H.__originalTransform,H.setTransform=H.__originalSetTransform,H.resetTransform=H.__originalResetTransform,H.clip=H.__originalClip,H.moveTo=H.__originalMoveTo,H.lineTo=H.__originalLineTo,H.bezierCurveTo=H.__originalBezierCurveTo,H.rect=H.__originalRect,H.closePath=H.__originalClosePath,H.beginPath=H.__originalBeginPath,delete H._removeMirroring},H.save=function(){F.save(),this.__originalSave()},H.restore=function(){F.restore(),this.__originalRestore()},H.translate=function(Y,ae){F.translate(Y,ae),this.__originalTranslate(Y,ae)},H.scale=function(Y,ae){F.scale(Y,ae),this.__originalScale(Y,ae)},H.transform=function(Y,ae,Q,ue,se,ve){F.transform(Y,ae,Q,ue,se,ve),this.__originalTransform(Y,ae,Q,ue,se,ve)},H.setTransform=function(Y,ae,Q,ue,se,ve){F.setTransform(Y,ae,Q,ue,se,ve),this.__originalSetTransform(Y,ae,Q,ue,se,ve)},H.resetTransform=function(){F.resetTransform(),this.__originalResetTransform()},H.rotate=function(Y){F.rotate(Y),this.__originalRotate(Y)},H.clip=function(Y){F.clip(Y),this.__originalClip(Y)},H.moveTo=function(z,Y){F.moveTo(z,Y),this.__originalMoveTo(z,Y)},H.lineTo=function(z,Y){F.lineTo(z,Y),this.__originalLineTo(z,Y)},H.bezierCurveTo=function(z,Y,ae,Q,ue,se){F.bezierCurveTo(z,Y,ae,Q,ue,se),this.__originalBezierCurveTo(z,Y,ae,Q,ue,se)},H.rect=function(z,Y,ae,Q){F.rect(z,Y,ae,Q),this.__originalRect(z,Y,ae,Q)},H.closePath=function(){F.closePath(),this.__originalClosePath()},H.beginPath=function(){F.beginPath(),this.__originalBeginPath()}}class w{constructor(F){this.canvasFactory=F,this.cache=Object.create(null)}getCanvas(F,z,Y){let ae;return this.cache[F]!==void 0?(ae=this.cache[F],this.canvasFactory.reset(ae,z,Y)):(ae=this.canvasFactory.create(z,Y),this.cache[F]=ae),ae}delete(F){delete this.cache[F]}clear(){for(const F in this.cache){const z=this.cache[F];this.canvasFactory.destroy(z),delete this.cache[F]}}}function T(H,F,z,Y,ae,Q,ue,se,ve,Ee){const[ye,De,Ce,Oe,_e,Pe]=(0,o.getCurrentTransform)(H);if(De===0&&Ce===0){const Se=ue*ye+_e,ke=Math.round(Se),Fe=se*Oe+Pe,Ke=Math.round(Fe),qe=(ue+ve)*ye+_e,we=Math.abs(Math.round(qe)-ke)||1,tt=(se+Ee)*Oe+Pe,Qe=Math.abs(Math.round(tt)-Ke)||1;return H.setTransform(Math.sign(ye),0,0,Math.sign(Oe),ke,Ke),H.drawImage(F,z,Y,ae,Q,0,0,we,Qe),H.setTransform(ye,De,Ce,Oe,_e,Pe),[we,Qe]}if(ye===0&&Oe===0){const Se=se*Ce+_e,ke=Math.round(Se),Fe=ue*De+Pe,Ke=Math.round(Fe),qe=(se+Ee)*Ce+_e,we=Math.abs(Math.round(qe)-ke)||1,tt=(ue+ve)*De+Pe,Qe=Math.abs(Math.round(tt)-Ke)||1;return H.setTransform(0,Math.sign(De),Math.sign(Ce),0,ke,Ke),H.drawImage(F,z,Y,ae,Q,0,0,Qe,we),H.setTransform(ye,De,Ce,Oe,_e,Pe),[Qe,we]}H.drawImage(F,z,Y,ae,Q,ue,se,ve,Ee);const oe=Math.hypot(ye,De),pe=Math.hypot(Ce,Oe);return[oe*ve,pe*Ee]}function C(H){const{width:F,height:z}=H;if(F>E||z>E)return null;const Y=1e3,ae=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=F+1;let ue=new Uint8Array(Q*(z+1)),se,ve,Ee;const ye=F+7&-8;let De=new Uint8Array(ye*z),Ce=0;for(const pe of H.data){let Se=128;for(;Se>0;)De[Ce++]=pe&Se?0:255,Se>>=1}let Oe=0;for(Ce=0,De[Ce]!==0&&(ue[0]=1,++Oe),ve=1;ve<F;ve++)De[Ce]!==De[Ce+1]&&(ue[ve]=De[Ce]?2:1,++Oe),Ce++;for(De[Ce]!==0&&(ue[ve]=2,++Oe),se=1;se<z;se++){Ce=se*ye,Ee=se*Q,De[Ce-ye]!==De[Ce]&&(ue[Ee]=De[Ce]?1:8,++Oe);let pe=(De[Ce]?4:0)+(De[Ce-ye]?8:0);for(ve=1;ve<F;ve++)pe=(pe>>2)+(De[Ce+1]?4:0)+(De[Ce-ye+1]?8:0),ae[pe]&&(ue[Ee+ve]=ae[pe],++Oe),Ce++;if(De[Ce-ye]!==De[Ce]&&(ue[Ee+ve]=De[Ce]?2:4,++Oe),Oe>Y)return null}for(Ce=ye*(z-1),Ee=se*Q,De[Ce]!==0&&(ue[Ee]=8,++Oe),ve=1;ve<F;ve++)De[Ce]!==De[Ce+1]&&(ue[Ee+ve]=De[Ce]?4:8,++Oe),Ce++;if(De[Ce]!==0&&(ue[Ee+ve]=4,++Oe),Oe>Y)return null;const _e=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]),Pe=new Path2D;for(se=0;Oe&&se<=z;se++){let pe=se*Q;const Se=pe+F;for(;pe<Se&&!ue[pe];)pe++;if(pe===Se)continue;Pe.moveTo(pe%Q,se);const ke=pe;let Fe=ue[pe];do{const Ke=_e[Fe];do pe+=Ke;while(!ue[pe]);const qe=ue[pe];qe!==5&&qe!==10?(Fe=qe,ue[pe]=0):(Fe=qe&51*Fe>>4,ue[pe]&=Fe>>2|Fe<<2),Pe.lineTo(pe%Q,pe/Q|0),ue[pe]||--Oe}while(ke!==pe);--se}return De=null,ue=null,function(pe){pe.save(),pe.scale(1/F,-1/z),pe.translate(0,-z),pe.fill(Pe),pe.beginPath(),pe.restore()}}class B{constructor(F,z){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,F,z])}clone(){const F=Object.create(this);return F.clipBox=this.clipBox.slice(),F}setCurrentPoint(F,z){this.x=F,this.y=z}updatePathMinMax(F,z,Y){[z,Y]=i.Util.applyTransform([z,Y],F),this.minX=Math.min(this.minX,z),this.minY=Math.min(this.minY,Y),this.maxX=Math.max(this.maxX,z),this.maxY=Math.max(this.maxY,Y)}updateRectMinMax(F,z){const Y=i.Util.applyTransform(z,F),ae=i.Util.applyTransform(z.slice(2),F);this.minX=Math.min(this.minX,Y[0],ae[0]),this.minY=Math.min(this.minY,Y[1],ae[1]),this.maxX=Math.max(this.maxX,Y[0],ae[0]),this.maxY=Math.max(this.maxY,Y[1],ae[1])}updateScalingPathMinMax(F,z){i.Util.scaleMinMax(F,z),this.minX=Math.min(this.minX,z[0]),this.maxX=Math.max(this.maxX,z[1]),this.minY=Math.min(this.minY,z[2]),this.maxY=Math.max(this.maxY,z[3])}updateCurvePathMinMax(F,z,Y,ae,Q,ue,se,ve,Ee,ye){const De=i.Util.bezierBoundingBox(z,Y,ae,Q,ue,se,ve,Ee);if(ye){ye[0]=Math.min(ye[0],De[0],De[2]),ye[1]=Math.max(ye[1],De[0],De[2]),ye[2]=Math.min(ye[2],De[1],De[3]),ye[3]=Math.max(ye[3],De[1],De[3]);return}this.updateRectMinMax(F,De)}getPathBoundingBox(F=l.PathType.FILL,z=null){const Y=[this.minX,this.minY,this.maxX,this.maxY];if(F===l.PathType.STROKE){z||(0,i.unreachable)("Stroke bounding box must include transform.");const ae=i.Util.singularValueDecompose2dScale(z),Q=ae[0]*this.lineWidth/2,ue=ae[1]*this.lineWidth/2;Y[0]-=Q,Y[1]-=ue,Y[2]+=Q,Y[3]+=ue}return Y}updateClipFromPath(){const F=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(F||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(F){this.clipBox=F,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(F=l.PathType.FILL,z=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(F,z))}}function N(H,F){if(typeof ImageData<"u"&&F instanceof ImageData){H.putImageData(F,0,0);return}const z=F.height,Y=F.width,ae=z%_,Q=(z-ae)/_,ue=ae===0?Q:Q+1,se=H.createImageData(Y,_);let ve=0,Ee;const ye=F.data,De=se.data;let Ce,Oe,_e,Pe;if(F.kind===i.ImageKind.GRAYSCALE_1BPP){const oe=ye.byteLength,pe=new Uint32Array(De.buffer,0,De.byteLength>>2),Se=pe.length,ke=Y+7>>3,Fe=4294967295,Ke=i.FeatureTest.isLittleEndian?4278190080:255;for(Ce=0;Ce<ue;Ce++){for(_e=Ce<Q?_:ae,Ee=0,Oe=0;Oe<_e;Oe++){const qe=oe-ve;let we=0;const tt=qe>ke?Y:qe*8-7,Qe=tt&-8;let gt=0,pt=0;for(;we<Qe;we+=8)pt=ye[ve++],pe[Ee++]=pt&128?Fe:Ke,pe[Ee++]=pt&64?Fe:Ke,pe[Ee++]=pt&32?Fe:Ke,pe[Ee++]=pt&16?Fe:Ke,pe[Ee++]=pt&8?Fe:Ke,pe[Ee++]=pt&4?Fe:Ke,pe[Ee++]=pt&2?Fe:Ke,pe[Ee++]=pt&1?Fe:Ke;for(;we<tt;we++)gt===0&&(pt=ye[ve++],gt=128),pe[Ee++]=pt&gt?Fe:Ke,gt>>=1}for(;Ee<Se;)pe[Ee++]=0;H.putImageData(se,0,Ce*_)}}else if(F.kind===i.ImageKind.RGBA_32BPP){for(Oe=0,Pe=Y*_*4,Ce=0;Ce<Q;Ce++)De.set(ye.subarray(ve,ve+Pe)),ve+=Pe,H.putImageData(se,0,Oe),Oe+=_;Ce<ue&&(Pe=Y*ae*4,De.set(ye.subarray(ve,ve+Pe)),H.putImageData(se,0,Oe))}else if(F.kind===i.ImageKind.RGB_24BPP)for(_e=_,Pe=Y*_e,Ce=0;Ce<ue;Ce++){for(Ce>=Q&&(_e=ae,Pe=Y*_e),Ee=0,Oe=Pe;Oe--;)De[Ee++]=ye[ve++],De[Ee++]=ye[ve++],De[Ee++]=ye[ve++],De[Ee++]=255;H.putImageData(se,0,Ce*_)}else throw new Error(`bad image kind: ${F.kind}`)}function j(H,F){if(F.bitmap){H.drawImage(F.bitmap,0,0);return}const z=F.height,Y=F.width,ae=z%_,Q=(z-ae)/_,ue=ae===0?Q:Q+1,se=H.createImageData(Y,_);let ve=0;const Ee=F.data,ye=se.data;for(let De=0;De<ue;De++){const Ce=De<Q?_:ae;({srcPos:ve}=(0,u.convertBlackAndWhiteToRGBA)({src:Ee,srcPos:ve,dest:ye,width:Y,height:Ce,nonBlackColor:0})),H.putImageData(se,0,De*_)}}function M(H,F){const z=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Y of z)H[Y]!==void 0&&(F[Y]=H[Y]);H.setLineDash!==void 0&&(F.setLineDash(H.getLineDash()),F.lineDashOffset=H.lineDashOffset)}function D(H){if(H.strokeStyle=H.fillStyle="#000000",H.fillRule="nonzero",H.globalAlpha=1,H.lineWidth=1,H.lineCap="butt",H.lineJoin="miter",H.miterLimit=10,H.globalCompositeOperation="source-over",H.font="10px sans-serif",H.setLineDash!==void 0&&(H.setLineDash([]),H.lineDashOffset=0),!i.isNodeJS){const{filter:F}=H;F!=="none"&&F!==""&&(H.filter="none")}}function V(H,F,z,Y){const ae=H.length;for(let Q=3;Q<ae;Q+=4){const ue=H[Q];if(ue===0)H[Q-3]=F,H[Q-2]=z,H[Q-1]=Y;else if(ue<255){const se=255-ue;H[Q-3]=H[Q-3]*ue+F*se>>8,H[Q-2]=H[Q-2]*ue+z*se>>8,H[Q-1]=H[Q-1]*ue+Y*se>>8}}}function L(H,F,z){const Y=H.length,ae=1/255;for(let Q=3;Q<Y;Q+=4){const ue=z?z[H[Q]]:H[Q];F[Q]=F[Q]*ue*ae|0}}function U(H,F,z){const Y=H.length;for(let ae=3;ae<Y;ae+=4){const Q=H[ae-3]*77+H[ae-2]*152+H[ae-1]*28;F[ae]=z?F[ae]*z[Q>>8]>>8:F[ae]*Q>>16}}function J(H,F,z,Y,ae,Q,ue,se,ve,Ee,ye){const De=!!Q,Ce=De?Q[0]:0,Oe=De?Q[1]:0,_e=De?Q[2]:0,Pe=ae==="Luminosity"?U:L,pe=Math.min(Y,Math.ceil(1048576/z));for(let Se=0;Se<Y;Se+=pe){const ke=Math.min(pe,Y-Se),Fe=H.getImageData(se-Ee,Se+(ve-ye),z,ke),Ke=F.getImageData(se,Se+ve,z,ke);De&&V(Fe.data,Ce,Oe,_e),Pe(Fe.data,Ke.data,ue),F.putImageData(Ke,se,Se+ve)}}function $(H,F,z,Y){const ae=Y[0],Q=Y[1],ue=Y[2]-ae,se=Y[3]-Q;ue===0||se===0||(J(F.context,z,ue,se,F.subtype,F.backdrop,F.transferMap,ae,Q,F.offsetX,F.offsetY),H.save(),H.globalAlpha=1,H.globalCompositeOperation="source-over",H.setTransform(1,0,0,1,0,0),H.drawImage(z.canvas,0,0),H.restore())}function K(H,F){const z=i.Util.singularValueDecompose2dScale(H);z[0]=Math.fround(z[0]),z[1]=Math.fround(z[1]);const Y=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return F!==void 0?F:z[0]<=Y||z[1]<=Y}const te=["butt","round","square"],me=["miter","round","bevel"],he={},ee={},G=class G{constructor(F,z,Y,ae,Q,{optionalContentConfig:ue,markedContentStack:se=null},ve,Ee){Ie(this,ce);this.ctx=F,this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=z,this.objs=Y,this.canvasFactory=ae,this.filterFactory=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=se||[],this.optionalContentConfig=ue,this.cachedCanvases=new w(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ve,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ee,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(F,z=null){return typeof F=="string"?F.startsWith("g_")?this.commonObjs.get(F):this.objs.get(F):z}beginDrawing({transform:F,viewport:z,transparency:Y=!1,background:ae=null}){const Q=this.ctx.canvas.width,ue=this.ctx.canvas.height,se=this.ctx.fillStyle;if(this.ctx.fillStyle=ae||"#ffffff",this.ctx.fillRect(0,0,Q,ue),this.ctx.fillStyle=se,Y){const ve=this.cachedCanvases.getCanvas("transparent",Q,ue);this.compositeCtx=this.ctx,this.transparentCanvas=ve.canvas,this.ctx=ve.context,this.ctx.save(),this.ctx.transform(...(0,o.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),D(this.ctx),F&&(this.ctx.transform(...F),this.outputScaleX=F[0],this.outputScaleY=F[0]),this.ctx.transform(...z.transform),this.viewportScale=z.scale,this.baseTransform=(0,o.getCurrentTransform)(this.ctx)}executeOperatorList(F,z,Y,ae){const Q=F.argsArray,ue=F.fnArray;let se=z||0;const ve=Q.length;if(ve===se)return se;const Ee=ve-se>b&&typeof Y=="function",ye=Ee?Date.now()+g:0;let De=0;const Ce=this.commonObjs,Oe=this.objs;let _e;for(;;){if(ae!==void 0&&se===ae.nextBreakPoint)return ae.breakIt(se,Y),se;if(_e=ue[se],_e!==i.OPS.dependency)this[_e].apply(this,Q[se]);else for(const Pe of Q[se]){const oe=Pe.startsWith("g_")?Ce:Oe;if(!oe.has(Pe))return oe.get(Pe,Y),se}if(se++,se===ve)return se;if(Ee&&++De>b){if(Date.now()>ye)return Y(),se;De=0}}}endDrawing(){Ae(this,ce,Uu).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const F of this._cachedBitmapsMap.values()){for(const z of F.values())typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement&&(z.width=z.height=0);F.clear()}this._cachedBitmapsMap.clear(),Ae(this,ce,zu).call(this)}_scaleImage(F,z){const Y=F.width,ae=F.height;let Q=Math.max(Math.hypot(z[0],z[1]),1),ue=Math.max(Math.hypot(z[2],z[3]),1),se=Y,ve=ae,Ee="prescale1",ye,De;for(;Q>2&&se>1||ue>2&&ve>1;){let Ce=se,Oe=ve;Q>2&&se>1&&(Ce=se>=16384?Math.floor(se/2)-1||1:Math.ceil(se/2),Q/=se/Ce),ue>2&&ve>1&&(Oe=ve>=16384?Math.floor(ve/2)-1||1:Math.ceil(ve)/2,ue/=ve/Oe),ye=this.cachedCanvases.getCanvas(Ee,Ce,Oe),De=ye.context,De.clearRect(0,0,Ce,Oe),De.drawImage(F,0,0,se,ve,0,0,Ce,Oe),F=ye.canvas,se=Ce,ve=Oe,Ee=Ee==="prescale1"?"prescale2":"prescale1"}return{img:F,paintWidth:se,paintHeight:ve}}_createMaskCanvas(F){const z=this.ctx,{width:Y,height:ae}=F,Q=this.current.fillColor,ue=this.current.patternFill,se=(0,o.getCurrentTransform)(z);let ve,Ee,ye,De;if((F.bitmap||F.data)&&F.count>1){const we=F.bitmap||F.data.buffer;Ee=JSON.stringify(ue?se:[se.slice(0,4),Q]),ve=this._cachedBitmapsMap.get(we),ve||(ve=new Map,this._cachedBitmapsMap.set(we,ve));const tt=ve.get(Ee);if(tt&&!ue){const Qe=Math.round(Math.min(se[0],se[2])+se[4]),gt=Math.round(Math.min(se[1],se[3])+se[5]);return{canvas:tt,offsetX:Qe,offsetY:gt}}ye=tt}ye||(De=this.cachedCanvases.getCanvas("maskCanvas",Y,ae),j(De.context,F));let Ce=i.Util.transform(se,[1/Y,0,0,-1/ae,0,0]);Ce=i.Util.transform(Ce,[1,0,0,1,0,-ae]);const Oe=i.Util.applyTransform([0,0],Ce),_e=i.Util.applyTransform([Y,ae],Ce),Pe=i.Util.normalizeRect([Oe[0],Oe[1],_e[0],_e[1]]),oe=Math.round(Pe[2]-Pe[0])||1,pe=Math.round(Pe[3]-Pe[1])||1,Se=this.cachedCanvases.getCanvas("fillCanvas",oe,pe),ke=Se.context,Fe=Math.min(Oe[0],_e[0]),Ke=Math.min(Oe[1],_e[1]);ke.translate(-Fe,-Ke),ke.transform(...Ce),ye||(ye=this._scaleImage(De.canvas,(0,o.getCurrentTransformInverse)(ke)),ye=ye.img,ve&&ue&&ve.set(Ee,ye)),ke.imageSmoothingEnabled=K((0,o.getCurrentTransform)(ke),F.interpolate),T(ke,ye,0,0,ye.width,ye.height,0,0,Y,ae),ke.globalCompositeOperation="source-in";const qe=i.Util.transform((0,o.getCurrentTransformInverse)(ke),[1,0,0,1,-Fe,-Ke]);return ke.fillStyle=ue?Q.getPattern(z,this,qe,l.PathType.FILL):Q,ke.fillRect(0,0,Y,ae),ve&&!ue&&(this.cachedCanvases.delete("fillCanvas"),ve.set(Ee,Se.canvas)),{canvas:Se.canvas,offsetX:Math.round(Fe),offsetY:Math.round(Ke)}}setLineWidth(F){F!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=F,this.ctx.lineWidth=F}setLineCap(F){this.ctx.lineCap=te[F]}setLineJoin(F){this.ctx.lineJoin=me[F]}setMiterLimit(F){this.ctx.miterLimit=F}setDash(F,z){const Y=this.ctx;Y.setLineDash!==void 0&&(Y.setLineDash(F),Y.lineDashOffset=z)}setRenderingIntent(F){}setFlatness(F){}setGState(F){for(const[z,Y]of F)switch(z){case"LW":this.setLineWidth(Y);break;case"LC":this.setLineCap(Y);break;case"LJ":this.setLineJoin(Y);break;case"ML":this.setMiterLimit(Y);break;case"D":this.setDash(Y[0],Y[1]);break;case"RI":this.setRenderingIntent(Y);break;case"FL":this.setFlatness(Y);break;case"Font":this.setFont(Y[0],Y[1]);break;case"CA":this.current.strokeAlpha=Y;break;case"ca":this.current.fillAlpha=Y,this.ctx.globalAlpha=Y;break;case"BM":this.ctx.globalCompositeOperation=Y;break;case"SMask":this.current.activeSMask=Y?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Y);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const F=this.inSMaskMode;this.current.activeSMask&&!F?this.beginSMaskMode():!this.current.activeSMask&&F&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const F=this.ctx.canvas.width,z=this.ctx.canvas.height,Y="smaskGroupAt"+this.groupLevel,ae=this.cachedCanvases.getCanvas(Y,F,z);this.suspendedCtx=this.ctx,this.ctx=ae.context;const Q=this.ctx;Q.setTransform(...(0,o.getCurrentTransform)(this.suspendedCtx)),M(this.suspendedCtx,Q),A(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),M(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(F){if(!this.current.activeSMask)return;F?(F[0]=Math.floor(F[0]),F[1]=Math.floor(F[1]),F[2]=Math.ceil(F[2]),F[3]=Math.ceil(F[3])):F=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const z=this.current.activeSMask,Y=this.suspendedCtx;$(Y,z,this.ctx,F),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(M(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const F=this.current;this.stateStack.push(F),this.current=F.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),M(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(F,z,Y,ae,Q,ue){this.ctx.transform(F,z,Y,ae,Q,ue),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(F,z,Y){const ae=this.ctx,Q=this.current;let ue=Q.x,se=Q.y,ve,Ee;const ye=(0,o.getCurrentTransform)(ae),De=ye[0]===0&&ye[3]===0||ye[1]===0&&ye[2]===0,Ce=De?Y.slice(0):null;for(let Oe=0,_e=0,Pe=F.length;Oe<Pe;Oe++)switch(F[Oe]|0){case i.OPS.rectangle:ue=z[_e++],se=z[_e++];const oe=z[_e++],pe=z[_e++],Se=ue+oe,ke=se+pe;ae.moveTo(ue,se),oe===0||pe===0?ae.lineTo(Se,ke):(ae.lineTo(Se,se),ae.lineTo(Se,ke),ae.lineTo(ue,ke)),De||Q.updateRectMinMax(ye,[ue,se,Se,ke]),ae.closePath();break;case i.OPS.moveTo:ue=z[_e++],se=z[_e++],ae.moveTo(ue,se),De||Q.updatePathMinMax(ye,ue,se);break;case i.OPS.lineTo:ue=z[_e++],se=z[_e++],ae.lineTo(ue,se),De||Q.updatePathMinMax(ye,ue,se);break;case i.OPS.curveTo:ve=ue,Ee=se,ue=z[_e+4],se=z[_e+5],ae.bezierCurveTo(z[_e],z[_e+1],z[_e+2],z[_e+3],ue,se),Q.updateCurvePathMinMax(ye,ve,Ee,z[_e],z[_e+1],z[_e+2],z[_e+3],ue,se,Ce),_e+=6;break;case i.OPS.curveTo2:ve=ue,Ee=se,ae.bezierCurveTo(ue,se,z[_e],z[_e+1],z[_e+2],z[_e+3]),Q.updateCurvePathMinMax(ye,ve,Ee,ue,se,z[_e],z[_e+1],z[_e+2],z[_e+3],Ce),ue=z[_e+2],se=z[_e+3],_e+=4;break;case i.OPS.curveTo3:ve=ue,Ee=se,ue=z[_e+2],se=z[_e+3],ae.bezierCurveTo(z[_e],z[_e+1],ue,se,ue,se),Q.updateCurvePathMinMax(ye,ve,Ee,z[_e],z[_e+1],ue,se,ue,se,Ce),_e+=4;break;case i.OPS.closePath:ae.closePath();break}De&&Q.updateScalingPathMinMax(ye,Ce),Q.setCurrentPoint(ue,se)}closePath(){this.ctx.closePath()}stroke(F=!0){const z=this.ctx,Y=this.current.strokeColor;z.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Y=="object"&&(Y!=null&&Y.getPattern)?(z.save(),z.strokeStyle=Y.getPattern(z,this,(0,o.getCurrentTransformInverse)(z),l.PathType.STROKE),this.rescaleAndStroke(!1),z.restore()):this.rescaleAndStroke(!0)),F&&this.consumePath(this.current.getClippedPathBoundingBox()),z.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(F=!0){const z=this.ctx,Y=this.current.fillColor,ae=this.current.patternFill;let Q=!1;ae&&(z.save(),z.fillStyle=Y.getPattern(z,this,(0,o.getCurrentTransformInverse)(z),l.PathType.FILL),Q=!0);const ue=this.current.getClippedPathBoundingBox();this.contentVisible&&ue!==null&&(this.pendingEOFill?(z.fill("evenodd"),this.pendingEOFill=!1):z.fill()),Q&&z.restore(),F&&this.consumePath(ue)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=he}eoClip(){this.pendingClip=ee}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const F=this.pendingTextPaths,z=this.ctx;if(F===void 0){z.beginPath();return}z.save(),z.beginPath();for(const Y of F)z.setTransform(...Y.transform),z.translate(Y.x,Y.y),Y.addToPath(z,Y.fontSize);z.restore(),z.clip(),z.beginPath(),delete this.pendingTextPaths}setCharSpacing(F){this.current.charSpacing=F}setWordSpacing(F){this.current.wordSpacing=F}setHScale(F){this.current.textHScale=F/100}setLeading(F){this.current.leading=-F}setFont(F,z){var ye;const Y=this.commonObjs.get(F),ae=this.current;if(!Y)throw new Error(`Can't find font for ${F}`);if(ae.fontMatrix=Y.fontMatrix||i.FONT_IDENTITY_MATRIX,(ae.fontMatrix[0]===0||ae.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+F),z<0?(z=-z,ae.fontDirection=-1):ae.fontDirection=1,this.current.font=Y,this.current.fontSize=z,Y.isType3Font)return;const Q=Y.loadedName||"sans-serif",ue=((ye=Y.systemFontInfo)==null?void 0:ye.css)||`"${Q}", ${Y.fallbackName}`;let se="normal";Y.black?se="900":Y.bold&&(se="bold");const ve=Y.italic?"italic":"normal";let Ee=z;z<h?Ee=h:z>p&&(Ee=p),this.current.fontSizeScale=z/Ee,this.ctx.font=`${ve} ${se} ${Ee}px ${ue}`}setTextRenderingMode(F){this.current.textRenderingMode=F}setTextRise(F){this.current.textRise=F}moveText(F,z){this.current.x=this.current.lineX+=F,this.current.y=this.current.lineY+=z}setLeadingMoveText(F,z){this.setLeading(-z),this.moveText(F,z)}setTextMatrix(F,z,Y,ae,Q,ue){this.current.textMatrix=[F,z,Y,ae,Q,ue],this.current.textMatrixScale=Math.hypot(F,z),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(F,z,Y,ae){const Q=this.ctx,ue=this.current,se=ue.font,ve=ue.textRenderingMode,Ee=ue.fontSize/ue.fontSizeScale,ye=ve&i.TextRenderingMode.FILL_STROKE_MASK,De=!!(ve&i.TextRenderingMode.ADD_TO_PATH_FLAG),Ce=ue.patternFill&&!se.missingFile;let Oe;(se.disableFontFace||De||Ce)&&(Oe=se.getPathGenerator(this.commonObjs,F)),se.disableFontFace||Ce?(Q.save(),Q.translate(z,Y),Q.beginPath(),Oe(Q,Ee),ae&&Q.setTransform(...ae),(ye===i.TextRenderingMode.FILL||ye===i.TextRenderingMode.FILL_STROKE)&&Q.fill(),(ye===i.TextRenderingMode.STROKE||ye===i.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((ye===i.TextRenderingMode.FILL||ye===i.TextRenderingMode.FILL_STROKE)&&Q.fillText(F,z,Y),(ye===i.TextRenderingMode.STROKE||ye===i.TextRenderingMode.FILL_STROKE)&&Q.strokeText(F,z,Y)),De&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,o.getCurrentTransform)(Q),x:z,y:Y,fontSize:Ee,addToPath:Oe})}get isFontSubpixelAAEnabled(){const{context:F}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);F.scale(1.5,1),F.fillText("I",0,10);const z=F.getImageData(0,0,10,10).data;let Y=!1;for(let ae=3;ae<z.length;ae+=4)if(z[ae]>0&&z[ae]<255){Y=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",Y)}showText(F){const z=this.current,Y=z.font;if(Y.isType3Font)return this.showType3Text(F);const ae=z.fontSize;if(ae===0)return;const Q=this.ctx,ue=z.fontSizeScale,se=z.charSpacing,ve=z.wordSpacing,Ee=z.fontDirection,ye=z.textHScale*Ee,De=F.length,Ce=Y.vertical,Oe=Ce?1:-1,_e=Y.defaultVMetrics,Pe=ae*z.fontMatrix[0],oe=z.textRenderingMode===i.TextRenderingMode.FILL&&!Y.disableFontFace&&!z.patternFill;Q.save(),Q.transform(...z.textMatrix),Q.translate(z.x,z.y+z.textRise),Ee>0?Q.scale(ye,-1):Q.scale(ye,1);let pe;if(z.patternFill){Q.save();const qe=z.fillColor.getPattern(Q,this,(0,o.getCurrentTransformInverse)(Q),l.PathType.FILL);pe=(0,o.getCurrentTransform)(Q),Q.restore(),Q.fillStyle=qe}let Se=z.lineWidth;const ke=z.textMatrixScale;if(ke===0||Se===0){const qe=z.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(qe===i.TextRenderingMode.STROKE||qe===i.TextRenderingMode.FILL_STROKE)&&(Se=this.getSinglePixelWidth())}else Se/=ke;if(ue!==1&&(Q.scale(ue,ue),Se/=ue),Q.lineWidth=Se,Y.isInvalidPDFjsFont){const qe=[];let we=0;for(const tt of F)qe.push(tt.unicode),we+=tt.width;Q.fillText(qe.join(""),0,0),z.x+=we*Pe*ye,Q.restore(),this.compose();return}let Fe=0,Ke;for(Ke=0;Ke<De;++Ke){const qe=F[Ke];if(typeof qe=="number"){Fe+=Oe*qe*ae/1e3;continue}let we=!1;const tt=(qe.isSpace?ve:0)+se,Qe=qe.fontChar,gt=qe.accent;let pt,_t,st=qe.width;if(Ce){const Et=qe.vmetric||_e,At=-(qe.vmetric?Et[1]:st*.5)*Pe,Ge=Et[2]*Pe;st=Et?-Et[0]:st,pt=At/ue,_t=(Fe+Ge)/ue}else pt=Fe/ue,_t=0;if(Y.remeasure&&st>0){const Et=Q.measureText(Qe).width*1e3/ae*ue;if(st<Et&&this.isFontSubpixelAAEnabled){const At=st/Et;we=!0,Q.save(),Q.scale(At,1),pt/=At}else st!==Et&&(pt+=(st-Et)/2e3*ae/ue)}if(this.contentVisible&&(qe.isInFont||Y.missingFile)){if(oe&&!gt)Q.fillText(Qe,pt,_t);else if(this.paintChar(Qe,pt,_t,pe),gt){const Et=pt+ae*gt.offset.x/ue,At=_t-ae*gt.offset.y/ue;this.paintChar(gt.fontChar,Et,At,pe)}}const ft=Ce?st*Pe-tt*Ee:st*Pe+tt*Ee;Fe+=ft,we&&Q.restore()}Ce?z.y-=Fe:z.x+=Fe*ye,Q.restore(),this.compose()}showType3Text(F){const z=this.ctx,Y=this.current,ae=Y.font,Q=Y.fontSize,ue=Y.fontDirection,se=ae.vertical?1:-1,ve=Y.charSpacing,Ee=Y.wordSpacing,ye=Y.textHScale*ue,De=Y.fontMatrix||i.FONT_IDENTITY_MATRIX,Ce=F.length,Oe=Y.textRenderingMode===i.TextRenderingMode.INVISIBLE;let _e,Pe,oe,pe;if(!(Oe||Q===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,z.save(),z.transform(...Y.textMatrix),z.translate(Y.x,Y.y),z.scale(ye,ue),_e=0;_e<Ce;++_e){if(Pe=F[_e],typeof Pe=="number"){pe=se*Pe*Q/1e3,this.ctx.translate(pe,0),Y.x+=pe*ye;continue}const Se=(Pe.isSpace?Ee:0)+ve,ke=ae.charProcOperatorList[Pe.operatorListId];if(!ke){(0,i.warn)(`Type3 character "${Pe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Pe,this.save(),z.scale(Q,Q),z.transform(...De),this.executeOperatorList(ke),this.restore()),oe=i.Util.applyTransform([Pe.width,0],De)[0]*Q+Se,z.translate(oe,0),Y.x+=oe*ye}z.restore(),this.processingType3=null}}setCharWidth(F,z){}setCharWidthAndBounds(F,z,Y,ae,Q,ue){this.ctx.rect(Y,ae,Q-Y,ue-ae),this.ctx.clip(),this.endPath()}getColorN_Pattern(F){let z;if(F[0]==="TilingPattern"){const Y=F[1],ae=this.baseTransform||(0,o.getCurrentTransform)(this.ctx),Q={createCanvasGraphics:ue=>new G(ue,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};z=new l.TilingPattern(F,Y,this.ctx,Q,ae)}else z=this._getPattern(F[1],F[2]);return z}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(F,z,Y){const ae=i.Util.makeHexColor(F,z,Y);this.ctx.strokeStyle=ae,this.current.strokeColor=ae}setFillRGBColor(F,z,Y){const ae=i.Util.makeHexColor(F,z,Y);this.ctx.fillStyle=ae,this.current.fillColor=ae,this.current.patternFill=!1}_getPattern(F,z=null){let Y;return this.cachedPatterns.has(F)?Y=this.cachedPatterns.get(F):(Y=(0,l.getShadingPattern)(this.getObject(F)),this.cachedPatterns.set(F,Y)),z&&(Y.matrix=z),Y}shadingFill(F){if(!this.contentVisible)return;const z=this.ctx;this.save();const Y=this._getPattern(F);z.fillStyle=Y.getPattern(z,this,(0,o.getCurrentTransformInverse)(z),l.PathType.SHADING);const ae=(0,o.getCurrentTransformInverse)(z);if(ae){const{width:Q,height:ue}=z.canvas,[se,ve,Ee,ye]=i.Util.getAxialAlignedBoundingBox([0,0,Q,ue],ae);this.ctx.fillRect(se,ve,Ee-se,ye-ve)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(F,z){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(F)&&F.length===6&&this.transform(...F),this.baseTransform=(0,o.getCurrentTransform)(this.ctx),z)){const Y=z[2]-z[0],ae=z[3]-z[1];this.ctx.rect(z[0],z[1],Y,ae),this.current.updateRectMinMax((0,o.getCurrentTransform)(this.ctx),z),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(F){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const z=this.ctx;F.isolated||(0,i.info)("TODO: Support non-isolated groups."),F.knockout&&(0,i.warn)("Knockout groups not supported.");const Y=(0,o.getCurrentTransform)(z);if(F.matrix&&z.transform(...F.matrix),!F.bbox)throw new Error("Bounding box is required.");let ae=i.Util.getAxialAlignedBoundingBox(F.bbox,(0,o.getCurrentTransform)(z));const Q=[0,0,z.canvas.width,z.canvas.height];ae=i.Util.intersect(ae,Q)||[0,0,0,0];const ue=Math.floor(ae[0]),se=Math.floor(ae[1]);let ve=Math.max(Math.ceil(ae[2])-ue,1),Ee=Math.max(Math.ceil(ae[3])-se,1),ye=1,De=1;ve>m&&(ye=ve/m,ve=m),Ee>m&&(De=Ee/m,Ee=m),this.current.startNewPathAndClipBox([0,0,ve,Ee]);let Ce="groupAt"+this.groupLevel;F.smask&&(Ce+="_smask_"+this.smaskCounter++%2);const Oe=this.cachedCanvases.getCanvas(Ce,ve,Ee),_e=Oe.context;_e.scale(1/ye,1/De),_e.translate(-ue,-se),_e.transform(...Y),F.smask?this.smaskStack.push({canvas:Oe.canvas,context:_e,offsetX:ue,offsetY:se,scaleX:ye,scaleY:De,subtype:F.smask.subtype,backdrop:F.smask.backdrop,transferMap:F.smask.transferMap||null,startTransformInverse:null}):(z.setTransform(1,0,0,1,0,0),z.translate(ue,se),z.scale(ye,De),z.save()),M(z,_e),this.ctx=_e,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(z),this.groupLevel++}endGroup(F){if(!this.contentVisible)return;this.groupLevel--;const z=this.ctx,Y=this.groupStack.pop();if(this.ctx=Y,this.ctx.imageSmoothingEnabled=!1,F.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const ae=(0,o.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...ae);const Q=i.Util.getAxialAlignedBoundingBox([0,0,z.canvas.width,z.canvas.height],ae);this.ctx.drawImage(z.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotation(F,z,Y,ae,Q){if(Ae(this,ce,Uu).call(this),D(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(z)&&z.length===4){const ue=z[2]-z[0],se=z[3]-z[1];if(Q&&this.annotationCanvasMap){Y=Y.slice(),Y[4]-=z[0],Y[5]-=z[1],z=z.slice(),z[0]=z[1]=0,z[2]=ue,z[3]=se;const[ve,Ee]=i.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(this.ctx)),{viewportScale:ye}=this,De=Math.ceil(ue*this.outputScaleX*ye),Ce=Math.ceil(se*this.outputScaleY*ye);this.annotationCanvas=this.canvasFactory.create(De,Ce);const{canvas:Oe,context:_e}=this.annotationCanvas;this.annotationCanvasMap.set(F,Oe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=_e,this.ctx.save(),this.ctx.setTransform(ve,0,0,-Ee,0,se*Ee),D(this.ctx)}else D(this.ctx),this.ctx.rect(z[0],z[1],ue,se),this.ctx.clip(),this.endPath()}this.current=new B(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Y),this.transform(...ae)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ae(this,ce,zu).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(F){if(!this.contentVisible)return;const z=F.count;F=this.getObject(F.data,F),F.count=z;const Y=this.ctx,ae=this.processingType3;if(ae&&(ae.compiled===void 0&&(ae.compiled=C(F)),ae.compiled)){ae.compiled(Y);return}const Q=this._createMaskCanvas(F),ue=Q.canvas;Y.save(),Y.setTransform(1,0,0,1,0,0),Y.drawImage(ue,Q.offsetX,Q.offsetY),Y.restore(),this.compose()}paintImageMaskXObjectRepeat(F,z,Y=0,ae=0,Q,ue){if(!this.contentVisible)return;F=this.getObject(F.data,F);const se=this.ctx;se.save();const ve=(0,o.getCurrentTransform)(se);se.transform(z,Y,ae,Q,0,0);const Ee=this._createMaskCanvas(F);se.setTransform(1,0,0,1,Ee.offsetX-ve[4],Ee.offsetY-ve[5]);for(let ye=0,De=ue.length;ye<De;ye+=2){const Ce=i.Util.transform(ve,[z,Y,ae,Q,ue[ye],ue[ye+1]]),[Oe,_e]=i.Util.applyTransform([0,0],Ce);se.drawImage(Ee.canvas,Oe,_e)}se.restore(),this.compose()}paintImageMaskXObjectGroup(F){if(!this.contentVisible)return;const z=this.ctx,Y=this.current.fillColor,ae=this.current.patternFill;for(const Q of F){const{data:ue,width:se,height:ve,transform:Ee}=Q,ye=this.cachedCanvases.getCanvas("maskCanvas",se,ve),De=ye.context;De.save();const Ce=this.getObject(ue,Q);j(De,Ce),De.globalCompositeOperation="source-in",De.fillStyle=ae?Y.getPattern(De,this,(0,o.getCurrentTransformInverse)(z),l.PathType.FILL):Y,De.fillRect(0,0,se,ve),De.restore(),z.save(),z.transform(...Ee),z.scale(1,-1),T(z,ye.canvas,0,0,se,ve,0,-1,1,1),z.restore()}this.compose()}paintImageXObject(F){if(!this.contentVisible)return;const z=this.getObject(F);if(!z){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(z)}paintImageXObjectRepeat(F,z,Y,ae){if(!this.contentVisible)return;const Q=this.getObject(F);if(!Q){(0,i.warn)("Dependent image isn't ready yet");return}const ue=Q.width,se=Q.height,ve=[];for(let Ee=0,ye=ae.length;Ee<ye;Ee+=2)ve.push({transform:[z,0,0,Y,ae[Ee],ae[Ee+1]],x:0,y:0,w:ue,h:se});this.paintInlineImageXObjectGroup(Q,ve)}applyTransferMapsToCanvas(F){return this.current.transferMaps!=="none"&&(F.filter=this.current.transferMaps,F.drawImage(F.canvas,0,0),F.filter="none"),F.canvas}applyTransferMapsToBitmap(F){if(this.current.transferMaps==="none")return F.bitmap;const{bitmap:z,width:Y,height:ae}=F,Q=this.cachedCanvases.getCanvas("inlineImage",Y,ae),ue=Q.context;return ue.filter=this.current.transferMaps,ue.drawImage(z,0,0),ue.filter="none",Q.canvas}paintInlineImageXObject(F){if(!this.contentVisible)return;const z=F.width,Y=F.height,ae=this.ctx;if(this.save(),!i.isNodeJS){const{filter:se}=ae;se!=="none"&&se!==""&&(ae.filter="none")}ae.scale(1/z,-1/Y);let Q;if(F.bitmap)Q=this.applyTransferMapsToBitmap(F);else if(typeof HTMLElement=="function"&&F instanceof HTMLElement||!F.data)Q=F;else{const ve=this.cachedCanvases.getCanvas("inlineImage",z,Y).context;N(ve,F),Q=this.applyTransferMapsToCanvas(ve)}const ue=this._scaleImage(Q,(0,o.getCurrentTransformInverse)(ae));ae.imageSmoothingEnabled=K((0,o.getCurrentTransform)(ae),F.interpolate),T(ae,ue.img,0,0,ue.paintWidth,ue.paintHeight,0,-Y,z,Y),this.compose(),this.restore()}paintInlineImageXObjectGroup(F,z){if(!this.contentVisible)return;const Y=this.ctx;let ae;if(F.bitmap)ae=F.bitmap;else{const Q=F.width,ue=F.height,ve=this.cachedCanvases.getCanvas("inlineImage",Q,ue).context;N(ve,F),ae=this.applyTransferMapsToCanvas(ve)}for(const Q of z)Y.save(),Y.transform(...Q.transform),Y.scale(1,-1),T(Y,ae,Q.x,Q.y,Q.w,Q.h,0,-1,1,1),Y.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(F){}markPointProps(F,z){}beginMarkedContent(F){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(F,z){F==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(z)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(F){const z=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(F);const Y=this.ctx;this.pendingClip&&(z||(this.pendingClip===ee?Y.clip("evenodd"):Y.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Y.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const F=(0,o.getCurrentTransform)(this.ctx);if(F[1]===0&&F[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(F[0]),Math.abs(F[3]));else{const z=Math.abs(F[0]*F[3]-F[2]*F[1]),Y=Math.hypot(F[0],F[2]),ae=Math.hypot(F[1],F[3]);this._cachedGetSinglePixelWidth=Math.max(Y,ae)/z}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:F}=this.current,{a:z,b:Y,c:ae,d:Q}=this.ctx.getTransform();let ue,se;if(Y===0&&ae===0){const ve=Math.abs(z),Ee=Math.abs(Q);if(ve===Ee)if(F===0)ue=se=1/ve;else{const ye=ve*F;ue=se=ye<1?1/ye:1}else if(F===0)ue=1/ve,se=1/Ee;else{const ye=ve*F,De=Ee*F;ue=ye<1?1/ye:1,se=De<1?1/De:1}}else{const ve=Math.abs(z*Q-Y*ae),Ee=Math.hypot(z,Y),ye=Math.hypot(ae,Q);if(F===0)ue=ye/ve,se=Ee/ve;else{const De=F*ve;ue=ye>De?ye/De:1,se=Ee>De?Ee/De:1}}this._cachedScaleForStroking[0]=ue,this._cachedScaleForStroking[1]=se}return this._cachedScaleForStroking}rescaleAndStroke(F){const{ctx:z}=this,{lineWidth:Y}=this.current,[ae,Q]=this.getScaleForStroking();if(z.lineWidth=Y||1,ae===1&&Q===1){z.stroke();return}const ue=z.getLineDash();if(F&&z.save(),z.scale(ae,Q),ue.length>0){const se=Math.max(ae,Q);z.setLineDash(ue.map(ve=>ve/se)),z.lineDashOffset/=se}z.stroke(),F&&z.restore()}isContentVisible(){for(let F=this.markedContentStack.length-1;F>=0;F--)if(!this.markedContentStack[F].visible)return!1;return!0}};ce=new WeakSet,Uu=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},zu=function(){if(this.pageColors){const F=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(F!=="none"){const z=this.ctx.filter;this.ctx.filter=F,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=z}}};let ie=G;t.CanvasGraphics=ie;for(const H in i.OPS)ie.prototype[H]!==void 0&&(ie.prototype[i.OPS[H]]=ie.prototype[H])}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TilingPattern=t.PathType=void 0,t.getShadingPattern=_;var i=n(1),o=n(6);const l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=l;function u(C,B){if(!B)return;const N=B[2]-B[0],j=B[3]-B[1],M=new Path2D;M.rect(B[0],B[1],N,j),C.clip(M)}class h{constructor(){this.constructor===h&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,i.unreachable)("Abstract method `getPattern` called.")}}class p extends h{constructor(B){super(),this._type=B[1],this._bbox=B[2],this._colorStops=B[3],this._p0=B[4],this._p1=B[5],this._r0=B[6],this._r1=B[7],this.matrix=null}_createGradient(B){let N;this._type==="axial"?N=B.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(N=B.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const j of this._colorStops)N.addColorStop(j[0],j[1]);return N}getPattern(B,N,j,M){let D;if(M===l.STROKE||M===l.FILL){const V=N.current.getClippedPathBoundingBox(M,(0,o.getCurrentTransform)(B))||[0,0,0,0],L=Math.ceil(V[2]-V[0])||1,U=Math.ceil(V[3]-V[1])||1,J=N.cachedCanvases.getCanvas("pattern",L,U,!0),$=J.context;$.clearRect(0,0,$.canvas.width,$.canvas.height),$.beginPath(),$.rect(0,0,$.canvas.width,$.canvas.height),$.translate(-V[0],-V[1]),j=i.Util.transform(j,[1,0,0,1,V[0],V[1]]),$.transform(...N.baseTransform),this.matrix&&$.transform(...this.matrix),u($,this._bbox),$.fillStyle=this._createGradient($),$.fill(),D=B.createPattern(J.canvas,"no-repeat");const K=new DOMMatrix(j);D.setTransform(K)}else u(B,this._bbox),D=this._createGradient(B);return D}}function m(C,B,N,j,M,D,V,L){const U=B.coords,J=B.colors,$=C.data,K=C.width*4;let te;U[N+1]>U[j+1]&&(te=N,N=j,j=te,te=D,D=V,V=te),U[j+1]>U[M+1]&&(te=j,j=M,M=te,te=V,V=L,L=te),U[N+1]>U[j+1]&&(te=N,N=j,j=te,te=D,D=V,V=te);const me=(U[N]+B.offsetX)*B.scaleX,he=(U[N+1]+B.offsetY)*B.scaleY,ee=(U[j]+B.offsetX)*B.scaleX,ie=(U[j+1]+B.offsetY)*B.scaleY,ce=(U[M]+B.offsetX)*B.scaleX,ne=(U[M+1]+B.offsetY)*B.scaleY;if(he>=ne)return;const Z=J[D],G=J[D+1],H=J[D+2],F=J[V],z=J[V+1],Y=J[V+2],ae=J[L],Q=J[L+1],ue=J[L+2],se=Math.round(he),ve=Math.round(ne);let Ee,ye,De,Ce,Oe,_e,Pe,oe;for(let pe=se;pe<=ve;pe++){if(pe<ie){const qe=pe<he?0:(he-pe)/(he-ie);Ee=me-(me-ee)*qe,ye=Z-(Z-F)*qe,De=G-(G-z)*qe,Ce=H-(H-Y)*qe}else{let qe;pe>ne?qe=1:ie===ne?qe=0:qe=(ie-pe)/(ie-ne),Ee=ee-(ee-ce)*qe,ye=F-(F-ae)*qe,De=z-(z-Q)*qe,Ce=Y-(Y-ue)*qe}let Se;pe<he?Se=0:pe>ne?Se=1:Se=(he-pe)/(he-ne),Oe=me-(me-ce)*Se,_e=Z-(Z-ae)*Se,Pe=G-(G-Q)*Se,oe=H-(H-ue)*Se;const ke=Math.round(Math.min(Ee,Oe)),Fe=Math.round(Math.max(Ee,Oe));let Ke=K*pe+ke*4;for(let qe=ke;qe<=Fe;qe++)Se=(Ee-qe)/(Ee-Oe),Se<0?Se=0:Se>1&&(Se=1),$[Ke++]=ye-(ye-_e)*Se|0,$[Ke++]=De-(De-Pe)*Se|0,$[Ke++]=Ce-(Ce-oe)*Se|0,$[Ke++]=255}}function g(C,B,N){const j=B.coords,M=B.colors;let D,V;switch(B.type){case"lattice":const L=B.verticesPerRow,U=Math.floor(j.length/L)-1,J=L-1;for(D=0;D<U;D++){let $=D*L;for(let K=0;K<J;K++,$++)m(C,N,j[$],j[$+1],j[$+L],M[$],M[$+1],M[$+L]),m(C,N,j[$+L+1],j[$+1],j[$+L],M[$+L+1],M[$+1],M[$+L])}break;case"triangles":for(D=0,V=j.length;D<V;D+=3)m(C,N,j[D],j[D+1],j[D+2],M[D],M[D+1],M[D+2]);break;default:throw new Error("illegal figure")}}class b extends h{constructor(B){super(),this._coords=B[2],this._colors=B[3],this._figures=B[4],this._bounds=B[5],this._bbox=B[7],this._background=B[8],this.matrix=null}_createMeshCanvas(B,N,j){const L=Math.floor(this._bounds[0]),U=Math.floor(this._bounds[1]),J=Math.ceil(this._bounds[2])-L,$=Math.ceil(this._bounds[3])-U,K=Math.min(Math.ceil(Math.abs(J*B[0]*1.1)),3e3),te=Math.min(Math.ceil(Math.abs($*B[1]*1.1)),3e3),me=J/K,he=$/te,ee={coords:this._coords,colors:this._colors,offsetX:-L,offsetY:-U,scaleX:1/me,scaleY:1/he},ie=K+4,ce=te+4,ne=j.getCanvas("mesh",ie,ce,!1),Z=ne.context,G=Z.createImageData(K,te);if(N){const F=G.data;for(let z=0,Y=F.length;z<Y;z+=4)F[z]=N[0],F[z+1]=N[1],F[z+2]=N[2],F[z+3]=255}for(const F of this._figures)g(G,F,ee);return Z.putImageData(G,2,2),{canvas:ne.canvas,offsetX:L-2*me,offsetY:U-2*he,scaleX:me,scaleY:he}}getPattern(B,N,j,M){u(B,this._bbox);let D;if(M===l.SHADING)D=i.Util.singularValueDecompose2dScale((0,o.getCurrentTransform)(B));else if(D=i.Util.singularValueDecompose2dScale(N.baseTransform),this.matrix){const L=i.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*L[0],D[1]*L[1]]}const V=this._createMeshCanvas(D,M===l.SHADING?null:this._background,N.cachedCanvases);return M!==l.SHADING&&(B.setTransform(...N.baseTransform),this.matrix&&B.transform(...this.matrix)),B.translate(V.offsetX,V.offsetY),B.scale(V.scaleX,V.scaleY),B.createPattern(V.canvas,"no-repeat")}}class E extends h{getPattern(){return"hotpink"}}function _(C){switch(C[0]){case"RadialAxial":return new p(C);case"Mesh":return new b(C);case"Dummy":return new E}throw new Error(`Unknown IR type: ${C[0]}`)}const A={COLORED:1,UNCOLORED:2},T=class T{constructor(B,N,j,M,D){this.operatorList=B[2],this.matrix=B[3]||[1,0,0,1,0,0],this.bbox=B[4],this.xstep=B[5],this.ystep=B[6],this.paintType=B[7],this.tilingType=B[8],this.color=N,this.ctx=j,this.canvasGraphicsFactory=M,this.baseTransform=D}createPatternCanvas(B){const N=this.operatorList,j=this.bbox,M=this.xstep,D=this.ystep,V=this.paintType,L=this.tilingType,U=this.color,J=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+L);const $=j[0],K=j[1],te=j[2],me=j[3],he=i.Util.singularValueDecompose2dScale(this.matrix),ee=i.Util.singularValueDecompose2dScale(this.baseTransform),ie=[he[0]*ee[0],he[1]*ee[1]],ce=this.getSizeAndScale(M,this.ctx.canvas.width,ie[0]),ne=this.getSizeAndScale(D,this.ctx.canvas.height,ie[1]),Z=B.cachedCanvases.getCanvas("pattern",ce.size,ne.size,!0),G=Z.context,H=J.createCanvasGraphics(G);H.groupLevel=B.groupLevel,this.setFillAndStrokeStyleToContext(H,V,U);let F=$,z=K,Y=te,ae=me;return $<0&&(F=0,Y+=Math.abs($)),K<0&&(z=0,ae+=Math.abs(K)),G.translate(-(ce.scale*F),-(ne.scale*z)),H.transform(ce.scale,0,0,ne.scale,0,0),G.save(),this.clipBbox(H,F,z,Y,ae),H.baseTransform=(0,o.getCurrentTransform)(H.ctx),H.executeOperatorList(N),H.endDrawing(),{canvas:Z.canvas,scaleX:ce.scale,scaleY:ne.scale,offsetX:F,offsetY:z}}getSizeAndScale(B,N,j){B=Math.abs(B);const M=Math.max(T.MAX_PATTERN_SIZE,N);let D=Math.ceil(B*j);return D>=M?D=M:j=D/B,{scale:j,size:D}}clipBbox(B,N,j,M,D){const V=M-N,L=D-j;B.ctx.rect(N,j,V,L),B.current.updateRectMinMax((0,o.getCurrentTransform)(B.ctx),[N,j,M,D]),B.clip(),B.endPath()}setFillAndStrokeStyleToContext(B,N,j){const M=B.ctx,D=B.current;switch(N){case A.COLORED:const V=this.ctx;M.fillStyle=V.fillStyle,M.strokeStyle=V.strokeStyle,D.fillColor=V.fillStyle,D.strokeColor=V.strokeStyle;break;case A.UNCOLORED:const L=i.Util.makeHexColor(j[0],j[1],j[2]);M.fillStyle=L,M.strokeStyle=L,D.fillColor=L,D.strokeColor=L;break;default:throw new i.FormatError(`Unsupported paint type: ${N}`)}}getPattern(B,N,j,M){let D=j;M!==l.SHADING&&(D=i.Util.transform(D,N.baseTransform),this.matrix&&(D=i.Util.transform(D,this.matrix)));const V=this.createPatternCanvas(N);let L=new DOMMatrix(D);L=L.translate(V.offsetX,V.offsetY),L=L.scale(1/V.scaleX,1/V.scaleY);const U=B.createPattern(V.canvas,"repeat");return U.setTransform(L),U}};Lt(T,"MAX_PATTERN_SIZE",3e3);let w=T;t.TilingPattern=w}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertBlackAndWhiteToRGBA=l,t.convertToRGBA=o,t.grayToRGBA=h;var i=n(1);function o(p){switch(p.kind){case i.ImageKind.GRAYSCALE_1BPP:return l(p);case i.ImageKind.RGB_24BPP:return u(p)}return null}function l({src:p,srcPos:m=0,dest:g,width:b,height:E,nonBlackColor:_=4294967295,inverseDecode:A=!1}){const w=i.FeatureTest.isLittleEndian?4278190080:255,[T,C]=A?[_,w]:[w,_],B=b>>3,N=b&7,j=p.length;g=new Uint32Array(g.buffer);let M=0;for(let D=0;D<E;D++){for(const L=m+B;m<L;m++){const U=m<j?p[m]:255;g[M++]=U&128?C:T,g[M++]=U&64?C:T,g[M++]=U&32?C:T,g[M++]=U&16?C:T,g[M++]=U&8?C:T,g[M++]=U&4?C:T,g[M++]=U&2?C:T,g[M++]=U&1?C:T}if(N===0)continue;const V=m<j?p[m++]:255;for(let L=0;L<N;L++)g[M++]=V&1<<7-L?C:T}return{srcPos:m,destPos:M}}function u({src:p,srcPos:m=0,dest:g,destPos:b=0,width:E,height:_}){let A=0;const w=p.length>>2,T=new Uint32Array(p.buffer,m,w);if(i.FeatureTest.isLittleEndian){for(;A<w-2;A+=3,b+=4){const C=T[A],B=T[A+1],N=T[A+2];g[b]=C|4278190080,g[b+1]=C>>>24|B<<8|4278190080,g[b+2]=B>>>16|N<<16|4278190080,g[b+3]=N>>>8|4278190080}for(let C=A*4,B=p.length;C<B;C+=3)g[b++]=p[C]|p[C+1]<<8|p[C+2]<<16|4278190080}else{for(;A<w-2;A+=3,b+=4){const C=T[A],B=T[A+1],N=T[A+2];g[b]=C|255,g[b+1]=C<<24|B>>>8|255,g[b+2]=B<<16|N>>>16|255,g[b+3]=N<<8|255}for(let C=A*4,B=p.length;C<B;C+=3)g[b++]=p[C]<<24|p[C+1]<<16|p[C+2]<<8|255}return{srcPos:m,destPos:b}}function h(p,m){if(i.FeatureTest.isLittleEndian)for(let g=0,b=p.length;g<b;g++)m[g]=p[g]*65793|4278190080;else for(let g=0,b=p.length;g<b;g++)m[g]=p[g]*16843008|255}}),((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;const n=Object.create(null);t.GlobalWorkerOptions=n,n.workerPort=null,n.workerSrc=""}),((e,t,n)=>{var p,dp,hp,co;Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var i=n(1);const o={DATA:1,ERROR:2},l={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function u(E){switch(E instanceof Error||typeof E=="object"&&E!==null||(0,i.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),E.name){case"AbortException":return new i.AbortException(E.message);case"MissingPDFException":return new i.MissingPDFException(E.message);case"PasswordException":return new i.PasswordException(E.message,E.code);case"UnexpectedResponseException":return new i.UnexpectedResponseException(E.message,E.status);case"UnknownErrorException":return new i.UnknownErrorException(E.message,E.details);default:return new i.UnknownErrorException(E.message,E.toString())}}class h{constructor(_,A,w){Ie(this,p);this.sourceName=_,this.targetName=A,this.comObj=w,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=T=>{const C=T.data;if(C.targetName!==this.sourceName)return;if(C.stream){Ae(this,p,hp).call(this,C);return}if(C.callback){const N=C.callbackId,j=this.callbackCapabilities[N];if(!j)throw new Error(`Cannot resolve callback ${N}`);if(delete this.callbackCapabilities[N],C.callback===o.DATA)j.resolve(C.data);else if(C.callback===o.ERROR)j.reject(u(C.reason));else throw new Error("Unexpected callback case");return}const B=this.actionHandler[C.action];if(!B)throw new Error(`Unknown action from worker: ${C.action}`);if(C.callbackId){const N=this.sourceName,j=C.sourceName;new Promise(function(M){M(B(C.data))}).then(function(M){w.postMessage({sourceName:N,targetName:j,callback:o.DATA,callbackId:C.callbackId,data:M})},function(M){w.postMessage({sourceName:N,targetName:j,callback:o.ERROR,callbackId:C.callbackId,reason:u(M)})});return}if(C.streamId){Ae(this,p,dp).call(this,C);return}B(C.data)},w.addEventListener("message",this._onComObjOnMessage)}on(_,A){const w=this.actionHandler;if(w[_])throw new Error(`There is already an actionName called "${_}"`);w[_]=A}send(_,A,w){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,data:A},w)}sendWithPromise(_,A,w){const T=this.callbackId++,C=new i.PromiseCapability;this.callbackCapabilities[T]=C;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:_,callbackId:T,data:A},w)}catch(B){C.reject(B)}return C.promise}sendWithStream(_,A,w,T){const C=this.streamId++,B=this.sourceName,N=this.targetName,j=this.comObj;return new ReadableStream({start:M=>{const D=new i.PromiseCapability;return this.streamControllers[C]={controller:M,startCall:D,pullCall:null,cancelCall:null,isClosed:!1},j.postMessage({sourceName:B,targetName:N,action:_,streamId:C,data:A,desiredSize:M.desiredSize},T),D.promise},pull:M=>{const D=new i.PromiseCapability;return this.streamControllers[C].pullCall=D,j.postMessage({sourceName:B,targetName:N,stream:l.PULL,streamId:C,desiredSize:M.desiredSize}),D.promise},cancel:M=>{(0,i.assert)(M instanceof Error,"cancel must have a valid reason");const D=new i.PromiseCapability;return this.streamControllers[C].cancelCall=D,this.streamControllers[C].isClosed=!0,j.postMessage({sourceName:B,targetName:N,stream:l.CANCEL,streamId:C,reason:u(M)}),D.promise}},w)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}p=new WeakSet,dp=function(_){const A=_.streamId,w=this.sourceName,T=_.sourceName,C=this.comObj,B=this,N=this.actionHandler[_.action],j={enqueue(M,D=1,V){if(this.isCancelled)return;const L=this.desiredSize;this.desiredSize-=D,L>0&&this.desiredSize<=0&&(this.sinkCapability=new i.PromiseCapability,this.ready=this.sinkCapability.promise),C.postMessage({sourceName:w,targetName:T,stream:l.ENQUEUE,streamId:A,chunk:M},V)},close(){this.isCancelled||(this.isCancelled=!0,C.postMessage({sourceName:w,targetName:T,stream:l.CLOSE,streamId:A}),delete B.streamSinks[A])},error(M){(0,i.assert)(M instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,C.postMessage({sourceName:w,targetName:T,stream:l.ERROR,streamId:A,reason:u(M)}))},sinkCapability:new i.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:_.desiredSize,ready:null};j.sinkCapability.resolve(),j.ready=j.sinkCapability.promise,this.streamSinks[A]=j,new Promise(function(M){M(N(_.data,j))}).then(function(){C.postMessage({sourceName:w,targetName:T,stream:l.START_COMPLETE,streamId:A,success:!0})},function(M){C.postMessage({sourceName:w,targetName:T,stream:l.START_COMPLETE,streamId:A,reason:u(M)})})},hp=function(_){const A=_.streamId,w=this.sourceName,T=_.sourceName,C=this.comObj,B=this.streamControllers[A],N=this.streamSinks[A];switch(_.stream){case l.START_COMPLETE:_.success?B.startCall.resolve():B.startCall.reject(u(_.reason));break;case l.PULL_COMPLETE:_.success?B.pullCall.resolve():B.pullCall.reject(u(_.reason));break;case l.PULL:if(!N){C.postMessage({sourceName:w,targetName:T,stream:l.PULL_COMPLETE,streamId:A,success:!0});break}N.desiredSize<=0&&_.desiredSize>0&&N.sinkCapability.resolve(),N.desiredSize=_.desiredSize,new Promise(function(j){var M;j((M=N.onPull)==null?void 0:M.call(N))}).then(function(){C.postMessage({sourceName:w,targetName:T,stream:l.PULL_COMPLETE,streamId:A,success:!0})},function(j){C.postMessage({sourceName:w,targetName:T,stream:l.PULL_COMPLETE,streamId:A,reason:u(j)})});break;case l.ENQUEUE:if((0,i.assert)(B,"enqueue should have stream controller"),B.isClosed)break;B.controller.enqueue(_.chunk);break;case l.CLOSE:if((0,i.assert)(B,"close should have stream controller"),B.isClosed)break;B.isClosed=!0,B.controller.close(),Ae(this,p,co).call(this,B,A);break;case l.ERROR:(0,i.assert)(B,"error should have stream controller"),B.controller.error(u(_.reason)),Ae(this,p,co).call(this,B,A);break;case l.CANCEL_COMPLETE:_.success?B.cancelCall.resolve():B.cancelCall.reject(u(_.reason)),Ae(this,p,co).call(this,B,A);break;case l.CANCEL:if(!N)break;new Promise(function(j){var M;j((M=N.onCancel)==null?void 0:M.call(N,u(_.reason)))}).then(function(){C.postMessage({sourceName:w,targetName:T,stream:l.CANCEL_COMPLETE,streamId:A,success:!0})},function(j){C.postMessage({sourceName:w,targetName:T,stream:l.CANCEL_COMPLETE,streamId:A,reason:u(j)})}),N.sinkCapability.reject(u(_.reason)),N.isCancelled=!0,delete this.streamSinks[A];break;default:throw new Error("Unexpected stream case")}},co=async function(_,A){var w,T,C;await Promise.allSettled([(w=_.startCall)==null?void 0:w.promise,(T=_.pullCall)==null?void 0:T.promise,(C=_.cancelCall)==null?void 0:C.promise]),delete this.streamControllers[A]},t.MessageHandler=h}),((e,t,n)=>{var l,u;Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var i=n(1);class o{constructor({parsedData:p,rawData:m}){Ie(this,l);Ie(this,u);Me(this,l,p),Me(this,u,m)}getRaw(){return q(this,u)}get(p){return q(this,l).get(p)??null}getAll(){return(0,i.objectFromMap)(q(this,l))}has(p){return q(this,l).has(p)}}l=new WeakMap,u=new WeakMap,t.Metadata=o}),((e,t,n)=>{var p,m,g,b,E,_,qu;Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var i=n(1),o=n(8);const l=Symbol("INTERNAL");class u{constructor(T,C){Ie(this,p,!0);this.name=T,this.intent=C}get visible(){return q(this,p)}_setVisible(T,C){T!==l&&(0,i.unreachable)("Internal method `_setVisible` called."),Me(this,p,C)}}p=new WeakMap;class h{constructor(T){Ie(this,_);Ie(this,m,null);Ie(this,g,new Map);Ie(this,b,null);Ie(this,E,null);if(this.name=null,this.creator=null,T!==null){this.name=T.name,this.creator=T.creator,Me(this,E,T.order);for(const C of T.groups)q(this,g).set(C.id,new u(C.name,C.intent));if(T.baseState==="OFF")for(const C of q(this,g).values())C._setVisible(l,!1);for(const C of T.on)q(this,g).get(C)._setVisible(l,!0);for(const C of T.off)q(this,g).get(C)._setVisible(l,!1);Me(this,b,this.getHash())}}isVisible(T){if(q(this,g).size===0)return!0;if(!T)return(0,i.warn)("Optional content group not defined."),!0;if(T.type==="OCG")return q(this,g).has(T.id)?q(this,g).get(T.id).visible:((0,i.warn)(`Optional content group not found: ${T.id}`),!0);if(T.type==="OCMD"){if(T.expression)return Ae(this,_,qu).call(this,T.expression);if(!T.policy||T.policy==="AnyOn"){for(const C of T.ids){if(!q(this,g).has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(q(this,g).get(C).visible)return!0}return!1}else if(T.policy==="AllOn"){for(const C of T.ids){if(!q(this,g).has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(!q(this,g).get(C).visible)return!1}return!0}else if(T.policy==="AnyOff"){for(const C of T.ids){if(!q(this,g).has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(!q(this,g).get(C).visible)return!0}return!1}else if(T.policy==="AllOff"){for(const C of T.ids){if(!q(this,g).has(C))return(0,i.warn)(`Optional content group not found: ${C}`),!0;if(q(this,g).get(C).visible)return!1}return!0}return(0,i.warn)(`Unknown optional content policy ${T.policy}.`),!0}return(0,i.warn)(`Unknown group type ${T.type}.`),!0}setVisibility(T,C=!0){if(!q(this,g).has(T)){(0,i.warn)(`Optional content group not found: ${T}`);return}q(this,g).get(T)._setVisible(l,!!C),Me(this,m,null)}get hasInitialVisibility(){return q(this,b)===null||this.getHash()===q(this,b)}getOrder(){return q(this,g).size?q(this,E)?q(this,E).slice():[...q(this,g).keys()]:null}getGroups(){return q(this,g).size>0?(0,i.objectFromMap)(q(this,g)):null}getGroup(T){return q(this,g).get(T)||null}getHash(){if(q(this,m)!==null)return q(this,m);const T=new o.MurmurHash3_64;for(const[C,B]of q(this,g))T.update(`${C}:${B.visible}`);return Me(this,m,T.hexdigest())}}m=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakSet,qu=function(T){const C=T.length;if(C<2)return!0;const B=T[0];for(let N=1;N<C;N++){const j=T[N];let M;if(Array.isArray(j))M=Ae(this,_,qu).call(this,j);else if(q(this,g).has(j))M=q(this,g).get(j).visible;else return(0,i.warn)(`Optional content group not found: ${j}`),!0;switch(B){case"And":if(!M)return!1;break;case"Or":if(M)return!0;break;case"Not":return!M;default:return!0}}return B==="And"},t.OptionalContentConfig=h}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var i=n(1),o=n(6);class l{constructor({length:m,initialData:g,progressiveDone:b=!1,contentDispositionFilename:E=null,disableRange:_=!1,disableStream:A=!1},w){if((0,i.assert)(w,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b,this._contentDispositionFilename=E,(g==null?void 0:g.length)>0){const T=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;this._queuedChunks.push(T)}this._pdfDataRangeTransport=w,this._isStreamingSupported=!A,this._isRangeSupported=!_,this._contentLength=m,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((T,C)=>{this._onReceiveData({begin:T,chunk:C})}),this._pdfDataRangeTransport.addProgressListener((T,C)=>{this._onProgress({loaded:T,total:C})}),this._pdfDataRangeTransport.addProgressiveReadListener(T=>{this._onReceiveData({chunk:T})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:m,chunk:g}){const b=g instanceof Uint8Array&&g.byteLength===g.buffer.byteLength?g.buffer:new Uint8Array(g).buffer;if(m===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{const E=this._rangeReaders.some(function(_){return _._begin!==m?!1:(_._enqueue(b),!0)});(0,i.assert)(E,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var m;return((m=this._fullRequestReader)==null?void 0:m._loaded)??0}_onProgress(m){var g,b,E,_;m.total===void 0?(b=(g=this._rangeReaders[0])==null?void 0:g.onProgress)==null||b.call(g,{loaded:m.loaded}):(_=(E=this._fullRequestReader)==null?void 0:E.onProgress)==null||_.call(E,{loaded:m.loaded,total:m.total})}_onProgressiveDone(){var m;(m=this._fullRequestReader)==null||m.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(m){const g=this._rangeReaders.indexOf(m);g>=0&&this._rangeReaders.splice(g,1)}getFullReader(){(0,i.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const m=this._queuedChunks;return this._queuedChunks=null,new u(this,m,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(m,g){if(g<=this._progressiveDataLength)return null;const b=new h(this,m,g);return this._pdfDataRangeTransport.requestDataRange(m,g),this._rangeReaders.push(b),b}cancelAllRequests(m){var g;(g=this._fullRequestReader)==null||g.cancel(m);for(const b of this._rangeReaders.slice(0))b.cancel(m);this._pdfDataRangeTransport.abort()}}t.PDFDataTransportStream=l;class u{constructor(m,g,b=!1,E=null){this._stream=m,this._done=b||!1,this._filename=(0,o.isPdfFile)(E)?E:null,this._queuedChunks=g||[],this._loaded=0;for(const _ of this._queuedChunks)this._loaded+=_.byteLength;this._requests=[],this._headersReady=Promise.resolve(),m._fullRequestReader=this,this.onProgress=null}_enqueue(m){this._done||(this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunks.push(m),this._loaded+=m.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const m=new i.PromiseCapability;return this._requests.push(m),m.promise}cancel(m){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class h{constructor(m,g,b){this._stream=m,this._begin=g,this._end=b,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(m){if(!this._done){if(this._requests.length===0)this._queuedChunk=m;else{this._requests.shift().resolve({value:m,done:!1});for(const b of this._requests)b.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const g=this._queuedChunk;return this._queuedChunk=null,{value:g,done:!1}}if(this._done)return{value:void 0,done:!0};const m=new i.PromiseCapability;return this._requests.push(m),m.promise}cancel(m){this._done=!0;for(const g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var i=n(1),o=n(20);function l(b,E,_){return{method:"GET",headers:b,signal:_.signal,mode:"cors",credentials:E?"include":"same-origin",redirect:"follow"}}function u(b){const E=new Headers;for(const _ in b){const A=b[_];A!==void 0&&E.append(_,A)}return E}function h(b){return b instanceof Uint8Array?b.buffer:b instanceof ArrayBuffer?b:((0,i.warn)(`getArrayBuffer - unexpected data format: ${b}`),new Uint8Array(b).buffer)}class p{constructor(E){this.source=E,this.isHttp=/^https?:/i.test(E.url),this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var E;return((E=this._fullRequestReader)==null?void 0:E._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new m(this),this._fullRequestReader}getRangeReader(E,_){if(_<=this._progressiveDataLength)return null;const A=new g(this,E,_);return this._rangeRequestReaders.push(A),A}cancelAllRequests(E){var _;(_=this._fullRequestReader)==null||_.cancel(E);for(const A of this._rangeRequestReaders.slice(0))A.cancel(E)}}t.PDFFetchStream=p;class m{constructor(E){this._stream=E,this._reader=null,this._loaded=0,this._filename=null;const _=E.source;this._withCredentials=_.withCredentials||!1,this._contentLength=_.length,this._headersCapability=new i.PromiseCapability,this._disableRange=_.disableRange||!1,this._rangeChunkSize=_.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!_.disableStream,this._isRangeSupported=!_.disableRange,this._headers=u(this._stream.httpHeaders);const A=_.url;fetch(A,l(this._headers,this._withCredentials,this._abortController)).then(w=>{if(!(0,o.validateResponseStatus)(w.status))throw(0,o.createResponseStatusError)(w.status,A);this._reader=w.body.getReader(),this._headersCapability.resolve();const T=N=>w.headers.get(N),{allowRangeRequests:C,suggestedLength:B}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=C,this._contentLength=B||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(T),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new i.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var A;await this._headersCapability.promise;const{value:E,done:_}=await this._reader.read();return _?{value:E,done:_}:(this._loaded+=E.byteLength,(A=this.onProgress)==null||A.call(this,{loaded:this._loaded,total:this._contentLength}),{value:h(E),done:!1})}cancel(E){var _;(_=this._reader)==null||_.cancel(E),this._abortController.abort()}}class g{constructor(E,_,A){this._stream=E,this._reader=null,this._loaded=0;const w=E.source;this._withCredentials=w.withCredentials||!1,this._readCapability=new i.PromiseCapability,this._isStreamingSupported=!w.disableStream,this._abortController=new AbortController,this._headers=u(this._stream.httpHeaders),this._headers.append("Range",`bytes=${_}-${A-1}`);const T=w.url;fetch(T,l(this._headers,this._withCredentials,this._abortController)).then(C=>{if(!(0,o.validateResponseStatus)(C.status))throw(0,o.createResponseStatusError)(C.status,T);this._readCapability.resolve(),this._reader=C.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var A;await this._readCapability.promise;const{value:E,done:_}=await this._reader.read();return _?{value:E,done:_}:(this._loaded+=E.byteLength,(A=this.onProgress)==null||A.call(this,{loaded:this._loaded}),{value:h(E),done:!1})}cancel(E){var _;(_=this._reader)==null||_.cancel(E),this._abortController.abort()}}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=p,t.extractFilenameFromHeader=h,t.validateRangeRequestCapabilities=u,t.validateResponseStatus=m;var i=n(1),o=n(21),l=n(6);function u({getResponseHeader:g,isHttp:b,rangeChunkSize:E,disableRange:_}){const A={allowRangeRequests:!1,suggestedLength:void 0},w=parseInt(g("Content-Length"),10);return!Number.isInteger(w)||(A.suggestedLength=w,w<=2*E)||_||!b||g("Accept-Ranges")!=="bytes"||(g("Content-Encoding")||"identity")!=="identity"||(A.allowRangeRequests=!0),A}function h(g){const b=g("Content-Disposition");if(b){let E=(0,o.getFilenameFromContentDispositionHeader)(b);if(E.includes("%"))try{E=decodeURIComponent(E)}catch{}if((0,l.isPdfFile)(E))return E}return null}function p(g,b){return g===404||g===0&&b.startsWith("file:")?new i.MissingPDFException('Missing PDF "'+b+'".'):new i.UnexpectedResponseException(`Unexpected server response (${g}) while retrieving PDF "${b}".`,g)}function m(g){return g===200||g===206}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=o;var i=n(1);function o(l){let u=!0,h=p("filename\\*","i").exec(l);if(h){h=h[1];let w=E(h);return w=unescape(w),w=_(w),w=A(w),g(w)}if(h=b(l),h){const w=A(h);return g(w)}if(h=p("filename","i").exec(l),h){h=h[1];let w=E(h);return w=A(w),g(w)}function p(w,T){return new RegExp("(?:^|;)\\s*"+w+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',T)}function m(w,T){if(w){if(!/^[\x00-\xFF]+$/.test(T))return T;try{const C=new TextDecoder(w,{fatal:!0}),B=(0,i.stringToBytes)(T);T=C.decode(B),u=!1}catch{}}return T}function g(w){return u&&/[\x80-\xff]/.test(w)&&(w=m("utf-8",w),u&&(w=m("iso-8859-1",w))),w}function b(w){const T=[];let C;const B=p("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(C=B.exec(w))!==null;){let[,j,M,D]=C;if(j=parseInt(j,10),j in T){if(j===0)break;continue}T[j]=[M,D]}const N=[];for(let j=0;j<T.length&&j in T;++j){let[M,D]=T[j];D=E(D),M&&(D=unescape(D),j===0&&(D=_(D))),N.push(D)}return N.join("")}function E(w){if(w.startsWith('"')){const T=w.slice(1).split('\\"');for(let C=0;C<T.length;++C){const B=T[C].indexOf('"');B!==-1&&(T[C]=T[C].slice(0,B),T.length=C+1),T[C]=T[C].replaceAll(/\\(.)/g,"$1")}w=T.join('"')}return w}function _(w){const T=w.indexOf("'");if(T===-1)return w;const C=w.slice(0,T),N=w.slice(T+1).replace(/^[^']*'/,"");return m(C,N)}function A(w){return!w.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(w)?w:w.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(T,C,B,N){if(B==="q"||B==="Q")return N=N.replaceAll("_"," "),N=N.replaceAll(/=([0-9a-fA-F]{2})/g,function(j,M){return String.fromCharCode(parseInt(M,16))}),m(C,N);try{N=atob(N)}catch{}return m(C,N)})}return""}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var i=n(1),o=n(20);const l=200,u=206;function h(E){const _=E.response;return typeof _!="string"?_:(0,i.stringToBytes)(_).buffer}class p{constructor(_,A={}){this.url=_,this.isHttp=/^https?:/i.test(_),this.httpHeaders=this.isHttp&&A.httpHeaders||Object.create(null),this.withCredentials=A.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(_,A,w){const T={begin:_,end:A};for(const C in w)T[C]=w[C];return this.request(T)}requestFull(_){return this.request(_)}request(_){const A=new XMLHttpRequest,w=this.currXhrId++,T=this.pendingRequests[w]={xhr:A};A.open("GET",this.url),A.withCredentials=this.withCredentials;for(const C in this.httpHeaders){const B=this.httpHeaders[C];B!==void 0&&A.setRequestHeader(C,B)}return this.isHttp&&"begin"in _&&"end"in _?(A.setRequestHeader("Range",`bytes=${_.begin}-${_.end-1}`),T.expectedStatus=u):T.expectedStatus=l,A.responseType="arraybuffer",_.onError&&(A.onerror=function(C){_.onError(A.status)}),A.onreadystatechange=this.onStateChange.bind(this,w),A.onprogress=this.onProgress.bind(this,w),T.onHeadersReceived=_.onHeadersReceived,T.onDone=_.onDone,T.onError=_.onError,T.onProgress=_.onProgress,A.send(null),w}onProgress(_,A){var T;const w=this.pendingRequests[_];w&&((T=w.onProgress)==null||T.call(w,A))}onStateChange(_,A){var j,M,D;const w=this.pendingRequests[_];if(!w)return;const T=w.xhr;if(T.readyState>=2&&w.onHeadersReceived&&(w.onHeadersReceived(),delete w.onHeadersReceived),T.readyState!==4||!(_ in this.pendingRequests))return;if(delete this.pendingRequests[_],T.status===0&&this.isHttp){(j=w.onError)==null||j.call(w,T.status);return}const C=T.status||l;if(!(C===l&&w.expectedStatus===u)&&C!==w.expectedStatus){(M=w.onError)==null||M.call(w,T.status);return}const N=h(T);if(C===u){const V=T.getResponseHeader("Content-Range"),L=/bytes (\d+)-(\d+)\/(\d+)/.exec(V);w.onDone({begin:parseInt(L[1],10),chunk:N})}else N?w.onDone({begin:0,chunk:N}):(D=w.onError)==null||D.call(w,T.status)}getRequestXhr(_){return this.pendingRequests[_].xhr}isPendingRequest(_){return _ in this.pendingRequests}abortRequest(_){const A=this.pendingRequests[_].xhr;delete this.pendingRequests[_],A.abort()}}class m{constructor(_){this._source=_,this._manager=new p(_.url,{httpHeaders:_.httpHeaders,withCredentials:_.withCredentials}),this._rangeChunkSize=_.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(_){const A=this._rangeRequestReaders.indexOf(_);A>=0&&this._rangeRequestReaders.splice(A,1)}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}getRangeReader(_,A){const w=new b(this._manager,_,A);return w.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(w),w}cancelAllRequests(_){var A;(A=this._fullRequestReader)==null||A.cancel(_);for(const w of this._rangeRequestReaders.slice(0))w.cancel(_)}}t.PDFNetworkStream=m;class g{constructor(_,A){this._manager=_;const w={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=A.url,this._fullRequestId=_.requestFull(w),this._headersReceivedCapability=new i.PromiseCapability,this._disableRange=A.disableRange||!1,this._contentLength=A.length,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const _=this._fullRequestId,A=this._manager.getRequestXhr(_),w=B=>A.getResponseHeader(B),{allowRangeRequests:T,suggestedLength:C}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});T&&(this._isRangeSupported=!0),this._contentLength=C||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(w),this._isRangeSupported&&this._manager.abortRequest(_),this._headersReceivedCapability.resolve()}_onDone(_){if(_&&(this._requests.length>0?this._requests.shift().resolve({value:_.chunk,done:!1}):this._cachedChunks.push(_.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(_){this._storedError=(0,o.createResponseStatusError)(_,this._url),this._headersReceivedCapability.reject(this._storedError);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(_){var A;(A=this.onProgress)==null||A.call(this,{loaded:_.loaded,total:_.lengthComputable?_.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const _=new i.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0,this._headersReceivedCapability.reject(_);for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class b{constructor(_,A,w){this._manager=_;const T={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=_.url,this._requestId=_.requestRange(A,w,T),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var _;(_=this.onClosed)==null||_.call(this,this)}_onDone(_){const A=_.chunk;this._requests.length>0?this._requests.shift().resolve({value:A,done:!1}):this._queuedChunk=A,this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(_){this._storedError=(0,o.createResponseStatusError)(_,this._url);for(const A of this._requests)A.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(_){var A;this.isStreamingSupported||(A=this.onProgress)==null||A.call(this,{loaded:_.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const A=this._queuedChunk;return this._queuedChunk=null,{value:A,done:!1}}if(this._done)return{value:void 0,done:!0};const _=new i.PromiseCapability;return this._requests.push(_),_.promise}cancel(_){this._done=!0;for(const A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var i=n(1),o=n(20);const l=/^file:\/\/\/[a-zA-Z]:\//;function u(w){const T=require$$5,C=T.parse(w);return C.protocol==="file:"||C.host?C:/^[a-z]:[/\\]/i.test(w)?T.parse(`file:///${w}`):(C.host||(C.protocol="file:"),C)}class h{constructor(T){this.source=T,this.url=u(T.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var T;return((T=this._fullRequestReader)==null?void 0:T._loaded)??0}getFullReader(){return(0,i.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new _(this):new b(this),this._fullRequestReader}getRangeReader(T,C){if(C<=this._progressiveDataLength)return null;const B=this.isFsUrl?new A(this,T,C):new E(this,T,C);return this._rangeRequestReaders.push(B),B}cancelAllRequests(T){var C;(C=this._fullRequestReader)==null||C.cancel(T);for(const B of this._rangeRequestReaders.slice(0))B.cancel(T)}}t.PDFNodeStream=h;class p{constructor(T){this._url=T.url,this._done=!1,this._storedError=null,this.onProgress=null;const C=T.source;this._contentLength=C.length,this._loaded=0,this._filename=null,this._disableRange=C.disableRange||!1,this._rangeChunkSize=C.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!C.disableStream,this._isRangeSupported=!C.disableRange,this._readableStream=null,this._readCapability=new i.PromiseCapability,this._headersCapability=new i.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var B;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const T=this._readableStream.read();return T===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=T.length,(B=this.onProgress)==null||B.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(T).buffer,done:!1})}cancel(T){if(!this._readableStream){this._error(T);return}this._readableStream.destroy(T)}_error(T){this._storedError=T,this._readCapability.resolve()}_setReadableStream(T){this._readableStream=T,T.on("readable",()=>{this._readCapability.resolve()}),T.on("end",()=>{T.destroy(),this._done=!0,this._readCapability.resolve()}),T.on("error",C=>{this._error(C)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new i.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class m{constructor(T){this._url=T.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new i.PromiseCapability;const C=T.source;this._isStreamingSupported=!C.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var B;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const T=this._readableStream.read();return T===null?(this._readCapability=new i.PromiseCapability,this.read()):(this._loaded+=T.length,(B=this.onProgress)==null||B.call(this,{loaded:this._loaded}),{value:new Uint8Array(T).buffer,done:!1})}cancel(T){if(!this._readableStream){this._error(T);return}this._readableStream.destroy(T)}_error(T){this._storedError=T,this._readCapability.resolve()}_setReadableStream(T){this._readableStream=T,T.on("readable",()=>{this._readCapability.resolve()}),T.on("end",()=>{T.destroy(),this._done=!0,this._readCapability.resolve()}),T.on("error",C=>{this._error(C)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function g(w,T){return{protocol:w.protocol,auth:w.auth,host:w.hostname,port:w.port,path:w.path,method:"GET",headers:T}}class b extends p{constructor(T){super(T);const C=B=>{if(B.statusCode===404){const D=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=D,this._headersCapability.reject(D);return}this._headersCapability.resolve(),this._setReadableStream(B);const N=D=>this._readableStream.headers[D.toLowerCase()],{allowRangeRequests:j,suggestedLength:M}=(0,o.validateRangeRequestCapabilities)({getResponseHeader:N,isHttp:T.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=M||this._contentLength,this._filename=(0,o.extractFilenameFromHeader)(N)};if(this._request=null,this._url.protocol==="http:"){const B=require$$5;this._request=B.request(g(this._url,T.httpHeaders),C)}else{const B=require$$5;this._request=B.request(g(this._url,T.httpHeaders),C)}this._request.on("error",B=>{this._storedError=B,this._headersCapability.reject(B)}),this._request.end()}}class E extends m{constructor(T,C,B){super(T),this._httpHeaders={};for(const j in T.httpHeaders){const M=T.httpHeaders[j];M!==void 0&&(this._httpHeaders[j]=M)}this._httpHeaders.Range=`bytes=${C}-${B-1}`;const N=j=>{if(j.statusCode===404){const M=new i.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M;return}this._setReadableStream(j)};if(this._request=null,this._url.protocol==="http:"){const j=require$$5;this._request=j.request(g(this._url,this._httpHeaders),N)}else{const j=require$$5;this._request=j.request(g(this._url,this._httpHeaders),N)}this._request.on("error",j=>{this._storedError=j}),this._request.end()}}class _ extends p{constructor(T){super(T);let C=decodeURIComponent(this._url.path);l.test(this._url.href)&&(C=C.replace(/^\//,""));const B=require$$5;B.lstat(C,(N,j)=>{if(N){N.code==="ENOENT"&&(N=new i.MissingPDFException(`Missing PDF "${C}".`)),this._storedError=N,this._headersCapability.reject(N);return}this._contentLength=j.size,this._setReadableStream(B.createReadStream(C)),this._headersCapability.resolve()})}}class A extends m{constructor(T,C,B){super(T);let N=decodeURIComponent(this._url.path);l.test(this._url.href)&&(N=N.replace(/^\//,""));const j=require$$5;this._setReadableStream(j.createReadStream(N,{start:C,end:B-1}))}}}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var i=n(6),o=n(1);const l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/XML/1998/namespace",h="http://www.w3.org/1999/xlink",p=["butt","round","square"],m=["miter","round","bevel"],g=function(j,M="",D=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!D)return URL.createObjectURL(new Blob([j],{type:M}));const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let L=`data:${M};base64,`;for(let U=0,J=j.length;U<J;U+=3){const $=j[U]&255,K=j[U+1]&255,te=j[U+2]&255,me=$>>2,he=($&3)<<4|K>>4,ee=U+1<J?(K&15)<<2|te>>6:64,ie=U+2<J?te&63:64;L+=V[me]+V[he]+V[ee]+V[ie]}return L},b=(function(){const j=new Uint8Array([137,80,78,71,13,10,26,10]),M=12,D=new Int32Array(256);for(let te=0;te<256;te++){let me=te;for(let he=0;he<8;he++)me=me&1?3988292384^me>>1&2147483647:me>>1&2147483647;D[te]=me}function V(te,me,he){let ee=-1;for(let ie=me;ie<he;ie++){const ce=(ee^te[ie])&255,ne=D[ce];ee=ee>>>8^ne}return ee^-1}function L(te,me,he,ee){let ie=ee;const ce=me.length;he[ie]=ce>>24&255,he[ie+1]=ce>>16&255,he[ie+2]=ce>>8&255,he[ie+3]=ce&255,ie+=4,he[ie]=te.charCodeAt(0)&255,he[ie+1]=te.charCodeAt(1)&255,he[ie+2]=te.charCodeAt(2)&255,he[ie+3]=te.charCodeAt(3)&255,ie+=4,he.set(me,ie),ie+=me.length;const ne=V(he,ee+4,ie);he[ie]=ne>>24&255,he[ie+1]=ne>>16&255,he[ie+2]=ne>>8&255,he[ie+3]=ne&255}function U(te,me,he){let ee=1,ie=0;for(let ce=me;ce<he;++ce)ee=(ee+(te[ce]&255))%65521,ie=(ie+ee)%65521;return ie<<16|ee}function J(te){if(!o.isNodeJS)return $(te);try{const me=parseInt(process.versions.node)>=8?te:Buffer.from(te),he=require$$5.deflateSync(me,{level:9});return he instanceof Uint8Array?he:new Uint8Array(he)}catch(me){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+me)}return $(te)}function $(te){let me=te.length;const he=65535,ee=Math.ceil(me/he),ie=new Uint8Array(2+me+ee*5+4);let ce=0;ie[ce++]=120,ie[ce++]=156;let ne=0;for(;me>he;)ie[ce++]=0,ie[ce++]=255,ie[ce++]=255,ie[ce++]=0,ie[ce++]=0,ie.set(te.subarray(ne,ne+he),ce),ce+=he,ne+=he,me-=he;ie[ce++]=1,ie[ce++]=me&255,ie[ce++]=me>>8&255,ie[ce++]=~me&65535&255,ie[ce++]=(~me&65535)>>8&255,ie.set(te.subarray(ne),ce),ce+=te.length-ne;const Z=U(te,0,te.length);return ie[ce++]=Z>>24&255,ie[ce++]=Z>>16&255,ie[ce++]=Z>>8&255,ie[ce++]=Z&255,ie}function K(te,me,he,ee){const ie=te.width,ce=te.height;let ne,Z,G;const H=te.data;switch(me){case o.ImageKind.GRAYSCALE_1BPP:Z=0,ne=1,G=ie+7>>3;break;case o.ImageKind.RGB_24BPP:Z=2,ne=8,G=ie*3;break;case o.ImageKind.RGBA_32BPP:Z=6,ne=8,G=ie*4;break;default:throw new Error("invalid format")}const F=new Uint8Array((1+G)*ce);let z=0,Y=0;for(let Ee=0;Ee<ce;++Ee)F[z++]=0,F.set(H.subarray(Y,Y+G),z),Y+=G,z+=G;if(me===o.ImageKind.GRAYSCALE_1BPP&&ee){z=0;for(let Ee=0;Ee<ce;Ee++){z++;for(let ye=0;ye<G;ye++)F[z++]^=255}}const ae=new Uint8Array([ie>>24&255,ie>>16&255,ie>>8&255,ie&255,ce>>24&255,ce>>16&255,ce>>8&255,ce&255,ne,Z,0,0,0]),Q=J(F),ue=j.length+M*3+ae.length+Q.length,se=new Uint8Array(ue);let ve=0;return se.set(j,ve),ve+=j.length,L("IHDR",ae,se,ve),ve+=M+ae.length,L("IDATA",Q,se,ve),ve+=M+Q.length,L("IEND",new Uint8Array(0),se,ve),g(se,"image/png",he)}return function(me,he,ee){const ie=me.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:me.kind;return K(me,ie,he,ee)}})();class E{constructor(){this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(M,D){this.x=M,this.y=D}}function _(j){let M=[];const D=[];for(const V of j){if(V.fn==="save"){M.push({fnId:92,fn:"group",items:[]}),D.push(M),M=M.at(-1).items;continue}V.fn==="restore"?M=D.pop():M.push(V)}return M}function A(j){if(Number.isInteger(j))return j.toString();const M=j.toFixed(10);let D=M.length-1;if(M[D]!=="0")return M;do D--;while(M[D]==="0");return M.substring(0,M[D]==="."?D:D+1)}function w(j){if(j[4]===0&&j[5]===0){if(j[1]===0&&j[2]===0)return j[0]===1&&j[3]===1?"":`scale(${A(j[0])} ${A(j[3])})`;if(j[0]===j[3]&&j[1]===-j[2]){const M=Math.acos(j[0])*180/Math.PI;return`rotate(${A(M)})`}}else if(j[0]===1&&j[1]===0&&j[2]===0&&j[3]===1)return`translate(${A(j[4])} ${A(j[5])})`;return`matrix(${A(j[0])} ${A(j[1])} ${A(j[2])} ${A(j[3])} ${A(j[4])} ${A(j[5])})`}let T=0,C=0,B=0;class N{constructor(M,D,V=!1){(0,i.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new i.DOMSVGFactory,this.current=new E,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=M,this.objs=D,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!V,this._operatorIdMapping=[];for(const L in o.OPS)this._operatorIdMapping[o.OPS[L]]=L}getObject(M,D=null){return typeof M=="string"?M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M):D}save(){this.transformStack.push(this.transformMatrix);const M=this.current;this.extraStack.push(M),this.current=M.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(M){this.save(),this.executeOpTree(M),this.restore()}loadDependencies(M){const D=M.fnArray,V=M.argsArray;for(let L=0,U=D.length;L<U;L++)if(D[L]===o.OPS.dependency)for(const J of V[L]){const $=J.startsWith("g_")?this.commonObjs:this.objs,K=new Promise(te=>{$.get(J,te)});this.current.dependencies.push(K)}return Promise.all(this.current.dependencies)}transform(M,D,V,L,U,J){const $=[M,D,V,L,U,J];this.transformMatrix=o.Util.transform(this.transformMatrix,$),this.tgrp=null}getSVG(M,D){this.viewport=D;const V=this._initialize(D);return this.loadDependencies(M).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(M)),V))}convertOpList(M){const D=this._operatorIdMapping,V=M.argsArray,L=M.fnArray,U=[];for(let J=0,$=L.length;J<$;J++){const K=L[J];U.push({fnId:K,fn:D[K],args:V[J]})}return _(U)}executeOpTree(M){for(const D of M){const V=D.fn,L=D.fnId,U=D.args;switch(L|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(U);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(U[0],U[1]);break;case o.OPS.setFont:this.setFont(U);break;case o.OPS.showText:this.showText(U[0]);break;case o.OPS.showSpacedText:this.showText(U[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(U[0],U[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(U[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(U[0]);break;case o.OPS.setHScale:this.setHScale(U[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(U[0],U[1],U[2],U[3],U[4],U[5]);break;case o.OPS.setTextRise:this.setTextRise(U[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(U[0]);break;case o.OPS.setLineWidth:this.setLineWidth(U[0]);break;case o.OPS.setLineJoin:this.setLineJoin(U[0]);break;case o.OPS.setLineCap:this.setLineCap(U[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(U[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(U[0],U[1],U[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(U[0],U[1],U[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(U);break;case o.OPS.setFillColorN:this.setFillColorN(U);break;case o.OPS.shadingFill:this.shadingFill(U[0]);break;case o.OPS.setDash:this.setDash(U[0],U[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(U[0]);break;case o.OPS.setFlatness:this.setFlatness(U[0]);break;case o.OPS.setGState:this.setGState(U[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(U[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(U[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(U[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(U[0],U[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(U[0],U[1],U[2],U[3],U[4],U[5]);break;case o.OPS.constructPath:this.constructPath(U[0],U[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(D.items);break;default:(0,o.warn)(`Unimplemented operator ${V}`);break}}}setWordSpacing(M){this.current.wordSpacing=M}setCharSpacing(M){this.current.charSpacing=M}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(M,D,V,L,U,J){const $=this.current;$.textMatrix=$.lineMatrix=[M,D,V,L,U,J],$.textMatrixScale=Math.hypot(M,D),$.x=$.lineX=0,$.y=$.lineY=0,$.xcoords=[],$.ycoords=[],$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${A($.fontSize)}px`),$.tspan.setAttributeNS(null,"y",A(-$.y)),$.txtElement=this.svgFactory.createElement("svg:text"),$.txtElement.append($.tspan)}beginText(){const M=this.current;M.x=M.lineX=0,M.y=M.lineY=0,M.textMatrix=o.IDENTITY_MATRIX,M.lineMatrix=o.IDENTITY_MATRIX,M.textMatrixScale=1,M.tspan=this.svgFactory.createElement("svg:tspan"),M.txtElement=this.svgFactory.createElement("svg:text"),M.txtgrp=this.svgFactory.createElement("svg:g"),M.xcoords=[],M.ycoords=[]}moveText(M,D){const V=this.current;V.x=V.lineX+=M,V.y=V.lineY+=D,V.xcoords=[],V.ycoords=[],V.tspan=this.svgFactory.createElement("svg:tspan"),V.tspan.setAttributeNS(null,"font-family",V.fontFamily),V.tspan.setAttributeNS(null,"font-size",`${A(V.fontSize)}px`),V.tspan.setAttributeNS(null,"y",A(-V.y))}showText(M){const D=this.current,V=D.font,L=D.fontSize;if(L===0)return;const U=D.fontSizeScale,J=D.charSpacing,$=D.wordSpacing,K=D.fontDirection,te=D.textHScale*K,me=V.vertical,he=me?1:-1,ee=V.defaultVMetrics,ie=L*D.fontMatrix[0];let ce=0;for(const G of M){if(G===null){ce+=K*$;continue}else if(typeof G=="number"){ce+=he*G*L/1e3;continue}const H=(G.isSpace?$:0)+J,F=G.fontChar;let z,Y,ae=G.width;if(me){let ue;const se=G.vmetric||ee;ue=G.vmetric?se[1]:ae*.5,ue=-ue*ie;const ve=se[2]*ie;ae=se?-se[0]:ae,z=ue/U,Y=(ce+ve)/U}else z=ce/U,Y=0;(G.isInFont||V.missingFile)&&(D.xcoords.push(D.x+z),me&&D.ycoords.push(-D.y+Y),D.tspan.textContent+=F);const Q=me?ae*ie-H*K:ae*ie+H*K;ce+=Q}D.tspan.setAttributeNS(null,"x",D.xcoords.map(A).join(" ")),me?D.tspan.setAttributeNS(null,"y",D.ycoords.map(A).join(" ")):D.tspan.setAttributeNS(null,"y",A(-D.y)),me?D.y-=ce:D.x+=ce*te,D.tspan.setAttributeNS(null,"font-family",D.fontFamily),D.tspan.setAttributeNS(null,"font-size",`${A(D.fontSize)}px`),D.fontStyle!==l.fontStyle&&D.tspan.setAttributeNS(null,"font-style",D.fontStyle),D.fontWeight!==l.fontWeight&&D.tspan.setAttributeNS(null,"font-weight",D.fontWeight);const ne=D.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(ne===o.TextRenderingMode.FILL||ne===o.TextRenderingMode.FILL_STROKE?(D.fillColor!==l.fillColor&&D.tspan.setAttributeNS(null,"fill",D.fillColor),D.fillAlpha<1&&D.tspan.setAttributeNS(null,"fill-opacity",D.fillAlpha)):D.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?D.tspan.setAttributeNS(null,"fill","transparent"):D.tspan.setAttributeNS(null,"fill","none"),ne===o.TextRenderingMode.STROKE||ne===o.TextRenderingMode.FILL_STROKE){const G=1/(D.textMatrixScale||1);this._setStrokeAttributes(D.tspan,G)}let Z=D.textMatrix;D.textRise!==0&&(Z=Z.slice(),Z[5]+=D.textRise),D.txtElement.setAttributeNS(null,"transform",`${w(Z)} scale(${A(te)}, -1)`),D.txtElement.setAttributeNS(u,"xml:space","preserve"),D.txtElement.append(D.tspan),D.txtgrp.append(D.txtElement),this._ensureTransformGroup().append(D.txtElement)}setLeadingMoveText(M,D){this.setLeading(-D),this.moveText(M,D)}addFontStyle(M){if(!M.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const D=g(M.data,M.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${M.loadedName}"; src: url(${D}); }
`}setFont(M){const D=this.current,V=this.commonObjs.get(M[0]);let L=M[1];D.font=V,this.embedFonts&&!V.missingFile&&!this.embeddedFonts[V.loadedName]&&(this.addFontStyle(V),this.embeddedFonts[V.loadedName]=V),D.fontMatrix=V.fontMatrix||o.FONT_IDENTITY_MATRIX;let U="normal";V.black?U="900":V.bold&&(U="bold");const J=V.italic?"italic":"normal";L<0?(L=-L,D.fontDirection=-1):D.fontDirection=1,D.fontSize=L,D.fontFamily=V.loadedName,D.fontWeight=U,D.fontStyle=J,D.tspan=this.svgFactory.createElement("svg:tspan"),D.tspan.setAttributeNS(null,"y",A(-D.y)),D.xcoords=[],D.ycoords=[]}endText(){var D;const M=this.current;M.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((D=M.txtElement)!=null&&D.hasChildNodes())&&(M.element=M.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(M){M>0&&(this.current.lineWidth=M)}setLineCap(M){this.current.lineCap=p[M]}setLineJoin(M){this.current.lineJoin=m[M]}setMiterLimit(M){this.current.miterLimit=M}setStrokeAlpha(M){this.current.strokeAlpha=M}setStrokeRGBColor(M,D,V){this.current.strokeColor=o.Util.makeHexColor(M,D,V)}setFillAlpha(M){this.current.fillAlpha=M}setFillRGBColor(M,D,V){this.current.fillColor=o.Util.makeHexColor(M,D,V),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(M){this.current.strokeColor=this._makeColorN_Pattern(M)}setFillColorN(M){this.current.fillColor=this._makeColorN_Pattern(M)}shadingFill(M){const{width:D,height:V}=this.viewport,L=o.Util.inverseTransform(this.transformMatrix),[U,J,$,K]=o.Util.getAxialAlignedBoundingBox([0,0,D,V],L),te=this.svgFactory.createElement("svg:rect");te.setAttributeNS(null,"x",U),te.setAttributeNS(null,"y",J),te.setAttributeNS(null,"width",$-U),te.setAttributeNS(null,"height",K-J),te.setAttributeNS(null,"fill",this._makeShadingPattern(M)),this.current.fillAlpha<1&&te.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(te)}_makeColorN_Pattern(M){return M[0]==="TilingPattern"?this._makeTilingPattern(M):this._makeShadingPattern(M)}_makeTilingPattern(M){const D=M[1],V=M[2],L=M[3]||o.IDENTITY_MATRIX,[U,J,$,K]=M[4],te=M[5],me=M[6],he=M[7],ee=`shading${B++}`,[ie,ce,ne,Z]=o.Util.normalizeRect([...o.Util.applyTransform([U,J],L),...o.Util.applyTransform([$,K],L)]),[G,H]=o.Util.singularValueDecompose2dScale(L),F=te*G,z=me*H,Y=this.svgFactory.createElement("svg:pattern");Y.setAttributeNS(null,"id",ee),Y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Y.setAttributeNS(null,"width",F),Y.setAttributeNS(null,"height",z),Y.setAttributeNS(null,"x",`${ie}`),Y.setAttributeNS(null,"y",`${ce}`);const ae=this.svg,Q=this.transformMatrix,ue=this.current.fillColor,se=this.current.strokeColor,ve=this.svgFactory.create(ne-ie,Z-ce);if(this.svg=ve,this.transformMatrix=L,he===2){const Ee=o.Util.makeHexColor(...D);this.current.fillColor=Ee,this.current.strokeColor=Ee}return this.executeOpTree(this.convertOpList(V)),this.svg=ae,this.transformMatrix=Q,this.current.fillColor=ue,this.current.strokeColor=se,Y.append(ve.childNodes[0]),this.defs.append(Y),`url(#${ee})`}_makeShadingPattern(M){switch(typeof M=="string"&&(M=this.objs.get(M)),M[0]){case"RadialAxial":const D=`shading${B++}`,V=M[3];let L;switch(M[1]){case"axial":const U=M[4],J=M[5];L=this.svgFactory.createElement("svg:linearGradient"),L.setAttributeNS(null,"id",D),L.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),L.setAttributeNS(null,"x1",U[0]),L.setAttributeNS(null,"y1",U[1]),L.setAttributeNS(null,"x2",J[0]),L.setAttributeNS(null,"y2",J[1]);break;case"radial":const $=M[4],K=M[5],te=M[6],me=M[7];L=this.svgFactory.createElement("svg:radialGradient"),L.setAttributeNS(null,"id",D),L.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),L.setAttributeNS(null,"cx",K[0]),L.setAttributeNS(null,"cy",K[1]),L.setAttributeNS(null,"r",me),L.setAttributeNS(null,"fx",$[0]),L.setAttributeNS(null,"fy",$[1]),L.setAttributeNS(null,"fr",te);break;default:throw new Error(`Unknown RadialAxial type: ${M[1]}`)}for(const U of V){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",U[0]),J.setAttributeNS(null,"stop-color",U[1]),L.append(J)}return this.defs.append(L),`url(#${D})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${M[0]}`)}}setDash(M,D){this.current.dashArray=M,this.current.dashPhase=D}constructPath(M,D){const V=this.current;let L=V.x,U=V.y,J=[],$=0;for(const K of M)switch(K|0){case o.OPS.rectangle:L=D[$++],U=D[$++];const te=D[$++],me=D[$++],he=L+te,ee=U+me;J.push("M",A(L),A(U),"L",A(he),A(U),"L",A(he),A(ee),"L",A(L),A(ee),"Z");break;case o.OPS.moveTo:L=D[$++],U=D[$++],J.push("M",A(L),A(U));break;case o.OPS.lineTo:L=D[$++],U=D[$++],J.push("L",A(L),A(U));break;case o.OPS.curveTo:L=D[$+4],U=D[$+5],J.push("C",A(D[$]),A(D[$+1]),A(D[$+2]),A(D[$+3]),A(L),A(U)),$+=6;break;case o.OPS.curveTo2:J.push("C",A(L),A(U),A(D[$]),A(D[$+1]),A(D[$+2]),A(D[$+3])),L=D[$+2],U=D[$+3],$+=4;break;case o.OPS.curveTo3:L=D[$+2],U=D[$+3],J.push("C",A(D[$]),A(D[$+1]),A(L),A(U),A(L),A(U)),$+=4;break;case o.OPS.closePath:J.push("Z");break}J=J.join(" "),V.path&&M.length>0&&M[0]!==o.OPS.rectangle&&M[0]!==o.OPS.moveTo?J=V.path.getAttributeNS(null,"d")+J:(V.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(V.path)),V.path.setAttributeNS(null,"d",J),V.path.setAttributeNS(null,"fill","none"),V.element=V.path,V.setCurrentPoint(L,U)}endPath(){const M=this.current;if(M.path=null,!this.pendingClip)return;if(!M.element){this.pendingClip=null;return}const D=`clippath${T++}`,V=this.svgFactory.createElement("svg:clipPath");V.setAttributeNS(null,"id",D),V.setAttributeNS(null,"transform",w(this.transformMatrix));const L=M.element.cloneNode(!0);if(this.pendingClip==="evenodd"?L.setAttributeNS(null,"clip-rule","evenodd"):L.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,V.append(L),this.defs.append(V),M.activeClipUrl){M.clipGroup=null;for(const U of this.extraStack)U.clipGroup=null;V.setAttributeNS(null,"clip-path",M.activeClipUrl)}M.activeClipUrl=`url(#${D})`,this.tgrp=null}clip(M){this.pendingClip=M}closePath(){const M=this.current;if(M.path){const D=`${M.path.getAttributeNS(null,"d")}Z`;M.path.setAttributeNS(null,"d",D)}}setLeading(M){this.current.leading=-M}setTextRise(M){this.current.textRise=M}setTextRenderingMode(M){this.current.textRenderingMode=M}setHScale(M){this.current.textHScale=M/100}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(const[D,V]of M)switch(D){case"LW":this.setLineWidth(V);break;case"LC":this.setLineCap(V);break;case"LJ":this.setLineJoin(V);break;case"ML":this.setMiterLimit(V);break;case"D":this.setDash(V[0],V[1]);break;case"RI":this.setRenderingIntent(V);break;case"FL":this.setFlatness(V);break;case"Font":this.setFont(V);break;case"CA":this.setStrokeAlpha(V);break;case"ca":this.setFillAlpha(V);break;default:(0,o.warn)(`Unimplemented graphic state operator ${D}`);break}}fill(){const M=this.current;M.element&&(M.element.setAttributeNS(null,"fill",M.fillColor),M.element.setAttributeNS(null,"fill-opacity",M.fillAlpha),this.endPath())}stroke(){const M=this.current;M.element&&(this._setStrokeAttributes(M.element),M.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(M,D=1){const V=this.current;let L=V.dashArray;D!==1&&L.length>0&&(L=L.map(function(U){return D*U})),M.setAttributeNS(null,"stroke",V.strokeColor),M.setAttributeNS(null,"stroke-opacity",V.strokeAlpha),M.setAttributeNS(null,"stroke-miterlimit",A(V.miterLimit)),M.setAttributeNS(null,"stroke-linecap",V.lineCap),M.setAttributeNS(null,"stroke-linejoin",V.lineJoin),M.setAttributeNS(null,"stroke-width",A(D*V.lineWidth)+"px"),M.setAttributeNS(null,"stroke-dasharray",L.map(A).join(" ")),M.setAttributeNS(null,"stroke-dashoffset",A(D*V.dashPhase)+"px")}eoFill(){var M;(M=this.current.element)==null||M.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var M;(M=this.current.element)==null||M.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width","1px"),M.setAttributeNS(null,"height","1px"),M.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(M)}paintImageXObject(M){const D=this.getObject(M);if(!D){(0,o.warn)(`Dependent image with object ID ${M} is not ready yet`);return}this.paintInlineImageXObject(D)}paintInlineImageXObject(M,D){const V=M.width,L=M.height,U=b(M,this.forceDataSchema,!!D),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",A(V)),J.setAttributeNS(null,"height",A(L)),this.current.element=J,this.clip("nonzero");const $=this.svgFactory.createElement("svg:image");$.setAttributeNS(h,"xlink:href",U),$.setAttributeNS(null,"x","0"),$.setAttributeNS(null,"y",A(-L)),$.setAttributeNS(null,"width",A(V)+"px"),$.setAttributeNS(null,"height",A(L)+"px"),$.setAttributeNS(null,"transform",`scale(${A(1/V)} ${A(-1/L)})`),D?D.append($):this._ensureTransformGroup().append($)}paintImageMaskXObject(M){const D=this.getObject(M.data,M);if(D.bitmap){(0,o.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const V=this.current,L=D.width,U=D.height,J=V.fillColor;V.maskId=`mask${C++}`;const $=this.svgFactory.createElement("svg:mask");$.setAttributeNS(null,"id",V.maskId);const K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x","0"),K.setAttributeNS(null,"y","0"),K.setAttributeNS(null,"width",A(L)),K.setAttributeNS(null,"height",A(U)),K.setAttributeNS(null,"fill",J),K.setAttributeNS(null,"mask",`url(#${V.maskId})`),this.defs.append($),this._ensureTransformGroup().append(K),this.paintInlineImageXObject(D,$)}paintFormXObjectBegin(M,D){if(Array.isArray(M)&&M.length===6&&this.transform(M[0],M[1],M[2],M[3],M[4],M[5]),D){const V=D[2]-D[0],L=D[3]-D[1],U=this.svgFactory.createElement("svg:rect");U.setAttributeNS(null,"x",D[0]),U.setAttributeNS(null,"y",D[1]),U.setAttributeNS(null,"width",A(V)),U.setAttributeNS(null,"height",A(L)),this.current.element=U,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(M){const D=this.svgFactory.create(M.width,M.height),V=this.svgFactory.createElement("svg:defs");D.append(V),this.defs=V;const L=this.svgFactory.createElement("svg:g");return L.setAttributeNS(null,"transform",w(M.transform)),D.append(L),this.svg=L,D}_ensureClipGroup(){if(!this.current.clipGroup){const M=this.svgFactory.createElement("svg:g");M.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(M),this.current.clipGroup=M}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",w(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}t.SVGGraphics=N}),((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaText=void 0;class n{static textContent(o){const l=[],u={items:l,styles:Object.create(null)};function h(p){var b;if(!p)return;let m=null;const g=p.name;if(g==="#text")m=p.value;else if(n.shouldBuildText(g))(b=p==null?void 0:p.attributes)!=null&&b.textContent?m=p.attributes.textContent:p.value&&(m=p.value);else return;if(m!==null&&l.push({str:m}),!!p.children)for(const E of p.children)h(E)}return h(o),u}static shouldBuildText(o){return!(o==="textarea"||o==="input"||o==="option"||o==="select")}}t.XfaText=n}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextLayerRenderTask=void 0,t.renderTextLayer=w,t.updateTextLayer=T;var i=n(1),o=n(6);const l=1e5,u=30,h=.8,p=new Map;function m(C,B){let N;if(B&&i.FeatureTest.isOffscreenCanvasSupported)N=new OffscreenCanvas(C,C).getContext("2d",{alpha:!1});else{const j=document.createElement("canvas");j.width=j.height=C,N=j.getContext("2d",{alpha:!1})}return N}function g(C,B){const N=p.get(C);if(N)return N;const j=m(u,B);j.font=`${u}px ${C}`;const M=j.measureText("");let D=M.fontBoundingBoxAscent,V=Math.abs(M.fontBoundingBoxDescent);if(D){const U=D/(D+V);return p.set(C,U),j.canvas.width=j.canvas.height=0,U}j.strokeStyle="red",j.clearRect(0,0,u,u),j.strokeText("g",0,0);let L=j.getImageData(0,0,u,u).data;V=0;for(let U=L.length-1-3;U>=0;U-=4)if(L[U]>0){V=Math.ceil(U/4/u);break}j.clearRect(0,0,u,u),j.strokeText("A",0,u),L=j.getImageData(0,0,u,u).data,D=0;for(let U=0,J=L.length;U<J;U+=4)if(L[U]>0){D=u-Math.floor(U/4/u);break}if(j.canvas.width=j.canvas.height=0,D){const U=D/(D+V);return p.set(C,U),U}return p.set(C,h),h}function b(C,B,N){const j=document.createElement("span"),M={angle:0,canvasWidth:0,hasText:B.str!=="",hasEOL:B.hasEOL,fontSize:0};C._textDivs.push(j);const D=i.Util.transform(C._transform,B.transform);let V=Math.atan2(D[1],D[0]);const L=N[B.fontName];L.vertical&&(V+=Math.PI/2);const U=Math.hypot(D[2],D[3]),J=U*g(L.fontFamily,C._isOffscreenCanvasSupported);let $,K;V===0?($=D[4],K=D[5]-J):($=D[4]+J*Math.sin(V),K=D[5]-J*Math.cos(V));const te="calc(var(--scale-factor)*",me=j.style;C._container===C._rootContainer?(me.left=`${(100*$/C._pageWidth).toFixed(2)}%`,me.top=`${(100*K/C._pageHeight).toFixed(2)}%`):(me.left=`${te}${$.toFixed(2)}px)`,me.top=`${te}${K.toFixed(2)}px)`),me.fontSize=`${te}${U.toFixed(2)}px)`,me.fontFamily=L.fontFamily,M.fontSize=U,j.setAttribute("role","presentation"),j.textContent=B.str,j.dir=B.dir,C._fontInspectorEnabled&&(j.dataset.fontName=B.fontName),V!==0&&(M.angle=V*(180/Math.PI));let he=!1;if(B.str.length>1)he=!0;else if(B.str!==" "&&B.transform[0]!==B.transform[3]){const ee=Math.abs(B.transform[0]),ie=Math.abs(B.transform[3]);ee!==ie&&Math.max(ee,ie)/Math.min(ee,ie)>1.5&&(he=!0)}he&&(M.canvasWidth=L.vertical?B.height:B.width),C._textDivProperties.set(j,M),C._isReadableStream&&C._layoutText(j)}function E(C){const{div:B,scale:N,properties:j,ctx:M,prevFontSize:D,prevFontFamily:V}=C,{style:L}=B;let U="";if(j.canvasWidth!==0&&j.hasText){const{fontFamily:J}=L,{canvasWidth:$,fontSize:K}=j;(D!==K||V!==J)&&(M.font=`${K*N}px ${J}`,C.prevFontSize=K,C.prevFontFamily=J);const{width:te}=M.measureText(B.textContent);te>0&&(U=`scaleX(${$*N/te})`)}j.angle!==0&&(U=`rotate(${j.angle}deg) ${U}`),U.length>0&&(L.transform=U)}function _(C){if(C._canceled)return;const B=C._textDivs,N=C._capability;if(B.length>l){N.resolve();return}if(!C._isReadableStream)for(const M of B)C._layoutText(M);N.resolve()}class A{constructor({textContentSource:B,container:N,viewport:j,textDivs:M,textDivProperties:D,textContentItemsStr:V,isOffscreenCanvasSupported:L}){var te;this._textContentSource=B,this._isReadableStream=B instanceof ReadableStream,this._container=this._rootContainer=N,this._textDivs=M||[],this._textContentItemsStr=V||[],this._isOffscreenCanvasSupported=L,this._fontInspectorEnabled=!!((te=globalThis.FontInspector)!=null&&te.enabled),this._reader=null,this._textDivProperties=D||new WeakMap,this._canceled=!1,this._capability=new i.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:j.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:m(0,L)};const{pageWidth:U,pageHeight:J,pageX:$,pageY:K}=j.rawDims;this._transform=[1,0,0,-1,-$,K+J],this._pageWidth=U,this._pageHeight=J,(0,o.setLayerDimensions)(N,j),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new i.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new i.AbortException("TextLayer task cancelled."))}_processItems(B,N){for(const j of B){if(j.str===void 0){if(j.type==="beginMarkedContentProps"||j.type==="beginMarkedContent"){const M=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),j.id!==null&&this._container.setAttribute("id",`${j.id}`),M.append(this._container)}else j.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(j.str),b(this,j,N)}}_layoutText(B){const N=this._layoutTextParams.properties=this._textDivProperties.get(B);if(this._layoutTextParams.div=B,E(this._layoutTextParams),N.hasText&&this._container.append(B),N.hasEOL){const j=document.createElement("br");j.setAttribute("role","presentation"),this._container.append(j)}}_render(){const B=new i.PromiseCapability;let N=Object.create(null);if(this._isReadableStream){const j=()=>{this._reader.read().then(({value:M,done:D})=>{if(D){B.resolve();return}Object.assign(N,M.styles),this._processItems(M.items,N),j()},B.reject)};this._reader=this._textContentSource.getReader(),j()}else if(this._textContentSource){const{items:j,styles:M}=this._textContentSource;this._processItems(j,M),B.resolve()}else throw new Error('No "textContentSource" parameter specified.');B.promise.then(()=>{N=null,_(this)},this._capability.reject)}}t.TextLayerRenderTask=A;function w(C){!C.textContentSource&&(C.textContent||C.textContentStream)&&((0,o.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),C.textContentSource=C.textContent||C.textContentStream);const{container:B,viewport:N}=C,j=getComputedStyle(B),M=j.getPropertyValue("visibility"),D=parseFloat(j.getPropertyValue("--scale-factor"));M==="visible"&&(!D||Math.abs(D-N.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const V=new A(C);return V._render(),V}function T({container:C,viewport:B,textDivs:N,textDivProperties:j,isOffscreenCanvasSupported:M,mustRotate:D=!0,mustRescale:V=!0}){if(D&&(0,o.setLayerDimensions)(C,{rotation:B.rotation}),V){const L=m(0,M),J={prevFontSize:null,prevFontFamily:null,div:null,scale:B.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:L};for(const $ of N)J.properties=j.get($),J.div=$,E(J)}}}),((e,t,n)=>{var g,b,E,_,A,w,T,C,B,N,j,Gu,ho,Hu,Wu;Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationEditorLayer=void 0;var i=n(1),o=n(4),l=n(28),u=n(33),h=n(6),p=n(34);const U=class U{constructor({uiManager:$,pageIndex:K,div:te,accessibilityManager:me,annotationLayer:he,viewport:ee,l10n:ie}){Ie(this,j);Ie(this,g);Ie(this,b,!1);Ie(this,E,null);Ie(this,_,this.pointerup.bind(this));Ie(this,A,this.pointerdown.bind(this));Ie(this,w,new Map);Ie(this,T,!1);Ie(this,C,!1);Ie(this,B,!1);Ie(this,N);const ce=[l.FreeTextEditor,u.InkEditor,p.StampEditor];if(!U._initialized){U._initialized=!0;for(const ne of ce)ne.initialize(ie)}$.registerEditorTypes(ce),Me(this,N,$),this.pageIndex=K,this.div=te,Me(this,g,me),Me(this,E,he),this.viewport=ee,q(this,N).addLayer(this)}get isEmpty(){return q(this,w).size===0}updateToolbar($){q(this,N).updateToolbar($)}updateMode($=q(this,N).getMode()){Ae(this,j,Wu).call(this),$===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),$!==i.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",$===i.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",$===i.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",$===i.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded($){if(!$&&q(this,N).getMode()!==i.AnnotationEditorType.INK)return;if(!$){for(const te of q(this,w).values())if(te.isEmpty()){te.setInBackground();return}}Ae(this,j,ho).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){q(this,N).setEditingState($)}addCommands($){q(this,N).addCommands($)}enable(){this.div.style.pointerEvents="auto";const $=new Set;for(const te of q(this,w).values())te.enableEditing(),te.annotationElementId&&$.add(te.annotationElementId);if(!q(this,E))return;const K=q(this,E).getEditableAnnotations();for(const te of K){if(te.hide(),q(this,N).isDeletedAnnotationElement(te.data.id)||$.has(te.data.id))continue;const me=this.deserialize(te);me&&(this.addOrRebuild(me),me.enableEditing())}}disable(){var K;Me(this,B,!0),this.div.style.pointerEvents="none";const $=new Set;for(const te of q(this,w).values()){if(te.disableEditing(),!te.annotationElementId||te.serialize()!==null){$.add(te.annotationElementId);continue}(K=this.getEditableAnnotation(te.annotationElementId))==null||K.show(),te.remove()}if(q(this,E)){const te=q(this,E).getEditableAnnotations();for(const me of te){const{id:he}=me.data;$.has(he)||q(this,N).isDeletedAnnotationElement(he)||me.show()}}Ae(this,j,Wu).call(this),this.isEmpty&&(this.div.hidden=!0),Me(this,B,!1)}getEditableAnnotation($){var K;return((K=q(this,E))==null?void 0:K.getEditableAnnotation($))||null}setActiveEditor($){q(this,N).getActive()!==$&&q(this,N).setActiveEditor($)}enableClick(){this.div.addEventListener("pointerdown",q(this,A)),this.div.addEventListener("pointerup",q(this,_))}disableClick(){this.div.removeEventListener("pointerdown",q(this,A)),this.div.removeEventListener("pointerup",q(this,_))}attach($){q(this,w).set($.id,$);const{annotationElementId:K}=$;K&&q(this,N).isDeletedAnnotationElement(K)&&q(this,N).removeDeletedAnnotationElement($)}detach($){var K;q(this,w).delete($.id),(K=q(this,g))==null||K.removePointerInTextLayer($.contentDiv),!q(this,B)&&$.annotationElementId&&q(this,N).addDeletedAnnotationElement($)}remove($){this.detach($),q(this,N).removeEditor($),$.div.contains(document.activeElement)&&setTimeout(()=>{q(this,N).focusMainContainer()},0),$.div.remove(),$.isAttachedToDOM=!1,q(this,C)||this.addInkEditorIfNeeded(!1)}changeParent($){var K;$.parent!==this&&($.annotationElementId&&(q(this,N).addDeletedAnnotationElement($.annotationElementId),o.AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(K=$.parent)==null||K.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(this.changeParent($),q(this,N).addEditor($),this.attach($),!$.isAttachedToDOM){const K=$.render();this.div.append(K),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),q(this,N).addToAnnotationStorage($)}moveEditorInDOM($){var te;if(!$.isAttachedToDOM)return;const{activeElement:K}=document;$.div.contains(K)&&($._focusEventsAllowed=!1,setTimeout(()=>{$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),K.focus())},0)),$._structTreeParentId=(te=q(this,g))==null?void 0:te.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?$.rebuild():this.add($)}addUndoableEditor($){const K=()=>$._uiManager.rebuild($),te=()=>{$.remove()};this.addCommands({cmd:K,undo:te,mustExec:!1})}getNextId(){return q(this,N).getId()}pasteEditor($,K){q(this,N).updateToolbar($),q(this,N).updateMode($);const{offsetX:te,offsetY:me}=Ae(this,j,Hu).call(this),he=this.getNextId(),ee=Ae(this,j,Gu).call(this,{parent:this,id:he,x:te,y:me,uiManager:q(this,N),isCentered:!0,...K});ee&&this.add(ee)}deserialize($){switch($.annotationType??$.annotationEditorType){case i.AnnotationEditorType.FREETEXT:return l.FreeTextEditor.deserialize($,this,q(this,N));case i.AnnotationEditorType.INK:return u.InkEditor.deserialize($,this,q(this,N));case i.AnnotationEditorType.STAMP:return p.StampEditor.deserialize($,this,q(this,N))}return null}addNewEditor(){Ae(this,j,ho).call(this,Ae(this,j,Hu).call(this),!0)}setSelected($){q(this,N).setSelected($)}toggleSelected($){q(this,N).toggleSelected($)}isSelected($){return q(this,N).isSelected($)}unselect($){q(this,N).unselect($)}pointerup($){const{isMac:K}=i.FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&K)&&$.target===this.div&&q(this,T)){if(Me(this,T,!1),!q(this,b)){Me(this,b,!0);return}if(q(this,N).getMode()===i.AnnotationEditorType.STAMP){q(this,N).unselectAll();return}Ae(this,j,ho).call(this,$,!1)}}pointerdown($){if(q(this,T)){Me(this,T,!1);return}const{isMac:K}=i.FeatureTest.platform;if($.button!==0||$.ctrlKey&&K||$.target!==this.div)return;Me(this,T,!0);const te=q(this,N).getActive();Me(this,b,!te||te.isEmpty())}findNewParent($,K,te){const me=q(this,N).findParent(K,te);return me===null||me===this?!1:(me.changeParent($),!0)}destroy(){var $,K;(($=q(this,N).getActive())==null?void 0:$.parent)===this&&(q(this,N).commitOrRemove(),q(this,N).setActiveEditor(null));for(const te of q(this,w).values())(K=q(this,g))==null||K.removePointerInTextLayer(te.contentDiv),te.setParent(null),te.isAttachedToDOM=!1,te.div.remove();this.div=null,q(this,w).clear(),q(this,N).removeLayer(this)}render({viewport:$}){this.viewport=$,(0,h.setLayerDimensions)(this.div,$);for(const K of q(this,N).getEditors(this.pageIndex))this.add(K);this.updateMode()}update({viewport:$}){q(this,N).commitOrRemove(),this.viewport=$,(0,h.setLayerDimensions)(this.div,{rotation:$.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:$,pageHeight:K}=this.viewport.rawDims;return[$,K]}};g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,B=new WeakMap,N=new WeakMap,j=new WeakSet,Gu=function($){switch(q(this,N).getMode()){case i.AnnotationEditorType.FREETEXT:return new l.FreeTextEditor($);case i.AnnotationEditorType.INK:return new u.InkEditor($);case i.AnnotationEditorType.STAMP:return new p.StampEditor($)}return null},ho=function($,K){const te=this.getNextId(),me=Ae(this,j,Gu).call(this,{parent:this,id:te,x:$.offsetX,y:$.offsetY,uiManager:q(this,N),isCentered:K});return me&&this.add(me),me},Hu=function(){const{x:$,y:K,width:te,height:me}=this.div.getBoundingClientRect(),he=Math.max(0,$),ee=Math.max(0,K),ie=Math.min(window.innerWidth,$+te),ce=Math.min(window.innerHeight,K+me),ne=(he+ie)/2-$,Z=(ee+ce)/2-K,[G,H]=this.viewport.rotation%180===0?[ne,Z]:[Z,ne];return{offsetX:G,offsetY:H}},Wu=function(){Me(this,C,!0);for(const $ of q(this,w).values())$.isEmpty()&&$.remove();Me(this,C,!1)},Lt(U,"_initialized",!1);let m=U;t.AnnotationEditorLayer=m}),((e,t,n)=>{var p,m,g,b,E,_,A,w,T,C,fp,pp,mp,Ua,Ku,gp,Yu;Object.defineProperty(t,"__esModule",{value:!0}),t.FreeTextEditor=void 0;var i=n(1),o=n(5),l=n(4),u=n(29);const U=class U extends l.AnnotationEditor{constructor(K){super({...K,name:"freeTextEditor"});Ie(this,C);Ie(this,p,this.editorDivBlur.bind(this));Ie(this,m,this.editorDivFocus.bind(this));Ie(this,g,this.editorDivInput.bind(this));Ie(this,b,this.editorDivKeydown.bind(this));Ie(this,E);Ie(this,_,"");Ie(this,A,`${this.id}-editor`);Ie(this,w);Ie(this,T,null);Me(this,E,K.color||U._defaultColor||l.AnnotationEditor._defaultLineColor),Me(this,w,K.fontSize||U._defaultFontSize)}static get _keyboardManager(){const K=U.prototype,te=ee=>ee.isEmpty(),me=o.AnnotationEditorUIManager.TRANSLATE_SMALL,he=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_keyboardManager",new o.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],K.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],K.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],K._translateEmpty,{args:[-me,0],checker:te}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],K._translateEmpty,{args:[-he,0],checker:te}],[["ArrowRight","mac+ArrowRight"],K._translateEmpty,{args:[me,0],checker:te}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],K._translateEmpty,{args:[he,0],checker:te}],[["ArrowUp","mac+ArrowUp"],K._translateEmpty,{args:[0,-me],checker:te}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],K._translateEmpty,{args:[0,-he],checker:te}],[["ArrowDown","mac+ArrowDown"],K._translateEmpty,{args:[0,me],checker:te}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],K._translateEmpty,{args:[0,he],checker:te}]]))}static initialize(K){l.AnnotationEditor.initialize(K,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const te=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(te.getPropertyValue("--freetext-padding"))}static updateDefaultParams(K,te){switch(K){case i.AnnotationEditorParamsType.FREETEXT_SIZE:U._defaultFontSize=te;break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:U._defaultColor=te;break}}updateParams(K,te){switch(K){case i.AnnotationEditorParamsType.FREETEXT_SIZE:Ae(this,C,fp).call(this,te);break;case i.AnnotationEditorParamsType.FREETEXT_COLOR:Ae(this,C,pp).call(this,te);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,U._defaultFontSize],[i.AnnotationEditorParamsType.FREETEXT_COLOR,U._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.FREETEXT_SIZE,q(this,w)],[i.AnnotationEditorParamsType.FREETEXT_COLOR,q(this,E)]]}_translateEmpty(K,te){this._uiManager.translateSelectedEditors(K,te,!0)}getInitialTranslation(){const K=this.parentScale;return[-U._internalPadding*K,-(U._internalPadding+q(this,w))*K]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(i.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",q(this,b)),this.editorDiv.addEventListener("focus",q(this,m)),this.editorDiv.addEventListener("blur",q(this,p)),this.editorDiv.addEventListener("input",q(this,g)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",q(this,A)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",q(this,b)),this.editorDiv.removeEventListener("focus",q(this,m)),this.editorDiv.removeEventListener("blur",q(this,p)),this.editorDiv.removeEventListener("input",q(this,g)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(K){this._focusEventsAllowed&&(super.focusin(K),K.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var K;if(this.width){Ae(this,C,Yu).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(K=this._initialOptions)!=null&&K.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const K=q(this,_),te=Me(this,_,Ae(this,C,mp).call(this).trimEnd());if(K===te)return;const me=he=>{if(Me(this,_,he),!he){this.remove();return}Ae(this,C,Ku).call(this),this._uiManager.rebuild(this),Ae(this,C,Ua).call(this)};this.addCommands({cmd:()=>{me(te)},undo:()=>{me(K)},mustExec:!1}),Ae(this,C,Ua).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(K){this.enterInEditMode()}keydown(K){K.target===this.div&&K.key==="Enter"&&(this.enterInEditMode(),K.preventDefault())}editorDivKeydown(K){U._keyboardManager.exec(this,K)}editorDivFocus(K){this.isEditing=!0}editorDivBlur(K){this.isEditing=!1}editorDivInput(K){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let K,te;this.width&&(K=this.x,te=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",q(this,A)),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(he=>{var ee;return(ee=this.editorDiv)==null?void 0:ee.setAttribute("aria-label",he)}),l.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(he=>{var ee;return(ee=this.editorDiv)==null?void 0:ee.setAttribute("default-content",he)}),this.editorDiv.contentEditable=!0;const{style:me}=this.editorDiv;if(me.fontSize=`calc(${q(this,w)}px * var(--scale-factor))`,me.color=q(this,E),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,o.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[he,ee]=this.parentDimensions;if(this.annotationElementId){const{position:ie}=q(this,T);let[ce,ne]=this.getInitialTranslation();[ce,ne]=this.pageTranslationToScreen(ce,ne);const[Z,G]=this.pageDimensions,[H,F]=this.pageTranslation;let z,Y;switch(this.rotation){case 0:z=K+(ie[0]-H)/Z,Y=te+this.height-(ie[1]-F)/G;break;case 90:z=K+(ie[0]-H)/Z,Y=te-(ie[1]-F)/G,[ce,ne]=[ne,-ce];break;case 180:z=K-this.width+(ie[0]-H)/Z,Y=te-(ie[1]-F)/G,[ce,ne]=[-ce,-ne];break;case 270:z=K+(ie[0]-H-this.height*G)/Z,Y=te+(ie[1]-F-this.width*Z)/G,[ce,ne]=[-ne,ce];break}this.setAt(z*he,Y*ee,ce,ne)}else this.setAt(K*he,te*ee,this.width*he,this.height*ee);Ae(this,C,Ku).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(K,te,me){let he=null;if(K instanceof u.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:ie,fontColor:ce},rect:ne,rotation:Z,id:G},textContent:H,textPosition:F,parent:{page:{pageNumber:z}}}=K;if(!H||H.length===0)return null;he=K={annotationType:i.AnnotationEditorType.FREETEXT,color:Array.from(ce),fontSize:ie,value:H.join(`
`),position:F,pageIndex:z-1,rect:ne,rotation:Z,id:G,deleted:!1}}const ee=super.deserialize(K,te,me);return Me(ee,w,K.fontSize),Me(ee,E,i.Util.makeHexColor(...K.color)),Me(ee,_,K.value),ee.annotationElementId=K.id||null,Me(ee,T,he),ee}serialize(K=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const te=U._internalPadding*this.parentScale,me=this.getRect(te,te),he=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:q(this,E)),ee={annotationType:i.AnnotationEditorType.FREETEXT,color:he,fontSize:q(this,w),value:q(this,_),pageIndex:this.pageIndex,rect:me,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return K?ee:this.annotationElementId&&!Ae(this,C,gp).call(this,ee)?null:(ee.id=this.annotationElementId,ee)}};p=new WeakMap,m=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakSet,fp=function(K){const te=he=>{this.editorDiv.style.fontSize=`calc(${he}px * var(--scale-factor))`,this.translate(0,-(he-q(this,w))*this.parentScale),Me(this,w,he),Ae(this,C,Ua).call(this)},me=q(this,w);this.addCommands({cmd:()=>{te(K)},undo:()=>{te(me)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},pp=function(K){const te=q(this,E);this.addCommands({cmd:()=>{Me(this,E,this.editorDiv.style.color=K)},undo:()=>{Me(this,E,this.editorDiv.style.color=te)},mustExec:!0,type:i.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},mp=function(){const K=this.editorDiv.getElementsByTagName("div");if(K.length===0)return this.editorDiv.innerText;const te=[];for(const me of K)te.push(me.innerText.replace(/\r\n?|\n/,""));return te.join(`
`)},Ua=function(){const[K,te]=this.parentDimensions;let me;if(this.isAttachedToDOM)me=this.div.getBoundingClientRect();else{const{currentLayer:he,div:ee}=this,ie=ee.style.display;ee.style.display="hidden",he.div.append(this.div),me=ee.getBoundingClientRect(),ee.remove(),ee.style.display=ie}this.rotation%180===this.parentRotation%180?(this.width=me.width/K,this.height=me.height/te):(this.width=me.height/K,this.height=me.width/te),this.fixAndSetPosition()},Ku=function(){if(this.editorDiv.replaceChildren(),!!q(this,_))for(const K of q(this,_).split(`
`)){const te=document.createElement("div");te.append(K?document.createTextNode(K):document.createElement("br")),this.editorDiv.append(te)}},gp=function(K){const{value:te,fontSize:me,color:he,rect:ee,pageIndex:ie}=q(this,T);return K.value!==te||K.fontSize!==me||K.rect.some((ce,ne)=>Math.abs(ce-ee[ne])>=1)||K.color.some((ce,ne)=>ce!==he[ne])||K.pageIndex!==ie},Yu=function(K=!1){if(!this.annotationElementId)return;if(Ae(this,C,Ua).call(this),!K&&(this.width===0||this.height===0)){setTimeout(()=>Ae(this,C,Yu).call(this,!0),0);return}const te=U._internalPadding*this.parentScale;q(this,T).rect=this.getRect(te,te)},Lt(U,"_freeTextDefaultContent",""),Lt(U,"_internalPadding",0),Lt(U,"_defaultColor",null),Lt(U,"_defaultFontSize",10),Lt(U,"_type","freetext");let h=U;t.FreeTextEditor=h}),((e,t,n)=>{var Y,Q,ni,yp,ve,Ee,ye,De,Ce,Oe,_e,Pe,oe,pe,Se,ke,Fe,Ke,qe,we,tt,Qe,vp,fo,Xu,Ju,ft,Et,At,Ge,Re,Be,ot,Zu,St,ge,Ue,et,xp,Qu;Object.defineProperty(t,"__esModule",{value:!0}),t.StampAnnotationElement=t.InkAnnotationElement=t.FreeTextAnnotationElement=t.AnnotationLayer=void 0;var i=n(1),o=n(6),l=n(3),u=n(30),h=n(31),p=n(32);const m=1e3,g=9,b=new WeakSet;function E(it){return{width:it[2]-it[0],height:it[3]-it[1]}}class _{static create(fe){switch(fe.data.annotationType){case i.AnnotationType.LINK:return new w(fe);case i.AnnotationType.TEXT:return new T(fe);case i.AnnotationType.WIDGET:switch(fe.data.fieldType){case"Tx":return new B(fe);case"Btn":return fe.data.radioButton?new M(fe):fe.data.checkBox?new j(fe):new D(fe);case"Ch":return new V(fe);case"Sig":return new N(fe)}return new C(fe);case i.AnnotationType.POPUP:return new L(fe);case i.AnnotationType.FREETEXT:return new J(fe);case i.AnnotationType.LINE:return new $(fe);case i.AnnotationType.SQUARE:return new K(fe);case i.AnnotationType.CIRCLE:return new te(fe);case i.AnnotationType.POLYLINE:return new me(fe);case i.AnnotationType.CARET:return new ee(fe);case i.AnnotationType.INK:return new ie(fe);case i.AnnotationType.POLYGON:return new he(fe);case i.AnnotationType.HIGHLIGHT:return new ce(fe);case i.AnnotationType.UNDERLINE:return new ne(fe);case i.AnnotationType.SQUIGGLY:return new Z(fe);case i.AnnotationType.STRIKEOUT:return new G(fe);case i.AnnotationType.STAMP:return new H(fe);case i.AnnotationType.FILEATTACHMENT:return new F(fe);default:return new A(fe)}}}const ae=class ae{constructor(fe,{isRenderable:de=!1,ignoreBorder:xe=!1,createQuadrilaterals:Ve=!1}={}){Ie(this,Y,!1);this.isRenderable=de,this.data=fe.data,this.layer=fe.layer,this.linkService=fe.linkService,this.downloadManager=fe.downloadManager,this.imageResourcesPath=fe.imageResourcesPath,this.renderForms=fe.renderForms,this.svgFactory=fe.svgFactory,this.annotationStorage=fe.annotationStorage,this.enableScripting=fe.enableScripting,this.hasJSActions=fe.hasJSActions,this._fieldObjects=fe.fieldObjects,this.parent=fe.parent,de&&(this.container=this._createContainer(xe)),Ve&&this._createQuadrilaterals()}static _hasPopupData({titleObj:fe,contentsObj:de,richText:xe}){return!!(fe!=null&&fe.str||de!=null&&de.str||xe!=null&&xe.str)}get hasPopupData(){return ae._hasPopupData(this.data)}_createContainer(fe){const{data:de,parent:{page:xe,viewport:Ve}}=this,je=document.createElement("section");je.setAttribute("data-annotation-id",de.id),this instanceof C||(je.tabIndex=m),je.style.zIndex=this.parent.zIndex++,this.data.popupRef&&je.setAttribute("aria-haspopup","dialog"),de.noRotate&&je.classList.add("norotate");const{pageWidth:We,pageHeight:Xe,pageX:ct,pageY:lt}=Ve.rawDims;if(!de.rect||this instanceof L){const{rotation:ht}=de;return!de.hasOwnCanvas&&ht!==0&&this.setRotation(ht,je),je}const{width:rt,height:vt}=E(de.rect),at=i.Util.normalizeRect([de.rect[0],xe.view[3]-de.rect[1]+xe.view[1],de.rect[2],xe.view[3]-de.rect[3]+xe.view[1]]);if(!fe&&de.borderStyle.width>0){je.style.borderWidth=`${de.borderStyle.width}px`;const ht=de.borderStyle.horizontalCornerRadius,xt=de.borderStyle.verticalCornerRadius;if(ht>0||xt>0){const Dt=`calc(${ht}px * var(--scale-factor)) / calc(${xt}px * var(--scale-factor))`;je.style.borderRadius=Dt}else if(this instanceof M){const Dt=`calc(${rt}px * var(--scale-factor)) / calc(${vt}px * var(--scale-factor))`;je.style.borderRadius=Dt}switch(de.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:je.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:je.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:je.style.borderBottomStyle="solid";break}const Tt=de.borderColor||null;Tt?(Me(this,Y,!0),je.style.borderColor=i.Util.makeHexColor(Tt[0]|0,Tt[1]|0,Tt[2]|0)):je.style.borderWidth=0}je.style.left=`${100*(at[0]-ct)/We}%`,je.style.top=`${100*(at[1]-lt)/Xe}%`;const{rotation:nt}=de;return de.hasOwnCanvas||nt===0?(je.style.width=`${100*rt/We}%`,je.style.height=`${100*vt/Xe}%`):this.setRotation(nt,je),je}setRotation(fe,de=this.container){if(!this.data.rect)return;const{pageWidth:xe,pageHeight:Ve}=this.parent.viewport.rawDims,{width:je,height:We}=E(this.data.rect);let Xe,ct;fe%180===0?(Xe=100*je/xe,ct=100*We/Ve):(Xe=100*We/xe,ct=100*je/Ve),de.style.width=`${Xe}%`,de.style.height=`${ct}%`,de.setAttribute("data-main-rotation",(360-fe)%360)}get _commonActions(){const fe=(de,xe,Ve)=>{const je=Ve.detail[de],We=je[0],Xe=je.slice(1);Ve.target.style[xe]=u.ColorConverters[`${We}_HTML`](Xe),this.annotationStorage.setValue(this.data.id,{[xe]:u.ColorConverters[`${We}_rgb`](Xe)})};return(0,i.shadow)(this,"_commonActions",{display:de=>{const{display:xe}=de.detail,Ve=xe%2===1;this.container.style.visibility=Ve?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Ve,noPrint:xe===1||xe===2})},print:de=>{this.annotationStorage.setValue(this.data.id,{noPrint:!de.detail.print})},hidden:de=>{const{hidden:xe}=de.detail;this.container.style.visibility=xe?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:xe,noView:xe})},focus:de=>{setTimeout(()=>de.target.focus({preventScroll:!1}),0)},userName:de=>{de.target.title=de.detail.userName},readonly:de=>{de.target.disabled=de.detail.readonly},required:de=>{this._setRequired(de.target,de.detail.required)},bgColor:de=>{fe("bgColor","backgroundColor",de)},fillColor:de=>{fe("fillColor","backgroundColor",de)},fgColor:de=>{fe("fgColor","color",de)},textColor:de=>{fe("textColor","color",de)},borderColor:de=>{fe("borderColor","borderColor",de)},strokeColor:de=>{fe("strokeColor","borderColor",de)},rotation:de=>{const xe=de.detail.rotation;this.setRotation(xe),this.annotationStorage.setValue(this.data.id,{rotation:xe})}})}_dispatchEventFromSandbox(fe,de){const xe=this._commonActions;for(const Ve of Object.keys(de.detail)){const je=fe[Ve]||xe[Ve];je==null||je(de)}}_setDefaultPropertiesFromJS(fe){if(!this.enableScripting)return;const de=this.annotationStorage.getRawValue(this.data.id);if(!de)return;const xe=this._commonActions;for(const[Ve,je]of Object.entries(de)){const We=xe[Ve];if(We){const Xe={detail:{[Ve]:je},target:fe};We(Xe),delete de[Ve]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:fe}=this.data;if(!fe)return;const[de,xe,Ve,je]=this.data.rect;if(fe.length===1){const[,{x:xt,y:Tt},{x:Dt,y:er}]=fe[0];if(Ve===xt&&je===Tt&&de===Dt&&xe===er)return}const{style:We}=this.container;let Xe;if(q(this,Y)){const{borderColor:xt,borderWidth:Tt}=We;We.borderWidth=0,Xe=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${xt}" stroke-width="${Tt}">`],this.container.classList.add("hasBorder")}const ct=Ve-de,lt=je-xe,{svgFactory:rt}=this,vt=rt.createElement("svg");vt.classList.add("quadrilateralsContainer"),vt.setAttribute("width",0),vt.setAttribute("height",0);const at=rt.createElement("defs");vt.append(at);const nt=rt.createElement("clipPath"),ht=`clippath_${this.data.id}`;nt.setAttribute("id",ht),nt.setAttribute("clipPathUnits","objectBoundingBox"),at.append(nt);for(const[,{x:xt,y:Tt},{x:Dt,y:er}]of fe){const Ht=rt.createElement("rect"),hr=(Dt-de)/ct,Cr=(je-Tt)/lt,fr=(xt-Dt)/ct,Kr=(Tt-er)/lt;Ht.setAttribute("x",hr),Ht.setAttribute("y",Cr),Ht.setAttribute("width",fr),Ht.setAttribute("height",Kr),nt.append(Ht),Xe==null||Xe.push(`<rect vector-effect="non-scaling-stroke" x="${hr}" y="${Cr}" width="${fr}" height="${Kr}"/>`)}q(this,Y)&&(Xe.push("</g></svg>')"),We.backgroundImage=Xe.join("")),this.container.append(vt),this.container.style.clipPath=`url(#${ht})`}_createPopup(){const{container:fe,data:de}=this;fe.setAttribute("aria-haspopup","dialog");const xe=new L({data:{color:de.color,titleObj:de.titleObj,modificationDate:de.modificationDate,contentsObj:de.contentsObj,richText:de.richText,parentRect:de.rect,borderStyle:0,id:`popup_${de.id}`,rotation:de.rotation},parent:this.parent,elements:[this]});this.parent.div.append(xe.render())}render(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(fe,de=null){const xe=[];if(this._fieldObjects){const Ve=this._fieldObjects[fe];if(Ve)for(const{page:je,id:We,exportValues:Xe}of Ve){if(je===-1||We===de)continue;const ct=typeof Xe=="string"?Xe:null,lt=document.querySelector(`[data-element-id="${We}"]`);if(lt&&!b.has(lt)){(0,i.warn)(`_getElementsByName - element not allowed: ${We}`);continue}xe.push({id:We,exportValue:ct,domElement:lt})}return xe}for(const Ve of document.getElementsByName(fe)){const{exportValue:je}=Ve,We=Ve.getAttribute("data-element-id");We!==de&&b.has(Ve)&&xe.push({id:We,exportValue:je,domElement:Ve})}return xe}show(){var fe;this.container&&(this.container.hidden=!1),(fe=this.popup)==null||fe.maybeShow()}hide(){var fe;this.container&&(this.container.hidden=!0),(fe=this.popup)==null||fe.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const fe=this.getElementsToTriggerPopup();if(Array.isArray(fe))for(const de of fe)de.classList.add("highlightArea");else fe.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:fe,data:{id:de}}=this;this.container.addEventListener("dblclick",()=>{var xe;(xe=this.linkService.eventBus)==null||xe.dispatch("switchannotationeditormode",{source:this,mode:fe,editId:de})})}};Y=new WeakMap;let A=ae;class w extends A{constructor(de,xe=null){super(de,{isRenderable:!0,ignoreBorder:!!(xe!=null&&xe.ignoreBorder),createQuadrilaterals:!0});Ie(this,Q);this.isTooltipOnly=de.data.isTooltipOnly}render(){const{data:de,linkService:xe}=this,Ve=document.createElement("a");Ve.setAttribute("data-element-id",de.id);let je=!1;return de.url?(xe.addLinkAttributes(Ve,de.url,de.newWindow),je=!0):de.action?(this._bindNamedAction(Ve,de.action),je=!0):de.attachment?(this._bindAttachment(Ve,de.attachment),je=!0):de.setOCGState?(Ae(this,Q,yp).call(this,Ve,de.setOCGState),je=!0):de.dest?(this._bindLink(Ve,de.dest),je=!0):(de.actions&&(de.actions.Action||de.actions["Mouse Up"]||de.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ve,de),je=!0),de.resetForm?(this._bindResetFormAction(Ve,de.resetForm),je=!0):this.isTooltipOnly&&!je&&(this._bindLink(Ve,""),je=!0)),this.container.classList.add("linkAnnotation"),je&&this.container.append(Ve),this.container}_bindLink(de,xe){de.href=this.linkService.getDestinationHash(xe),de.onclick=()=>(xe&&this.linkService.goToDestination(xe),!1),(xe||xe==="")&&Ae(this,Q,ni).call(this)}_bindNamedAction(de,xe){de.href=this.linkService.getAnchorUrl(""),de.onclick=()=>(this.linkService.executeNamedAction(xe),!1),Ae(this,Q,ni).call(this)}_bindAttachment(de,xe){de.href=this.linkService.getAnchorUrl(""),de.onclick=()=>{var Ve;return(Ve=this.downloadManager)==null||Ve.openOrDownloadData(this.container,xe.content,xe.filename),!1},Ae(this,Q,ni).call(this)}_bindJSAction(de,xe){de.href=this.linkService.getAnchorUrl("");const Ve=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const je of Object.keys(xe.actions)){const We=Ve.get(je);We&&(de[We]=()=>{var Xe;return(Xe=this.linkService.eventBus)==null||Xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xe.id,name:je}}),!1})}de.onclick||(de.onclick=()=>!1),Ae(this,Q,ni).call(this)}_bindResetFormAction(de,xe){const Ve=de.onclick;if(Ve||(de.href=this.linkService.getAnchorUrl("")),Ae(this,Q,ni).call(this),!this._fieldObjects){(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ve||(de.onclick=()=>!1);return}de.onclick=()=>{var vt;Ve==null||Ve();const{fields:je,refs:We,include:Xe}=xe,ct=[];if(je.length!==0||We.length!==0){const at=new Set(We);for(const nt of je){const ht=this._fieldObjects[nt]||[];for(const{id:xt}of ht)at.add(xt)}for(const nt of Object.values(this._fieldObjects))for(const ht of nt)at.has(ht.id)===Xe&&ct.push(ht)}else for(const at of Object.values(this._fieldObjects))ct.push(...at);const lt=this.annotationStorage,rt=[];for(const at of ct){const{id:nt}=at;switch(rt.push(nt),at.type){case"text":{const xt=at.defaultValue||"";lt.setValue(nt,{value:xt});break}case"checkbox":case"radiobutton":{const xt=at.defaultValue===at.exportValues;lt.setValue(nt,{value:xt});break}case"combobox":case"listbox":{const xt=at.defaultValue||"";lt.setValue(nt,{value:xt});break}default:continue}const ht=document.querySelector(`[data-element-id="${nt}"]`);if(ht){if(!b.has(ht)){(0,i.warn)(`_bindResetFormAction - element not allowed: ${nt}`);continue}}else continue;ht.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((vt=this.linkService.eventBus)==null||vt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:rt,name:"ResetForm"}})),!1}}}Q=new WeakSet,ni=function(){this.container.setAttribute("data-internal-link","")},yp=function(de,xe){de.href=this.linkService.getAnchorUrl(""),de.onclick=()=>(this.linkService.executeSetOCGState(xe),!1),Ae(this,Q,ni).call(this)};class T extends A{constructor(fe){super(fe,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const fe=document.createElement("img");return fe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",fe.alt="[{{type}} Annotation]",fe.dataset.l10nId="text_annotation_type",fe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(fe),this.container}}class C extends A{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(fe){var de;this.data.hasOwnCanvas&&(((de=fe.previousSibling)==null?void 0:de.nodeName)==="CANVAS"&&(fe.previousSibling.hidden=!0),fe.hidden=!1)}_getKeyModifier(fe){const{isWin:de,isMac:xe}=i.FeatureTest.platform;return de&&fe.ctrlKey||xe&&fe.metaKey}_setEventListener(fe,de,xe,Ve,je){xe.includes("mouse")?fe.addEventListener(xe,We=>{var Xe;(Xe=this.linkService.eventBus)==null||Xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ve,value:je(We),shift:We.shiftKey,modifier:this._getKeyModifier(We)}})}):fe.addEventListener(xe,We=>{var Xe;if(xe==="blur"){if(!de.focused||!We.relatedTarget)return;de.focused=!1}else if(xe==="focus"){if(de.focused)return;de.focused=!0}je&&((Xe=this.linkService.eventBus)==null||Xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Ve,value:je(We)}}))})}_setEventListeners(fe,de,xe,Ve){var je,We,Xe;for(const[ct,lt]of xe)(lt==="Action"||(je=this.data.actions)!=null&&je[lt])&&((lt==="Focus"||lt==="Blur")&&(de||(de={focused:!1})),this._setEventListener(fe,de,ct,lt,Ve),lt==="Focus"&&!((We=this.data.actions)!=null&&We.Blur)?this._setEventListener(fe,de,"blur","Blur",null):lt==="Blur"&&!((Xe=this.data.actions)!=null&&Xe.Focus)&&this._setEventListener(fe,de,"focus","Focus",null))}_setBackgroundColor(fe){const de=this.data.backgroundColor||null;fe.style.backgroundColor=de===null?"transparent":i.Util.makeHexColor(de[0],de[1],de[2])}_setTextStyle(fe){const de=["left","center","right"],{fontColor:xe}=this.data.defaultAppearanceData,Ve=this.data.defaultAppearanceData.fontSize||g,je=fe.style;let We;const Xe=2,ct=lt=>Math.round(10*lt)/10;if(this.data.multiLine){const lt=Math.abs(this.data.rect[3]-this.data.rect[1]-Xe),rt=Math.round(lt/(i.LINE_FACTOR*Ve))||1,vt=lt/rt;We=Math.min(Ve,ct(vt/i.LINE_FACTOR))}else{const lt=Math.abs(this.data.rect[3]-this.data.rect[1]-Xe);We=Math.min(Ve,ct(lt/i.LINE_FACTOR))}je.fontSize=`calc(${We}px * var(--scale-factor))`,je.color=i.Util.makeHexColor(xe[0],xe[1],xe[2]),this.data.textAlignment!==null&&(je.textAlign=de[this.data.textAlignment])}_setRequired(fe,de){de?fe.setAttribute("required",!0):fe.removeAttribute("required"),fe.setAttribute("aria-required",de)}}class B extends C{constructor(fe){const de=fe.renderForms||!fe.data.hasAppearance&&!!fe.data.fieldValue;super(fe,{isRenderable:de})}setPropertyOnSiblings(fe,de,xe,Ve){const je=this.annotationStorage;for(const We of this._getElementsByName(fe.name,fe.id))We.domElement&&(We.domElement[de]=xe),je.setValue(We.id,{[Ve]:xe})}render(){var Ve,je;const fe=this.annotationStorage,de=this.data.id;this.container.classList.add("textWidgetAnnotation");let xe=null;if(this.renderForms){const We=fe.getValue(de,{value:this.data.fieldValue});let Xe=We.value||"";const ct=fe.getValue(de,{charLimit:this.data.maxLen}).charLimit;ct&&Xe.length>ct&&(Xe=Xe.slice(0,ct));let lt=We.formattedValue||((Ve=this.data.textContent)==null?void 0:Ve.join(`
`))||null;lt&&this.data.comb&&(lt=lt.replaceAll(/\s+/g,""));const rt={userValue:Xe,formattedValue:lt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(xe=document.createElement("textarea"),xe.textContent=lt??Xe,this.data.doNotScroll&&(xe.style.overflowY="hidden")):(xe=document.createElement("input"),xe.type="text",xe.setAttribute("value",lt??Xe),this.data.doNotScroll&&(xe.style.overflowX="hidden")),this.data.hasOwnCanvas&&(xe.hidden=!0),b.add(xe),xe.setAttribute("data-element-id",de),xe.disabled=this.data.readOnly,xe.name=this.data.fieldName,xe.tabIndex=m,this._setRequired(xe,this.data.required),ct&&(xe.maxLength=ct),xe.addEventListener("input",at=>{fe.setValue(de,{value:at.target.value}),this.setPropertyOnSiblings(xe,"value",at.target.value,"value"),rt.formattedValue=null}),xe.addEventListener("resetform",at=>{const nt=this.data.defaultFieldValue??"";xe.value=rt.userValue=nt,rt.formattedValue=null});let vt=at=>{const{formattedValue:nt}=rt;nt!=null&&(at.target.value=nt),at.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){xe.addEventListener("focus",nt=>{if(rt.focused)return;const{target:ht}=nt;rt.userValue&&(ht.value=rt.userValue),rt.lastCommittedValue=ht.value,rt.commitKey=1,rt.focused=!0}),xe.addEventListener("updatefromsandbox",nt=>{this.showElementAndHideCanvas(nt.target);const ht={value(xt){rt.userValue=xt.detail.value??"",fe.setValue(de,{value:rt.userValue.toString()}),xt.target.value=rt.userValue},formattedValue(xt){const{formattedValue:Tt}=xt.detail;rt.formattedValue=Tt,Tt!=null&&xt.target!==document.activeElement&&(xt.target.value=Tt),fe.setValue(de,{formattedValue:Tt})},selRange(xt){xt.target.setSelectionRange(...xt.detail.selRange)},charLimit:xt=>{var Ht;const{charLimit:Tt}=xt.detail,{target:Dt}=xt;if(Tt===0){Dt.removeAttribute("maxLength");return}Dt.setAttribute("maxLength",Tt);let er=rt.userValue;!er||er.length<=Tt||(er=er.slice(0,Tt),Dt.value=rt.userValue=er,fe.setValue(de,{value:er}),(Ht=this.linkService.eventBus)==null||Ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:de,name:"Keystroke",value:er,willCommit:!0,commitKey:1,selStart:Dt.selectionStart,selEnd:Dt.selectionEnd}}))}};this._dispatchEventFromSandbox(ht,nt)}),xe.addEventListener("keydown",nt=>{var Tt;rt.commitKey=1;let ht=-1;if(nt.key==="Escape"?ht=0:nt.key==="Enter"&&!this.data.multiLine?ht=2:nt.key==="Tab"&&(rt.commitKey=3),ht===-1)return;const{value:xt}=nt.target;rt.lastCommittedValue!==xt&&(rt.lastCommittedValue=xt,rt.userValue=xt,(Tt=this.linkService.eventBus)==null||Tt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:de,name:"Keystroke",value:xt,willCommit:!0,commitKey:ht,selStart:nt.target.selectionStart,selEnd:nt.target.selectionEnd}}))});const at=vt;vt=null,xe.addEventListener("blur",nt=>{var xt;if(!rt.focused||!nt.relatedTarget)return;rt.focused=!1;const{value:ht}=nt.target;rt.userValue=ht,rt.lastCommittedValue!==ht&&((xt=this.linkService.eventBus)==null||xt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:de,name:"Keystroke",value:ht,willCommit:!0,commitKey:rt.commitKey,selStart:nt.target.selectionStart,selEnd:nt.target.selectionEnd}})),at(nt)}),(je=this.data.actions)!=null&&je.Keystroke&&xe.addEventListener("beforeinput",nt=>{var Cr;rt.lastCommittedValue=null;const{data:ht,target:xt}=nt,{value:Tt,selectionStart:Dt,selectionEnd:er}=xt;let Ht=Dt,hr=er;switch(nt.inputType){case"deleteWordBackward":{const fr=Tt.substring(0,Dt).match(/\w*[^\w]*$/);fr&&(Ht-=fr[0].length);break}case"deleteWordForward":{const fr=Tt.substring(Dt).match(/^[^\w]*\w*/);fr&&(hr+=fr[0].length);break}case"deleteContentBackward":Dt===er&&(Ht-=1);break;case"deleteContentForward":Dt===er&&(hr+=1);break}nt.preventDefault(),(Cr=this.linkService.eventBus)==null||Cr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:de,name:"Keystroke",value:Tt,change:ht||"",willCommit:!1,selStart:Ht,selEnd:hr}})}),this._setEventListeners(xe,rt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nt=>nt.target.value)}if(vt&&xe.addEventListener("blur",vt),this.data.comb){const nt=(this.data.rect[2]-this.data.rect[0])/ct;xe.classList.add("comb"),xe.style.letterSpacing=`calc(${nt}px * var(--scale-factor) - 1ch)`}}else xe=document.createElement("div"),xe.textContent=this.data.fieldValue,xe.style.verticalAlign="middle",xe.style.display="table-cell";return this._setTextStyle(xe),this._setBackgroundColor(xe),this._setDefaultPropertiesFromJS(xe),this.container.append(xe),this.container}}class N extends C{constructor(fe){super(fe,{isRenderable:!!fe.data.hasOwnCanvas})}}class j extends C{constructor(fe){super(fe,{isRenderable:fe.renderForms})}render(){const fe=this.annotationStorage,de=this.data,xe=de.id;let Ve=fe.getValue(xe,{value:de.exportValue===de.fieldValue}).value;typeof Ve=="string"&&(Ve=Ve!=="Off",fe.setValue(xe,{value:Ve})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const je=document.createElement("input");return b.add(je),je.setAttribute("data-element-id",xe),je.disabled=de.readOnly,this._setRequired(je,this.data.required),je.type="checkbox",je.name=de.fieldName,Ve&&je.setAttribute("checked",!0),je.setAttribute("exportValue",de.exportValue),je.tabIndex=m,je.addEventListener("change",We=>{const{name:Xe,checked:ct}=We.target;for(const lt of this._getElementsByName(Xe,xe)){const rt=ct&&lt.exportValue===de.exportValue;lt.domElement&&(lt.domElement.checked=rt),fe.setValue(lt.id,{value:rt})}fe.setValue(xe,{value:ct})}),je.addEventListener("resetform",We=>{const Xe=de.defaultFieldValue||"Off";We.target.checked=Xe===de.exportValue}),this.enableScripting&&this.hasJSActions&&(je.addEventListener("updatefromsandbox",We=>{const Xe={value(ct){ct.target.checked=ct.detail.value!=="Off",fe.setValue(xe,{value:ct.target.checked})}};this._dispatchEventFromSandbox(Xe,We)}),this._setEventListeners(je,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],We=>We.target.checked)),this._setBackgroundColor(je),this._setDefaultPropertiesFromJS(je),this.container.append(je),this.container}}class M extends C{constructor(fe){super(fe,{isRenderable:fe.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const fe=this.annotationStorage,de=this.data,xe=de.id;let Ve=fe.getValue(xe,{value:de.fieldValue===de.buttonValue}).value;typeof Ve=="string"&&(Ve=Ve!==de.buttonValue,fe.setValue(xe,{value:Ve}));const je=document.createElement("input");if(b.add(je),je.setAttribute("data-element-id",xe),je.disabled=de.readOnly,this._setRequired(je,this.data.required),je.type="radio",je.name=de.fieldName,Ve&&je.setAttribute("checked",!0),je.tabIndex=m,je.addEventListener("change",We=>{const{name:Xe,checked:ct}=We.target;for(const lt of this._getElementsByName(Xe,xe))fe.setValue(lt.id,{value:!1});fe.setValue(xe,{value:ct})}),je.addEventListener("resetform",We=>{const Xe=de.defaultFieldValue;We.target.checked=Xe!=null&&Xe===de.buttonValue}),this.enableScripting&&this.hasJSActions){const We=de.buttonValue;je.addEventListener("updatefromsandbox",Xe=>{const ct={value:lt=>{const rt=We===lt.detail.value;for(const vt of this._getElementsByName(lt.target.name)){const at=rt&&vt.id===xe;vt.domElement&&(vt.domElement.checked=at),fe.setValue(vt.id,{value:at})}}};this._dispatchEventFromSandbox(ct,Xe)}),this._setEventListeners(je,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Xe=>Xe.target.checked)}return this._setBackgroundColor(je),this._setDefaultPropertiesFromJS(je),this.container.append(je),this.container}}class D extends w{constructor(fe){super(fe,{ignoreBorder:fe.data.hasAppearance})}render(){const fe=super.render();fe.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(fe.title=this.data.alternativeText);const de=fe.lastChild;return this.enableScripting&&this.hasJSActions&&de&&(this._setDefaultPropertiesFromJS(de),de.addEventListener("updatefromsandbox",xe=>{this._dispatchEventFromSandbox({},xe)})),fe}}class V extends C{constructor(fe){super(fe,{isRenderable:fe.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const fe=this.annotationStorage,de=this.data.id,xe=fe.getValue(de,{value:this.data.fieldValue}),Ve=document.createElement("select");b.add(Ve),Ve.setAttribute("data-element-id",de),Ve.disabled=this.data.readOnly,this._setRequired(Ve,this.data.required),Ve.name=this.data.fieldName,Ve.tabIndex=m;let je=this.data.combo&&this.data.options.length>0;this.data.combo||(Ve.size=this.data.options.length,this.data.multiSelect&&(Ve.multiple=!0)),Ve.addEventListener("resetform",rt=>{const vt=this.data.defaultFieldValue;for(const at of Ve.options)at.selected=at.value===vt});for(const rt of this.data.options){const vt=document.createElement("option");vt.textContent=rt.displayValue,vt.value=rt.exportValue,xe.value.includes(rt.exportValue)&&(vt.setAttribute("selected",!0),je=!1),Ve.append(vt)}let We=null;if(je){const rt=document.createElement("option");rt.value=" ",rt.setAttribute("hidden",!0),rt.setAttribute("selected",!0),Ve.prepend(rt),We=()=>{rt.remove(),Ve.removeEventListener("input",We),We=null},Ve.addEventListener("input",We)}const Xe=rt=>{const vt=rt?"value":"textContent",{options:at,multiple:nt}=Ve;return nt?Array.prototype.filter.call(at,ht=>ht.selected).map(ht=>ht[vt]):at.selectedIndex===-1?null:at[at.selectedIndex][vt]};let ct=Xe(!1);const lt=rt=>{const vt=rt.target.options;return Array.prototype.map.call(vt,at=>({displayValue:at.textContent,exportValue:at.value}))};return this.enableScripting&&this.hasJSActions?(Ve.addEventListener("updatefromsandbox",rt=>{const vt={value(at){We==null||We();const nt=at.detail.value,ht=new Set(Array.isArray(nt)?nt:[nt]);for(const xt of Ve.options)xt.selected=ht.has(xt.value);fe.setValue(de,{value:Xe(!0)}),ct=Xe(!1)},multipleSelection(at){Ve.multiple=!0},remove(at){const nt=Ve.options,ht=at.detail.remove;nt[ht].selected=!1,Ve.remove(ht),nt.length>0&&Array.prototype.findIndex.call(nt,Tt=>Tt.selected)===-1&&(nt[0].selected=!0),fe.setValue(de,{value:Xe(!0),items:lt(at)}),ct=Xe(!1)},clear(at){for(;Ve.length!==0;)Ve.remove(0);fe.setValue(de,{value:null,items:[]}),ct=Xe(!1)},insert(at){const{index:nt,displayValue:ht,exportValue:xt}=at.detail.insert,Tt=Ve.children[nt],Dt=document.createElement("option");Dt.textContent=ht,Dt.value=xt,Tt?Tt.before(Dt):Ve.append(Dt),fe.setValue(de,{value:Xe(!0),items:lt(at)}),ct=Xe(!1)},items(at){const{items:nt}=at.detail;for(;Ve.length!==0;)Ve.remove(0);for(const ht of nt){const{displayValue:xt,exportValue:Tt}=ht,Dt=document.createElement("option");Dt.textContent=xt,Dt.value=Tt,Ve.append(Dt)}Ve.options.length>0&&(Ve.options[0].selected=!0),fe.setValue(de,{value:Xe(!0),items:lt(at)}),ct=Xe(!1)},indices(at){const nt=new Set(at.detail.indices);for(const ht of at.target.options)ht.selected=nt.has(ht.index);fe.setValue(de,{value:Xe(!0)}),ct=Xe(!1)},editable(at){at.target.disabled=!at.detail.editable}};this._dispatchEventFromSandbox(vt,rt)}),Ve.addEventListener("input",rt=>{var at;const vt=Xe(!0);fe.setValue(de,{value:vt}),rt.preventDefault(),(at=this.linkService.eventBus)==null||at.dispatch("dispatcheventinsandbox",{source:this,detail:{id:de,name:"Keystroke",value:ct,changeEx:vt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ve,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],rt=>rt.target.value)):Ve.addEventListener("input",function(rt){fe.setValue(de,{value:Xe(!0)})}),this.data.combo&&this._setTextStyle(Ve),this._setBackgroundColor(Ve),this._setDefaultPropertiesFromJS(Ve),this.container.append(Ve),this.container}}class L extends A{constructor(fe){const{data:de,elements:xe}=fe;super(fe,{isRenderable:A._hasPopupData(de)}),this.elements=xe}render(){this.container.classList.add("popupAnnotation");const fe=new U({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),de=[];for(const xe of this.elements)xe.popup=fe,de.push(xe.data.id),xe.addHighlightArea();return this.container.setAttribute("aria-controls",de.map(xe=>`${i.AnnotationPrefix}${xe}`).join(",")),this.container}}class U{constructor({container:fe,color:de,elements:xe,titleObj:Ve,modificationDate:je,contentsObj:We,richText:Xe,parent:ct,rect:lt,parentRect:rt,open:vt}){Ie(this,Qe);Ie(this,ve,null);Ie(this,Ee,Ae(this,Qe,vp).bind(this));Ie(this,ye,Ae(this,Qe,Ju).bind(this));Ie(this,De,Ae(this,Qe,Xu).bind(this));Ie(this,Ce,Ae(this,Qe,fo).bind(this));Ie(this,Oe,null);Ie(this,_e,null);Ie(this,Pe,null);Ie(this,oe,null);Ie(this,pe,null);Ie(this,Se,null);Ie(this,ke,!1);Ie(this,Fe,null);Ie(this,Ke,null);Ie(this,qe,null);Ie(this,we,null);Ie(this,tt,!1);var nt;Me(this,_e,fe),Me(this,we,Ve),Me(this,Pe,We),Me(this,qe,Xe),Me(this,pe,ct),Me(this,Oe,de),Me(this,Ke,lt),Me(this,Se,rt),Me(this,oe,xe);const at=o.PDFDateString.toDateObject(je);at&&Me(this,ve,ct.l10n.get("annotation_date_string",{date:at.toLocaleDateString(),time:at.toLocaleTimeString()})),this.trigger=xe.flatMap(ht=>ht.getElementsToTriggerPopup());for(const ht of this.trigger)ht.addEventListener("click",q(this,Ce)),ht.addEventListener("mouseenter",q(this,De)),ht.addEventListener("mouseleave",q(this,ye)),ht.classList.add("popupTriggerArea");for(const ht of xe)(nt=ht.container)==null||nt.addEventListener("keydown",q(this,Ee));q(this,_e).hidden=!0,vt&&Ae(this,Qe,fo).call(this)}render(){if(q(this,Fe))return;const{page:{view:fe},viewport:{rawDims:{pageWidth:de,pageHeight:xe,pageX:Ve,pageY:je}}}=q(this,pe),We=Me(this,Fe,document.createElement("div"));if(We.className="popup",q(this,Oe)){const Ht=We.style.outlineColor=i.Util.makeHexColor(...q(this,Oe));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?We.style.backgroundColor=`color-mix(in srgb, ${Ht} 30%, white)`:We.style.backgroundColor=i.Util.makeHexColor(...q(this,Oe).map(Cr=>Math.floor(.7*(255-Cr)+Cr)))}const Xe=document.createElement("span");Xe.className="header";const ct=document.createElement("h1");if(Xe.append(ct),{dir:ct.dir,str:ct.textContent}=q(this,we),We.append(Xe),q(this,ve)){const Ht=document.createElement("span");Ht.classList.add("popupDate"),q(this,ve).then(hr=>{Ht.textContent=hr}),Xe.append(Ht)}const lt=q(this,Pe),rt=q(this,qe);if(rt!=null&&rt.str&&(!(lt!=null&&lt.str)||lt.str===rt.str))p.XfaLayer.render({xfaHtml:rt.html,intent:"richText",div:We}),We.lastChild.classList.add("richText","popupContent");else{const Ht=this._formatContents(lt);We.append(Ht)}let vt=!!q(this,Se),at=vt?q(this,Se):q(this,Ke);for(const Ht of q(this,oe))if(!at||i.Util.intersect(Ht.data.rect,at)!==null){at=Ht.data.rect,vt=!0;break}const nt=i.Util.normalizeRect([at[0],fe[3]-at[1]+fe[1],at[2],fe[3]-at[3]+fe[1]]),xt=vt?at[2]-at[0]+5:0,Tt=nt[0]+xt,Dt=nt[1],{style:er}=q(this,_e);er.left=`${100*(Tt-Ve)/de}%`,er.top=`${100*(Dt-je)/xe}%`,q(this,_e).append(We)}_formatContents({str:fe,dir:de}){const xe=document.createElement("p");xe.classList.add("popupContent"),xe.dir=de;const Ve=fe.split(/(?:\r\n?|\n)/);for(let je=0,We=Ve.length;je<We;++je){const Xe=Ve[je];xe.append(document.createTextNode(Xe)),je<We-1&&xe.append(document.createElement("br"))}return xe}forceHide(){Me(this,tt,this.isVisible),q(this,tt)&&(q(this,_e).hidden=!0)}maybeShow(){q(this,tt)&&(Me(this,tt,!1),q(this,_e).hidden=!1)}get isVisible(){return q(this,_e).hidden===!1}}ve=new WeakMap,Ee=new WeakMap,ye=new WeakMap,De=new WeakMap,Ce=new WeakMap,Oe=new WeakMap,_e=new WeakMap,Pe=new WeakMap,oe=new WeakMap,pe=new WeakMap,Se=new WeakMap,ke=new WeakMap,Fe=new WeakMap,Ke=new WeakMap,qe=new WeakMap,we=new WeakMap,tt=new WeakMap,Qe=new WeakSet,vp=function(fe){fe.altKey||fe.shiftKey||fe.ctrlKey||fe.metaKey||(fe.key==="Enter"||fe.key==="Escape"&&q(this,ke))&&Ae(this,Qe,fo).call(this)},fo=function(){Me(this,ke,!q(this,ke)),q(this,ke)?(Ae(this,Qe,Xu).call(this),q(this,_e).addEventListener("click",q(this,Ce)),q(this,_e).addEventListener("keydown",q(this,Ee))):(Ae(this,Qe,Ju).call(this),q(this,_e).removeEventListener("click",q(this,Ce)),q(this,_e).removeEventListener("keydown",q(this,Ee)))},Xu=function(){q(this,Fe)||this.render(),this.isVisible?q(this,ke)&&q(this,_e).classList.add("focused"):(q(this,_e).hidden=!1,q(this,_e).style.zIndex=parseInt(q(this,_e).style.zIndex)+1e3)},Ju=function(){q(this,_e).classList.remove("focused"),!(q(this,ke)||!this.isVisible)&&(q(this,_e).hidden=!0,q(this,_e).style.zIndex=parseInt(q(this,_e).style.zIndex)-1e3)};class J extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0}),this.textContent=fe.data.textContent,this.textPosition=fe.data.textPosition,this.annotationEditorType=i.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const fe=document.createElement("div");fe.classList.add("annotationTextContent"),fe.setAttribute("role","comment");for(const de of this.textContent){const xe=document.createElement("span");xe.textContent=de,fe.append(xe)}this.container.append(fe)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}t.FreeTextAnnotationElement=J;class $ extends A{constructor(de){super(de,{isRenderable:!0,ignoreBorder:!0});Ie(this,ft,null)}render(){this.container.classList.add("lineAnnotation");const de=this.data,{width:xe,height:Ve}=E(de.rect),je=this.svgFactory.create(xe,Ve,!0),We=Me(this,ft,this.svgFactory.createElement("svg:line"));return We.setAttribute("x1",de.rect[2]-de.lineCoordinates[0]),We.setAttribute("y1",de.rect[3]-de.lineCoordinates[1]),We.setAttribute("x2",de.rect[2]-de.lineCoordinates[2]),We.setAttribute("y2",de.rect[3]-de.lineCoordinates[3]),We.setAttribute("stroke-width",de.borderStyle.width||1),We.setAttribute("stroke","transparent"),We.setAttribute("fill","transparent"),je.append(We),this.container.append(je),!de.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return q(this,ft)}addHighlightArea(){this.container.classList.add("highlightArea")}}ft=new WeakMap;class K extends A{constructor(de){super(de,{isRenderable:!0,ignoreBorder:!0});Ie(this,Et,null)}render(){this.container.classList.add("squareAnnotation");const de=this.data,{width:xe,height:Ve}=E(de.rect),je=this.svgFactory.create(xe,Ve,!0),We=de.borderStyle.width,Xe=Me(this,Et,this.svgFactory.createElement("svg:rect"));return Xe.setAttribute("x",We/2),Xe.setAttribute("y",We/2),Xe.setAttribute("width",xe-We),Xe.setAttribute("height",Ve-We),Xe.setAttribute("stroke-width",We||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),je.append(Xe),this.container.append(je),!de.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return q(this,Et)}addHighlightArea(){this.container.classList.add("highlightArea")}}Et=new WeakMap;class te extends A{constructor(de){super(de,{isRenderable:!0,ignoreBorder:!0});Ie(this,At,null)}render(){this.container.classList.add("circleAnnotation");const de=this.data,{width:xe,height:Ve}=E(de.rect),je=this.svgFactory.create(xe,Ve,!0),We=de.borderStyle.width,Xe=Me(this,At,this.svgFactory.createElement("svg:ellipse"));return Xe.setAttribute("cx",xe/2),Xe.setAttribute("cy",Ve/2),Xe.setAttribute("rx",xe/2-We/2),Xe.setAttribute("ry",Ve/2-We/2),Xe.setAttribute("stroke-width",We||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),je.append(Xe),this.container.append(je),!de.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return q(this,At)}addHighlightArea(){this.container.classList.add("highlightArea")}}At=new WeakMap;class me extends A{constructor(de){super(de,{isRenderable:!0,ignoreBorder:!0});Ie(this,Ge,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const de=this.data,{width:xe,height:Ve}=E(de.rect),je=this.svgFactory.create(xe,Ve,!0);let We=[];for(const ct of de.vertices){const lt=ct.x-de.rect[0],rt=de.rect[3]-ct.y;We.push(lt+","+rt)}We=We.join(" ");const Xe=Me(this,Ge,this.svgFactory.createElement(this.svgElementName));return Xe.setAttribute("points",We),Xe.setAttribute("stroke-width",de.borderStyle.width||1),Xe.setAttribute("stroke","transparent"),Xe.setAttribute("fill","transparent"),je.append(Xe),this.container.append(je),!de.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return q(this,Ge)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ge=new WeakMap;class he extends me{constructor(fe){super(fe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ee extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ie extends A{constructor(de){super(de,{isRenderable:!0,ignoreBorder:!0});Ie(this,Re,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=i.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const de=this.data,{width:xe,height:Ve}=E(de.rect),je=this.svgFactory.create(xe,Ve,!0);for(const We of de.inkLists){let Xe=[];for(const lt of We){const rt=lt.x-de.rect[0],vt=de.rect[3]-lt.y;Xe.push(`${rt},${vt}`)}Xe=Xe.join(" ");const ct=this.svgFactory.createElement(this.svgElementName);q(this,Re).push(ct),ct.setAttribute("points",Xe),ct.setAttribute("stroke-width",de.borderStyle.width||1),ct.setAttribute("stroke","transparent"),ct.setAttribute("fill","transparent"),!de.popupRef&&this.hasPopupData&&this._createPopup(),je.append(ct)}return this.container.append(je),this.container}getElementsToTriggerPopup(){return q(this,Re)}addHighlightArea(){this.container.classList.add("highlightArea")}}Re=new WeakMap,t.InkAnnotationElement=ie;class ce extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class ne extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Z extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class G extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class H extends A{constructor(fe){super(fe,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}t.StampAnnotationElement=H;class F extends A{constructor(de){var je;super(de,{isRenderable:!0});Ie(this,ot);Ie(this,Be,null);const{filename:xe,content:Ve}=this.data.file;this.filename=(0,o.getFilenameFromUrl)(xe,!0),this.content=Ve,(je=this.linkService.eventBus)==null||je.dispatch("fileattachmentannotation",{source:this,filename:xe,content:Ve})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:de,data:xe}=this;let Ve;xe.hasAppearance||xe.fillAlpha===0?Ve=document.createElement("div"):(Ve=document.createElement("img"),Ve.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(xe.name)?"paperclip":"pushpin"}.svg`,xe.fillAlpha&&xe.fillAlpha<1&&(Ve.style=`filter: opacity(${Math.round(xe.fillAlpha*100)}%);`)),Ve.addEventListener("dblclick",Ae(this,ot,Zu).bind(this)),Me(this,Be,Ve);const{isMac:je}=i.FeatureTest.platform;return de.addEventListener("keydown",We=>{We.key==="Enter"&&(je?We.metaKey:We.ctrlKey)&&Ae(this,ot,Zu).call(this)}),!xe.popupRef&&this.hasPopupData?this._createPopup():Ve.classList.add("popupTriggerArea"),de.append(Ve),de}getElementsToTriggerPopup(){return q(this,Be)}addHighlightArea(){this.container.classList.add("highlightArea")}}Be=new WeakMap,ot=new WeakSet,Zu=function(){var de;(de=this.downloadManager)==null||de.openOrDownloadData(this.container,this.content,this.filename)};class z{constructor({div:fe,accessibilityManager:de,annotationCanvasMap:xe,l10n:Ve,page:je,viewport:We}){Ie(this,et);Ie(this,St,null);Ie(this,ge,null);Ie(this,Ue,new Map);this.div=fe,Me(this,St,de),Me(this,ge,xe),this.l10n=Ve,this.page=je,this.viewport=We,this.zIndex=0,this.l10n||(this.l10n=h.NullL10n)}async render(fe){const{annotations:de}=fe,xe=this.div;(0,o.setLayerDimensions)(xe,this.viewport);const Ve=new Map,je={data:null,layer:xe,linkService:fe.linkService,downloadManager:fe.downloadManager,imageResourcesPath:fe.imageResourcesPath||"",renderForms:fe.renderForms!==!1,svgFactory:new o.DOMSVGFactory,annotationStorage:fe.annotationStorage||new l.AnnotationStorage,enableScripting:fe.enableScripting===!0,hasJSActions:fe.hasJSActions,fieldObjects:fe.fieldObjects,parent:this,elements:null};for(const We of de){if(We.noHTML)continue;const Xe=We.annotationType===i.AnnotationType.POPUP;if(Xe){const rt=Ve.get(We.id);if(!rt)continue;je.elements=rt}else{const{width:rt,height:vt}=E(We.rect);if(rt<=0||vt<=0)continue}je.data=We;const ct=_.create(je);if(!ct.isRenderable)continue;if(!Xe&&We.popupRef){const rt=Ve.get(We.popupRef);rt?rt.push(ct):Ve.set(We.popupRef,[ct])}ct.annotationEditorType>0&&q(this,Ue).set(ct.data.id,ct);const lt=ct.render();We.hidden&&(lt.style.visibility="hidden"),Ae(this,et,xp).call(this,lt,We.id)}Ae(this,et,Qu).call(this),await this.l10n.translate(xe)}update({viewport:fe}){const de=this.div;this.viewport=fe,(0,o.setLayerDimensions)(de,{rotation:fe.rotation}),Ae(this,et,Qu).call(this),de.hidden=!1}getEditableAnnotations(){return Array.from(q(this,Ue).values())}getEditableAnnotation(fe){return q(this,Ue).get(fe)}}St=new WeakMap,ge=new WeakMap,Ue=new WeakMap,et=new WeakSet,xp=function(fe,de){var Ve;const xe=fe.firstChild||fe;xe.id=`${i.AnnotationPrefix}${de}`,this.div.append(fe),(Ve=q(this,St))==null||Ve.moveElementInDOM(this.div,fe,xe,!1)},Qu=function(){if(!q(this,ge))return;const fe=this.div;for(const[de,xe]of q(this,ge)){const Ve=fe.querySelector(`[data-annotation-id="${de}"]`);if(!Ve)continue;const{firstChild:je}=Ve;je?je.nodeName==="CANVAS"?je.replaceWith(xe):je.before(xe):Ve.append(xe)}q(this,ge).clear()},t.AnnotationLayer=z}),((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorConverters=void 0;function n(l){return Math.floor(Math.max(0,Math.min(1,l))*255).toString(16).padStart(2,"0")}function i(l){return Math.max(0,Math.min(255,255*l))}class o{static CMYK_G([u,h,p,m]){return["G",1-Math.min(1,.3*u+.59*p+.11*h+m)]}static G_CMYK([u]){return["CMYK",0,0,0,1-u]}static G_RGB([u]){return["RGB",u,u,u]}static G_rgb([u]){return u=i(u),[u,u,u]}static G_HTML([u]){const h=n(u);return`#${h}${h}${h}`}static RGB_G([u,h,p]){return["G",.3*u+.59*h+.11*p]}static RGB_rgb(u){return u.map(i)}static RGB_HTML(u){return`#${u.map(n).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([u,h,p,m]){return["RGB",1-Math.min(1,u+m),1-Math.min(1,p+m),1-Math.min(1,h+m)]}static CMYK_rgb([u,h,p,m]){return[i(1-Math.min(1,u+m)),i(1-Math.min(1,p+m)),i(1-Math.min(1,h+m))]}static CMYK_HTML(u){const h=this.CMYK_RGB(u).slice(1);return this.RGB_HTML(h)}static RGB_CMYK([u,h,p]){const m=1-u,g=1-h,b=1-p,E=Math.min(m,g,b);return["CMYK",m,g,b,E]}}t.ColorConverters=o}),((e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NullL10n=void 0,t.getL10nFallback=i;const n={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};n.print_progress_percent="{{progress}}%";function i(u,h){switch(u){case"find_match_count":u=`find_match_count[${h.total===1?"one":"other"}]`;break;case"find_match_count_limit":u=`find_match_count_limit[${h.limit===1?"one":"other"}]`;break}return n[u]||""}function o(u,h){return h?u.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(p,m)=>m in h?h[m]:"{{"+m+"}}"):u}const l={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(u,h=null,p=i(u,h)){return o(p,h)},async translate(u){}};t.NullL10n=l}),((e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XfaLayer=void 0;var i=n(25);class o{static setupStorage(u,h,p,m,g){const b=m.getValue(h,{value:null});switch(p.name){case"textarea":if(b.value!==null&&(u.textContent=b.value),g==="print")break;u.addEventListener("input",E=>{m.setValue(h,{value:E.target.value})});break;case"input":if(p.attributes.type==="radio"||p.attributes.type==="checkbox"){if(b.value===p.attributes.xfaOn?u.setAttribute("checked",!0):b.value===p.attributes.xfaOff&&u.removeAttribute("checked"),g==="print")break;u.addEventListener("change",E=>{m.setValue(h,{value:E.target.checked?E.target.getAttribute("xfaOn"):E.target.getAttribute("xfaOff")})})}else{if(b.value!==null&&u.setAttribute("value",b.value),g==="print")break;u.addEventListener("input",E=>{m.setValue(h,{value:E.target.value})})}break;case"select":if(b.value!==null){u.setAttribute("value",b.value);for(const E of p.children)E.attributes.value===b.value?E.attributes.selected=!0:E.attributes.hasOwnProperty("selected")&&delete E.attributes.selected}u.addEventListener("input",E=>{const _=E.target.options,A=_.selectedIndex===-1?"":_[_.selectedIndex].value;m.setValue(h,{value:A})});break}}static setAttributes({html:u,element:h,storage:p=null,intent:m,linkService:g}){const{attributes:b}=h,E=u instanceof HTMLAnchorElement;b.type==="radio"&&(b.name=`${b.name}-${m}`);for(const[_,A]of Object.entries(b))if(A!=null)switch(_){case"class":A.length&&u.setAttribute(_,A.join(" "));break;case"dataId":break;case"id":u.setAttribute("data-element-id",A);break;case"style":Object.assign(u.style,A);break;case"textContent":u.textContent=A;break;default:(!E||_!=="href"&&_!=="newWindow")&&u.setAttribute(_,A)}E&&g.addLinkAttributes(u,b.href,b.newWindow),p&&b.dataId&&this.setupStorage(u,b.dataId,h,p)}static render(u){var w;const h=u.annotationStorage,p=u.linkService,m=u.xfaHtml,g=u.intent||"display",b=document.createElement(m.name);m.attributes&&this.setAttributes({html:b,element:m,intent:g,linkService:p});const E=[[m,-1,b]],_=u.div;if(_.append(b),u.viewport){const T=`matrix(${u.viewport.transform.join(",")})`;_.style.transform=T}g!=="richText"&&_.setAttribute("class","xfaLayer xfaFont");const A=[];for(;E.length>0;){const[T,C,B]=E.at(-1);if(C+1===T.children.length){E.pop();continue}const N=T.children[++E.at(-1)[1]];if(N===null)continue;const{name:j}=N;if(j==="#text"){const D=document.createTextNode(N.value);A.push(D),B.append(D);continue}const M=(w=N==null?void 0:N.attributes)!=null&&w.xmlns?document.createElementNS(N.attributes.xmlns,j):document.createElement(j);if(B.append(M),N.attributes&&this.setAttributes({html:M,element:N,storage:h,intent:g,linkService:p}),N.children&&N.children.length>0)E.push([N,-1,M]);else if(N.value){const D=document.createTextNode(N.value);i.XfaText.shouldBuildText(j)&&A.push(D),M.append(D)}}for(const T of _.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))T.setAttribute("readOnly",!0);return{textDivs:A}}static update(u){const h=`matrix(${u.viewport.transform.join(",")})`;u.div.style.transform=h,u.div.hidden=!1}}t.XfaLayer=o}),((e,t,n)=>{var m,g,b,E,_,A,w,T,C,B,N,j,M,D,V,bp,Ep,Sp,_p,ec,Ap,tc,Pp,wp,Tp,Cp,Rp,gn,rc,po,mo,qi,nc,go,Q,kp,ic,Ip,Mp,ac,yo,Gi;Object.defineProperty(t,"__esModule",{value:!0}),t.InkEditor=void 0;var i=n(1),o=n(4),l=n(29),u=n(6),h=n(5);const Oe=class Oe extends o.AnnotationEditor{constructor(oe){super({...oe,name:"inkEditor"});Ie(this,V);Ie(this,m,0);Ie(this,g,0);Ie(this,b,this.canvasPointermove.bind(this));Ie(this,E,this.canvasPointerleave.bind(this));Ie(this,_,this.canvasPointerup.bind(this));Ie(this,A,this.canvasPointerdown.bind(this));Ie(this,w,new Path2D);Ie(this,T,!1);Ie(this,C,!1);Ie(this,B,!1);Ie(this,N,null);Ie(this,j,0);Ie(this,M,0);Ie(this,D,null);this.color=oe.color||null,this.thickness=oe.thickness||null,this.opacity=oe.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(oe){o.AnnotationEditor.initialize(oe,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(oe,pe){switch(oe){case i.AnnotationEditorParamsType.INK_THICKNESS:Oe._defaultThickness=pe;break;case i.AnnotationEditorParamsType.INK_COLOR:Oe._defaultColor=pe;break;case i.AnnotationEditorParamsType.INK_OPACITY:Oe._defaultOpacity=pe/100;break}}updateParams(oe,pe){switch(oe){case i.AnnotationEditorParamsType.INK_THICKNESS:Ae(this,V,bp).call(this,pe);break;case i.AnnotationEditorParamsType.INK_COLOR:Ae(this,V,Ep).call(this,pe);break;case i.AnnotationEditorParamsType.INK_OPACITY:Ae(this,V,Sp).call(this,pe);break}}static get defaultPropertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,Oe._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,Oe._defaultColor||o.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(Oe._defaultOpacity*100)]]}get propertiesToUpdate(){return[[i.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Oe._defaultThickness],[i.AnnotationEditorParamsType.INK_COLOR,this.color||Oe._defaultColor||o.AnnotationEditor._defaultLineColor],[i.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Oe._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ae(this,V,po).call(this),Ae(this,V,mo).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ae(this,V,qi).call(this)),Ae(this,V,Gi).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,q(this,N).disconnect(),Me(this,N,null),super.remove())}setParent(oe){!this.parent&&oe?this._uiManager.removeShouldRescale(this):this.parent&&oe===null&&this._uiManager.addShouldRescale(this),super.setParent(oe)}onScaleChanging(){const[oe,pe]=this.parentDimensions,Se=this.width*oe,ke=this.height*pe;this.setDimensions(Se,ke)}enableEditMode(){q(this,T)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",q(this,A)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",q(this,A)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){q(this,T)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Me(this,T,!0),this.div.classList.add("disabled"),Ae(this,V,Gi).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(oe){this._focusEventsAllowed&&(super.focusin(oe),this.enableEditMode())}canvasPointerdown(oe){oe.button!==0||!this.isInEditMode()||q(this,T)||(this.setInForeground(),oe.preventDefault(),oe.type!=="mouse"&&this.div.focus(),Ae(this,V,Ap).call(this,oe.offsetX,oe.offsetY))}canvasPointermove(oe){oe.preventDefault(),Ae(this,V,tc).call(this,oe.offsetX,oe.offsetY)}canvasPointerup(oe){oe.preventDefault(),Ae(this,V,rc).call(this,oe)}canvasPointerleave(oe){Ae(this,V,rc).call(this,oe)}get isResizable(){return!this.isEmpty()&&q(this,T)}render(){if(this.div)return this.div;let oe,pe;this.width&&(oe=this.x,pe=this.y),super.render(),o.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(qe=>{var we;return(we=this.div)==null?void 0:we.setAttribute("aria-label",qe)});const[Se,ke,Fe,Ke]=Ae(this,V,_p).call(this);if(this.setAt(Se,ke,0,0),this.setDims(Fe,Ke),Ae(this,V,po).call(this),this.width){const[qe,we]=this.parentDimensions;this.setAspectRatio(this.width*qe,this.height*we),this.setAt(oe*qe,pe*we,this.width*qe,this.height*we),Me(this,B,!0),Ae(this,V,qi).call(this),this.setDims(this.width*qe,this.height*we),Ae(this,V,gn).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ae(this,V,mo).call(this),this.div}setDimensions(oe,pe){const Se=Math.round(oe),ke=Math.round(pe);if(q(this,j)===Se&&q(this,M)===ke)return;Me(this,j,Se),Me(this,M,ke),this.canvas.style.visibility="hidden";const[Fe,Ke]=this.parentDimensions;this.width=oe/Fe,this.height=pe/Ke,this.fixAndSetPosition(),q(this,T)&&Ae(this,V,nc).call(this,oe,pe),Ae(this,V,qi).call(this),Ae(this,V,gn).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(oe,pe,Se){var ft,Et,At;if(oe instanceof l.InkAnnotationElement)return null;const ke=super.deserialize(oe,pe,Se);ke.thickness=oe.thickness,ke.color=i.Util.makeHexColor(...oe.color),ke.opacity=oe.opacity;const[Fe,Ke]=ke.pageDimensions,qe=ke.width*Fe,we=ke.height*Ke,tt=ke.parentScale,Qe=oe.thickness/2;Me(ke,T,!0),Me(ke,j,Math.round(qe)),Me(ke,M,Math.round(we));const{paths:gt,rect:pt,rotation:_t}=oe;for(let{bezier:Ge}of gt){Ge=Ae(ft=Oe,Q,Ip).call(ft,Ge,pt,_t);const Re=[];ke.paths.push(Re);let Be=tt*(Ge[0]-Qe),ot=tt*(Ge[1]-Qe);for(let St=2,ge=Ge.length;St<ge;St+=6){const Ue=tt*(Ge[St]-Qe),et=tt*(Ge[St+1]-Qe),ut=tt*(Ge[St+2]-Qe),dt=tt*(Ge[St+3]-Qe),it=tt*(Ge[St+4]-Qe),fe=tt*(Ge[St+5]-Qe);Re.push([[Be,ot],[Ue,et],[ut,dt],[it,fe]]),Be=it,ot=fe}const wt=Ae(this,Q,kp).call(this,Re);ke.bezierPath2D.push(wt)}const st=Ae(Et=ke,V,ac).call(Et);return Me(ke,g,Math.max(o.AnnotationEditor.MIN_SIZE,st[2]-st[0])),Me(ke,m,Math.max(o.AnnotationEditor.MIN_SIZE,st[3]-st[1])),Ae(At=ke,V,nc).call(At,qe,we),ke}serialize(){if(this.isEmpty())return null;const oe=this.getRect(0,0),pe=o.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:i.AnnotationEditorType.INK,color:pe,thickness:this.thickness,opacity:this.opacity,paths:Ae(this,V,Mp).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,oe),pageIndex:this.pageIndex,rect:oe,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};m=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,B=new WeakMap,N=new WeakMap,j=new WeakMap,M=new WeakMap,D=new WeakMap,V=new WeakSet,bp=function(oe){const pe=this.thickness;this.addCommands({cmd:()=>{this.thickness=oe,Ae(this,V,Gi).call(this)},undo:()=>{this.thickness=pe,Ae(this,V,Gi).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Ep=function(oe){const pe=this.color;this.addCommands({cmd:()=>{this.color=oe,Ae(this,V,gn).call(this)},undo:()=>{this.color=pe,Ae(this,V,gn).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Sp=function(oe){oe/=100;const pe=this.opacity;this.addCommands({cmd:()=>{this.opacity=oe,Ae(this,V,gn).call(this)},undo:()=>{this.opacity=pe,Ae(this,V,gn).call(this)},mustExec:!0,type:i.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},_p=function(){const{parentRotation:oe,parentDimensions:[pe,Se]}=this;switch(oe){case 90:return[0,Se,Se,pe];case 180:return[pe,Se,pe,Se];case 270:return[pe,0,Se,pe];default:return[0,0,pe,Se]}},ec=function(){const{ctx:oe,color:pe,opacity:Se,thickness:ke,parentScale:Fe,scaleFactor:Ke}=this;oe.lineWidth=ke*Fe/Ke,oe.lineCap="round",oe.lineJoin="round",oe.miterLimit=10,oe.strokeStyle=`${pe}${(0,h.opacityToHex)(Se)}`},Ap=function(oe,pe){this.canvas.addEventListener("contextmenu",u.noContextMenu),this.canvas.addEventListener("pointerleave",q(this,E)),this.canvas.addEventListener("pointermove",q(this,b)),this.canvas.addEventListener("pointerup",q(this,_)),this.canvas.removeEventListener("pointerdown",q(this,A)),this.isEditing=!0,q(this,B)||(Me(this,B,!0),Ae(this,V,qi).call(this),this.thickness||(this.thickness=Oe._defaultThickness),this.color||(this.color=Oe._defaultColor||o.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Oe._defaultOpacity)),this.currentPath.push([oe,pe]),Me(this,C,!1),Ae(this,V,ec).call(this),Me(this,D,()=>{Ae(this,V,Tp).call(this),q(this,D)&&window.requestAnimationFrame(q(this,D))}),window.requestAnimationFrame(q(this,D))},tc=function(oe,pe){const[Se,ke]=this.currentPath.at(-1);if(this.currentPath.length>1&&oe===Se&&pe===ke)return;const Fe=this.currentPath;let Ke=q(this,w);if(Fe.push([oe,pe]),Me(this,C,!0),Fe.length<=2){Ke.moveTo(...Fe[0]),Ke.lineTo(oe,pe);return}Fe.length===3&&(Me(this,w,Ke=new Path2D),Ke.moveTo(...Fe[0])),Ae(this,V,Cp).call(this,Ke,...Fe.at(-3),...Fe.at(-2),oe,pe)},Pp=function(){if(this.currentPath.length===0)return;const oe=this.currentPath.at(-1);q(this,w).lineTo(...oe)},wp=function(oe,pe){Me(this,D,null),oe=Math.min(Math.max(oe,0),this.canvas.width),pe=Math.min(Math.max(pe,0),this.canvas.height),Ae(this,V,tc).call(this,oe,pe),Ae(this,V,Pp).call(this);let Se;if(this.currentPath.length!==1)Se=Ae(this,V,Rp).call(this);else{const we=[oe,pe];Se=[[we,we.slice(),we.slice(),we]]}const ke=q(this,w),Fe=this.currentPath;this.currentPath=[],Me(this,w,new Path2D);const Ke=()=>{this.allRawPaths.push(Fe),this.paths.push(Se),this.bezierPath2D.push(ke),this.rebuild()},qe=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ae(this,V,po).call(this),Ae(this,V,mo).call(this)),Ae(this,V,Gi).call(this))};this.addCommands({cmd:Ke,undo:qe,mustExec:!0})},Tp=function(){if(!q(this,C))return;Me(this,C,!1);const oe=Math.ceil(this.thickness*this.parentScale),pe=this.currentPath.slice(-3),Se=pe.map(Ke=>Ke[0]),ke=pe.map(Ke=>Ke[1]);Math.min(...Se)-oe,Math.max(...Se)+oe,Math.min(...ke)-oe,Math.max(...ke)+oe;const{ctx:Fe}=this;Fe.save(),Fe.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Ke of this.bezierPath2D)Fe.stroke(Ke);Fe.stroke(q(this,w)),Fe.restore()},Cp=function(oe,pe,Se,ke,Fe,Ke,qe){const we=(pe+ke)/2,tt=(Se+Fe)/2,Qe=(ke+Ke)/2,gt=(Fe+qe)/2;oe.bezierCurveTo(we+2*(ke-we)/3,tt+2*(Fe-tt)/3,Qe+2*(ke-Qe)/3,gt+2*(Fe-gt)/3,Qe,gt)},Rp=function(){const oe=this.currentPath;if(oe.length<=2)return[[oe[0],oe[0],oe.at(-1),oe.at(-1)]];const pe=[];let Se,[ke,Fe]=oe[0];for(Se=1;Se<oe.length-2;Se++){const[pt,_t]=oe[Se],[st,ft]=oe[Se+1],Et=(pt+st)/2,At=(_t+ft)/2,Ge=[ke+2*(pt-ke)/3,Fe+2*(_t-Fe)/3],Re=[Et+2*(pt-Et)/3,At+2*(_t-At)/3];pe.push([[ke,Fe],Ge,Re,[Et,At]]),[ke,Fe]=[Et,At]}const[Ke,qe]=oe[Se],[we,tt]=oe[Se+1],Qe=[ke+2*(Ke-ke)/3,Fe+2*(qe-Fe)/3],gt=[we+2*(Ke-we)/3,tt+2*(qe-tt)/3];return pe.push([[ke,Fe],Qe,gt,[we,tt]]),pe},gn=function(){if(this.isEmpty()){Ae(this,V,go).call(this);return}Ae(this,V,ec).call(this);const{canvas:oe,ctx:pe}=this;pe.setTransform(1,0,0,1,0,0),pe.clearRect(0,0,oe.width,oe.height),Ae(this,V,go).call(this);for(const Se of this.bezierPath2D)pe.stroke(Se)},rc=function(oe){this.canvas.removeEventListener("pointerleave",q(this,E)),this.canvas.removeEventListener("pointermove",q(this,b)),this.canvas.removeEventListener("pointerup",q(this,_)),this.canvas.addEventListener("pointerdown",q(this,A)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",u.noContextMenu)},10),Ae(this,V,wp).call(this,oe.offsetX,oe.offsetY),this.addToAnnotationStorage(),this.setInBackground()},po=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",o.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(oe=>{var pe;return(pe=this.canvas)==null?void 0:pe.setAttribute("aria-label",oe)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},mo=function(){Me(this,N,new ResizeObserver(oe=>{const pe=oe[0].contentRect;pe.width&&pe.height&&this.setDimensions(pe.width,pe.height)})),q(this,N).observe(this.div)},qi=function(){if(!q(this,B))return;const[oe,pe]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*oe),this.canvas.height=Math.ceil(this.height*pe),Ae(this,V,go).call(this)},nc=function(oe,pe){const Se=Ae(this,V,yo).call(this),ke=(oe-Se)/q(this,g),Fe=(pe-Se)/q(this,m);this.scaleFactor=Math.min(ke,Fe)},go=function(){const oe=Ae(this,V,yo).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+oe,this.translationY*this.scaleFactor+oe)},Q=new WeakSet,kp=function(oe){const pe=new Path2D;for(let Se=0,ke=oe.length;Se<ke;Se++){const[Fe,Ke,qe,we]=oe[Se];Se===0&&pe.moveTo(...Fe),pe.bezierCurveTo(Ke[0],Ke[1],qe[0],qe[1],we[0],we[1])}return pe},ic=function(oe,pe,Se){const[ke,Fe,Ke,qe]=pe;switch(Se){case 0:for(let we=0,tt=oe.length;we<tt;we+=2)oe[we]+=ke,oe[we+1]=qe-oe[we+1];break;case 90:for(let we=0,tt=oe.length;we<tt;we+=2){const Qe=oe[we];oe[we]=oe[we+1]+ke,oe[we+1]=Qe+Fe}break;case 180:for(let we=0,tt=oe.length;we<tt;we+=2)oe[we]=Ke-oe[we],oe[we+1]+=Fe;break;case 270:for(let we=0,tt=oe.length;we<tt;we+=2){const Qe=oe[we];oe[we]=Ke-oe[we+1],oe[we+1]=qe-Qe}break;default:throw new Error("Invalid rotation")}return oe},Ip=function(oe,pe,Se){const[ke,Fe,Ke,qe]=pe;switch(Se){case 0:for(let we=0,tt=oe.length;we<tt;we+=2)oe[we]-=ke,oe[we+1]=qe-oe[we+1];break;case 90:for(let we=0,tt=oe.length;we<tt;we+=2){const Qe=oe[we];oe[we]=oe[we+1]-Fe,oe[we+1]=Qe-ke}break;case 180:for(let we=0,tt=oe.length;we<tt;we+=2)oe[we]=Ke-oe[we],oe[we+1]-=Fe;break;case 270:for(let we=0,tt=oe.length;we<tt;we+=2){const Qe=oe[we];oe[we]=qe-oe[we+1],oe[we+1]=Ke-Qe}break;default:throw new Error("Invalid rotation")}return oe},Mp=function(oe,pe,Se,ke){var tt,Qe;const Fe=[],Ke=this.thickness/2,qe=oe*pe+Ke,we=oe*Se+Ke;for(const gt of this.paths){const pt=[],_t=[];for(let st=0,ft=gt.length;st<ft;st++){const[Et,At,Ge,Re]=gt[st],Be=oe*Et[0]+qe,ot=oe*Et[1]+we,wt=oe*At[0]+qe,St=oe*At[1]+we,ge=oe*Ge[0]+qe,Ue=oe*Ge[1]+we,et=oe*Re[0]+qe,ut=oe*Re[1]+we;st===0&&(pt.push(Be,ot),_t.push(Be,ot)),pt.push(wt,St,ge,Ue,et,ut),_t.push(wt,St),st===ft-1&&_t.push(et,ut)}Fe.push({bezier:Ae(tt=Oe,Q,ic).call(tt,pt,ke,this.rotation),points:Ae(Qe=Oe,Q,ic).call(Qe,_t,ke,this.rotation)})}return Fe},ac=function(){let oe=1/0,pe=-1/0,Se=1/0,ke=-1/0;for(const Fe of this.paths)for(const[Ke,qe,we,tt]of Fe){const Qe=i.Util.bezierBoundingBox(...Ke,...qe,...we,...tt);oe=Math.min(oe,Qe[0]),Se=Math.min(Se,Qe[1]),pe=Math.max(pe,Qe[2]),ke=Math.max(ke,Qe[3])}return[oe,Se,pe,ke]},yo=function(){return q(this,T)?Math.ceil(this.thickness*this.parentScale):0},Gi=function(oe=!1){if(this.isEmpty())return;if(!q(this,T)){Ae(this,V,gn).call(this);return}const pe=Ae(this,V,ac).call(this),Se=Ae(this,V,yo).call(this);Me(this,g,Math.max(o.AnnotationEditor.MIN_SIZE,pe[2]-pe[0])),Me(this,m,Math.max(o.AnnotationEditor.MIN_SIZE,pe[3]-pe[1]));const ke=Math.ceil(Se+q(this,g)*this.scaleFactor),Fe=Math.ceil(Se+q(this,m)*this.scaleFactor),[Ke,qe]=this.parentDimensions;this.width=ke/Ke,this.height=Fe/qe,this.setAspectRatio(ke,Fe);const we=this.translationX,tt=this.translationY;this.translationX=-pe[0],this.translationY=-pe[1],Ae(this,V,qi).call(this),Ae(this,V,gn).call(this),Me(this,j,ke),Me(this,M,Fe),this.setDims(ke,Fe);const Qe=oe?Se/this.scaleFactor/2:0;this.translate(we-this.translationX-Qe,tt-this.translationY-Qe)},Ie(Oe,Q),Lt(Oe,"_defaultColor",null),Lt(Oe,"_defaultOpacity",1),Lt(Oe,"_defaultThickness",1),Lt(Oe,"_type","ink");let p=Oe;t.InkEditor=p}),((e,t,n)=>{var p,m,g,b,E,_,A,w,T,C,B,za,qa,vo,sc,Bp,Np,oc,xo,Dp;Object.defineProperty(t,"__esModule",{value:!0}),t.StampEditor=void 0;var i=n(1),o=n(4),l=n(6),u=n(29);const K=class K extends o.AnnotationEditor{constructor(he){super({...he,name:"stampEditor"});Ie(this,B);Ie(this,p,null);Ie(this,m,null);Ie(this,g,null);Ie(this,b,null);Ie(this,E,null);Ie(this,_,null);Ie(this,A,null);Ie(this,w,null);Ie(this,T,!1);Ie(this,C,!1);Me(this,b,he.bitmapUrl),Me(this,E,he.bitmapFile)}static initialize(he){o.AnnotationEditor.initialize(he)}static get supportedTypes(){const he=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,i.shadow)(this,"supportedTypes",he.map(ee=>`image/${ee}`))}static get supportedTypesStr(){return(0,i.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(he){return this.supportedTypes.includes(he)}static paste(he,ee){ee.pasteEditor(i.AnnotationEditorType.STAMP,{bitmapFile:he.getAsFile()})}remove(){var he,ee;q(this,m)&&(Me(this,p,null),this._uiManager.imageManager.deleteId(q(this,m)),(he=q(this,_))==null||he.remove(),Me(this,_,null),(ee=q(this,A))==null||ee.disconnect(),Me(this,A,null)),super.remove()}rebuild(){if(!this.parent){q(this,m)&&Ae(this,B,vo).call(this);return}super.rebuild(),this.div!==null&&(q(this,m)&&Ae(this,B,vo).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(q(this,g)||q(this,p)||q(this,b)||q(this,E))}get isResizable(){return!0}render(){if(this.div)return this.div;let he,ee;if(this.width&&(he=this.x,ee=this.y),super.render(),this.div.hidden=!0,q(this,p)?Ae(this,B,sc).call(this):Ae(this,B,vo).call(this),this.width){const[ie,ce]=this.parentDimensions;this.setAt(he*ie,ee*ce,this.width*ie,this.height*ce)}return this.div}static deserialize(he,ee,ie){if(he instanceof u.StampAnnotationElement)return null;const ce=super.deserialize(he,ee,ie),{rect:ne,bitmapUrl:Z,bitmapId:G,isSvg:H,accessibilityData:F}=he;G&&ie.imageManager.isValidId(G)?Me(ce,m,G):Me(ce,b,Z),Me(ce,T,H);const[z,Y]=ce.pageDimensions;return ce.width=(ne[2]-ne[0])/z,ce.height=(ne[3]-ne[1])/Y,F&&(ce.altTextData=F),ce}serialize(he=!1,ee=null){if(this.isEmpty())return null;const ie={annotationType:i.AnnotationEditorType.STAMP,bitmapId:q(this,m),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:q(this,T),structTreeParentId:this._structTreeParentId};if(he)return ie.bitmapUrl=Ae(this,B,xo).call(this,!0),ie.accessibilityData=this.altTextData,ie;const{decorative:ce,altText:ne}=this.altTextData;if(!ce&&ne&&(ie.accessibilityData={type:"Figure",alt:ne}),ee===null)return ie;ee.stamps||(ee.stamps=new Map);const Z=q(this,T)?(ie.rect[2]-ie.rect[0])*(ie.rect[3]-ie.rect[1]):null;if(!ee.stamps.has(q(this,m)))ee.stamps.set(q(this,m),{area:Z,serialized:ie}),ie.bitmap=Ae(this,B,xo).call(this,!1);else if(q(this,T)){const G=ee.stamps.get(q(this,m));Z>G.area&&(G.area=Z,G.serialized.bitmap.close(),G.serialized.bitmap=Ae(this,B,xo).call(this,!1))}return ie}};p=new WeakMap,m=new WeakMap,g=new WeakMap,b=new WeakMap,E=new WeakMap,_=new WeakMap,A=new WeakMap,w=new WeakMap,T=new WeakMap,C=new WeakMap,B=new WeakSet,za=function(he,ee=!1){if(!he){this.remove();return}Me(this,p,he.bitmap),ee||(Me(this,m,he.id),Me(this,T,he.isSvg)),Ae(this,B,sc).call(this)},qa=function(){Me(this,g,null),this._uiManager.enableWaiting(!1),q(this,_)&&this.div.focus()},vo=function(){if(q(this,m)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(q(this,m)).then(ee=>Ae(this,B,za).call(this,ee,!0)).finally(()=>Ae(this,B,qa).call(this));return}if(q(this,b)){const ee=q(this,b);Me(this,b,null),this._uiManager.enableWaiting(!0),Me(this,g,this._uiManager.imageManager.getFromUrl(ee).then(ie=>Ae(this,B,za).call(this,ie)).finally(()=>Ae(this,B,qa).call(this)));return}if(q(this,E)){const ee=q(this,E);Me(this,E,null),this._uiManager.enableWaiting(!0),Me(this,g,this._uiManager.imageManager.getFromFile(ee).then(ie=>Ae(this,B,za).call(this,ie)).finally(()=>Ae(this,B,qa).call(this)));return}const he=document.createElement("input");he.type="file",he.accept=K.supportedTypesStr,Me(this,g,new Promise(ee=>{he.addEventListener("change",async()=>{if(!he.files||he.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const ie=await this._uiManager.imageManager.getFromFile(he.files[0]);Ae(this,B,za).call(this,ie)}ee()}),he.addEventListener("cancel",()=>{this.remove(),ee()})}).finally(()=>Ae(this,B,qa).call(this))),he.click()},sc=function(){const{div:he}=this;let{width:ee,height:ie}=q(this,p);const[ce,ne]=this.pageDimensions,Z=.75;if(this.width)ee=this.width*ce,ie=this.height*ne;else if(ee>Z*ce||ie>Z*ne){const z=Math.min(Z*ce/ee,Z*ne/ie);ee*=z,ie*=z}const[G,H]=this.parentDimensions;this.setDims(ee*G/ce,ie*H/ne),this._uiManager.enableWaiting(!1);const F=Me(this,_,document.createElement("canvas"));he.append(F),he.hidden=!1,Ae(this,B,oc).call(this,ee,ie),Ae(this,B,Dp).call(this),q(this,C)||(this.parent.addUndoableEditor(this),Me(this,C,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Bp=function(he,ee){var Z;const[ie,ce]=this.parentDimensions;this.width=he/ie,this.height=ee/ce,this.setDims(he,ee),(Z=this._initialOptions)!=null&&Z.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,q(this,w)!==null&&clearTimeout(q(this,w)),Me(this,w,setTimeout(()=>{Me(this,w,null),Ae(this,B,oc).call(this,he,ee)},200))},Np=function(he,ee){const{width:ie,height:ce}=q(this,p);let ne=ie,Z=ce,G=q(this,p);for(;ne>2*he||Z>2*ee;){const H=ne,F=Z;ne>2*he&&(ne=ne>=16384?Math.floor(ne/2)-1:Math.ceil(ne/2)),Z>2*ee&&(Z=Z>=16384?Math.floor(Z/2)-1:Math.ceil(Z/2));const z=new OffscreenCanvas(ne,Z);z.getContext("2d").drawImage(G,0,0,H,F,0,0,ne,Z),G=z.transferToImageBitmap()}return G},oc=function(he,ee){he=Math.ceil(he),ee=Math.ceil(ee);const ie=q(this,_);if(!ie||ie.width===he&&ie.height===ee)return;ie.width=he,ie.height=ee;const ce=q(this,T)?q(this,p):Ae(this,B,Np).call(this,he,ee),ne=ie.getContext("2d");ne.filter=this._uiManager.hcmFilter,ne.drawImage(ce,0,0,ce.width,ce.height,0,0,he,ee)},xo=function(he){if(he){if(q(this,T)){const ce=this._uiManager.imageManager.getSvgUrl(q(this,m));if(ce)return ce}const ee=document.createElement("canvas");return{width:ee.width,height:ee.height}=q(this,p),ee.getContext("2d").drawImage(q(this,p),0,0),ee.toDataURL()}if(q(this,T)){const[ee,ie]=this.pageDimensions,ce=Math.round(this.width*ee*l.PixelsPerInch.PDF_TO_CSS_UNITS),ne=Math.round(this.height*ie*l.PixelsPerInch.PDF_TO_CSS_UNITS),Z=new OffscreenCanvas(ce,ne);return Z.getContext("2d").drawImage(q(this,p),0,0,q(this,p).width,q(this,p).height,0,0,ce,ne),Z.transferToImageBitmap()}return structuredClone(q(this,p))},Dp=function(){Me(this,A,new ResizeObserver(he=>{const ee=he[0].contentRect;ee.width&&ee.height&&Ae(this,B,Bp).call(this,ee.width,ee.height)})),q(this,A).observe(this.div)},Lt(K,"_type","stamp");let h=K;t.StampEditor=h})],__webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__w_pdfjs_require__),n.exports}var __webpack_exports__={};return(()=>{var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"AbortException",{enumerable:!0,get:function(){return t.AbortException}}),Object.defineProperty(e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return l.AnnotationEditorLayer}}),Object.defineProperty(e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return t.AnnotationEditorParamsType}}),Object.defineProperty(e,"AnnotationEditorType",{enumerable:!0,get:function(){return t.AnnotationEditorType}}),Object.defineProperty(e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return u.AnnotationEditorUIManager}}),Object.defineProperty(e,"AnnotationLayer",{enumerable:!0,get:function(){return h.AnnotationLayer}}),Object.defineProperty(e,"AnnotationMode",{enumerable:!0,get:function(){return t.AnnotationMode}}),Object.defineProperty(e,"CMapCompressionType",{enumerable:!0,get:function(){return t.CMapCompressionType}}),Object.defineProperty(e,"DOMSVGFactory",{enumerable:!0,get:function(){return i.DOMSVGFactory}}),Object.defineProperty(e,"FeatureTest",{enumerable:!0,get:function(){return t.FeatureTest}}),Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return p.GlobalWorkerOptions}}),Object.defineProperty(e,"ImageKind",{enumerable:!0,get:function(){return t.ImageKind}}),Object.defineProperty(e,"InvalidPDFException",{enumerable:!0,get:function(){return t.InvalidPDFException}}),Object.defineProperty(e,"MissingPDFException",{enumerable:!0,get:function(){return t.MissingPDFException}}),Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return t.OPS}}),Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return n.PDFDataRangeTransport}}),Object.defineProperty(e,"PDFDateString",{enumerable:!0,get:function(){return i.PDFDateString}}),Object.defineProperty(e,"PDFWorker",{enumerable:!0,get:function(){return n.PDFWorker}}),Object.defineProperty(e,"PasswordResponses",{enumerable:!0,get:function(){return t.PasswordResponses}}),Object.defineProperty(e,"PermissionFlag",{enumerable:!0,get:function(){return t.PermissionFlag}}),Object.defineProperty(e,"PixelsPerInch",{enumerable:!0,get:function(){return i.PixelsPerInch}}),Object.defineProperty(e,"PromiseCapability",{enumerable:!0,get:function(){return t.PromiseCapability}}),Object.defineProperty(e,"RenderingCancelledException",{enumerable:!0,get:function(){return i.RenderingCancelledException}}),Object.defineProperty(e,"SVGGraphics",{enumerable:!0,get:function(){return n.SVGGraphics}}),Object.defineProperty(e,"UnexpectedResponseException",{enumerable:!0,get:function(){return t.UnexpectedResponseException}}),Object.defineProperty(e,"Util",{enumerable:!0,get:function(){return t.Util}}),Object.defineProperty(e,"VerbosityLevel",{enumerable:!0,get:function(){return t.VerbosityLevel}}),Object.defineProperty(e,"XfaLayer",{enumerable:!0,get:function(){return m.XfaLayer}}),Object.defineProperty(e,"build",{enumerable:!0,get:function(){return n.build}}),Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return t.createValidAbsoluteUrl}}),Object.defineProperty(e,"getDocument",{enumerable:!0,get:function(){return n.getDocument}}),Object.defineProperty(e,"getFilenameFromUrl",{enumerable:!0,get:function(){return i.getFilenameFromUrl}}),Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return i.getPdfFilenameFromUrl}}),Object.defineProperty(e,"getXfaPageViewport",{enumerable:!0,get:function(){return i.getXfaPageViewport}}),Object.defineProperty(e,"isDataScheme",{enumerable:!0,get:function(){return i.isDataScheme}}),Object.defineProperty(e,"isPdfFile",{enumerable:!0,get:function(){return i.isPdfFile}}),Object.defineProperty(e,"loadScript",{enumerable:!0,get:function(){return i.loadScript}}),Object.defineProperty(e,"noContextMenu",{enumerable:!0,get:function(){return i.noContextMenu}}),Object.defineProperty(e,"normalizeUnicode",{enumerable:!0,get:function(){return t.normalizeUnicode}}),Object.defineProperty(e,"renderTextLayer",{enumerable:!0,get:function(){return o.renderTextLayer}}),Object.defineProperty(e,"setLayerDimensions",{enumerable:!0,get:function(){return i.setLayerDimensions}}),Object.defineProperty(e,"shadow",{enumerable:!0,get:function(){return t.shadow}}),Object.defineProperty(e,"updateTextLayer",{enumerable:!0,get:function(){return o.updateTextLayer}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return n.version}});var t=__w_pdfjs_require__(1),n=__w_pdfjs_require__(2),i=__w_pdfjs_require__(6),o=__w_pdfjs_require__(26),l=__w_pdfjs_require__(27),u=__w_pdfjs_require__(5),h=__w_pdfjs_require__(29),p=__w_pdfjs_require__(14),m=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf$1)),pdf$1.exports}var pdfExports=requirePdf();const pdf=getDefaultExportFromCjs(pdfExports),pdfjsLib=_mergeNamespaces({__proto__:null,default:pdf},[pdfExports]);let pdfjs=pdfjsLib;pdfjsLib&&pdf&&(pdfjs=pdf);try{pdfjs&&pdfjs.GlobalWorkerOptions&&(pdfjs.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js")}catch(e){console.warn("PDF.js worker initialization failed. PDF upload might not work.",e)}const LOADING_MSGS=["Reading your document...","Analyzing key concepts...","Identifying important terms...","Drafting questions...","Polishing options...","Finalizing your quiz..."],CreateQuiz=()=>{const e=useNavigate(),{saveQuiz:t}=useStore(),[n,i]=reactExports.useState(""),[o,l]=reactExports.useState(""),[u,h]=reactExports.useState(Difficulty.Medium),[p,m]=reactExports.useState(5),[g,b]=reactExports.useState(5),[E,_]=reactExports.useState(!1),[A,w]=reactExports.useState(0),[T,C]=reactExports.useState(!1),[B,N]=reactExports.useState(""),[j,M]=reactExports.useState(null),D=reactExports.useRef(null);reactExports.useEffect(()=>{let $;return E?$=setInterval(()=>{w(K=>(K+1)%LOADING_MSGS.length)},2e3):w(0),()=>clearInterval($)},[E]);const V=$=>{if($===0)return"0 Bytes";const K=1024,te=["Bytes","KB","MB","GB"],me=Math.floor(Math.log($)/Math.log(K));return parseFloat(($/Math.pow(K,me)).toFixed(2))+" "+te[me]},L=async $=>{var te;const K=(te=$.target.files)==null?void 0:te[0];if(K){if(K.type!=="application/pdf"){N("Please upload a valid PDF file.");return}if(K.size>10*1024*1024){N("File size too large. Max 10MB.");return}if(!pdfjs){N("PDF Library failed to load. Please try pasting text instead.");return}N(""),C(!0);try{const me=await K.arrayBuffer(),ee=await pdfjs.getDocument({data:me}).promise;let ie="";for(let ce=1;ce<=ee.numPages;ce++){const G=(await(await ee.getPage(ce)).getTextContent()).items.map(H=>H.str).join(" ");ie+=G+`
`}i(ie),M({name:K.name,size:V(K.size),pages:ee.numPages}),o||l(K.name.replace(".pdf",""))}catch(me){console.error(me),N("Failed to extract text from PDF. Please try a different file.")}finally{C(!1),D.current&&(D.current.value="")}}},U=()=>{M(null),i(""),D.current&&(D.current.value="")},J=async()=>{if(!o){N("Please enter a topic.");return}N(""),_(!0);try{const $=await generateQuizFromText(n,o,u,p,g);t($),e("/play",{state:{quiz:$}})}catch($){console.error("UI Caught Error:",$),N($.message||"Failed to generate quiz. Please check your API key.")}finally{_(!1)}};return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto pb-10",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 dark:text-white mb-2",children:"Create New Quiz"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure your settings and let AI do the magic."})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-6",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary-100 dark:bg-primary-900/30 p-2 rounded-lg",children:jsxRuntimeExports.jsx(Type$1,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold",children:"Quiz Content"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6 relative z-10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Topic / Subject *"}),jsxRuntimeExports.jsx("input",{type:"text",value:o,onChange:$=>l($.target.value),placeholder:"e.g. Photosynthesis, World War II, Calculus...",className:"w-full px-4 py-2 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Source Material"}),jsxRuntimeExports.jsx("div",{className:"relative min-h-[140px]",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:j?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-primary-5 dark:bg-primary-900/20 border border-primary-100 dark:border-primary-800 rounded-xl p-4 flex items-center justify-between group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 p-2 rounded-lg shadow-sm group-hover:rotate-3 transition-transform",children:jsxRuntimeExports.jsx(FileCheck,{className:"w-6 h-6 text-primary-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-primary-900 dark:text-primary-100 truncate max-w-[200px] sm:max-w-md",children:j.name}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-primary-700 dark:text-primary-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:j.size}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsxs("span",{children:[j.pages," pages"]})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:U,className:"p-2 hover:bg-white/50 dark:hover:bg-black/20 rounded-lg transition-colors text-primary-700 dark:text-primary-300",children:jsxRuntimeExports.jsx(X,{size:20})})]},"file-info"):jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},onClick:()=>{var $;return!T&&(($=D.current)==null?void 0:$.click())},className:`border-2 border-dashed border-gray-300 dark:border-dark-600 rounded-xl p-8 text-center cursor-pointer hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all group ${T?"opacity-50 cursor-not-allowed":""}`,children:[jsxRuntimeExports.jsx("input",{type:"file",ref:D,className:"hidden",accept:"application/pdf",onChange:L,disabled:T}),jsxRuntimeExports.jsx("div",{className:"bg-primary-100 dark:bg-dark-700 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:T?jsxRuntimeExports.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary-600 border-t-transparent rounded-full"}):jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-700 dark:text-gray-300",children:T?"Extracting text...":"Click to upload PDF"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"or drag and drop (Max 10MB)"})]},"upload")})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Extracted Text (Editable)"}),n&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:[n.length," chars"]})]}),jsxRuntimeExports.jsx("textarea",{value:n,onChange:$=>i($.target.value),placeholder:"Or paste your text directly here...",className:"w-full px-4 py-3 h-32 rounded-xl border border-gray-200 dark:border-dark-600 bg-white dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all resize-none"})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-secondary-100 dark:bg-secondary-900/30 p-2 rounded-lg",children:jsxRuntimeExports.jsx(SlidersVertical,{className:"w-5 h-5 text-secondary-600 dark:text-secondary-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold",children:"Configuration"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-2",children:"Difficulty"}),jsxRuntimeExports.jsx("div",{className:"flex bg-gray-100 dark:bg-dark-700 p-1 rounded-xl relative",children:[Difficulty.Easy,Difficulty.Medium,Difficulty.Hard].map($=>{const K=u===$,te={[Difficulty.Easy]:"text-green-600 dark:text-green-400",[Difficulty.Medium]:"text-orange-600 dark:text-orange-400",[Difficulty.Hard]:"text-red-600 dark:text-red-400"};return jsxRuntimeExports.jsxs("button",{onClick:()=>h($),className:clsx("flex-1 py-2 text-sm font-medium rounded-lg transition-all relative z-10",K?te[$]:"text-gray-500 hover:text-gray-700 dark:text-gray-400"),children:[K&&jsxRuntimeExports.jsx(motion.div,{layoutId:"difficulty-selector",className:"absolute inset-0 bg-white dark:bg-dark-600 shadow-sm rounded-lg -z-10",transition:{type:"spring",stiffness:300,damping:30}}),$]},$)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Number of Questions: ",p]}),jsxRuntimeExports.jsx("input",{type:"range",min:"3",max:"15",value:p,onChange:$=>m(Number($.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-dark-700 rounded-lg appearance-none cursor-pointer accent-primary-600"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[jsxRuntimeExports.jsx("span",{children:"3"}),jsxRuntimeExports.jsx("span",{children:"15"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Number of Flashcards: ",g]}),jsxRuntimeExports.jsx("input",{type:"range",min:"3",max:"15",value:g,onChange:$=>b(Number($.target.value)),className:"w-full h-2 bg-gray-200 dark:bg-dark-700 rounded-lg appearance-none cursor-pointer accent-secondary-600"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[jsxRuntimeExports.jsx("span",{children:"3"}),jsxRuntimeExports.jsx("span",{children:"15"})]})]})]})]}),B&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2 text-red-500 bg-red-50 dark:bg-red-900/20 p-4 rounded-xl",children:[jsxRuntimeExports.jsx(CircleAlert,{size:20,className:"shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:B})]}),jsxRuntimeExports.jsx(Button,{size:"lg",onClick:J,isLoading:E,disabled:T,className:"w-full h-16 text-lg bg-gradient-to-r from-primary-600 to-secondary-500 hover:from-primary-700 hover:to-secondary-600 overflow-hidden relative",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:E?jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),jsxRuntimeExports.jsx(motion.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"font-medium min-w-[180px] text-left",children:LOADING_MSGS[A]},A)]},"loading"):jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Generate Quiz"})]},"static")})})]})]})},FlashcardViewer=({flashcards:e})=>{const[t,n]=reactExports.useState(0),[i,o]=reactExports.useState(!1),[l,u]=reactExports.useState(0),h=()=>{t<e.length-1&&(o(!1),u(1),setTimeout(()=>n(t+1),150))},p=()=>{t>0&&(o(!1),u(-1),setTimeout(()=>n(t-1),150))},m=e[t];return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full max-w-2xl mx-auto py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6 flex items-center justify-between w-full px-4",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest",children:["Card ",t+1," / ",e.length]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[jsxRuntimeExports.jsx(RotateCw,{size:12})," Click to flip"]})]}),jsxRuntimeExports.jsx("div",{className:"relative w-full aspect-[16/10] perspective-1000 cursor-pointer group",onClick:()=>o(!i),children:jsxRuntimeExports.jsxs(motion.div,{initial:!1,animate:{rotateY:i?180:0},transition:{duration:.6,type:"spring",stiffness:260,damping:20},className:"w-full h-full relative preserve-3d",style:{transformStyle:"preserve-3d"},children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden bg-white dark:bg-dark-800 rounded-3xl shadow-xl border-2 border-primary-100 dark:border-dark-600 flex flex-col items-center justify-center p-8 text-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4 text-xs font-bold text-primary-500 uppercase",children:"Term"}),jsxRuntimeExports.jsx("h3",{className:"text-2xl md:text-3xl font-display font-bold text-gray-900 dark:text-white",children:m.front}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 text-gray-400 text-xs",children:"Tap to reveal"})]}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 backface-hidden bg-gradient-to-br from-primary-600 to-secondary-600 rounded-3xl shadow-xl flex flex-col items-center justify-center p-8 text-center",style:{transform:"rotateY(180deg)"},children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-4 text-xs font-bold text-white/70 uppercase",children:"Definition"}),jsxRuntimeExports.jsx("p",{className:"text-lg md:text-xl font-medium text-white leading-relaxed",children:m.back})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6 mt-10",children:[jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:p,disabled:t===0,className:"rounded-full w-14 h-14 p-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(ChevronLeft,{size:24})}),jsxRuntimeExports.jsx("div",{className:"h-1.5 w-32 bg-gray-200 dark:bg-dark-700 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-primary-500",animate:{width:`${(t+1)/e.length*100}%`}})}),jsxRuntimeExports.jsx(Button,{variant:"secondary",onClick:h,disabled:t===e.length-1,className:"rounded-full w-14 h-14 p-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(ChevronRight,{size:24})})]}),jsxRuntimeExports.jsx("style",{children:`
        .preserve-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
      `})]})},QuizPlayer=()=>{var ee,ie;const e=useLocation(),t=useNavigate(),{addResult:n}=useStore(),i=(ee=e.state)==null?void 0:ee.quiz,o=(ie=e.state)==null?void 0:ie.mode;if(!i)return jsxRuntimeExports.jsx(Navigate,{to:"/create"});const[l,u]=reactExports.useState(o||"quiz"),[h,p]=reactExports.useState(0),[m,g]=reactExports.useState(null),[b,E]=reactExports.useState(!1),[_,A]=reactExports.useState([]),[w]=reactExports.useState(Date.now()),[T,C]=reactExports.useState(!1),[B,N]=reactExports.useState(1),[j,M]=reactExports.useState(0),D=i.questions[h],V=h/i.questions.length*100,[L,U]=reactExports.useState(0);reactExports.useEffect(()=>{const ce=setInterval(()=>{U(Math.floor((Date.now()-w)/1e3))},1e3);return()=>clearInterval(ce)},[w]);const J=L>180,$=ce=>{b||g(ce)},K=()=>{if(m===null)return;E(!0),C(!0);const ce=m===D.correctAnswerIndex;M(ce?Z=>Z+1:0);const ne=[..._,{questionId:D.id,selectedIndex:m}];A(ne)},te=()=>{h<i.questions.length-1?(N(1),p(ce=>ce+1),g(null),E(!1),C(!1)):me()},me=()=>{const ce=_.reduce((Z,G,H)=>{const F=i.questions.find(z=>z.id===G.questionId)||i.questions[H];return Z+(G.selectedIndex===F.correctAnswerIndex?1:0)},0),ne={quizId:i.id,quizTitle:i.title,score:Math.round(ce/i.questions.length*100),totalQuestions:i.questions.length,correctCount:ce,timeSpentSeconds:Math.round((Date.now()-w)/1e3),completedAt:Date.now(),answers:_};n(ne),t("/results",{state:{result:ne}})},he={enter:ce=>({x:ce>0?50:-50,opacity:0}),center:{x:0,opacity:1},exit:ce=>({x:ce>0?-50:50,opacity:0})};return jsxRuntimeExports.jsxs("div",{className:"max-w-3xl mx-auto min-h-[calc(100vh-100px)] flex flex-col relative pb-8",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 dark:bg-dark-800 p-1 rounded-xl flex gap-1 border border-gray-200 dark:border-dark-700",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>u("quiz"),className:clsx("px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all",l==="quiz"?"bg-white dark:bg-dark-700 text-primary-600 shadow-sm":"text-gray-500 hover:text-gray-900 dark:text-gray-400"),children:[jsxRuntimeExports.jsx(BrainCircuit,{size:16})," Quiz"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>u("flashcards"),className:clsx("px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2 transition-all",l==="flashcards"?"bg-white dark:bg-dark-700 text-secondary-600 shadow-sm":"text-gray-500 hover:text-gray-900 dark:text-gray-400"),children:[jsxRuntimeExports.jsx(Layers,{size:16})," Flashcards"]})]})}),l==="flashcards"?jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"flex-1",children:i.flashcards&&i.flashcards.length>0?jsxRuntimeExports.jsx(FlashcardViewer,{flashcards:i.flashcards}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-24 px-6 text-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{rotate:-10,scale:.9},animate:{rotate:0,scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-24 h-32 bg-gray-50 dark:bg-dark-800/50 rounded-xl border-2 border-dashed border-gray-300 dark:border-dark-600 flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(Layers,{className:"w-8 h-8 text-gray-300 dark:text-dark-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Flashcards Generated"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm mb-8",children:"This quiz was created without flashcards. Try creating a new quiz to generate a fresh deck."}),jsxRuntimeExports.jsxs(Button,{variant:"secondary",onClick:()=>u("quiz"),children:[jsxRuntimeExports.jsx(BrainCircuit,{className:"w-4 h-4 mr-2"}),"Return to Quiz"]})]})},"flashcards")}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col flex-1",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:j>1&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.8},className:"absolute top-0 right-0 right-4 bg-orange-500 text-white px-3 py-1 rounded-full text-sm font-bold flex items-center gap-1 shadow-lg z-10",children:[jsxRuntimeExports.jsx(Zap,{size:14,className:"fill-white"}),j," Streak!"]})}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 truncate max-w-[70%]",children:i.title}),jsxRuntimeExports.jsxs("div",{className:clsx("flex items-center gap-2 text-sm font-mono px-3 py-1 rounded-full shadow-sm border transition-colors duration-500",J?"bg-red-50 dark:bg-red-900/30 border-red-200 text-red-600 animate-pulse":"bg-white dark:bg-dark-800 border-gray-100 dark:border-dark-700 text-gray-500"),children:[jsxRuntimeExports.jsx(Clock,{size:16}),jsxRuntimeExports.jsxs("span",{children:[L,"s"]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-dark-700 rounded-full overflow-hidden p-[2px]",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full relative",initial:{width:0},animate:{width:`${Math.max(V,5)}%`},transition:{duration:.6,ease:"easeInOut"},children:jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 bottom-0 w-2 bg-white/30 rounded-full blur-[1px]"})})}),jsxRuntimeExports.jsx("div",{className:"text-right mt-2 h-6 overflow-hidden relative",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",initial:!1,children:jsxRuntimeExports.jsxs(motion.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},transition:{duration:.3},className:"text-sm text-gray-500 font-medium absolute right-0",children:["Question ",h+1," of ",i.questions.length]},h)})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 flex flex-col justify-center relative",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",custom:B,children:jsxRuntimeExports.jsxs(motion.div,{custom:B,variants:he,initial:"enter",animate:"center",exit:"exit",transition:{duration:.4,ease:"easeOut"},className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-xl p-8 rounded-3xl shadow-xl border border-white/20 dark:border-dark-700 perspective-1000",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-display font-bold mb-8 text-gray-900 dark:text-white leading-relaxed",children:D.text}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:D.options.map((ce,ne)=>{const Z=m===ne,G=ne===D.correctAnswerIndex;let H="border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700";return b?G?H="border-green-50 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":Z?H="border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":H="opacity-50 grayscale":Z&&(H="border-primary-500 bg-primary-50 dark:bg-primary-900/20 ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-800"),jsxRuntimeExports.jsxs(motion.button,{animate:Z?{scale:1.02}:{scale:1},whileHover:b?{}:{scale:1.01,x:4},whileTap:b?{}:{scale:.98},onClick:()=>$(ne),disabled:b,className:clsx("w-full text-left p-4 rounded-xl border-2 transition-all duration-200 text-lg flex items-center justify-between group relative overflow-hidden",H),children:[jsxRuntimeExports.jsx("span",{className:"relative z-10",children:ce}),b&&Z&&jsxRuntimeExports.jsx(motion.div,{initial:{x:"-100%",opacity:0},animate:{x:"0%",opacity:1},transition:{duration:.4,ease:"easeOut"},className:clsx("absolute inset-0 z-0 opacity-10",G?"bg-green-500":"bg-red-500")}),b&&G&&jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:10},className:"relative z-10",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"text-green-500 w-6 h-6"})}),b&&Z&&!G&&jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},className:"relative z-10",children:jsxRuntimeExports.jsx(CircleX,{className:"text-red-500 w-6 h-6"})})]},ne)})}),jsxRuntimeExports.jsx(AnimatePresence,{children:b&&T&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,height:0,y:-10},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-10},transition:{duration:.5,ease:"easeInOut"},className:"overflow-hidden mt-6",children:jsxRuntimeExports.jsx("div",{className:"p-5 bg-blue-50 dark:bg-blue-900/20 rounded-2xl border border-blue-100 dark:border-blue-800",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-100 dark:bg-blue-800 p-1 rounded-full",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-blue-600 dark:text-blue-300"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-1",children:"Explanation"}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-blue-700 dark:text-blue-200 text-sm leading-relaxed",children:D.explanation})]})]})})})})]},D.id)})}),jsxRuntimeExports.jsx("div",{className:"py-6 flex justify-end",children:b?jsxRuntimeExports.jsxs(Button,{size:"lg",onClick:te,className:"shadow-xl",children:[h===i.questions.length-1?"Finish Quiz":"Next Question",jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5 ml-2"})]}):jsxRuntimeExports.jsx(Button,{size:"lg",onClick:K,disabled:m===null,className:"shadow-xl",children:"Submit Answer"})})]},"quiz")})]})},Digit=({value:e,place:t})=>{const n=useSpring(0,{stiffness:50,damping:15,mass:1});return reactExports.useEffect(()=>{n.set(e*-100)},[e,n]),jsxRuntimeExports.jsx("div",{className:"relative h-[1em] overflow-hidden w-[0.6em] inline-block",children:jsxRuntimeExports.jsx(motion.div,{style:{y:useTransform(n,i=>`${i}%`)},className:"absolute top-0 left-0 flex flex-col items-center w-full",children:[0,1,2,3,4,5,6,7,8,9].map(i=>jsxRuntimeExports.jsx("div",{className:"h-[1em] flex items-center justify-center",children:i},i))})})},Odometer=({value:e,className:t})=>{const n=e.toString().split("").map(Number);return jsxRuntimeExports.jsx("div",{className:clsx("inline-flex overflow-hidden leading-none",t),children:n.map((i,o)=>jsxRuntimeExports.jsx(Digit,{value:i,place:Math.pow(10,n.length-o-1)},`${o}-${n.length}`))})},Results=()=>{var m;const t=(m=useLocation().state)==null?void 0:m.result,[n,i]=reactExports.useState(!1);if(reactExports.useEffect(()=>{t&&t.score>70&&setTimeout(()=>{confetti({particleCount:150,spread:80,origin:{y:.6},colors:["#6366f1","#ec4899","#10b981"],ticks:200})},500)},[t]),!t)return jsxRuntimeExports.jsx(Navigate,{to:"/dashboard"});const o=[{name:"Correct",value:t.correctCount,color:"#10b981"},{name:"Incorrect",value:t.totalQuestions-t.correctCount,color:"#ef4444"}],l=Array.from({length:t.totalQuestions}).map((g,b)=>({name:`Q${b+1}`,score:b<t.correctCount?100:0,fill:b<t.correctCount?"#10b981":"#ef4444"})),u=async()=>{const g=` I just scored ${t.score}% on the "${t.quizTitle}" quiz in LearnFlow! Can you beat my score? `;try{await navigator.clipboard.writeText(g),i(!0),setTimeout(()=>i(!1),2e3)}catch(b){console.error("Failed to copy text: ",b)}},h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},p={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}};return jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto py-8",children:jsxRuntimeExports.jsxs(motion.div,{variants:h,initial:"hidden",animate:"visible",className:"bg-white dark:bg-dark-800 rounded-3xl p-8 md:p-12 border border-gray-100 dark:border-dark-700 shadow-xl text-center space-y-12",children:[jsxRuntimeExports.jsxs(motion.div,{variants:p,className:"mb-8",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.2},className:"inline-block p-4 rounded-full bg-yellow-100 dark:bg-yellow-900/30 mb-4",children:jsxRuntimeExports.jsx(Award,{className:"w-12 h-12 text-yellow-600 dark:text-yellow-400"})}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-display font-bold mb-2 text-gray-900 dark:text-white",children:t.score>=90?"Outstanding!":t.score>=70?"Great Job!":"Keep Practicing!"}),jsxRuntimeExports.jsxs(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-xl text-gray-500 dark:text-gray-400 flex items-center justify-center gap-1",children:["You scored ",jsxRuntimeExports.jsxs("span",{className:"text-primary-600 dark:text-primary-400 font-bold flex items-center",children:[jsxRuntimeExports.jsx(Odometer,{value:t.score}),"%"]})," on ",t.quizTitle]})]}),jsxRuntimeExports.jsxs(motion.div,{variants:p,className:"grid md:grid-cols-2 gap-12 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"h-64 w-full relative",children:[jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",animationDuration:1500,animationBegin:200,children:o.map((g,b)=>jsxRuntimeExports.jsx(Cell,{fill:g.color,strokeWidth:0},`cell-${b}`))}),jsxRuntimeExports.jsx(Tooltip,{})]})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:1,type:"spring"},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[t.correctCount,"/",t.totalQuestions]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Correct"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"bg-gray-50 dark:bg-dark-700 p-4 rounded-2xl transition-shadow hover:shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Time Spent"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[Math.floor(t.timeSpentSeconds/60),"m ",t.timeSpentSeconds%60,"s"]})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"bg-gray-50 dark:bg-dark-700 p-4 rounded-2xl transition-shadow hover:shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Accuracy"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.score,"%"]})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"bg-gray-50 dark:bg-dark-700 p-4 rounded-2xl transition-shadow hover:shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"Streak"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" +1"})]}),jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"bg-gray-50 dark:bg-dark-700 p-4 rounded-2xl transition-shadow hover:shadow-md",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"XP Earned"}),jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold text-primary-600 flex items-center gap-1",children:["+",jsxRuntimeExports.jsx(Odometer,{value:t.score*10})]})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{variants:p,whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},className:"w-full h-64 bg-gray-50 dark:bg-dark-700/30 rounded-2xl p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold mb-4 text-left text-gray-800 dark:text-gray-200",children:"Question Performance"}),jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"80%",children:jsxRuntimeExports.jsxs(BarChart,{data:l,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb",className:"dark:stroke-gray-700"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9ca3af"}}),jsxRuntimeExports.jsx(Tooltip,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"score",radius:[4,4,0,0],animationDuration:1500,animationBegin:500,children:l.map((g,b)=>jsxRuntimeExports.jsx(Cell,{fill:g.fill},`cell-${b}`))})]})})]}),jsxRuntimeExports.jsxs(motion.div,{variants:p,className:"flex flex-col sm:flex-row gap-4 justify-center",children:[jsxRuntimeExports.jsx(Link,{to:"/dashboard",children:jsxRuntimeExports.jsxs(Button,{variant:"ghost",className:"w-full sm:w-auto",children:[jsxRuntimeExports.jsx(House,{className:"w-4 h-4 mr-2"}),"Dashboard"]})}),jsxRuntimeExports.jsx(Link,{to:"/create",children:jsxRuntimeExports.jsx(motion.div,{animate:{boxShadow:["0 0 0 0px rgba(99, 102, 241, 0)","0 0 0 4px rgba(99, 102, 241, 0.3)","0 0 0 0px rgba(99, 102, 241, 0)"]},transition:{duration:2,repeat:1/0},className:"rounded-xl",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",className:"w-full sm:w-auto",children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Try Another"]})})}),jsxRuntimeExports.jsx(Button,{className:"w-full sm:w-auto min-w-[160px]",onClick:u,children:n?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-2"}),"Copied!"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Share2,{className:"w-4 h-4 mr-2"}),"Share Result"]})})]})]})})},getCalendarWeeks=()=>{const e=new Date,t=e.getFullYear(),n=e.getMonth(),o=(new Date(t,n,1).getDay()+6)%7,l=new Date(t,n,1-o),u=[];let h=new Date(l);for(let p=0;p<5;p++){const m=[];for(let g=0;g<7;g++)m.push(new Date(h)),h.setDate(h.getDate()+1);u.push(m)}return u},DayTile=({day:e,onHover:t,onLeave:n})=>{const i=Math.min(4,e.count),o=["bg-gray-100 dark:bg-dark-700","bg-emerald-200 dark:bg-emerald-900/40","bg-emerald-300 dark:bg-emerald-800/60","bg-emerald-400 dark:bg-emerald-600/80","bg-emerald-500 dark:bg-emerald-500"],l=["border-gray-200 dark:border-dark-600","border-emerald-300 dark:border-emerald-800","border-emerald-400 dark:border-emerald-700","border-emerald-500 dark:border-emerald-600","border-emerald-600 dark:border-emerald-400"];return jsxRuntimeExports.jsxs(motion.div,{variants:{hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1}},whileHover:{scale:1.15,zIndex:10},onMouseEnter:u=>t(u,e),onMouseLeave:n,className:clsx("relative w-full aspect-square rounded-lg border transition-colors duration-300 ease-in-out cursor-pointer",o[i],l[i],!e.isCurrentMonth&&"opacity-30 grayscale",e.isToday&&"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-dark-800 animate-pulse-slow-border"),children:[e.count>0&&jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"absolute -top-1 -right-1 w-3 h-3 bg-white dark:bg-dark-800 rounded-full flex items-center justify-center shadow-sm",children:jsxRuntimeExports.jsx(Check,{size:8,className:"text-emerald-500",strokeWidth:4})}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes pulse-slow-border {
          0%, 100% { box-shadow: 0 0 0 0px rgba(99, 102, 241, 0.4); }
          50% { box-shadow: 0 0 0 4px rgba(99, 102, 241, 0); }
        }
        .animate-pulse-slow-border {
          animation: pulse-slow-border 2s infinite;
        }
      `})]})},WeekRow=({week:e,weekIndex:t,history:n,onHoverDay:i,onLeaveDay:o})=>{const l=new Date,u=e.map(m=>{const g=m.toLocaleDateString(),b=n.filter(E=>new Date(E.completedAt).toLocaleDateString()===g);return{date:m,count:b.length,totalTime:b.reduce((E,_)=>E+_.timeSpentSeconds,0),isToday:m.toDateString()===l.toDateString(),isCurrentMonth:m.getMonth()===l.getMonth()}}),h=u.every(m=>m.count>0),p=reactExports.useRef(null);return reactExports.useEffect(()=>{if(h&&p.current){const m=p.current.getBoundingClientRect(),g=m.width/7;u.forEach((b,E)=>{setTimeout(()=>{const _=(m.left+E*g+g/2)/window.innerWidth,A=(m.top+m.height/2)/window.innerHeight;confetti({particleCount:10,spread:30,origin:{x:_,y:A},colors:["#fbbf24","#f59e0b","#d97706"],disableForReducedMotion:!0,zIndex:100})},1e3+E*50)})}},[h]),jsxRuntimeExports.jsxs(motion.div,{ref:p,variants:{hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{staggerChildren:.05,delayChildren:.1}}},className:"relative grid grid-cols-7 gap-3 mb-3 p-2 rounded-xl",children:[h&&jsxRuntimeExports.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none overflow-visible z-20",children:[jsxRuntimeExports.jsx(motion.rect,{width:"100%",height:"100%",x:"0",y:"0",rx:"12",ry:"12",fill:"none",stroke:"#fbbf24",strokeWidth:"3",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut",delay:1.2}}),jsxRuntimeExports.jsx(motion.path,{d:"M 20 50 L 40 70 L 100 20",stroke:"none",fill:"none"})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:h&&jsxRuntimeExports.jsx(motion.div,{initial:{x:"-10%",opacity:0,scale:.5},animate:{x:"100%",opacity:[0,1,1,0],scale:1.2},transition:{duration:1,ease:"easeInOut",delay:1.5},className:"absolute top-0 bottom-0 left-0 flex items-center pointer-events-none z-30",style:{width:"50%"},children:jsxRuntimeExports.jsx("div",{className:"bg-yellow-400/20 backdrop-blur-sm p-2 rounded-full border-2 border-yellow-400 shadow-lg shadow-yellow-500/50",children:jsxRuntimeExports.jsx(Check,{className:"w-8 h-8 text-yellow-600 dark:text-yellow-300 stroke-[4]"})})})}),h&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:[0,.5,0]},transition:{duration:.5,delay:1},className:"absolute inset-0 bg-yellow-400 rounded-xl z-10 pointer-events-none mix-blend-overlay"}),u.map((m,g)=>jsxRuntimeExports.jsx(DayTile,{day:m,onHover:i,onLeave:o},g))]})},CalendarHeatmap=()=>{const{history:e}=useStore(),t=getCalendarWeeks(),[n,i]=reactExports.useState(null),o=(h,p)=>{const m=h.currentTarget.getBoundingClientRect();i({x:m.left+m.width/2,y:m.top,data:p})},l=()=>{i(null)},u=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];return jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2.5 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl",children:jsxRuntimeExports.jsx(Calendar,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Study Consistency"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Daily quiz activity this month"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[jsxRuntimeExports.jsx("span",{children:"Less"}),jsxRuntimeExports.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(h=>jsxRuntimeExports.jsx("div",{className:clsx("w-3 h-3 rounded-sm",h===0?"bg-gray-100 dark:bg-dark-700":h===1?"bg-emerald-200 dark:bg-emerald-900/40":h===2?"bg-emerald-300 dark:bg-emerald-800/60":h===3?"bg-emerald-400 dark:bg-emerald-600/80":"bg-emerald-500 dark:bg-emerald-500")},h))}),jsxRuntimeExports.jsx("span",{children:"More"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 rounded-3xl p-6 border border-gray-100 dark:border-dark-700 shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-7 gap-3 mb-2 px-2",children:u.map(h=>jsxRuntimeExports.jsx("div",{className:"text-center text-xs font-bold text-gray-400 uppercase tracking-wider",children:h},h))}),jsxRuntimeExports.jsx(motion.div,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{visible:{transition:{staggerChildren:.1}}},children:t.map((h,p)=>jsxRuntimeExports.jsx(WeekRow,{week:h,weekIndex:p,history:e,onHoverDay:o,onLeaveDay:l},p))})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:n&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:-10,scale:1},exit:{opacity:0,scale:.9},style:{position:"fixed",left:n.x,top:n.y,transform:"translate(-50%, -100%)",zIndex:50},className:"pointer-events-none",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 text-white text-xs p-3 rounded-xl shadow-xl flex flex-col gap-1 min-w-[140px]",children:[jsxRuntimeExports.jsx("div",{className:"font-bold border-b border-gray-700 pb-1 mb-1",children:n.data.date.toLocaleDateString(void 0,{weekday:"long",month:"short",day:"numeric"})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Quizzes:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-emerald-400",children:n.data.count})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Study Time:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[Math.floor(n.data.totalTime/60),"m"]})]}),n.data.count===0&&jsxRuntimeExports.jsx("div",{className:"text-gray-500 italic mt-1",children:"No activity"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 w-2 h-2 bg-gray-900 rotate-45"})]})})})]})},History=()=>{const{history:e}=useStore();return jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto space-y-10 pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 dark:text-white",children:"Your Journey"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["Total Quizzes: ",jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:e.length})]})]}),jsxRuntimeExports.jsx(CalendarHeatmap,{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Detailed Log"}),jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-dark-800 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm overflow-hidden",children:e.length===0?jsxRuntimeExports.jsx("div",{className:"p-12 text-center text-gray-500",children:"No history yet. Take your first quiz!"}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 dark:bg-dark-700 border-b border-gray-100 dark:border-dark-600",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Quiz Title"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Score"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Time"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-sm font-medium text-gray-500 dark:text-gray-400",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-dark-600",children:e.map((t,n)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-700/50 transition-colors group",children:[jsxRuntimeExports.jsxs("td",{className:"px-6 py-4",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-primary-600 transition-colors",children:t.quizTitle}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",t.quizId.slice(0,8),"..."]})]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-300",children:new Date(t.completedAt).toLocaleDateString()}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsxs("span",{className:clsx("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.score>=80?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.score>=60?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:[t.score,"%"]})}),jsxRuntimeExports.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-300 flex items-center gap-1",children:[jsxRuntimeExports.jsx(Clock,{size:14}),Math.floor(t.timeSpentSeconds/60),"m ",t.timeSpentSeconds%60,"s"]}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:t.score>=60?jsxRuntimeExports.jsx(CircleCheckBig,{className:"text-green-500 w-5 h-5"}):jsxRuntimeExports.jsx(CircleX,{className:"text-red-500 w-5 h-5"})})]},n))})]})})})]})]})},Settings=()=>{var A;const{theme:e,toggleTheme:t,user:n,updateUser:i,reduceMotion:o,toggleReduceMotion:l}=useStore(),[u,h]=reactExports.useState(!1),[p,m]=reactExports.useState((n==null?void 0:n.name)||""),[g,b]=reactExports.useState((n==null?void 0:n.title)||""),E=()=>{i({name:p,title:g}),h(!1)},_=()=>{m((n==null?void 0:n.name)||""),b((n==null?void 0:n.title)||""),h(!0)};return jsxRuntimeExports.jsxs("div",{className:"max-w-2xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 dark:text-white mb-8",children:"Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm transition-all hover:shadow-md",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5 text-gray-500"}),"Display & Accessibility"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sun,{className:"w-4 h-4 text-gray-500"})," Dark Mode"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Toggle application theme"})]}),jsxRuntimeExports.jsx("button",{onClick:t,className:`w-14 h-8 rounded-full p-1 transition-colors duration-200 ease-in-out ${e==="dark"?"bg-primary-600":"bg-gray-200"}`,children:jsxRuntimeExports.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-200 ${e==="dark"?"translate-x-6":"translate-x-0"}`})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-t border-gray-100 dark:border-dark-700 pt-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{className:"w-4 h-4 text-gray-500"})," Reduced Motion"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Disable complex animations"})]}),jsxRuntimeExports.jsx("button",{onClick:l,className:`w-14 h-8 rounded-full p-1 transition-colors duration-200 ease-in-out ${o?"bg-primary-600":"bg-gray-200"}`,children:jsxRuntimeExports.jsx("div",{className:`w-6 h-6 bg-white rounded-full shadow-md transform transition-transform duration-200 ${o?"translate-x-6":"translate-x-0"}`})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm transition-all hover:shadow-md",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-gray-500"}),"Account Information"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 mb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary-500 to-secondary-500 flex items-center justify-center text-white font-bold text-2xl shadow-lg ring-4 ring-primary-50 dark:ring-primary-900/20 shrink-0",children:((A=n==null?void 0:n.name)==null?void 0:A.charAt(0))||"S"}),jsxRuntimeExports.jsx("div",{className:"flex-1 space-y-3",children:u?jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase",children:"Display Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:p,onChange:w=>m(w.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 outline-none focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 font-bold uppercase",children:"Title / Status"}),jsxRuntimeExports.jsx("input",{type:"text",value:g,onChange:w=>b(w.target.value),className:"w-full mt-1 px-3 py-2 rounded-lg border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 outline-none focus:ring-2 focus:ring-primary-500"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsxs(Button,{size:"sm",onClick:E,className:"bg-green-600 hover:bg-green-700",children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-1"}),"Save Changes"]}),jsxRuntimeExports.jsx(Button,{size:"sm",variant:"ghost",onClick:()=>h(!1),children:"Cancel"})]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-lg",children:n==null?void 0:n.name}),jsxRuntimeExports.jsx("div",{className:"text-gray-500",children:n==null?void 0:n.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mt-1",children:n==null?void 0:n.email})]}),jsxRuntimeExports.jsxs(Button,{variant:"outline",size:"sm",onClick:_,children:[jsxRuntimeExports.jsx(Pen,{className:"w-3 h-3 mr-2"}),"Edit Profile"]})]})})]})]})]})]})},Goals=()=>{const{goals:e,addGoal:t}=useStore(),[n,i]=reactExports.useState(!1),[o,l]=reactExports.useState({title:"",description:"",target:10,unit:"quizzes",category:"quiz",colorTheme:"blue"}),u=[{id:"quiz",label:"Quiz Count",icon:Target},{id:"streak",label:"Streak",icon:Flame},{id:"score",label:"High Score",icon:Trophy},{id:"time",label:"Study Time",icon:Clock}],h=[{id:"blue",bg:"bg-blue-500"},{id:"purple",bg:"bg-purple-500"},{id:"orange",bg:"bg-orange-500"},{id:"green",bg:"bg-emerald-500"}],p=b=>{b.preventDefault(),!(!o.title||!o.description)&&(t({id:`g-${Date.now()}`,title:o.title,description:o.description,target:Number(o.target)||10,unit:o.unit||"units",current:0,category:o.category||"quiz",colorTheme:o.colorTheme||"blue"}),i(!1),l({title:"",description:"",target:10,unit:"quizzes",category:"quiz",colorTheme:"blue"}))},m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},g={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}};return jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto pb-12 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3.5 bg-blue-100 dark:bg-blue-900/30 rounded-2xl shadow-sm",children:jsxRuntimeExports.jsx(Target,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 dark:text-white",children:"Goals & Targets"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Track, manage, and crush your learning objectives"})]})]}),jsxRuntimeExports.jsxs(Button,{className:"shadow-lg shadow-primary-500/20",onClick:()=>i(!0),children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 mr-2"}),"New Goal"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-full",children:jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(b=>b.current>=b.target).length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Completed"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-full",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.filter(b=>b.current<b.target).length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"In Progress"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-dark-800 p-6 rounded-2xl border border-gray-100 dark:border-dark-700 shadow-sm flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-full",children:jsxRuntimeExports.jsx(Target,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Total Goals"})]})]})]}),jsxRuntimeExports.jsxs(motion.div,{variants:m,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map(b=>jsxRuntimeExports.jsx(motion.div,{variants:g,children:jsxRuntimeExports.jsx(GoalCard,{goal:b})},b.id)),jsxRuntimeExports.jsx(motion.div,{variants:g,children:jsxRuntimeExports.jsxs("button",{onClick:()=>i(!0),className:"w-full h-full min-h-[180px] rounded-2xl border-2 border-dashed border-gray-200 dark:border-dark-700 flex flex-col items-center justify-center gap-3 text-gray-400 hover:text-primary-500 hover:border-primary-300 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all group",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-gray-100 dark:bg-dark-700 group-hover:bg-white dark:group-hover:bg-dark-600 transition-colors",children:jsxRuntimeExports.jsx(Plus,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Add New Goal"})]})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:n&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},className:"relative bg-white dark:bg-dark-800 rounded-3xl p-8 w-full max-w-lg shadow-2xl border border-gray-100 dark:border-dark-700 z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Create New Goal"}),jsxRuntimeExports.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-700 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X,{size:20,className:"text-gray-500"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:p,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Goal Title"}),jsxRuntimeExports.jsx("input",{required:!0,type:"text",placeholder:"e.g., Summer Reading Challenge",value:o.title,onChange:b=>l({...o,title:b.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Description"}),jsxRuntimeExports.jsx("input",{required:!0,type:"text",placeholder:"What do you want to achieve?",value:o.description,onChange:b=>l({...o,description:b.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Target Value"}),jsxRuntimeExports.jsx("input",{required:!0,type:"number",min:"1",value:o.target,onChange:b=>l({...o,target:parseInt(b.target.value)}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Unit"}),jsxRuntimeExports.jsx("input",{required:!0,type:"text",placeholder:"e.g., books, days",value:o.unit,onChange:b=>l({...o,unit:b.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:u.map(b=>jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>l({...o,category:b.id}),className:clsx("flex flex-col items-center justify-center gap-1 p-3 rounded-xl border transition-all",o.category===b.id?"bg-primary-50 dark:bg-primary-900/30 border-primary-500 text-primary-600 dark:text-primary-400 ring-1 ring-primary-500":"border-gray-200 dark:border-dark-600 hover:bg-gray-50 dark:hover:bg-dark-700 text-gray-500"),children:[jsxRuntimeExports.jsx(b.icon,{size:20}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-medium",children:b.label})]},b.id))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Theme Color"}),jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:h.map(b=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>l({...o,colorTheme:b.id}),className:clsx("w-10 h-10 rounded-full flex items-center justify-center transition-transform hover:scale-110",b.bg,o.colorTheme===b.id&&"ring-2 ring-offset-2 ring-gray-400 dark:ring-white dark:ring-offset-dark-800"),children:o.colorTheme===b.id&&jsxRuntimeExports.jsx(Check,{className:"text-white w-5 h-5"})},b.id))})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 flex gap-3",children:[jsxRuntimeExports.jsx(Button,{variant:"ghost",onClick:()=>i(!1),className:"flex-1",children:"Cancel"}),jsxRuntimeExports.jsx(Button,{type:"submit",className:"flex-1",children:"Create Goal"})]})]})]})]})})]})},Login=()=>{const e=useNavigate(),[t,n]=reactExports.useState(!0),[i,o]=reactExports.useState(""),[l,u]=reactExports.useState(""),[h,p]=reactExports.useState(""),[m,g]=reactExports.useState(!1),[b,E]=reactExports.useState(""),_=B=>{u(B.target.value),b&&E("")},A=B=>{p(B.target.value),b&&E("")},w=async B=>{B.preventDefault(),g(!0),E("");const N=l.trim().toLowerCase(),j=i.trim(),M=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!N){E("Please enter your email address."),g(!1);return}if(!M.test(N)){E("Please enter a valid email address."),g(!1);return}try{if(t){const{data:D,error:V}=await supabase.auth.signInWithPassword({email:N,password:h});if(V)throw V.message.includes("Invalid login")?new Error("Invalid email or password."):V.message.includes("Failed to fetch")?new Error("Connection failed. Please check your internet connection or project configuration."):V;D.session&&e("/dashboard")}else{const{data:D,error:V}=await supabase.auth.signUp({email:N,password:h,options:{data:{name:j||"Student"}}});if(V)throw V;if(D.session)e("/dashboard");else{const{data:L,error:U}=await supabase.auth.signInWithPassword({email:N,password:h});L.session?e("/dashboard"):E('Account created, but auto-login failed. Please check your Supabase "Confirm Email" settings.')}}}catch(D){console.error("Auth Error:",D);let V=D.message||"Authentication failed.";V=V.replace("AuthApiError: ",""),V.includes("Failed to fetch")&&(V="Unable to connect to Supabase. Missing environment variables?"),E(V)}finally{g(!1)}},T=()=>{n(!t),E("")},C={hidden:{y:10,opacity:0},visible:B=>({y:0,opacity:1,transition:{delay:.2+B*.05,duration:.4,ease:"easeOut"}})};return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-dark-900 px-4 py-12",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-700 p-3 rounded-xl shadow-lg shadow-primary-600/20",children:jsxRuntimeExports.jsx(BrainCircuit,{className:"text-white w-8 h-8"})})}),jsxRuntimeExports.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 dark:text-white mb-2",children:t?"Welcome Back":"Create Account"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t?"Enter your details to access your workspace":"Start your AI-powered learning journey today"})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut",delay:.1},className:"bg-white dark:bg-dark-800 p-8 rounded-3xl shadow-xl border border-gray-100 dark:border-dark-700 ring-1 ring-black/5",children:[jsxRuntimeExports.jsxs(motion.form,{initial:{opacity:0},animate:{opacity:1},onSubmit:w,className:"space-y-5",children:[!t&&jsxRuntimeExports.jsxs(motion.div,{custom:0,variants:C,initial:"hidden",animate:"visible",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Full Name"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"text",required:!t,value:i,onChange:B=>o(B.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all",placeholder:"John Doe",autoComplete:"name"})]})]}),jsxRuntimeExports.jsxs(motion.div,{custom:1,variants:C,initial:"hidden",animate:"visible",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Email Address"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"email",required:!0,value:l,onChange:_,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all",placeholder:"you@example.com",autoComplete:"email",spellCheck:!1,autoCapitalize:"none"})]})]}),jsxRuntimeExports.jsxs(motion.div,{custom:2,variants:C,initial:"hidden",animate:"visible",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),jsxRuntimeExports.jsx("input",{type:"password",required:!0,value:h,onChange:A,className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 dark:border-dark-600 bg-gray-50 dark:bg-dark-700 focus:ring-2 focus:ring-primary-500 outline-none transition-all",placeholder:"",minLength:6,autoComplete:t?"current-password":"new-password"})]})]}),b&&jsxRuntimeExports.jsxs("div",{className:"text-red-500 text-sm flex items-start gap-2 bg-red-50 dark:bg-red-900/20 p-3 rounded-lg animate-pulse",children:[jsxRuntimeExports.jsx(CircleAlert,{size:16,className:"mt-0.5 shrink-0"}),jsxRuntimeExports.jsx("span",{children:b})]}),jsxRuntimeExports.jsx(motion.div,{custom:3,variants:C,initial:"hidden",animate:"visible",className:"pt-2",children:jsxRuntimeExports.jsx(Button,{type:"submit",size:"lg",className:"w-full",disabled:m,disableShimmer:!0,children:m?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-5 h-5 mr-2 animate-spin"}),"Please wait..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[t?"Sign In":"Create Account",jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 ml-2"})]})})})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"mt-6 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t?"Don't have an account?":"Already have an account?",jsxRuntimeExports.jsx("button",{onClick:T,className:"ml-2 font-bold text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors",children:t?"Sign up":"Log in"})]})})]})]})})},DeckCard=({quiz:e,index:t})=>{var i;const n=((i=e.flashcards)==null?void 0:i.length)||0;return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},className:"group relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-2 left-2 right-2 bottom-0 bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-600 rounded-2xl shadow-sm z-0 transform translate-y-2 scale-[0.95] group-hover:translate-y-3 group-hover:rotate-1 transition-all duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute top-1 left-1 right-1 bottom-0 bg-white dark:bg-dark-800 border border-gray-200 dark:border-dark-600 rounded-2xl shadow-sm z-0 transform translate-y-1 scale-[0.98] group-hover:translate-y-1.5 group-hover:-rotate-1 transition-all duration-300"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 bg-white dark:bg-dark-800 rounded-2xl p-6 border border-gray-100 dark:border-dark-700 shadow-md group-hover:shadow-xl transition-all duration-300 h-full flex flex-col justify-between group-hover:-translate-y-1",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-secondary-50 dark:bg-secondary-900/20 rounded-xl group-hover:scale-110 transition-transform duration-300",children:jsxRuntimeExports.jsx(Layers,{className:"w-6 h-6 text-secondary-600 dark:text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 dark:bg-dark-700 px-3 py-1 rounded-full text-xs font-bold text-gray-500",children:[n," Cards"]})]}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-2 leading-tight",children:e.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4",children:e.topic})]}),jsxRuntimeExports.jsx(Link,{to:"/play",state:{quiz:e,mode:"flashcards"},className:"block w-full",children:jsxRuntimeExports.jsxs(Button,{variant:"secondary",className:"w-full",children:[jsxRuntimeExports.jsx(RotateCw,{className:"w-4 h-4 mr-2"})," Study Deck"]})})]})]})},Flashcards=()=>{const{savedQuizzes:e}=useStore(),t=e.filter(n=>n.flashcards&&n.flashcards.length>0);return jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3.5 bg-secondary-100 dark:bg-secondary-900/30 rounded-2xl shadow-sm",children:jsxRuntimeExports.jsx(Layers,{className:"w-8 h-8 text-secondary-600 dark:text-secondary-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-display font-bold text-gray-900 dark:text-white",children:"Flashcard Decks"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Master key concepts with spaced repetition"})]})]}),jsxRuntimeExports.jsx(Link,{to:"/create",children:jsxRuntimeExports.jsxs(Button,{variant:"outline",className:"border-secondary-200 text-secondary-700 hover:bg-secondary-50 dark:border-secondary-800 dark:text-secondary-300 dark:hover:bg-secondary-900/20",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"})," New Deck"]})})]}),t.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:jsxRuntimeExports.jsx(AnimatePresence,{children:t.map((n,i)=>jsxRuntimeExports.jsx(DeckCard,{quiz:n,index:i},n.id))})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 min-h-[50vh]",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"relative w-72 h-72 mb-8 flex items-center justify-center",children:[jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0},className:"absolute inset-0 bg-secondary-500/10 dark:bg-secondary-500/20 rounded-full blur-3xl pointer-events-none"}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:-12,y:-15,x:-10},transition:{duration:6,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"absolute w-40 h-56 bg-white dark:bg-dark-700 rounded-2xl border-2 border-dashed border-gray-200 dark:border-dark-600 shadow-sm"}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:12,y:-5,x:10},transition:{duration:5,repeat:1/0,repeatType:"reverse",ease:"easeInOut",delay:.5},className:"absolute w-40 h-56 bg-white dark:bg-dark-700 rounded-2xl border-2 border-dashed border-gray-200 dark:border-dark-600 shadow-md"}),jsxRuntimeExports.jsxs(motion.div,{animate:{y:[0,-20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"relative z-10 w-40 h-56 bg-white dark:bg-dark-800 rounded-2xl border border-gray-100 dark:border-dark-600 shadow-2xl flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-900/30 rounded-full mb-4",children:jsxRuntimeExports.jsx(Layers,{className:"w-8 h-8 text-secondary-500"})}),jsxRuntimeExports.jsx("div",{className:"h-2 w-20 bg-gray-100 dark:bg-dark-600 rounded-full mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-2 w-12 bg-gray-100 dark:bg-dark-600 rounded-full"}),jsxRuntimeExports.jsx(motion.div,{animate:{scale:[0,1,0],opacity:[0,1,0],rotate:45},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"absolute -top-3 -right-3 text-yellow-400",children:jsxRuntimeExports.jsx(Sparkles,{size:24,fill:"currentColor"})})]}),[...Array(3)].map((n,i)=>jsxRuntimeExports.jsx(motion.div,{className:"absolute",initial:{opacity:0,scale:0},animate:{opacity:[0,1,0],scale:[.5,1,.5],x:Math.cos(i*2)*80,y:Math.sin(i*2)*80-40,rotate:Math.random()*360},transition:{duration:3,repeat:1/0,delay:i*1.5,ease:"easeOut"},children:jsxRuntimeExports.jsx("div",{className:"w-10 h-12 bg-white dark:bg-dark-700 rounded-lg border border-gray-100 dark:border-dark-600 shadow-sm flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-4 h-0.5 bg-gray-200 dark:bg-dark-500 rounded-full"})})},i))]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3 text-center",children:"Your Flashcard Library is Empty"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md text-center mb-8 text-lg leading-relaxed",children:"Create a quiz from your study materials to automatically generate a personalized flashcard deck."}),jsxRuntimeExports.jsx(Link,{to:"/create",children:jsxRuntimeExports.jsxs(Button,{size:"lg",className:"shadow-xl shadow-secondary-500/20 bg-gradient-to-r from-secondary-500 to-pink-600 hover:from-secondary-600 hover:to-pink-700 border-none",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 mr-2"}),"Create Your First Deck"]})})]})]})},PageTransition=({children:e})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 z-[100] bg-indigo-600 pointer-events-none",initial:{x:"100%"},animate:{x:"100%"},exit:{x:["100%","0%","0%","100%"]},transition:{duration:.8,times:[0,.4,.6,1],ease:"easeInOut"}}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:1,scale:1},animate:{opacity:1,scale:1,transitionEnd:{transform:"none"}},exit:{opacity:0,scale:.98},transition:{duration:.4},className:"w-full h-full",children:e})]}),ProtectedRoute=({children:e})=>{const{isAuthenticated:t,isLoading:n}=useStore();return n?jsxRuntimeExports.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-50 dark:bg-dark-900",children:jsxRuntimeExports.jsx(LoadingSpinner,{size:40,className:"text-primary-600"})}):t?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:e}):jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})},AnimatedRoutes=()=>{const e=useLocation(),{handleSession:t}=useStore();return reactExports.useEffect(()=>{(async()=>{try{const{data:o}=await supabase.auth.getSession();t(o.session)}catch(o){console.error("Auth initialization failed:",o),t(null)}})();const{data:{subscription:i}}=supabase.auth.onAuthStateChange((o,l)=>{t(l)});return()=>i.unsubscribe()},[t]),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(Routes,{location:e,children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Landing,{})})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Login,{})})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{children:jsxRuntimeExports.jsx(Layout,{})}),children:[jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Dashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/create",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(CreateQuiz,{})})}),jsxRuntimeExports.jsx(Route,{path:"/play",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(QuizPlayer,{})})}),jsxRuntimeExports.jsx(Route,{path:"/flashcards",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Flashcards,{})})}),jsxRuntimeExports.jsx(Route,{path:"/results",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Results,{})})}),jsxRuntimeExports.jsx(Route,{path:"/history",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(History,{})})}),jsxRuntimeExports.jsx(Route,{path:"/goals",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Goals,{})})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(PageTransition,{children:jsxRuntimeExports.jsx(Settings,{})})})]}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]},e.pathname)})};function App(){const{reduceMotion:e}=useStore();return reactExports.useEffect(()=>{e?document.body.classList.add("reduce-motion"):document.body.classList.remove("reduce-motion")},[e]),jsxRuntimeExports.jsx(MotionConfig,{reducedMotion:e?"always":"user",children:jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(AnimatedRoutes,{})})})}class ErrorBoundary extends React.Component{constructor(t){super(t),this.props=t,this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){var t;return this.state.hasError?jsxRuntimeExports.jsxs("div",{style:{padding:"2rem",fontFamily:"system-ui, sans-serif",maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[jsxRuntimeExports.jsx("h1",{style:{color:"#ef4444"},children:"Something went wrong."}),jsxRuntimeExports.jsx("p",{style:{color:"#374151",marginBottom:"1rem"},children:"The application crashed. Here is the error message:"}),jsxRuntimeExports.jsx("pre",{style:{background:"#f3f4f6",padding:"1rem",borderRadius:"0.5rem",overflowX:"auto",color:"#dc2626",fontSize:"0.875rem"},children:((t=this.state.error)==null?void 0:t.message)||"Unknown Error"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer"},children:"Reload Application"})]}):this.props.children}}const rootElement=document.getElementById("root");if(!rootElement)throw new Error("Could not find root element to mount to");const root=ReactDOM.createRoot(rootElement);root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(App,{})})}));
//# sourceMappingURL=index-R-UK0f4Z.js.map
